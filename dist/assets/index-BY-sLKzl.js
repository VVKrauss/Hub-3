var QI=Object.defineProperty;var JI=(t,e,r)=>e in t?QI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Hc=(t,e,r)=>JI(t,typeof e!="symbol"?e+"":e,r);function eO(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function li(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function J4(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var eE={exports:{}},yp={},tE={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),tO=Symbol.for("react.portal"),rO=Symbol.for("react.fragment"),nO=Symbol.for("react.strict_mode"),aO=Symbol.for("react.profiler"),iO=Symbol.for("react.provider"),sO=Symbol.for("react.context"),oO=Symbol.for("react.forward_ref"),lO=Symbol.for("react.suspense"),cO=Symbol.for("react.memo"),uO=Symbol.for("react.lazy"),e_=Symbol.iterator;function dO(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var rE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nE=Object.assign,aE={};function Cc(t,e,r){this.props=t,this.context=e,this.refs=aE,this.updater=r||rE}Cc.prototype.isReactComponent={};Cc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iE(){}iE.prototype=Cc.prototype;function cb(t,e,r){this.props=t,this.context=e,this.refs=aE,this.updater=r||rE}var ub=cb.prototype=new iE;ub.constructor=cb;nE(ub,Cc.prototype);ub.isPureReactComponent=!0;var t_=Array.isArray,sE=Object.prototype.hasOwnProperty,db={current:null},oE={key:!0,ref:!0,__self:!0,__source:!0};function lE(t,e,r){var n,a={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)sE.call(e,n)&&!oE.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:zd,type:t,key:i,ref:s,props:a,_owner:db.current}}function fO(t,e){return{$$typeof:zd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fb(t){return typeof t=="object"&&t!==null&&t.$$typeof===zd}function hO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var r_=/\/+/g;function Zm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hO(""+t.key):e.toString(36)}function Th(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zd:case tO:s=!0}}if(s)return s=t,a=a(s),t=n===""?"."+Zm(s,0):n,t_(a)?(r="",t!=null&&(r=t.replace(r_,"$&/")+"/"),Th(a,e,r,"",function(u){return u})):a!=null&&(fb(a)&&(a=fO(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(r_,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=n===""?".":n+":",t_(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+Zm(i,o);s+=Th(i,e,r,c,a)}else if(c=dO(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+Zm(i,o++),s+=Th(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Df(t,e,r){if(t==null)return t;var n=[],a=0;return Th(t,n,"","",function(i){return e.call(r,i,a++)}),n}function pO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},Ih={transition:null},mO={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Ih,ReactCurrentOwner:db};function cE(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Df,forEach:function(t,e,r){Df(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Df(t,function(){e++}),e},toArray:function(t){return Df(t,function(e){return e})||[]},only:function(t){if(!fb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Cc;ze.Fragment=rO;ze.Profiler=aO;ze.PureComponent=cb;ze.StrictMode=nO;ze.Suspense=lO;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mO;ze.act=cE;ze.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=nE({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=db.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)sE.call(e,c)&&!oE.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:zd,type:t.type,key:a,ref:i,props:n,_owner:s}};ze.createContext=function(t){return t={$$typeof:sO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iO,_context:t},t.Consumer=t};ze.createElement=lE;ze.createFactory=function(t){var e=lE.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:oO,render:t}};ze.isValidElement=fb;ze.lazy=function(t){return{$$typeof:uO,_payload:{_status:-1,_result:t},_init:pO}};ze.memo=function(t,e){return{$$typeof:cO,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=Ih.transition;Ih.transition={};try{t()}finally{Ih.transition=e}};ze.unstable_act=cE;ze.useCallback=function(t,e){return tn.current.useCallback(t,e)};ze.useContext=function(t){return tn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return tn.current.useEffect(t,e)};ze.useId=function(){return tn.current.useId()};ze.useImperativeHandle=function(t,e,r){return tn.current.useImperativeHandle(t,e,r)};ze.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return tn.current.useMemo(t,e)};ze.useReducer=function(t,e,r){return tn.current.useReducer(t,e,r)};ze.useRef=function(t){return tn.current.useRef(t)};ze.useState=function(t){return tn.current.useState(t)};ze.useSyncExternalStore=function(t,e,r){return tn.current.useSyncExternalStore(t,e,r)};ze.useTransition=function(){return tn.current.useTransition()};ze.version="18.3.1";tE.exports=ze;var _=tE.exports;const ne=li(_),Yv=eO({__proto__:null,default:ne},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gO=_,vO=Symbol.for("react.element"),xO=Symbol.for("react.fragment"),yO=Object.prototype.hasOwnProperty,bO=gO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wO={key:!0,ref:!0,__self:!0,__source:!0};function uE(t,e,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)yO.call(e,n)&&!wO.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:vO,type:t,key:i,ref:s,props:a,_owner:bO.current}}yp.Fragment=xO;yp.jsx=uE;yp.jsxs=uE;eE.exports=yp;var l=eE.exports,dE={exports:{}},Mn={},fE={exports:{}},hE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,M){var F=R.length;R.push(M);e:for(;0<F;){var B=F-1>>>1,U=R[B];if(0<a(U,M))R[B]=M,R[F]=U,F=B;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var M=R[0],F=R.pop();if(F!==M){R[0]=F;e:for(var B=0,U=R.length,q=U>>>1;B<q;){var ee=2*(B+1)-1,V=R[ee],re=ee+1,oe=R[re];if(0>a(V,F))re<U&&0>a(oe,V)?(R[B]=oe,R[re]=F,B=re):(R[B]=V,R[ee]=F,B=ee);else if(re<U&&0>a(oe,F))R[B]=oe,R[re]=F,B=re;else break e}}return M}function a(R,M){var F=R.sortIndex-M.sortIndex;return F!==0?F:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=R)n(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=r(u)}}function w(R){if(g=!1,b(R),!m)if(r(c)!==null)m=!0,$(S);else{var M=r(u);M!==null&&D(w,M.startTime-R)}}function S(R,M){m=!1,g&&(g=!1,x(I),I=-1),p=!0;var F=h;try{for(b(M),f=r(c);f!==null&&(!(f.expirationTime>M)||R&&!L());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var U=B(f.expirationTime<=M);M=t.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),b(M)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var ee=r(u);ee!==null&&D(w,ee.startTime-M),q=!1}return q}finally{f=null,h=F,p=!1}}var E=!1,j=null,I=-1,k=5,T=-1;function L(){return!(t.unstable_now()-T<k)}function C(){if(j!==null){var R=t.unstable_now();T=R;var M=!0;try{M=j(!0,R)}finally{M?A():(E=!1,j=null)}}else E=!1}var A;if(typeof v=="function")A=function(){v(C)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,O=N.port2;N.port1.onmessage=C,A=function(){O.postMessage(null)}}else A=function(){y(C,0)};function $(R){j=R,E||(E=!0,A())}function D(R,M){I=y(function(){R(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,$(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var F=h;h=M;try{return R()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=h;h=R;try{return M()}finally{h=F}},t.unstable_scheduleCallback=function(R,M,F){var B=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?B+F:B):F=B,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=F+U,R={id:d++,callback:M,priorityLevel:R,startTime:F,expirationTime:U,sortIndex:-1},F>B?(R.sortIndex=F,e(u,R),r(c)===null&&R===r(u)&&(g?(x(I),I=-1):g=!0,D(w,F-B))):(R.sortIndex=U,e(c,R),m||p||(m=!0,$(S))),R},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(R){var M=h;return function(){var F=h;h=M;try{return R.apply(this,arguments)}finally{h=F}}}})(hE);fE.exports=hE;var _O=fE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO=_,Dn=_O;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pE=new Set,id={};function Qo(t,e){rc(t,e),rc(t+"Capture",e)}function rc(t,e){for(id[t]=e,t=0;t<e.length;t++)pE.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kv=Object.prototype.hasOwnProperty,NO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n_={},a_={};function SO(t){return Kv.call(a_,t)?!0:Kv.call(n_,t)?!1:NO.test(t)?a_[t]=!0:(n_[t]=!0,!1)}function EO(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CO(t,e,r,n){if(e===null||typeof e>"u"||EO(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,r,n,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ar[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ar[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ar[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ar[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ar[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ar[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ar[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ar[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ar[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var hb=/[\-:]([a-z])/g;function pb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hb,pb);Ar[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hb,pb);Ar[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hb,pb);Ar[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ar[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ar.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ar[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function mb(t,e,r,n){var a=Ar.hasOwnProperty(e)?Ar[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CO(e,r,a,n)&&(r=null),n||a===null?SO(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $i=kO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pf=Symbol.for("react.element"),wl=Symbol.for("react.portal"),_l=Symbol.for("react.fragment"),gb=Symbol.for("react.strict_mode"),Zv=Symbol.for("react.profiler"),mE=Symbol.for("react.provider"),gE=Symbol.for("react.context"),vb=Symbol.for("react.forward_ref"),Qv=Symbol.for("react.suspense"),Jv=Symbol.for("react.suspense_list"),xb=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),vE=Symbol.for("react.offscreen"),i_=Symbol.iterator;function Wc(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,Qm;function yu(t){if(Qm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qm=e&&e[1]||""}return`
`+Qm+t}var Jm=!1;function eg(t,e){if(!t||Jm)return"";Jm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=o);break}}}finally{Jm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?yu(t):""}function jO(t){switch(t.tag){case 5:return yu(t.type);case 16:return yu("Lazy");case 13:return yu("Suspense");case 19:return yu("SuspenseList");case 0:case 2:case 15:return t=eg(t.type,!1),t;case 11:return t=eg(t.type.render,!1),t;case 1:return t=eg(t.type,!0),t;default:return""}}function ex(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _l:return"Fragment";case wl:return"Portal";case Zv:return"Profiler";case gb:return"StrictMode";case Qv:return"Suspense";case Jv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gE:return(t.displayName||"Context")+".Consumer";case mE:return(t._context.displayName||"Context")+".Provider";case vb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xb:return e=t.displayName||null,e!==null?e:ex(t.type)||"Memo";case ts:e=t._payload,t=t._init;try{return ex(t(e))}catch{}}return null}function AO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ex(e);case 8:return e===gb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TO(t){var e=xE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rf(t){t._valueTracker||(t._valueTracker=TO(t))}function yE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=xE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function t0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tx(t,e){var r=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function s_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ls(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bE(t,e){e=e.checked,e!=null&&mb(t,"checked",e,!1)}function rx(t,e){bE(t,e);var r=Ls(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nx(t,e.type,r):e.hasOwnProperty("defaultValue")&&nx(t,e.type,Ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function o_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function nx(t,e,r){(e!=="number"||t0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var bu=Array.isArray;function Ul(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ls(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function ax(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(le(92));if(bu(r)){if(1<r.length)throw Error(le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ls(r)}}function wE(t,e){var r=Ls(e.value),n=Ls(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function c_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _E(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ix(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_E(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mf,kE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mf=Mf||document.createElement("div"),Mf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IO=["Webkit","ms","Moz","O"];Object.keys(Ou).forEach(function(t){IO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ou[e]=Ou[t]})});function NE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ou.hasOwnProperty(t)&&Ou[t]?(""+e).trim():e+"px"}function SE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=NE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var OO=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sx(t,e){if(e){if(OO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function ox(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lx=null;function yb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cx=null,zl=null,Hl=null;function u_(t){if(t=Vd(t)){if(typeof cx!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Np(e),cx(t.stateNode,t.type,e))}}function EE(t){zl?Hl?Hl.push(t):Hl=[t]:zl=t}function CE(){if(zl){var t=zl,e=Hl;if(Hl=zl=null,u_(t),e)for(t=0;t<e.length;t++)u_(e[t])}}function jE(t,e){return t(e)}function AE(){}var tg=!1;function TE(t,e,r){if(tg)return t(e,r);tg=!0;try{return jE(t,e,r)}finally{tg=!1,(zl!==null||Hl!==null)&&(AE(),CE())}}function od(t,e){var r=t.stateNode;if(r===null)return null;var n=Np(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(le(231,e,typeof r));return r}var ux=!1;if(Ii)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){ux=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{ux=!1}function DO(t,e,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Du=!1,r0=null,n0=!1,dx=null,PO={onError:function(t){Du=!0,r0=t}};function RO(t,e,r,n,a,i,s,o,c){Du=!1,r0=null,DO.apply(PO,arguments)}function MO(t,e,r,n,a,i,s,o,c){if(RO.apply(this,arguments),Du){if(Du){var u=r0;Du=!1,r0=null}else throw Error(le(198));n0||(n0=!0,dx=u)}}function Jo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function IE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d_(t){if(Jo(t)!==t)throw Error(le(188))}function LO(t){var e=t.alternate;if(!e){if(e=Jo(t),e===null)throw Error(le(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return d_(a),t;if(i===n)return d_(a),e;i=i.sibling}throw Error(le(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?t:e}function OE(t){return t=LO(t),t!==null?DE(t):null}function DE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=DE(t);if(e!==null)return e;t=t.sibling}return null}var PE=Dn.unstable_scheduleCallback,f_=Dn.unstable_cancelCallback,BO=Dn.unstable_shouldYield,FO=Dn.unstable_requestPaint,Ht=Dn.unstable_now,$O=Dn.unstable_getCurrentPriorityLevel,bb=Dn.unstable_ImmediatePriority,RE=Dn.unstable_UserBlockingPriority,a0=Dn.unstable_NormalPriority,UO=Dn.unstable_LowPriority,ME=Dn.unstable_IdlePriority,bp=null,Ka=null;function zO(t){if(Ka&&typeof Ka.onCommitFiberRoot=="function")try{Ka.onCommitFiberRoot(bp,t,void 0,(t.current.flags&128)===128)}catch{}}var Aa=Math.clz32?Math.clz32:VO,HO=Math.log,WO=Math.LN2;function VO(t){return t>>>=0,t===0?32:31-(HO(t)/WO|0)|0}var Lf=64,Bf=4194304;function wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function i0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=wu(o):(i&=s,i!==0&&(n=wu(i)))}else s=r&~a,s!==0?n=wu(s):i!==0&&(n=wu(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Aa(e),a=1<<r,n|=t[r],e&=~a;return n}function GO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XO(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Aa(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=GO(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function fx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LE(){var t=Lf;return Lf<<=1,!(Lf&4194240)&&(Lf=64),t}function rg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Aa(e),t[e]=r}function qO(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Aa(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function wb(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Aa(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var ct=0;function BE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FE,_b,$E,UE,zE,hx=!1,Ff=[],ws=null,_s=null,ks=null,ld=new Map,cd=new Map,os=[],YO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h_(t,e){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":ld.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cd.delete(e.pointerId)}}function Gc(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Vd(e),e!==null&&_b(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function KO(t,e,r,n,a){switch(e){case"focusin":return ws=Gc(ws,t,e,r,n,a),!0;case"dragenter":return _s=Gc(_s,t,e,r,n,a),!0;case"mouseover":return ks=Gc(ks,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return ld.set(i,Gc(ld.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,cd.set(i,Gc(cd.get(i)||null,t,e,r,n,a)),!0}return!1}function HE(t){var e=ko(t.target);if(e!==null){var r=Jo(e);if(r!==null){if(e=r.tag,e===13){if(e=IE(r),e!==null){t.blockedOn=e,zE(t.priority,function(){$E(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=px(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);lx=n,r.target.dispatchEvent(n),lx=null}else return e=Vd(r),e!==null&&_b(e),t.blockedOn=r,!1;e.shift()}return!0}function p_(t,e,r){Oh(t)&&r.delete(e)}function ZO(){hx=!1,ws!==null&&Oh(ws)&&(ws=null),_s!==null&&Oh(_s)&&(_s=null),ks!==null&&Oh(ks)&&(ks=null),ld.forEach(p_),cd.forEach(p_)}function Xc(t,e){t.blockedOn===e&&(t.blockedOn=null,hx||(hx=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,ZO)))}function ud(t){function e(a){return Xc(a,t)}if(0<Ff.length){Xc(Ff[0],t);for(var r=1;r<Ff.length;r++){var n=Ff[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ws!==null&&Xc(ws,t),_s!==null&&Xc(_s,t),ks!==null&&Xc(ks,t),ld.forEach(e),cd.forEach(e),r=0;r<os.length;r++)n=os[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<os.length&&(r=os[0],r.blockedOn===null);)HE(r),r.blockedOn===null&&os.shift()}var Wl=$i.ReactCurrentBatchConfig,s0=!0;function QO(t,e,r,n){var a=ct,i=Wl.transition;Wl.transition=null;try{ct=1,kb(t,e,r,n)}finally{ct=a,Wl.transition=i}}function JO(t,e,r,n){var a=ct,i=Wl.transition;Wl.transition=null;try{ct=4,kb(t,e,r,n)}finally{ct=a,Wl.transition=i}}function kb(t,e,r,n){if(s0){var a=px(t,e,r,n);if(a===null)fg(t,e,n,o0,r),h_(t,n);else if(KO(a,t,e,r,n))n.stopPropagation();else if(h_(t,n),e&4&&-1<YO.indexOf(t)){for(;a!==null;){var i=Vd(a);if(i!==null&&FE(i),i=px(t,e,r,n),i===null&&fg(t,e,n,o0,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else fg(t,e,n,null,r)}}var o0=null;function px(t,e,r,n){if(o0=null,t=yb(n),t=ko(t),t!==null)if(e=Jo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=IE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return o0=t,null}function WE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($O()){case bb:return 1;case RE:return 4;case a0:case UO:return 16;case ME:return 536870912;default:return 16}default:return 16}}var hs=null,Nb=null,Dh=null;function VE(){if(Dh)return Dh;var t,e=Nb,r=e.length,n,a="value"in hs?hs.value:hs.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return Dh=a.slice(t,1<n?1-n:void 0)}function Ph(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $f(){return!0}function m_(){return!1}function Ln(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$f:m_,this.isPropagationStopped=m_,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$f)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$f)},persist:function(){},isPersistent:$f}),e}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sb=Ln(jc),Wd=Ft({},jc,{view:0,detail:0}),eD=Ln(Wd),ng,ag,qc,wp=Ft({},Wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qc&&(qc&&t.type==="mousemove"?(ng=t.screenX-qc.screenX,ag=t.screenY-qc.screenY):ag=ng=0,qc=t),ng)},movementY:function(t){return"movementY"in t?t.movementY:ag}}),g_=Ln(wp),tD=Ft({},wp,{dataTransfer:0}),rD=Ln(tD),nD=Ft({},Wd,{relatedTarget:0}),ig=Ln(nD),aD=Ft({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),iD=Ln(aD),sD=Ft({},jc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oD=Ln(sD),lD=Ft({},jc,{data:0}),v_=Ln(lD),cD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dD[t])?!!e[t]:!1}function Eb(){return fD}var hD=Ft({},Wd,{key:function(t){if(t.key){var e=cD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ph(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eb,charCode:function(t){return t.type==="keypress"?Ph(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ph(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pD=Ln(hD),mD=Ft({},wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x_=Ln(mD),gD=Ft({},Wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eb}),vD=Ln(gD),xD=Ft({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),yD=Ln(xD),bD=Ft({},wp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wD=Ln(bD),_D=[9,13,27,32],Cb=Ii&&"CompositionEvent"in window,Pu=null;Ii&&"documentMode"in document&&(Pu=document.documentMode);var kD=Ii&&"TextEvent"in window&&!Pu,GE=Ii&&(!Cb||Pu&&8<Pu&&11>=Pu),y_=" ",b_=!1;function XE(t,e){switch(t){case"keyup":return _D.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kl=!1;function ND(t,e){switch(t){case"compositionend":return qE(e);case"keypress":return e.which!==32?null:(b_=!0,y_);case"textInput":return t=e.data,t===y_&&b_?null:t;default:return null}}function SD(t,e){if(kl)return t==="compositionend"||!Cb&&XE(t,e)?(t=VE(),Dh=Nb=hs=null,kl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GE&&e.locale!=="ko"?null:e.data;default:return null}}var ED={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ED[t.type]:e==="textarea"}function YE(t,e,r,n){EE(n),e=l0(e,"onChange"),0<e.length&&(r=new Sb("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ru=null,dd=null;function CD(t){sC(t,0)}function _p(t){var e=El(t);if(yE(e))return t}function jD(t,e){if(t==="change")return e}var KE=!1;if(Ii){var sg;if(Ii){var og="oninput"in document;if(!og){var __=document.createElement("div");__.setAttribute("oninput","return;"),og=typeof __.oninput=="function"}sg=og}else sg=!1;KE=sg&&(!document.documentMode||9<document.documentMode)}function k_(){Ru&&(Ru.detachEvent("onpropertychange",ZE),dd=Ru=null)}function ZE(t){if(t.propertyName==="value"&&_p(dd)){var e=[];YE(e,dd,t,yb(t)),TE(CD,e)}}function AD(t,e,r){t==="focusin"?(k_(),Ru=e,dd=r,Ru.attachEvent("onpropertychange",ZE)):t==="focusout"&&k_()}function TD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _p(dd)}function ID(t,e){if(t==="click")return _p(e)}function OD(t,e){if(t==="input"||t==="change")return _p(e)}function DD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oa=typeof Object.is=="function"?Object.is:DD;function fd(t,e){if(Oa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Kv.call(e,a)||!Oa(t[a],e[a]))return!1}return!0}function N_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function S_(t,e){var r=N_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=N_(r)}}function QE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JE(){for(var t=window,e=t0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=t0(t.document)}return e}function jb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PD(t){var e=JE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&QE(r.ownerDocument.documentElement,r)){if(n!==null&&jb(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=S_(r,i);var s=S_(r,n);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RD=Ii&&"documentMode"in document&&11>=document.documentMode,Nl=null,mx=null,Mu=null,gx=!1;function E_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gx||Nl==null||Nl!==t0(n)||(n=Nl,"selectionStart"in n&&jb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mu&&fd(Mu,n)||(Mu=n,n=l0(mx,"onSelect"),0<n.length&&(e=new Sb("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Nl)))}function Uf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sl={animationend:Uf("Animation","AnimationEnd"),animationiteration:Uf("Animation","AnimationIteration"),animationstart:Uf("Animation","AnimationStart"),transitionend:Uf("Transition","TransitionEnd")},lg={},eC={};Ii&&(eC=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function kp(t){if(lg[t])return lg[t];if(!Sl[t])return t;var e=Sl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in eC)return lg[t]=e[r];return t}var tC=kp("animationend"),rC=kp("animationiteration"),nC=kp("animationstart"),aC=kp("transitionend"),iC=new Map,C_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hs(t,e){iC.set(t,e),Qo(e,[t])}for(var cg=0;cg<C_.length;cg++){var ug=C_[cg],MD=ug.toLowerCase(),LD=ug[0].toUpperCase()+ug.slice(1);Hs(MD,"on"+LD)}Hs(tC,"onAnimationEnd");Hs(rC,"onAnimationIteration");Hs(nC,"onAnimationStart");Hs("dblclick","onDoubleClick");Hs("focusin","onFocus");Hs("focusout","onBlur");Hs(aC,"onTransitionEnd");rc("onMouseEnter",["mouseout","mouseover"]);rc("onMouseLeave",["mouseout","mouseover"]);rc("onPointerEnter",["pointerout","pointerover"]);rc("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BD=new Set("cancel close invalid load scroll toggle".split(" ").concat(_u));function j_(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,MO(n,e,void 0,t),t.currentTarget=null}function sC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;j_(a,o,u),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;j_(a,o,u),i=c}}}if(n0)throw t=dx,n0=!1,dx=null,t}function bt(t,e){var r=e[wx];r===void 0&&(r=e[wx]=new Set);var n=t+"__bubble";r.has(n)||(oC(e,t,2,!1),r.add(n))}function dg(t,e,r){var n=0;e&&(n|=4),oC(r,t,n,e)}var zf="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[zf]){t[zf]=!0,pE.forEach(function(r){r!=="selectionchange"&&(BD.has(r)||dg(r,!1,t),dg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zf]||(e[zf]=!0,dg("selectionchange",!1,e))}}function oC(t,e,r,n){switch(WE(e)){case 1:var a=QO;break;case 4:a=JO;break;default:a=kb}r=a.bind(null,e,r,t),a=void 0,!ux||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function fg(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=ko(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}TE(function(){var u=i,d=yb(r),f=[];e:{var h=iC.get(t);if(h!==void 0){var p=Sb,m=t;switch(t){case"keypress":if(Ph(r)===0)break e;case"keydown":case"keyup":p=pD;break;case"focusin":m="focus",p=ig;break;case"focusout":m="blur",p=ig;break;case"beforeblur":case"afterblur":p=ig;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vD;break;case tC:case rC:case nC:p=iD;break;case aC:p=yD;break;case"scroll":p=eD;break;case"wheel":p=wD;break;case"copy":case"cut":case"paste":p=oD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=x_}var g=(e&4)!==0,y=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,x!==null&&(w=od(v,x),w!=null&&g.push(pd(v,w,b)))),y)break;v=v.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==lx&&(m=r.relatedTarget||r.fromElement)&&(ko(m)||m[Oi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?ko(m):null,m!==null&&(y=Jo(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=g_,w="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=x_,w="onPointerLeave",x="onPointerEnter",v="pointer"),y=p==null?h:El(p),b=m==null?h:El(m),h=new g(w,v+"leave",p,r,d),h.target=y,h.relatedTarget=b,w=null,ko(d)===u&&(g=new g(x,v+"enter",m,r,d),g.target=b,g.relatedTarget=y,w=g),y=w,p&&m)t:{for(g=p,x=m,v=0,b=g;b;b=cl(b))v++;for(b=0,w=x;w;w=cl(w))b++;for(;0<v-b;)g=cl(g),v--;for(;0<b-v;)x=cl(x),b--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=cl(g),x=cl(x)}g=null}else g=null;p!==null&&A_(f,h,p,g,!1),m!==null&&y!==null&&A_(f,y,m,g,!0)}}e:{if(h=u?El(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=jD;else if(w_(h))if(KE)S=OD;else{S=TD;var E=AD}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=ID);if(S&&(S=S(t,u))){YE(f,S,r,d);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&nx(h,"number",h.value)}switch(E=u?El(u):window,t){case"focusin":(w_(E)||E.contentEditable==="true")&&(Nl=E,mx=u,Mu=null);break;case"focusout":Mu=mx=Nl=null;break;case"mousedown":gx=!0;break;case"contextmenu":case"mouseup":case"dragend":gx=!1,E_(f,r,d);break;case"selectionchange":if(RD)break;case"keydown":case"keyup":E_(f,r,d)}var j;if(Cb)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else kl?XE(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(GE&&r.locale!=="ko"&&(kl||I!=="onCompositionStart"?I==="onCompositionEnd"&&kl&&(j=VE()):(hs=d,Nb="value"in hs?hs.value:hs.textContent,kl=!0)),E=l0(u,I),0<E.length&&(I=new v_(I,t,null,r,d),f.push({event:I,listeners:E}),j?I.data=j:(j=qE(r),j!==null&&(I.data=j)))),(j=kD?ND(t,r):SD(t,r))&&(u=l0(u,"onBeforeInput"),0<u.length&&(d=new v_("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}sC(f,e)})}function pd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function l0(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=od(t,r),i!=null&&n.unshift(pd(t,i,a)),i=od(t,e),i!=null&&n.push(pd(t,i,a))),t=t.return}return n}function cl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function A_(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=od(r,i),c!=null&&s.unshift(pd(r,c,o))):a||(c=od(r,i),c!=null&&s.push(pd(r,c,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var FD=/\r\n?/g,$D=/\u0000|\uFFFD/g;function T_(t){return(typeof t=="string"?t:""+t).replace(FD,`
`).replace($D,"")}function Hf(t,e,r){if(e=T_(e),T_(t)!==e&&r)throw Error(le(425))}function c0(){}var vx=null,xx=null;function yx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bx=typeof setTimeout=="function"?setTimeout:void 0,UD=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,zD=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(t){return I_.resolve(null).then(t).catch(HD)}:bx;function HD(t){setTimeout(function(){throw t})}function hg(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),ud(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ud(e)}function Ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ac=Math.random().toString(36).slice(2),Ha="__reactFiber$"+Ac,md="__reactProps$"+Ac,Oi="__reactContainer$"+Ac,wx="__reactEvents$"+Ac,WD="__reactListeners$"+Ac,VD="__reactHandles$"+Ac;function ko(t){var e=t[Ha];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Oi]||r[Ha]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=O_(t);t!==null;){if(r=t[Ha])return r;t=O_(t)}return e}t=r,r=t.parentNode}return null}function Vd(t){return t=t[Ha]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function El(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Np(t){return t[md]||null}var _x=[],Cl=-1;function Ws(t){return{current:t}}function Nt(t){0>Cl||(t.current=_x[Cl],_x[Cl]=null,Cl--)}function vt(t,e){Cl++,_x[Cl]=t.current,t.current=e}var Bs={},Br=Ws(Bs),vn=Ws(!1),Fo=Bs;function nc(t,e){var r=t.type.contextTypes;if(!r)return Bs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function xn(t){return t=t.childContextTypes,t!=null}function u0(){Nt(vn),Nt(Br)}function D_(t,e,r){if(Br.current!==Bs)throw Error(le(168));vt(Br,e),vt(vn,r)}function lC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(le(108,AO(t)||"Unknown",a));return Ft({},r,n)}function d0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bs,Fo=Br.current,vt(Br,t),vt(vn,vn.current),!0}function P_(t,e,r){var n=t.stateNode;if(!n)throw Error(le(169));r?(t=lC(t,e,Fo),n.__reactInternalMemoizedMergedChildContext=t,Nt(vn),Nt(Br),vt(Br,t)):Nt(vn),vt(vn,r)}var bi=null,Sp=!1,pg=!1;function cC(t){bi===null?bi=[t]:bi.push(t)}function GD(t){Sp=!0,cC(t)}function Vs(){if(!pg&&bi!==null){pg=!0;var t=0,e=ct;try{var r=bi;for(ct=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}bi=null,Sp=!1}catch(a){throw bi!==null&&(bi=bi.slice(t+1)),PE(bb,Vs),a}finally{ct=e,pg=!1}}return null}var jl=[],Al=0,f0=null,h0=0,ea=[],ta=0,$o=null,ki=1,Ni="";function oo(t,e){jl[Al++]=h0,jl[Al++]=f0,f0=t,h0=e}function uC(t,e,r){ea[ta++]=ki,ea[ta++]=Ni,ea[ta++]=$o,$o=t;var n=ki;t=Ni;var a=32-Aa(n)-1;n&=~(1<<a),r+=1;var i=32-Aa(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,ki=1<<32-Aa(e)+a|r<<a|n,Ni=i+t}else ki=1<<i|r<<a|n,Ni=t}function Ab(t){t.return!==null&&(oo(t,1),uC(t,1,0))}function Tb(t){for(;t===f0;)f0=jl[--Al],jl[Al]=null,h0=jl[--Al],jl[Al]=null;for(;t===$o;)$o=ea[--ta],ea[ta]=null,Ni=ea[--ta],ea[ta]=null,ki=ea[--ta],ea[ta]=null}var An=null,En=null,Tt=!1,ka=null;function dC(t,e){var r=na(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function R_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,En=Ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=$o!==null?{id:ki,overflow:Ni}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=na(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,An=t,En=null,!0):!1;default:return!1}}function kx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nx(t){if(Tt){var e=En;if(e){var r=e;if(!R_(t,e)){if(kx(t))throw Error(le(418));e=Ns(r.nextSibling);var n=An;e&&R_(t,e)?dC(n,r):(t.flags=t.flags&-4097|2,Tt=!1,An=t)}}else{if(kx(t))throw Error(le(418));t.flags=t.flags&-4097|2,Tt=!1,An=t}}}function M_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function Wf(t){if(t!==An)return!1;if(!Tt)return M_(t),Tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yx(t.type,t.memoizedProps)),e&&(e=En)){if(kx(t))throw fC(),Error(le(418));for(;e;)dC(t,e),e=Ns(e.nextSibling)}if(M_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){En=Ns(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}En=null}}else En=An?Ns(t.stateNode.nextSibling):null;return!0}function fC(){for(var t=En;t;)t=Ns(t.nextSibling)}function ac(){En=An=null,Tt=!1}function Ib(t){ka===null?ka=[t]:ka.push(t)}var XD=$i.ReactCurrentBatchConfig;function Yc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,t))}return t}function Vf(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L_(t){var e=t._init;return e(t._payload)}function hC(t){function e(x,v){if(t){var b=x.deletions;b===null?(x.deletions=[v],x.flags|=16):b.push(v)}}function r(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function n(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function a(x,v){return x=js(x,v),x.index=0,x.sibling=null,x}function i(x,v,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<v?(x.flags|=2,v):b):(x.flags|=2,v)):(x.flags|=1048576,v)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,v,b,w){return v===null||v.tag!==6?(v=wg(b,x.mode,w),v.return=x,v):(v=a(v,b),v.return=x,v)}function c(x,v,b,w){var S=b.type;return S===_l?d(x,v,b.props.children,w,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ts&&L_(S)===v.type)?(w=a(v,b.props),w.ref=Yc(x,v,b),w.return=x,w):(w=Uh(b.type,b.key,b.props,null,x.mode,w),w.ref=Yc(x,v,b),w.return=x,w)}function u(x,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=_g(b,x.mode,w),v.return=x,v):(v=a(v,b.children||[]),v.return=x,v)}function d(x,v,b,w,S){return v===null||v.tag!==7?(v=Do(b,x.mode,w,S),v.return=x,v):(v=a(v,b),v.return=x,v)}function f(x,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=wg(""+v,x.mode,b),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pf:return b=Uh(v.type,v.key,v.props,null,x.mode,b),b.ref=Yc(x,null,v),b.return=x,b;case wl:return v=_g(v,x.mode,b),v.return=x,v;case ts:var w=v._init;return f(x,w(v._payload),b)}if(bu(v)||Wc(v))return v=Do(v,x.mode,b,null),v.return=x,v;Vf(x,v)}return null}function h(x,v,b,w){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(x,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pf:return b.key===S?c(x,v,b,w):null;case wl:return b.key===S?u(x,v,b,w):null;case ts:return S=b._init,h(x,v,S(b._payload),w)}if(bu(b)||Wc(b))return S!==null?null:d(x,v,b,w,null);Vf(x,b)}return null}function p(x,v,b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(b)||null,o(v,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pf:return x=x.get(w.key===null?b:w.key)||null,c(v,x,w,S);case wl:return x=x.get(w.key===null?b:w.key)||null,u(v,x,w,S);case ts:var E=w._init;return p(x,v,b,E(w._payload),S)}if(bu(w)||Wc(w))return x=x.get(b)||null,d(v,x,w,S,null);Vf(v,w)}return null}function m(x,v,b,w){for(var S=null,E=null,j=v,I=v=0,k=null;j!==null&&I<b.length;I++){j.index>I?(k=j,j=null):k=j.sibling;var T=h(x,j,b[I],w);if(T===null){j===null&&(j=k);break}t&&j&&T.alternate===null&&e(x,j),v=i(T,v,I),E===null?S=T:E.sibling=T,E=T,j=k}if(I===b.length)return r(x,j),Tt&&oo(x,I),S;if(j===null){for(;I<b.length;I++)j=f(x,b[I],w),j!==null&&(v=i(j,v,I),E===null?S=j:E.sibling=j,E=j);return Tt&&oo(x,I),S}for(j=n(x,j);I<b.length;I++)k=p(j,x,I,b[I],w),k!==null&&(t&&k.alternate!==null&&j.delete(k.key===null?I:k.key),v=i(k,v,I),E===null?S=k:E.sibling=k,E=k);return t&&j.forEach(function(L){return e(x,L)}),Tt&&oo(x,I),S}function g(x,v,b,w){var S=Wc(b);if(typeof S!="function")throw Error(le(150));if(b=S.call(b),b==null)throw Error(le(151));for(var E=S=null,j=v,I=v=0,k=null,T=b.next();j!==null&&!T.done;I++,T=b.next()){j.index>I?(k=j,j=null):k=j.sibling;var L=h(x,j,T.value,w);if(L===null){j===null&&(j=k);break}t&&j&&L.alternate===null&&e(x,j),v=i(L,v,I),E===null?S=L:E.sibling=L,E=L,j=k}if(T.done)return r(x,j),Tt&&oo(x,I),S;if(j===null){for(;!T.done;I++,T=b.next())T=f(x,T.value,w),T!==null&&(v=i(T,v,I),E===null?S=T:E.sibling=T,E=T);return Tt&&oo(x,I),S}for(j=n(x,j);!T.done;I++,T=b.next())T=p(j,x,I,T.value,w),T!==null&&(t&&T.alternate!==null&&j.delete(T.key===null?I:T.key),v=i(T,v,I),E===null?S=T:E.sibling=T,E=T);return t&&j.forEach(function(C){return e(x,C)}),Tt&&oo(x,I),S}function y(x,v,b,w){if(typeof b=="object"&&b!==null&&b.type===_l&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pf:e:{for(var S=b.key,E=v;E!==null;){if(E.key===S){if(S=b.type,S===_l){if(E.tag===7){r(x,E.sibling),v=a(E,b.props.children),v.return=x,x=v;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ts&&L_(S)===E.type){r(x,E.sibling),v=a(E,b.props),v.ref=Yc(x,E,b),v.return=x,x=v;break e}r(x,E);break}else e(x,E);E=E.sibling}b.type===_l?(v=Do(b.props.children,x.mode,w,b.key),v.return=x,x=v):(w=Uh(b.type,b.key,b.props,null,x.mode,w),w.ref=Yc(x,v,b),w.return=x,x=w)}return s(x);case wl:e:{for(E=b.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(x,v.sibling),v=a(v,b.children||[]),v.return=x,x=v;break e}else{r(x,v);break}else e(x,v);v=v.sibling}v=_g(b,x.mode,w),v.return=x,x=v}return s(x);case ts:return E=b._init,y(x,v,E(b._payload),w)}if(bu(b))return m(x,v,b,w);if(Wc(b))return g(x,v,b,w);Vf(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(x,v.sibling),v=a(v,b),v.return=x,x=v):(r(x,v),v=wg(b,x.mode,w),v.return=x,x=v),s(x)):r(x,v)}return y}var ic=hC(!0),pC=hC(!1),p0=Ws(null),m0=null,Tl=null,Ob=null;function Db(){Ob=Tl=m0=null}function Pb(t){var e=p0.current;Nt(p0),t._currentValue=e}function Sx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Vl(t,e){m0=t,Ob=Tl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function ua(t){var e=t._currentValue;if(Ob!==t)if(t={context:t,memoizedValue:e,next:null},Tl===null){if(m0===null)throw Error(le(308));Tl=t,m0.dependencies={lanes:0,firstContext:t}}else Tl=Tl.next=t;return e}var No=null;function Rb(t){No===null?No=[t]:No.push(t)}function mC(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,Rb(e)):(r.next=a.next,a.next=r),e.interleaved=r,Di(t,n)}function Di(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var rs=!1;function Mb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ze&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Di(t,r)}return a=n.interleaved,a===null?(e.next=e,Rb(n)):(e.next=a.next,a.next=e),n.interleaved=e,Di(t,r)}function Rh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,wb(t,r)}}function B_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function g0(t,e,r,n){var a=t.updateQueue;rs=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Ft({},f,h);break e;case 2:rs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);zo|=s,t.lanes=s,t.memoizedState=f}}function F_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(le(191,a));a.call(n)}}}var Gd={},Za=Ws(Gd),gd=Ws(Gd),vd=Ws(Gd);function So(t){if(t===Gd)throw Error(le(174));return t}function Lb(t,e){switch(vt(vd,e),vt(gd,t),vt(Za,Gd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ix(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ix(e,t)}Nt(Za),vt(Za,e)}function sc(){Nt(Za),Nt(gd),Nt(vd)}function vC(t){So(vd.current);var e=So(Za.current),r=ix(e,t.type);e!==r&&(vt(gd,t),vt(Za,r))}function Bb(t){gd.current===t&&(Nt(Za),Nt(gd))}var Pt=Ws(0);function v0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mg=[];function Fb(){for(var t=0;t<mg.length;t++)mg[t]._workInProgressVersionPrimary=null;mg.length=0}var Mh=$i.ReactCurrentDispatcher,gg=$i.ReactCurrentBatchConfig,Uo=0,Mt=null,er=null,dr=null,x0=!1,Lu=!1,xd=0,qD=0;function Or(){throw Error(le(321))}function $b(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Oa(t[r],e[r]))return!1;return!0}function Ub(t,e,r,n,a,i){if(Uo=i,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mh.current=t===null||t.memoizedState===null?QD:JD,t=r(n,a),Lu){i=0;do{if(Lu=!1,xd=0,25<=i)throw Error(le(301));i+=1,dr=er=null,e.updateQueue=null,Mh.current=eP,t=r(n,a)}while(Lu)}if(Mh.current=y0,e=er!==null&&er.next!==null,Uo=0,dr=er=Mt=null,x0=!1,e)throw Error(le(300));return t}function zb(){var t=xd!==0;return xd=0,t}function za(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Mt.memoizedState=dr=t:dr=dr.next=t,dr}function da(){if(er===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=er.next;var e=dr===null?Mt.memoizedState:dr.next;if(e!==null)dr=e,er=t;else{if(t===null)throw Error(le(310));er=t,t={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},dr===null?Mt.memoizedState=dr=t:dr=dr.next=t}return dr}function yd(t,e){return typeof e=="function"?e(t):e}function vg(t){var e=da(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=er,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,u=i;do{var d=u.lane;if((Uo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,Mt.lanes|=d,zo|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=o,Oa(n,e.memoizedState)||(gn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Mt.lanes|=i,zo|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function xg(t){var e=da(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Oa(i,e.memoizedState)||(gn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function xC(){}function yC(t,e){var r=Mt,n=da(),a=e(),i=!Oa(n.memoizedState,a);if(i&&(n.memoizedState=a,gn=!0),n=n.queue,Hb(_C.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||dr!==null&&dr.memoizedState.tag&1){if(r.flags|=2048,bd(9,wC.bind(null,r,n,a,e),void 0,null),pr===null)throw Error(le(349));Uo&30||bC(r,e,a)}return a}function bC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function wC(t,e,r,n){e.value=r,e.getSnapshot=n,kC(e)&&NC(t)}function _C(t,e,r){return r(function(){kC(e)&&NC(t)})}function kC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Oa(t,r)}catch{return!0}}function NC(t){var e=Di(t,1);e!==null&&Ta(e,t,1,-1)}function $_(t){var e=za();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:t},e.queue=t,t=t.dispatch=ZD.bind(null,Mt,t),[e.memoizedState,t]}function bd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function SC(){return da().memoizedState}function Lh(t,e,r,n){var a=za();Mt.flags|=t,a.memoizedState=bd(1|e,r,void 0,n===void 0?null:n)}function Ep(t,e,r,n){var a=da();n=n===void 0?null:n;var i=void 0;if(er!==null){var s=er.memoizedState;if(i=s.destroy,n!==null&&$b(n,s.deps)){a.memoizedState=bd(e,r,i,n);return}}Mt.flags|=t,a.memoizedState=bd(1|e,r,i,n)}function U_(t,e){return Lh(8390656,8,t,e)}function Hb(t,e){return Ep(2048,8,t,e)}function EC(t,e){return Ep(4,2,t,e)}function CC(t,e){return Ep(4,4,t,e)}function jC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AC(t,e,r){return r=r!=null?r.concat([t]):null,Ep(4,4,jC.bind(null,e,t),r)}function Wb(){}function TC(t,e){var r=da();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$b(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function IC(t,e){var r=da();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$b(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function OC(t,e,r){return Uo&21?(Oa(r,e)||(r=LE(),Mt.lanes|=r,zo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=r)}function YD(t,e){var r=ct;ct=r!==0&&4>r?r:4,t(!0);var n=gg.transition;gg.transition={};try{t(!1),e()}finally{ct=r,gg.transition=n}}function DC(){return da().memoizedState}function KD(t,e,r){var n=Cs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},PC(t))RC(e,r);else if(r=mC(t,e,r,n),r!==null){var a=Jr();Ta(r,t,n,a),MC(r,e,n)}}function ZD(t,e,r){var n=Cs(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(PC(t))RC(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Oa(o,s)){var c=e.interleaved;c===null?(a.next=a,Rb(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=mC(t,e,a,n),r!==null&&(a=Jr(),Ta(r,t,n,a),MC(r,e,n))}}function PC(t){var e=t.alternate;return t===Mt||e!==null&&e===Mt}function RC(t,e){Lu=x0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function MC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,wb(t,r)}}var y0={readContext:ua,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},QD={readContext:ua,useCallback:function(t,e){return za().memoizedState=[t,e===void 0?null:e],t},useContext:ua,useEffect:U_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Lh(4194308,4,jC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Lh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lh(4,2,t,e)},useMemo:function(t,e){var r=za();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=za();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=KD.bind(null,Mt,t),[n.memoizedState,t]},useRef:function(t){var e=za();return t={current:t},e.memoizedState=t},useState:$_,useDebugValue:Wb,useDeferredValue:function(t){return za().memoizedState=t},useTransition:function(){var t=$_(!1),e=t[0];return t=YD.bind(null,t[1]),za().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Mt,a=za();if(Tt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=e(),pr===null)throw Error(le(349));Uo&30||bC(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,U_(_C.bind(null,n,i,t),[t]),n.flags|=2048,bd(9,wC.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=za(),e=pr.identifierPrefix;if(Tt){var r=Ni,n=ki;r=(n&~(1<<32-Aa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=xd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=qD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JD={readContext:ua,useCallback:TC,useContext:ua,useEffect:Hb,useImperativeHandle:AC,useInsertionEffect:EC,useLayoutEffect:CC,useMemo:IC,useReducer:vg,useRef:SC,useState:function(){return vg(yd)},useDebugValue:Wb,useDeferredValue:function(t){var e=da();return OC(e,er.memoizedState,t)},useTransition:function(){var t=vg(yd)[0],e=da().memoizedState;return[t,e]},useMutableSource:xC,useSyncExternalStore:yC,useId:DC,unstable_isNewReconciler:!1},eP={readContext:ua,useCallback:TC,useContext:ua,useEffect:Hb,useImperativeHandle:AC,useInsertionEffect:EC,useLayoutEffect:CC,useMemo:IC,useReducer:xg,useRef:SC,useState:function(){return xg(yd)},useDebugValue:Wb,useDeferredValue:function(t){var e=da();return er===null?e.memoizedState=t:OC(e,er.memoizedState,t)},useTransition:function(){var t=xg(yd)[0],e=da().memoizedState;return[t,e]},useMutableSource:xC,useSyncExternalStore:yC,useId:DC,unstable_isNewReconciler:!1};function ba(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ex(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ft({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cp={isMounted:function(t){return(t=t._reactInternals)?Jo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Jr(),a=Cs(t),i=Ei(n,a);i.payload=e,r!=null&&(i.callback=r),e=Ss(t,i,a),e!==null&&(Ta(e,t,a,n),Rh(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Jr(),a=Cs(t),i=Ei(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ss(t,i,a),e!==null&&(Ta(e,t,a,n),Rh(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Jr(),n=Cs(t),a=Ei(r,n);a.tag=2,e!=null&&(a.callback=e),e=Ss(t,a,n),e!==null&&(Ta(e,t,n,r),Rh(e,t,n))}};function z_(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!fd(r,n)||!fd(a,i):!0}function LC(t,e,r){var n=!1,a=Bs,i=e.contextType;return typeof i=="object"&&i!==null?i=ua(i):(a=xn(e)?Fo:Br.current,n=e.contextTypes,i=(n=n!=null)?nc(t,a):Bs),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function H_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Cp.enqueueReplaceState(e,e.state,null)}function Cx(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Mb(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=ua(i):(i=xn(e)?Fo:Br.current,a.context=nc(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ex(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Cp.enqueueReplaceState(a,a.state,null),g0(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function oc(t,e){try{var r="",n=e;do r+=jO(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function yg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function jx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var tP=typeof WeakMap=="function"?WeakMap:Map;function BC(t,e,r){r=Ei(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){w0||(w0=!0,Bx=n),jx(t,e)},r}function FC(t,e,r){r=Ei(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){jx(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jx(t,e),typeof n!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function W_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new tP;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=mP.bind(null,t,e,r),e.then(t,t))}function V_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G_(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ei(-1,1),e.tag=2,Ss(r,e,1))),r.lanes|=1),t)}var rP=$i.ReactCurrentOwner,gn=!1;function Kr(t,e,r,n){e.child=t===null?pC(e,null,r,n):ic(e,t.child,r,n)}function X_(t,e,r,n,a){r=r.render;var i=e.ref;return Vl(e,a),n=Ub(t,e,r,n,i,a),r=zb(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Pi(t,e,a)):(Tt&&r&&Ab(e),e.flags|=1,Kr(t,e,n,a),e.child)}function q_(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Qb(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,$C(t,e,i,n,a)):(t=Uh(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:fd,r(s,n)&&t.ref===e.ref)return Pi(t,e,a)}return e.flags|=1,t=js(i,n),t.ref=e.ref,t.return=e,e.child=t}function $C(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(fd(i,n)&&t.ref===e.ref)if(gn=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,Pi(t,e,a)}return Ax(t,e,r,n,a)}function UC(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Ol,Sn),Sn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vt(Ol,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,vt(Ol,Sn),Sn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,vt(Ol,Sn),Sn|=n;return Kr(t,e,a,r),e.child}function zC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ax(t,e,r,n,a){var i=xn(r)?Fo:Br.current;return i=nc(e,i),Vl(e,a),r=Ub(t,e,r,n,i,a),n=zb(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Pi(t,e,a)):(Tt&&n&&Ab(e),e.flags|=1,Kr(t,e,r,a),e.child)}function Y_(t,e,r,n,a){if(xn(r)){var i=!0;d0(e)}else i=!1;if(Vl(e,a),e.stateNode===null)Bh(t,e),LC(e,r,n),Cx(e,r,n,a),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=ua(u):(u=xn(r)?Fo:Br.current,u=nc(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&H_(e,s,n,u),rs=!1;var h=e.memoizedState;s.state=h,g0(e,n,s,a),c=e.memoizedState,o!==n||h!==c||vn.current||rs?(typeof d=="function"&&(Ex(e,r,d,n),c=e.memoizedState),(o=rs||z_(e,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,gC(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ba(e.type,o),s.props=u,f=e.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=ua(c):(c=xn(r)?Fo:Br.current,c=nc(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&H_(e,s,n,c),rs=!1,h=e.memoizedState,s.state=h,g0(e,n,s,a);var m=e.memoizedState;o!==f||h!==m||vn.current||rs?(typeof p=="function"&&(Ex(e,r,p,n),m=e.memoizedState),(u=rs||z_(e,r,u,n,h,m,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Tx(t,e,r,n,i,a)}function Tx(t,e,r,n,a,i){zC(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return a&&P_(e,r,!1),Pi(t,e,i);n=e.stateNode,rP.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=ic(e,t.child,null,i),e.child=ic(e,null,o,i)):Kr(t,e,o,i),e.memoizedState=n.state,a&&P_(e,r,!0),e.child}function HC(t){var e=t.stateNode;e.pendingContext?D_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&D_(t,e.context,!1),Lb(t,e.containerInfo)}function K_(t,e,r,n,a){return ac(),Ib(a),e.flags|=256,Kr(t,e,r,n),e.child}var Ix={dehydrated:null,treeContext:null,retryLane:0};function Ox(t){return{baseLanes:t,cachePool:null,transitions:null}}function WC(t,e,r){var n=e.pendingProps,a=Pt.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),vt(Pt,a&1),t===null)return Nx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Tp(s,n,0,null),t=Do(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ox(r),e.memoizedState=Ix,t):Vb(e,s));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return nP(t,e,s,n,o,a,r);if(i){i=n.fallback,s=e.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=js(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=js(o,i):(i=Do(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?Ox(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=Ix,n}return i=t.child,t=i.sibling,n=js(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Vb(t,e){return e=Tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gf(t,e,r,n){return n!==null&&Ib(n),ic(e,t.child,null,r),t=Vb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nP(t,e,r,n,a,i,s){if(r)return e.flags&256?(e.flags&=-257,n=yg(Error(le(422))),Gf(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=Tp({mode:"visible",children:n.children},a,0,null),i=Do(i,a,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ic(e,t.child,null,s),e.child.memoizedState=Ox(s),e.memoizedState=Ix,i);if(!(e.mode&1))return Gf(t,e,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(le(419)),n=yg(i,n,void 0),Gf(t,e,s,n)}if(o=(s&t.childLanes)!==0,gn||o){if(n=pr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Di(t,a),Ta(n,t,a,-1))}return Zb(),n=yg(Error(le(421))),Gf(t,e,s,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=gP.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,En=Ns(a.nextSibling),An=e,Tt=!0,ka=null,t!==null&&(ea[ta++]=ki,ea[ta++]=Ni,ea[ta++]=$o,ki=t.id,Ni=t.overflow,$o=e),e=Vb(e,n.children),e.flags|=4096,e)}function Z_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Sx(t.return,e,r)}function bg(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function VC(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(Kr(t,e,n.children,r),n=Pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z_(t,r,e);else if(t.tag===19)Z_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(vt(Pt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&v0(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),bg(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&v0(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}bg(e,!0,r,null,i);break;case"together":bg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),zo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,r=js(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=js(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function aP(t,e,r){switch(e.tag){case 3:HC(e),ac();break;case 5:vC(e);break;case 1:xn(e.type)&&d0(e);break;case 4:Lb(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;vt(p0,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(vt(Pt,Pt.current&1),e.flags|=128,null):r&e.child.childLanes?WC(t,e,r):(vt(Pt,Pt.current&1),t=Pi(t,e,r),t!==null?t.sibling:null);vt(Pt,Pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return VC(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),vt(Pt,Pt.current),n)break;return null;case 22:case 23:return e.lanes=0,UC(t,e,r)}return Pi(t,e,r)}var GC,Dx,XC,qC;GC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dx=function(){};XC=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,So(Za.current);var i=null;switch(r){case"input":a=tx(t,a),n=tx(t,n),i=[];break;case"select":a=Ft({},a,{value:void 0}),n=Ft({},n,{value:void 0}),i=[];break;case"textarea":a=ax(t,a),n=ax(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=c0)}sx(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(id.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(id.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&bt("scroll",t),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};qC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Kc(t,e){if(!Tt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function iP(t,e,r){var n=e.pendingProps;switch(Tb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(e),null;case 1:return xn(e.type)&&u0(),Dr(e),null;case 3:return n=e.stateNode,sc(),Nt(vn),Nt(Br),Fb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Wf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ka!==null&&(Ux(ka),ka=null))),Dx(t,e),Dr(e),null;case 5:Bb(e);var a=So(vd.current);if(r=e.type,t!==null&&e.stateNode!=null)XC(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(le(166));return Dr(e),null}if(t=So(Za.current),Wf(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ha]=e,n[md]=i,t=(e.mode&1)!==0,r){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(a=0;a<_u.length;a++)bt(_u[a],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":s_(n,i),bt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},bt("invalid",n);break;case"textarea":l_(n,i),bt("invalid",n)}sx(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Hf(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Hf(n.textContent,o,t),a=["children",""+o]):id.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&bt("scroll",n)}switch(r){case"input":Rf(n),o_(n,i,!0);break;case"textarea":Rf(n),c_(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=c0)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_E(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Ha]=e,t[md]=n,GC(t,e,!1,!1),e.stateNode=t;e:{switch(s=ox(r,n),r){case"dialog":bt("cancel",t),bt("close",t),a=n;break;case"iframe":case"object":case"embed":bt("load",t),a=n;break;case"video":case"audio":for(a=0;a<_u.length;a++)bt(_u[a],t);a=n;break;case"source":bt("error",t),a=n;break;case"img":case"image":case"link":bt("error",t),bt("load",t),a=n;break;case"details":bt("toggle",t),a=n;break;case"input":s_(t,n),a=tx(t,n),bt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Ft({},n,{value:void 0}),bt("invalid",t);break;case"textarea":l_(t,n),a=ax(t,n),bt("invalid",t);break;default:a=n}sx(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?SE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kE(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&sd(t,c):typeof c=="number"&&sd(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(id.hasOwnProperty(i)?c!=null&&i==="onScroll"&&bt("scroll",t):c!=null&&mb(t,i,c,s))}switch(r){case"input":Rf(t),o_(t,n,!1);break;case"textarea":Rf(t),c_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ls(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ul(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ul(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=c0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dr(e),null;case 6:if(t&&e.stateNode!=null)qC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(le(166));if(r=So(vd.current),So(Za.current),Wf(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ha]=e,(i=n.nodeValue!==r)&&(t=An,t!==null))switch(t.tag){case 3:Hf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hf(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ha]=e,e.stateNode=n}return Dr(e),null;case 13:if(Nt(Pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tt&&En!==null&&e.mode&1&&!(e.flags&128))fC(),ac(),e.flags|=98560,i=!1;else if(i=Wf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(le(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(le(317));i[Ha]=e}else ac(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dr(e),i=!1}else ka!==null&&(Ux(ka),ka=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?ar===0&&(ar=3):Zb())),e.updateQueue!==null&&(e.flags|=4),Dr(e),null);case 4:return sc(),Dx(t,e),t===null&&hd(e.stateNode.containerInfo),Dr(e),null;case 10:return Pb(e.type._context),Dr(e),null;case 17:return xn(e.type)&&u0(),Dr(e),null;case 19:if(Nt(Pt),i=e.memoizedState,i===null)return Dr(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)Kc(i,!1);else{if(ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=v0(t),s!==null){for(e.flags|=128,Kc(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return vt(Pt,Pt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ht()>lc&&(e.flags|=128,n=!0,Kc(i,!1),e.lanes=4194304)}else{if(!n)if(t=v0(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Kc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Tt)return Dr(e),null}else 2*Ht()-i.renderingStartTime>lc&&r!==1073741824&&(e.flags|=128,n=!0,Kc(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ht(),e.sibling=null,r=Pt.current,vt(Pt,n?r&1|2:r&1),e):(Dr(e),null);case 22:case 23:return Kb(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Sn&1073741824&&(Dr(e),e.subtreeFlags&6&&(e.flags|=8192)):Dr(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function sP(t,e){switch(Tb(e),e.tag){case 1:return xn(e.type)&&u0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sc(),Nt(vn),Nt(Br),Fb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bb(e),null;case 13:if(Nt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));ac()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nt(Pt),null;case 4:return sc(),null;case 10:return Pb(e.type._context),null;case 22:case 23:return Kb(),null;case 24:return null;default:return null}}var Xf=!1,Mr=!1,oP=typeof WeakSet=="function"?WeakSet:Set,be=null;function Il(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ut(t,e,n)}else r.current=null}function Px(t,e,r){try{r()}catch(n){Ut(t,e,n)}}var Q_=!1;function lP(t,e){if(vx=s0,t=JE(),jb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xx={focusedElem:t,selectionRange:r},s0=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:ba(e.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(w){Ut(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return m=Q_,Q_=!1,m}function Bu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Px(e,r,i)}a=a.next}while(a!==n)}}function jp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Rx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function YC(t){var e=t.alternate;e!==null&&(t.alternate=null,YC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ha],delete e[md],delete e[wx],delete e[WD],delete e[VD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KC(t){return t.tag===5||t.tag===3||t.tag===4}function J_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=c0));else if(n!==4&&(t=t.child,t!==null))for(Mx(t,e,r),t=t.sibling;t!==null;)Mx(t,e,r),t=t.sibling}function Lx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Lx(t,e,r),t=t.sibling;t!==null;)Lx(t,e,r),t=t.sibling}var Nr=null,wa=!1;function Xi(t,e,r){for(r=r.child;r!==null;)ZC(t,e,r),r=r.sibling}function ZC(t,e,r){if(Ka&&typeof Ka.onCommitFiberUnmount=="function")try{Ka.onCommitFiberUnmount(bp,r)}catch{}switch(r.tag){case 5:Mr||Il(r,e);case 6:var n=Nr,a=wa;Nr=null,Xi(t,e,r),Nr=n,wa=a,Nr!==null&&(wa?(t=Nr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Nr.removeChild(r.stateNode));break;case 18:Nr!==null&&(wa?(t=Nr,r=r.stateNode,t.nodeType===8?hg(t.parentNode,r):t.nodeType===1&&hg(t,r),ud(t)):hg(Nr,r.stateNode));break;case 4:n=Nr,a=wa,Nr=r.stateNode.containerInfo,wa=!0,Xi(t,e,r),Nr=n,wa=a;break;case 0:case 11:case 14:case 15:if(!Mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Px(r,e,s),a=a.next}while(a!==n)}Xi(t,e,r);break;case 1:if(!Mr&&(Il(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ut(r,e,o)}Xi(t,e,r);break;case 21:Xi(t,e,r);break;case 22:r.mode&1?(Mr=(n=Mr)||r.memoizedState!==null,Xi(t,e,r),Mr=n):Xi(t,e,r);break;default:Xi(t,e,r)}}function ek(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new oP),e.forEach(function(n){var a=vP.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ma(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Nr=o.stateNode,wa=!1;break e;case 3:Nr=o.stateNode.containerInfo,wa=!0;break e;case 4:Nr=o.stateNode.containerInfo,wa=!0;break e}o=o.return}if(Nr===null)throw Error(le(160));ZC(i,s,a),Nr=null,wa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ut(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QC(e,t),e=e.sibling}function QC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ma(e,t),$a(t),n&4){try{Bu(3,t,t.return),jp(3,t)}catch(g){Ut(t,t.return,g)}try{Bu(5,t,t.return)}catch(g){Ut(t,t.return,g)}}break;case 1:ma(e,t),$a(t),n&512&&r!==null&&Il(r,r.return);break;case 5:if(ma(e,t),$a(t),n&512&&r!==null&&Il(r,r.return),t.flags&32){var a=t.stateNode;try{sd(a,"")}catch(g){Ut(t,t.return,g)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&bE(a,i),ox(o,s);var u=ox(o,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?SE(a,f):d==="dangerouslySetInnerHTML"?kE(a,f):d==="children"?sd(a,f):mb(a,d,f,u)}switch(o){case"input":rx(a,i);break;case"textarea":wE(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ul(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ul(a,!!i.multiple,i.defaultValue,!0):Ul(a,!!i.multiple,i.multiple?[]:"",!1))}a[md]=i}catch(g){Ut(t,t.return,g)}}break;case 6:if(ma(e,t),$a(t),n&4){if(t.stateNode===null)throw Error(le(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(g){Ut(t,t.return,g)}}break;case 3:if(ma(e,t),$a(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ud(e.containerInfo)}catch(g){Ut(t,t.return,g)}break;case 4:ma(e,t),$a(t);break;case 13:ma(e,t),$a(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(qb=Ht())),n&4&&ek(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Mr=(u=Mr)||d,ma(e,t),Mr=u):ma(e,t),$a(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(be=t,d=t.child;d!==null;){for(f=be=d;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:Bu(4,h,h.return);break;case 1:Il(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Ut(n,r,g)}}break;case 5:Il(h,h.return);break;case 22:if(h.memoizedState!==null){rk(f);continue}}p!==null?(p.return=h,be=p):rk(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=NE("display",s))}catch(g){Ut(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ut(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ma(e,t),$a(t),n&4&&ek(t);break;case 21:break;default:ma(e,t),$a(t)}}function $a(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(KC(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(sd(a,""),n.flags&=-33);var i=J_(t);Lx(t,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=J_(t);Mx(t,o,s);break;default:throw Error(le(161))}}catch(c){Ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cP(t,e,r){be=t,JC(t)}function JC(t,e,r){for(var n=(t.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Xf;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Mr;o=Xf;var u=Mr;if(Xf=s,(Mr=c)&&!u)for(be=a;be!==null;)s=be,c=s.child,s.tag===22&&s.memoizedState!==null?nk(a):c!==null?(c.return=s,be=c):nk(a);for(;i!==null;)be=i,JC(i),i=i.sibling;be=a,Xf=o,Mr=u}tk(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):tk(t)}}function tk(t){for(;be!==null;){var e=be;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mr||jp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Mr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ba(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&F_(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}F_(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ud(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Mr||e.flags&512&&Rx(e)}catch(h){Ut(e,e.return,h)}}if(e===t){be=null;break}if(r=e.sibling,r!==null){r.return=e.return,be=r;break}be=e.return}}function rk(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var r=e.sibling;if(r!==null){r.return=e.return,be=r;break}be=e.return}}function nk(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{jp(4,e)}catch(c){Ut(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Ut(e,a,c)}}var i=e.return;try{Rx(e)}catch(c){Ut(e,i,c)}break;case 5:var s=e.return;try{Rx(e)}catch(c){Ut(e,s,c)}}}catch(c){Ut(e,e.return,c)}if(e===t){be=null;break}var o=e.sibling;if(o!==null){o.return=e.return,be=o;break}be=e.return}}var uP=Math.ceil,b0=$i.ReactCurrentDispatcher,Gb=$i.ReactCurrentOwner,oa=$i.ReactCurrentBatchConfig,Ze=0,pr=null,qt=null,jr=0,Sn=0,Ol=Ws(0),ar=0,wd=null,zo=0,Ap=0,Xb=0,Fu=null,hn=null,qb=0,lc=1/0,xi=null,w0=!1,Bx=null,Es=null,qf=!1,ps=null,_0=0,$u=0,Fx=null,Fh=-1,$h=0;function Jr(){return Ze&6?Ht():Fh!==-1?Fh:Fh=Ht()}function Cs(t){return t.mode&1?Ze&2&&jr!==0?jr&-jr:XD.transition!==null?($h===0&&($h=LE()),$h):(t=ct,t!==0||(t=window.event,t=t===void 0?16:WE(t.type)),t):1}function Ta(t,e,r,n){if(50<$u)throw $u=0,Fx=null,Error(le(185));Hd(t,r,n),(!(Ze&2)||t!==pr)&&(t===pr&&(!(Ze&2)&&(Ap|=r),ar===4&&ls(t,jr)),yn(t,n),r===1&&Ze===0&&!(e.mode&1)&&(lc=Ht()+500,Sp&&Vs()))}function yn(t,e){var r=t.callbackNode;XO(t,e);var n=i0(t,t===pr?jr:0);if(n===0)r!==null&&f_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&f_(r),e===1)t.tag===0?GD(ak.bind(null,t)):cC(ak.bind(null,t)),zD(function(){!(Ze&6)&&Vs()}),r=null;else{switch(BE(n)){case 1:r=bb;break;case 4:r=RE;break;case 16:r=a0;break;case 536870912:r=ME;break;default:r=a0}r=oj(r,ej.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ej(t,e){if(Fh=-1,$h=0,Ze&6)throw Error(le(327));var r=t.callbackNode;if(Gl()&&t.callbackNode!==r)return null;var n=i0(t,t===pr?jr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=k0(t,n);else{e=n;var a=Ze;Ze|=2;var i=rj();(pr!==t||jr!==e)&&(xi=null,lc=Ht()+500,Oo(t,e));do try{hP();break}catch(o){tj(t,o)}while(!0);Db(),b0.current=i,Ze=a,qt!==null?e=0:(pr=null,jr=0,e=ar)}if(e!==0){if(e===2&&(a=fx(t),a!==0&&(n=a,e=$x(t,a))),e===1)throw r=wd,Oo(t,0),ls(t,n),yn(t,Ht()),r;if(e===6)ls(t,n);else{if(a=t.current.alternate,!(n&30)&&!dP(a)&&(e=k0(t,n),e===2&&(i=fx(t),i!==0&&(n=i,e=$x(t,i))),e===1))throw r=wd,Oo(t,0),ls(t,n),yn(t,Ht()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(le(345));case 2:lo(t,hn,xi);break;case 3:if(ls(t,n),(n&130023424)===n&&(e=qb+500-Ht(),10<e)){if(i0(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Jr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=bx(lo.bind(null,t,hn,xi),e);break}lo(t,hn,xi);break;case 4:if(ls(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-Aa(n);i=1<<s,s=e[s],s>a&&(a=s),n&=~i}if(n=a,n=Ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uP(n/1960))-n,10<n){t.timeoutHandle=bx(lo.bind(null,t,hn,xi),n);break}lo(t,hn,xi);break;case 5:lo(t,hn,xi);break;default:throw Error(le(329))}}}return yn(t,Ht()),t.callbackNode===r?ej.bind(null,t):null}function $x(t,e){var r=Fu;return t.current.memoizedState.isDehydrated&&(Oo(t,e).flags|=256),t=k0(t,e),t!==2&&(e=hn,hn=r,e!==null&&Ux(e)),t}function Ux(t){hn===null?hn=t:hn.push.apply(hn,t)}function dP(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Oa(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ls(t,e){for(e&=~Xb,e&=~Ap,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Aa(e),n=1<<r;t[r]=-1,e&=~n}}function ak(t){if(Ze&6)throw Error(le(327));Gl();var e=i0(t,0);if(!(e&1))return yn(t,Ht()),null;var r=k0(t,e);if(t.tag!==0&&r===2){var n=fx(t);n!==0&&(e=n,r=$x(t,n))}if(r===1)throw r=wd,Oo(t,0),ls(t,e),yn(t,Ht()),r;if(r===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lo(t,hn,xi),yn(t,Ht()),null}function Yb(t,e){var r=Ze;Ze|=1;try{return t(e)}finally{Ze=r,Ze===0&&(lc=Ht()+500,Sp&&Vs())}}function Ho(t){ps!==null&&ps.tag===0&&!(Ze&6)&&Gl();var e=Ze;Ze|=1;var r=oa.transition,n=ct;try{if(oa.transition=null,ct=1,t)return t()}finally{ct=n,oa.transition=r,Ze=e,!(Ze&6)&&Vs()}}function Kb(){Sn=Ol.current,Nt(Ol)}function Oo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,UD(r)),qt!==null)for(r=qt.return;r!==null;){var n=r;switch(Tb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&u0();break;case 3:sc(),Nt(vn),Nt(Br),Fb();break;case 5:Bb(n);break;case 4:sc();break;case 13:Nt(Pt);break;case 19:Nt(Pt);break;case 10:Pb(n.type._context);break;case 22:case 23:Kb()}r=r.return}if(pr=t,qt=t=js(t.current,null),jr=Sn=e,ar=0,wd=null,Xb=Ap=zo=0,hn=Fu=null,No!==null){for(e=0;e<No.length;e++)if(r=No[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}No=null}return t}function tj(t,e){do{var r=qt;try{if(Db(),Mh.current=y0,x0){for(var n=Mt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}x0=!1}if(Uo=0,dr=er=Mt=null,Lu=!1,xd=0,Gb.current=null,r===null||r.return===null){ar=1,wd=e,qt=null;break}e:{var i=t,s=r.return,o=r,c=e;if(e=jr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=V_(s);if(p!==null){p.flags&=-257,G_(p,s,o,i,e),p.mode&1&&W_(i,u,e),e=p,c=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break e}else{if(!(e&1)){W_(i,u,e),Zb();break e}c=Error(le(426))}}else if(Tt&&o.mode&1){var y=V_(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),G_(y,s,o,i,e),Ib(oc(c,o));break e}}i=c=oc(c,o),ar!==4&&(ar=2),Fu===null?Fu=[i]:Fu.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=BC(i,c,e);B_(i,x);break e;case 1:o=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Es===null||!Es.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=FC(i,o,e);B_(i,w);break e}}i=i.return}while(i!==null)}aj(r)}catch(S){e=S,qt===r&&r!==null&&(qt=r=r.return);continue}break}while(!0)}function rj(){var t=b0.current;return b0.current=y0,t===null?y0:t}function Zb(){(ar===0||ar===3||ar===2)&&(ar=4),pr===null||!(zo&268435455)&&!(Ap&268435455)||ls(pr,jr)}function k0(t,e){var r=Ze;Ze|=2;var n=rj();(pr!==t||jr!==e)&&(xi=null,Oo(t,e));do try{fP();break}catch(a){tj(t,a)}while(!0);if(Db(),Ze=r,b0.current=n,qt!==null)throw Error(le(261));return pr=null,jr=0,ar}function fP(){for(;qt!==null;)nj(qt)}function hP(){for(;qt!==null&&!BO();)nj(qt)}function nj(t){var e=sj(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?aj(t):qt=e,Gb.current=null}function aj(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=sP(r,e),r!==null){r.flags&=32767,qt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ar=6,qt=null;return}}else if(r=iP(r,e,Sn),r!==null){qt=r;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);ar===0&&(ar=5)}function lo(t,e,r){var n=ct,a=oa.transition;try{oa.transition=null,ct=1,pP(t,e,r,n)}finally{oa.transition=a,ct=n}return null}function pP(t,e,r,n){do Gl();while(ps!==null);if(Ze&6)throw Error(le(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(qO(t,i),t===pr&&(qt=pr=null,jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qf||(qf=!0,oj(a0,function(){return Gl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=oa.transition,oa.transition=null;var s=ct;ct=1;var o=Ze;Ze|=4,Gb.current=null,lP(t,r),QC(r,t),PD(xx),s0=!!vx,xx=vx=null,t.current=r,cP(r),FO(),Ze=o,ct=s,oa.transition=i}else t.current=r;if(qf&&(qf=!1,ps=t,_0=a),i=t.pendingLanes,i===0&&(Es=null),zO(r.stateNode),yn(t,Ht()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(w0)throw w0=!1,t=Bx,Bx=null,t;return _0&1&&t.tag!==0&&Gl(),i=t.pendingLanes,i&1?t===Fx?$u++:($u=0,Fx=t):$u=0,Vs(),null}function Gl(){if(ps!==null){var t=BE(_0),e=oa.transition,r=ct;try{if(oa.transition=null,ct=16>t?16:t,ps===null)var n=!1;else{if(t=ps,ps=null,_0=0,Ze&6)throw Error(le(331));var a=Ze;for(Ze|=4,be=t.current;be!==null;){var i=be,s=i.child;if(be.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(be=u;be!==null;){var d=be;switch(d.tag){case 0:case 11:case 15:Bu(8,d,i)}var f=d.child;if(f!==null)f.return=d,be=f;else for(;be!==null;){d=be;var h=d.sibling,p=d.return;if(YC(d),d===u){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}be=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,be=s;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,be=x;break e}be=i.return}}var v=t.current;for(be=v;be!==null;){s=be;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,be=b;else e:for(s=v;be!==null;){if(o=be,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:jp(9,o)}}catch(S){Ut(o,o.return,S)}if(o===s){be=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,be=w;break e}be=o.return}}if(Ze=a,Vs(),Ka&&typeof Ka.onPostCommitFiberRoot=="function")try{Ka.onPostCommitFiberRoot(bp,t)}catch{}n=!0}return n}finally{ct=r,oa.transition=e}}return!1}function ik(t,e,r){e=oc(r,e),e=BC(t,e,1),t=Ss(t,e,1),e=Jr(),t!==null&&(Hd(t,1,e),yn(t,e))}function Ut(t,e,r){if(t.tag===3)ik(t,t,r);else for(;e!==null;){if(e.tag===3){ik(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Es===null||!Es.has(n))){t=oc(r,t),t=FC(e,t,1),e=Ss(e,t,1),t=Jr(),e!==null&&(Hd(e,1,t),yn(e,t));break}}e=e.return}}function mP(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Jr(),t.pingedLanes|=t.suspendedLanes&r,pr===t&&(jr&r)===r&&(ar===4||ar===3&&(jr&130023424)===jr&&500>Ht()-qb?Oo(t,0):Xb|=r),yn(t,e)}function ij(t,e){e===0&&(t.mode&1?(e=Bf,Bf<<=1,!(Bf&130023424)&&(Bf=4194304)):e=1);var r=Jr();t=Di(t,e),t!==null&&(Hd(t,e,r),yn(t,r))}function gP(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ij(t,r)}function vP(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(e),ij(t,r)}var sj;sj=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)gn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return gn=!1,aP(t,e,r);gn=!!(t.flags&131072)}else gn=!1,Tt&&e.flags&1048576&&uC(e,h0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Bh(t,e),t=e.pendingProps;var a=nc(e,Br.current);Vl(e,r),a=Ub(null,e,n,t,a,r);var i=zb();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(n)?(i=!0,d0(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Mb(e),a.updater=Cp,e.stateNode=a,a._reactInternals=e,Cx(e,n,t,r),e=Tx(null,e,n,!0,i,r)):(e.tag=0,Tt&&i&&Ab(e),Kr(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Bh(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=yP(n),t=ba(n,t),a){case 0:e=Ax(null,e,n,t,r);break e;case 1:e=Y_(null,e,n,t,r);break e;case 11:e=X_(null,e,n,t,r);break e;case 14:e=q_(null,e,n,ba(n.type,t),r);break e}throw Error(le(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ba(n,a),Ax(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ba(n,a),Y_(t,e,n,a,r);case 3:e:{if(HC(e),t===null)throw Error(le(387));n=e.pendingProps,i=e.memoizedState,a=i.element,gC(t,e),g0(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=oc(Error(le(423)),e),e=K_(t,e,n,r,a);break e}else if(n!==a){a=oc(Error(le(424)),e),e=K_(t,e,n,r,a);break e}else for(En=Ns(e.stateNode.containerInfo.firstChild),An=e,Tt=!0,ka=null,r=pC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ac(),n===a){e=Pi(t,e,r);break e}Kr(t,e,n,r)}e=e.child}return e;case 5:return vC(e),t===null&&Nx(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,yx(n,a)?s=null:i!==null&&yx(n,i)&&(e.flags|=32),zC(t,e),Kr(t,e,s,r),e.child;case 6:return t===null&&Nx(e),null;case 13:return WC(t,e,r);case 4:return Lb(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ic(e,null,n,r):Kr(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ba(n,a),X_(t,e,n,a,r);case 7:return Kr(t,e,e.pendingProps,r),e.child;case 8:return Kr(t,e,e.pendingProps.children,r),e.child;case 12:return Kr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,vt(p0,n._currentValue),n._currentValue=s,i!==null)if(Oa(i.value,s)){if(i.children===a.children&&!vn.current){e=Pi(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ei(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Sx(i.return,r,e),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(le(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Sx(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Kr(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Vl(e,r),a=ua(a),n=n(a),e.flags|=1,Kr(t,e,n,r),e.child;case 14:return n=e.type,a=ba(n,e.pendingProps),a=ba(n.type,a),q_(t,e,n,a,r);case 15:return $C(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ba(n,a),Bh(t,e),e.tag=1,xn(n)?(t=!0,d0(e)):t=!1,Vl(e,r),LC(e,n,a),Cx(e,n,a,r),Tx(null,e,n,!0,t,r);case 19:return VC(t,e,r);case 22:return UC(t,e,r)}throw Error(le(156,e.tag))};function oj(t,e){return PE(t,e)}function xP(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(t,e,r,n){return new xP(t,e,r,n)}function Qb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yP(t){if(typeof t=="function")return Qb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vb)return 11;if(t===xb)return 14}return 2}function js(t,e){var r=t.alternate;return r===null?(r=na(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Uh(t,e,r,n,a,i){var s=2;if(n=t,typeof t=="function")Qb(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case _l:return Do(r.children,a,i,e);case gb:s=8,a|=8;break;case Zv:return t=na(12,r,e,a|2),t.elementType=Zv,t.lanes=i,t;case Qv:return t=na(13,r,e,a),t.elementType=Qv,t.lanes=i,t;case Jv:return t=na(19,r,e,a),t.elementType=Jv,t.lanes=i,t;case vE:return Tp(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mE:s=10;break e;case gE:s=9;break e;case vb:s=11;break e;case xb:s=14;break e;case ts:s=16,n=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=na(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Do(t,e,r,n){return t=na(7,t,n,e),t.lanes=r,t}function Tp(t,e,r,n){return t=na(22,t,n,e),t.elementType=vE,t.lanes=r,t.stateNode={isHidden:!1},t}function wg(t,e,r){return t=na(6,t,null,e),t.lanes=r,t}function _g(t,e,r){return e=na(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bP(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rg(0),this.expirationTimes=rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Jb(t,e,r,n,a,i,s,o,c){return t=new bP(t,e,r,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=na(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mb(i),t}function wP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function lj(t){if(!t)return Bs;t=t._reactInternals;e:{if(Jo(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var r=t.type;if(xn(r))return lC(t,r,e)}return e}function cj(t,e,r,n,a,i,s,o,c){return t=Jb(r,n,!0,t,a,i,s,o,c),t.context=lj(null),r=t.current,n=Jr(),a=Cs(r),i=Ei(n,a),i.callback=e??null,Ss(r,i,a),t.current.lanes=a,Hd(t,a,n),yn(t,n),t}function Ip(t,e,r,n){var a=e.current,i=Jr(),s=Cs(a);return r=lj(r),e.context===null?e.context=r:e.pendingContext=r,e=Ei(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ss(a,e,s),t!==null&&(Ta(t,a,s,i),Rh(t,a,s)),s}function N0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ew(t,e){sk(t,e),(t=t.alternate)&&sk(t,e)}function _P(){return null}var uj=typeof reportError=="function"?reportError:function(t){console.error(t)};function tw(t){this._internalRoot=t}Op.prototype.render=tw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Ip(t,e,null,null)};Op.prototype.unmount=tw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ho(function(){Ip(null,t,null,null)}),e[Oi]=null}};function Op(t){this._internalRoot=t}Op.prototype.unstable_scheduleHydration=function(t){if(t){var e=UE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<os.length&&e!==0&&e<os[r].priority;r++);os.splice(r,0,t),r===0&&HE(t)}};function rw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ok(){}function kP(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=N0(s);i.call(u)}}var s=cj(e,n,t,0,null,!1,!1,"",ok);return t._reactRootContainer=s,t[Oi]=s.current,hd(t.nodeType===8?t.parentNode:t),Ho(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=N0(c);o.call(u)}}var c=Jb(t,0,!1,null,null,!1,!1,"",ok);return t._reactRootContainer=c,t[Oi]=c.current,hd(t.nodeType===8?t.parentNode:t),Ho(function(){Ip(e,c,r,n)}),c}function Pp(t,e,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=N0(s);o.call(c)}}Ip(e,s,t,a)}else s=kP(r,e,t,a,n);return N0(s)}FE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=wu(e.pendingLanes);r!==0&&(wb(e,r|1),yn(e,Ht()),!(Ze&6)&&(lc=Ht()+500,Vs()))}break;case 13:Ho(function(){var n=Di(t,1);if(n!==null){var a=Jr();Ta(n,t,1,a)}}),ew(t,1)}};_b=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var r=Jr();Ta(e,t,134217728,r)}ew(t,134217728)}};$E=function(t){if(t.tag===13){var e=Cs(t),r=Di(t,e);if(r!==null){var n=Jr();Ta(r,t,e,n)}ew(t,e)}};UE=function(){return ct};zE=function(t,e){var r=ct;try{return ct=t,e()}finally{ct=r}};cx=function(t,e,r){switch(e){case"input":if(rx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Np(n);if(!a)throw Error(le(90));yE(n),rx(n,a)}}}break;case"textarea":wE(t,r);break;case"select":e=r.value,e!=null&&Ul(t,!!r.multiple,e,!1)}};jE=Yb;AE=Ho;var NP={usingClientEntryPoint:!1,Events:[Vd,El,Np,EE,CE,Yb]},Zc={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SP={bundleType:Zc.bundleType,version:Zc.version,rendererPackageName:Zc.rendererPackageName,rendererConfig:Zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OE(t),t===null?null:t.stateNode},findFiberByHostInstance:Zc.findFiberByHostInstance||_P,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{bp=Yf.inject(SP),Ka=Yf}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NP;Mn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rw(e))throw Error(le(200));return wP(t,e,null,r)};Mn.createRoot=function(t,e){if(!rw(t))throw Error(le(299));var r=!1,n="",a=uj;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Jb(t,1,!1,null,null,r,!1,n,a),t[Oi]=e.current,hd(t.nodeType===8?t.parentNode:t),new tw(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=OE(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return Ho(t)};Mn.hydrate=function(t,e,r){if(!Dp(e))throw Error(le(200));return Pp(null,t,e,!0,r)};Mn.hydrateRoot=function(t,e,r){if(!rw(t))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=uj;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=cj(e,null,t,1,r??null,a,!1,i,s),t[Oi]=e.current,hd(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Op(e)};Mn.render=function(t,e,r){if(!Dp(e))throw Error(le(200));return Pp(null,t,e,!1,r)};Mn.unmountComponentAtNode=function(t){if(!Dp(t))throw Error(le(40));return t._reactRootContainer?(Ho(function(){Pp(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};Mn.unstable_batchedUpdates=Yb;Mn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Dp(r))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Pp(t,e,r,!1,n)};Mn.version="18.3.1-next-f1338f8080-20240426";function dj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dj)}catch(t){console.error(t)}}dj(),dE.exports=Mn;var Rp=dE.exports;const EP=li(Rp);var fj,lk=Rp;fj=lk.createRoot,lk.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_d.apply(this,arguments)}var ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ms||(ms={}));const ck="popstate";function CP(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:s,hash:o}=n.location;return zx("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:S0(a)}return AP(e,r,null,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jP(){return Math.random().toString(36).substr(2,8)}function uk(t,e){return{usr:t.state,key:t.key,idx:e}}function zx(t,e,r,n){return r===void 0&&(r=null),_d({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Tc(e):e,{state:r,key:e&&e.key||n||jP()})}function S0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Tc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function AP(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=ms.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(_d({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=ms.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:o,location:g.location,delta:x})}function h(y,x){o=ms.Push;let v=zx(g.location,y,x);u=d()+1;let b=uk(v,u),w=g.createHref(v);try{s.pushState(b,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(w)}i&&c&&c({action:o,location:g.location,delta:1})}function p(y,x){o=ms.Replace;let v=zx(g.location,y,x);u=d();let b=uk(v,u),w=g.createHref(v);s.replaceState(b,"",w),i&&c&&c({action:o,location:g.location,delta:0})}function m(y){let x=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof y=="string"?y:S0(y);return v=v.replace(/ $/,"%20"),Lt(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return o},get location(){return t(a,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ck,f),c=y,()=>{a.removeEventListener(ck,f),c=null}},createHref(y){return e(a,y)},createURL:m,encodeLocation(y){let x=m(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(y){return s.go(y)}};return g}var dk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dk||(dk={}));function TP(t,e,r){return r===void 0&&(r="/"),IP(t,e,r)}function IP(t,e,r,n){let a=typeof e=="string"?Tc(e):e,i=cc(a.pathname||"/",r);if(i==null)return null;let s=pj(t);OP(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=HP(i);o=UP(s[c],u)}return o}function pj(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Lt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=As([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Lt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pj(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:FP(u,i.index),routesMeta:d})};return t.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of mj(i.path))a(i,s,c)}),e}function mj(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=mj(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function OP(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:$P(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const DP=/^:[\w-]+$/,PP=3,RP=2,MP=1,LP=10,BP=-2,fk=t=>t==="*";function FP(t,e){let r=t.split("/"),n=r.length;return r.some(fk)&&(n+=BP),e&&(n+=RP),r.filter(a=>!fk(a)).reduce((a,i)=>a+(DP.test(i)?PP:i===""?MP:LP),n)}function $P(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function UP(t,e,r){let{routesMeta:n}=t,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Hx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:As([i,f.pathname]),pathnameBase:XP(As([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=As([i,f.pathnameBase]))}return s}function Hx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=zP(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function zP(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),hj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function HP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function WP(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Tc(t):t;return{pathname:r?r.startsWith("/")?r:VP(r,e):e,search:qP(n),hash:YP(a)}}function VP(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function kg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GP(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nw(t,e){let r=GP(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function aw(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Tc(t):(a=_d({},t),Lt(!a.pathname||!a.pathname.includes("?"),kg("?","pathname","search",a)),Lt(!a.pathname||!a.pathname.includes("#"),kg("#","pathname","hash",a)),Lt(!a.search||!a.search.includes("#"),kg("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?e[f]:"/"}let c=WP(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const As=t=>t.join("/").replace(/\/\/+/g,"/"),XP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gj=["post","put","patch","delete"];new Set(gj);const ZP=["get",...gj];new Set(ZP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kd.apply(this,arguments)}const Mp=_.createContext(null),vj=_.createContext(null),Ui=_.createContext(null),Lp=_.createContext(null),ci=_.createContext({outlet:null,matches:[],isDataRoute:!1}),xj=_.createContext(null);function QP(t,e){let{relative:r}=e===void 0?{}:e;Ic()||Lt(!1);let{basename:n,navigator:a}=_.useContext(Ui),{hash:i,pathname:s,search:o}=Bp(t,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:As([n,s])),a.createHref({pathname:c,search:o,hash:i})}function Ic(){return _.useContext(Lp)!=null}function zi(){return Ic()||Lt(!1),_.useContext(Lp).location}function yj(t){_.useContext(Ui).static||_.useLayoutEffect(t)}function Ra(){let{isDataRoute:t}=_.useContext(ci);return t?hR():JP()}function JP(){Ic()||Lt(!1);let t=_.useContext(Mp),{basename:e,future:r,navigator:n}=_.useContext(Ui),{matches:a}=_.useContext(ci),{pathname:i}=zi(),s=JSON.stringify(nw(a,r.v7_relativeSplatPath)),o=_.useRef(!1);return yj(()=>{o.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=aw(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:As([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,i,t])}const eR=_.createContext(null);function tR(t){let e=_.useContext(ci).outlet;return e&&_.createElement(eR.Provider,{value:t},e)}function iw(){let{matches:t}=_.useContext(ci),e=t[t.length-1];return e?e.params:{}}function Bp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=_.useContext(Ui),{matches:a}=_.useContext(ci),{pathname:i}=zi(),s=JSON.stringify(nw(a,n.v7_relativeSplatPath));return _.useMemo(()=>aw(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function rR(t,e){return nR(t,e)}function nR(t,e,r,n){Ic()||Lt(!1);let{navigator:a}=_.useContext(Ui),{matches:i}=_.useContext(ci),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=zi(),d;if(e){var f;let y=typeof e=="string"?Tc(e):e;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Lt(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=TP(t,{pathname:p}),g=lR(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:As([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:As([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&g?_.createElement(Lp.Provider,{value:{location:kd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ms.Pop}},g):g}function aR(){let t=fR(),e=KP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:a},r):null,null)}const iR=_.createElement(aR,null);class sR extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement(ci.Provider,{value:this.props.routeContext},_.createElement(xj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oR(t){let{routeContext:e,match:r,children:n}=t,a=_.useContext(Mp);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(ci.Provider,{value:e},n)}function lR(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Lt(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,y=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||iR,c&&(u<0&&h===0?(pR("route-fallback"),m=!0,y=null):u===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),v=()=>{let b;return p?b=g:m?b=y:f.route.Component?b=_.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,_.createElement(oR,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(sR,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var bj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bj||{}),wj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wj||{});function cR(t){let e=_.useContext(Mp);return e||Lt(!1),e}function uR(t){let e=_.useContext(vj);return e||Lt(!1),e}function dR(t){let e=_.useContext(ci);return e||Lt(!1),e}function _j(t){let e=dR(),r=e.matches[e.matches.length-1];return r.route.id||Lt(!1),r.route.id}function fR(){var t;let e=_.useContext(xj),r=uR(),n=_j();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function hR(){let{router:t}=cR(bj.UseNavigateStable),e=_j(wj.UseNavigateStable),r=_.useRef(!1);return yj(()=>{r.current=!0}),_.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,kd({fromRouteId:e},i)))},[t,e])}const hk={};function pR(t,e,r){hk[t]||(hk[t]=!0)}function mR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gR(t){let{to:e,replace:r,state:n,relative:a}=t;Ic()||Lt(!1);let{future:i,static:s}=_.useContext(Ui),{matches:o}=_.useContext(ci),{pathname:c}=zi(),u=Ra(),d=aw(e,nw(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function vR(t){return tR(t.context)}function dt(t){Lt(!1)}function xR(t){let{basename:e="/",children:r=null,location:n,navigationType:a=ms.Pop,navigator:i,static:s=!1,future:o}=t;Ic()&&Lt(!1);let c=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:s,future:kd({v7_relativeSplatPath:!1},o)}),[c,o,i,s]);typeof n=="string"&&(n=Tc(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,g=_.useMemo(()=>{let y=cc(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:m},navigationType:a}},[c,d,f,h,p,m,a]);return g==null?null:_.createElement(Ui.Provider,{value:u},_.createElement(Lp.Provider,{children:r,value:g}))}function yR(t){let{children:e,location:r}=t;return rR(Wx(e),r)}new Promise(()=>{});function Wx(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(n,a)=>{if(!_.isValidElement(n))return;let i=[...e,a];if(n.type===_.Fragment){r.push.apply(r,Wx(n.props.children,i));return}n.type!==dt&&Lt(!1),!n.props.index||!n.props.children||Lt(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Wx(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E0.apply(this,arguments)}function kj(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function bR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wR(t,e){return t.button===0&&(!e||e==="_self")&&!bR(t)}const _R=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],NR="6";try{window.__reactRouterVersion=NR}catch{}const SR=_.createContext({isTransitioning:!1}),ER="startTransition",pk=Yv[ER];function CR(t){let{basename:e,children:r,future:n,window:a}=t,i=_.useRef();i.current==null&&(i.current=CP({window:a,v5Compat:!0}));let s=i.current,[o,c]=_.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=_.useCallback(f=>{u&&pk?pk(()=>c(f)):c(f)},[c,u]);return _.useLayoutEffect(()=>s.listen(d),[s,d]),_.useEffect(()=>mR(n),[n]),_.createElement(xR,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const jR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=_.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=kj(e,_R),{basename:p}=_.useContext(Ui),m,g=!1;if(typeof u=="string"&&AR.test(u)&&(m=u,jR))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=cc(w.pathname,p);w.origin===b.origin&&S!=null?u=S+w.search+w.hash:g=!0}catch{}let y=QP(u,{relative:a}),x=OR(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function v(b){n&&n(b),b.defaultPrevented||x(b)}return _.createElement("a",E0({},h,{href:m||y,onClick:g||i?n:v,ref:r,target:c}))}),TR=_.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:u,children:d}=e,f=kj(e,kR),h=Bp(c,{relative:f.relative}),p=zi(),m=_.useContext(vj),{navigator:g,basename:y}=_.useContext(Ui),x=m!=null&&DR(h)&&u===!0,v=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(b=b.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&y&&(w=cc(w,y)||w);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=b===v||!s&&b.startsWith(v)&&b.charAt(S)==="/",j=w!=null&&(w===v||!s&&w.startsWith(v)&&w.charAt(v.length)==="/"),I={isActive:E,isPending:j,isTransitioning:x},k=E?n:void 0,T;typeof i=="function"?T=i(I):T=[i,E?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(I):o;return _.createElement(Be,E0({},f,{"aria-current":k,className:T,ref:r,style:L,to:c,viewTransition:u}),typeof d=="function"?d(I):d)});var Vx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Vx||(Vx={}));var mk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mk||(mk={}));function IR(t){let e=_.useContext(Mp);return e||Lt(!1),e}function OR(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=e===void 0?{}:e,c=Ra(),u=zi(),d=Bp(t,{relative:s});return _.useCallback(f=>{if(wR(f,r)){f.preventDefault();let h=n!==void 0?n:S0(u)===S0(d);c(t,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,d,n,a,r,t,i,s,o])}function DR(t,e){e===void 0&&(e={});let r=_.useContext(SR);r==null&&Lt(!1);let{basename:n}=IR(Vx.useViewTransitionState),a=Bp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=cc(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=cc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Hx(a.pathname,s)!=null||Hx(a.pathname,i)!=null}let PR={data:""},RR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||PR,MR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LR=/\/\*[^]*?\*\/|  +/g,gk=/\n+/g,cs=(t,e)=>{let r="",n="",a="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+s+";":n+=i[1]=="f"?cs(s,i):i+"{"+cs(s,i[1]=="k"?"":e)+"}":typeof s=="object"?n+=cs(s,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=cs.p?cs.p(i,s):i+":"+s+";")}return r+(e&&a?e+"{"+a+"}":a)+n},mi={},Nj=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Nj(t[r]);return e}return t},BR=(t,e,r,n,a)=>{let i=Nj(t),s=mi[i]||(mi[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!mi[s]){let c=i!==t?t:(u=>{let d,f,h=[{}];for(;d=MR.exec(u.replace(LR,""));)d[4]?h.shift():d[3]?(f=d[3].replace(gk," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(gk," ").trim();return h[0]})(t);mi[s]=cs(a?{["@keyframes "+s]:c}:c,r?"":"."+s)}let o=r&&mi.g?mi.g:null;return r&&(mi.g=mi[s]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(mi[s],e,n,o),s},FR=(t,e,r)=>t.reduce((n,a,i)=>{let s=e[i];if(s&&s.call){let o=s(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=c?"."+c:o&&typeof o=="object"?o.props?"":cs(o,""):o===!1?"":o}return n+a+(s??"")},"");function Fp(t){let e=this||{},r=t.call?t(e.p):t;return BR(r.unshift?r.raw?FR(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,RR(e.target),e.g,e.o,e.k)}let Sj,Gx,Xx;Fp.bind({g:1});let Ri=Fp.bind({k:1});function $R(t,e,r,n){cs.p=e,Sj=t,Gx=r,Xx=n}function Gs(t,e){let r=this||{};return function(){let n=arguments;function a(i,s){let o=Object.assign({},i),c=o.className||a.className;r.p=Object.assign({theme:Gx&&Gx()},o),r.o=/ *go\d+/.test(c),o.className=Fp.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),Xx&&u[0]&&Xx(o),Sj(u,o)}return a}}var UR=t=>typeof t=="function",C0=(t,e)=>UR(t)?t(e):t,zR=(()=>{let t=0;return()=>(++t).toString()})(),Ej=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),HR=20,Cj=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,HR)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return Cj(t,{type:t.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},zh=[],Eo={toasts:[],pausedAt:void 0},el=t=>{Eo=Cj(Eo,t),zh.forEach(e=>{e(Eo)})},WR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},VR=(t={})=>{let[e,r]=_.useState(Eo),n=_.useRef(Eo);_.useEffect(()=>(n.current!==Eo&&r(Eo),zh.push(r),()=>{let i=zh.indexOf(r);i>-1&&zh.splice(i,1)}),[]);let a=e.toasts.map(i=>{var s,o,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||WR[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:a}},GR=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||zR()}),Xd=t=>(e,r)=>{let n=GR(e,t,r);return el({type:2,toast:n}),n.id},K=(t,e)=>Xd("blank")(t,e);K.error=Xd("error");K.success=Xd("success");K.loading=Xd("loading");K.custom=Xd("custom");K.dismiss=t=>{el({type:3,toastId:t})};K.remove=t=>el({type:4,toastId:t});K.promise=(t,e,r)=>{let n=K.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?C0(e.success,a):void 0;return i?K.success(i,{id:n,...r,...r==null?void 0:r.success}):K.dismiss(n),a}).catch(a=>{let i=e.error?C0(e.error,a):void 0;i?K.error(i,{id:n,...r,...r==null?void 0:r.error}):K.dismiss(n)}),t};var XR=(t,e)=>{el({type:1,toast:{id:t,height:e}})},qR=()=>{el({type:5,time:Date.now()})},Uu=new Map,YR=1e3,KR=(t,e=YR)=>{if(Uu.has(t))return;let r=setTimeout(()=>{Uu.delete(t),el({type:4,toastId:t})},e);Uu.set(t,r)},ZR=t=>{let{toasts:e,pausedAt:r}=VR(t);_.useEffect(()=>{if(r)return;let i=Date.now(),s=e.map(o=>{if(o.duration===1/0)return;let c=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(c<0){o.visible&&K.dismiss(o.id);return}return setTimeout(()=>K.dismiss(o.id),c)});return()=>{s.forEach(o=>o&&clearTimeout(o))}},[e,r]);let n=_.useCallback(()=>{r&&el({type:6,time:Date.now()})},[r]),a=_.useCallback((i,s)=>{let{reverseOrder:o=!1,gutter:c=8,defaultPosition:u}=s||{},d=e.filter(p=>(p.position||u)===(i.position||u)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,m)=>m<f&&p.visible).length;return d.filter(p=>p.visible).slice(...o?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+c,0)},[e]);return _.useEffect(()=>{e.forEach(i=>{if(i.dismissed)KR(i.id,i.removeDelay);else{let s=Uu.get(i.id);s&&(clearTimeout(s),Uu.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:XR,startPause:qR,endPause:n,calculateOffset:a}}},QR=Ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,JR=Ri`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eM=Ri`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,tM=Gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${JR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${eM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rM=Ri`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,nM=Gs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${rM} 1s linear infinite;
`,aM=Ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,iM=Ri`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,sM=Gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${iM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,oM=Gs("div")`
  position: absolute;
`,lM=Gs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cM=Ri`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uM=Gs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dM=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?_.createElement(uM,null,e):e:r==="blank"?null:_.createElement(lM,null,_.createElement(nM,{...n}),r!=="loading"&&_.createElement(oM,null,r==="error"?_.createElement(tM,{...n}):_.createElement(sM,{...n})))},fM=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hM=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,pM="0%{opacity:0;} 100%{opacity:1;}",mM="0%{opacity:1;} 100%{opacity:0;}",gM=Gs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vM=Gs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,xM=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=Ej()?[pM,mM]:[fM(r),hM(r)];return{animation:e?`${Ri(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ri(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},yM=_.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?xM(t.position||e||"top-center",t.visible):{opacity:0},i=_.createElement(dM,{toast:t}),s=_.createElement(vM,{...t.ariaProps},C0(t.message,t));return _.createElement(gM,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:i,message:s}):_.createElement(_.Fragment,null,i,s))});$R(_.createElement);var bM=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let i=_.useCallback(s=>{if(s){let o=()=>{let c=s.getBoundingClientRect().height;n(t,c)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return _.createElement("div",{ref:i,className:e,style:r},a)},wM=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ej()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},_M=Fp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Kf=16,kM=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:s})=>{let{toasts:o,handlers:c}=ZR(r);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Kf,left:Kf,right:Kf,bottom:Kf,pointerEvents:"none",...i},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},o.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),h=wM(d,f);return _.createElement(bM,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?_M:"",style:h},u.type==="custom"?C0(u.message,u):a?a(u):_.createElement(yM,{toast:u,position:d}))}))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(t,e)=>{const r=_.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,...u},d)=>_.createElement("svg",{ref:d,...NM,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${SM(t)}`,o].join(" "),...u},[...e.map(([f,h])=>_.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=de("AArrowDown",[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 7v9",key:"pknjwm"}],["path",{d:"m14 12 4 4 4-4",key:"buelq4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=de("AArrowUp",[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 16V7",key:"ty0viw"}],["path",{d:"m14 11 4-4 4 4",key:"1pu57t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=de("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=de("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=de("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=de("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=de("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=de("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=de("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=de("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=de("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=de("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=de("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=de("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=de("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=de("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=de("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=de("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=de("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=de("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=de("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=de("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=de("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=de("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=de("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=de("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=de("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=de("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=de("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=de("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=de("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=de("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=de("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=de("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=de("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=de("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=de("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=de("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=de("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),i7="modulepreload",s7=function(t){return"/"+t},yk={},Oc=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=s7(c),c in yk)return;yk[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":i7,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},o7=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oc(async()=>{const{default:n}=await Promise.resolve().then(()=>Dc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class lw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class l7 extends lw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class c7 extends lw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class u7 extends lw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zx||(Zx={}));var d7=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class f7{constructor(e,{headers:r={},customFetch:n,region:a=Zx.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=o7(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return d7(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(o["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(o["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(m=>{throw new l7(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new c7(d);if(!d.ok)throw new u7(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var pn={},cw={},Hp={},ef={},Wp={},Vp={},h7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fc=h7();const p7=fc.fetch,Bj=fc.fetch.bind(fc),Fj=fc.Headers,m7=fc.Request,g7=fc.Response,Dc=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fj,Request:m7,Response:g7,default:Bj,fetch:p7},Symbol.toStringTag,{value:"Module"})),v7=J4(Dc);var Gp={};Object.defineProperty(Gp,"__esModule",{value:!0});let x7=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Gp.default=x7;var $j=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vp,"__esModule",{value:!0});const y7=$j(v7),b7=$j(Gp);let w7=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=y7.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new b7.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,c;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};Vp.default=w7;var _7=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wp,"__esModule",{value:!0});const k7=_7(Vp);let N7=class extends k7.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Wp.default=N7;var S7=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ef,"__esModule",{value:!0});const E7=S7(Wp);let C7=class extends E7.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};ef.default=C7;var j7=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hp,"__esModule",{value:!0});const Qc=j7(ef);let A7=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new Qc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const s=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(s.length>0){const o=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Qc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Qc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Qc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Hp.default=A7;var Xp={},qp={};Object.defineProperty(qp,"__esModule",{value:!0});qp.version=void 0;qp.version="0.0.0-automated";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.DEFAULT_HEADERS=void 0;const T7=qp;Xp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${T7.version}`};var Uj=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cw,"__esModule",{value:!0});const I7=Uj(Hp),O7=Uj(ef),D7=Xp;let P7=class zj{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},D7.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new I7.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new zj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let c;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new O7.default({method:s,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};cw.default=P7;var Pc=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pn,"__esModule",{value:!0});pn.PostgrestError=pn.PostgrestBuilder=pn.PostgrestTransformBuilder=pn.PostgrestFilterBuilder=pn.PostgrestQueryBuilder=pn.PostgrestClient=void 0;const Hj=Pc(cw);pn.PostgrestClient=Hj.default;const Wj=Pc(Hp);pn.PostgrestQueryBuilder=Wj.default;const Vj=Pc(ef);pn.PostgrestFilterBuilder=Vj.default;const Gj=Pc(Wp);pn.PostgrestTransformBuilder=Gj.default;const Xj=Pc(Vp);pn.PostgrestBuilder=Xj.default;const qj=Pc(Gp);pn.PostgrestError=qj.default;var R7=pn.default={PostgrestClient:Hj.default,PostgrestQueryBuilder:Wj.default,PostgrestFilterBuilder:Vj.default,PostgrestTransformBuilder:Gj.default,PostgrestBuilder:Xj.default,PostgrestError:qj.default};const{PostgrestClient:M7,PostgrestQueryBuilder:ice,PostgrestFilterBuilder:sce,PostgrestTransformBuilder:oce,PostgrestBuilder:lce,PostgrestError:cce}=R7;let Qx;typeof window>"u"?Qx=require("ws"):Qx=window.WebSocket;const L7="2.11.10",B7={"X-Client-Info":`realtime-js/${L7}`},F7="1.0.0",Yj=1e4,$7=1e3;var ql;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ql||(ql={}));var Xr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xr||(Xr={}));var _a;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_a||(_a={}));var Jx;(function(t){t.websocket="websocket"})(Jx||(Jx={}));var xo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xo||(xo={}));class U7{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+a));s=s+a;const c=n.decode(e.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class Kj{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(gt||(gt={}));const bk=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=z7(s,t,e,a),i),{})},z7=(t,e,r,n)=>{const a=e.find(o=>o.name===t),i=a==null?void 0:a.type,s=r[t];return i&&!n.includes(i)?Zj(i,s):e1(s)},Zj=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return G7(e,r)}switch(t){case gt.bool:return H7(e);case gt.float4:case gt.float8:case gt.int2:case gt.int4:case gt.int8:case gt.numeric:case gt.oid:return W7(e);case gt.json:case gt.jsonb:return V7(e);case gt.timestamp:return X7(e);case gt.abstime:case gt.date:case gt.daterange:case gt.int4range:case gt.int8range:case gt.money:case gt.reltime:case gt.text:case gt.time:case gt.timestamptz:case gt.timetz:case gt.tsrange:case gt.tstzrange:return e1(e);default:return e1(e)}},e1=t=>t,H7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},W7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},V7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},G7=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>Zj(e,o))}return t},X7=t=>typeof t=="string"?t.replace(" ","T"):t,Qj=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Sg{constructor(e,r,n={},a=Yj){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wk;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wk||(wk={}));class Vu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vu.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Vu.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vu.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),m=d.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(c[u]=g)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}n(o,d,c)}),this.map(s,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,a(o,u,c),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _k;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_k||(_k={}));var kk;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(kk||(kk={}));var yi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yi||(yi={}));class uw{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Xr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sg(this,_a.join,this.params,this.timeout),this.rejoinTimer=new Kj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Xr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_a.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Vu(this),this.broadcastEndpointURL=Qj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(yi.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(yi.CLOSED));const c={},u={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(yi.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const y=h[g],{filter:{event:x,schema:v,table:b,filter:w}}=y,S=d&&d[g];if(S&&S.event===x&&S.schema===v&&S.table===b&&S.filter===w)m.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=Xr.errored,e==null||e(yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(yi.SUBSCRIBED);return}}).receive("error",d=>{this.state=Xr.errored,e==null||e(yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_a.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const a=new Sg(this,_a.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Sg(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=_a;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,g,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var m,g,y,x,v,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const w=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((g=r.ids)===null||g===void 0?void 0:g.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(v=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return w==="*"||w===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:y,commit_timestamp:x,type:v,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Xr.closed}_isJoined(){return this.state===Xr.joined}_isJoining(){return this.state===Xr.joining}_isLeaving(){return this.state===Xr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&uw.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_a.close,{},e)}_onError(e){this._on(_a.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=bk(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=bk(e.columns,e.old_record)),r}}const Nk=()=>{},q7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y7{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=B7,this.params={},this.timeout=Yj,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nk,this.ref=0,this.logger=Nk,this.conn=null,this.sendBuffer=[],this.serializer=new U7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Oc(async()=>{const{default:c}=await Promise.resolve().then(()=>Dc);return{default:c}},void 0).then(({default:c})=>c(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${Jx.websocket}`,this.httpEndpoint=Qj(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Kj(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Qx),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new K7(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:F7}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ql.connecting:return xo.Connecting;case ql.open:return xo.Open;case ql.closing:return xo.Closing;default:return xo.Closed}}isConnected(){return this.connectionState()===xo.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new uw(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(_a.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close($7,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(_a.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([q7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class K7{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ql.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class dw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function cr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Z7 extends dw{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class t1 extends dw{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Q7=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const Jj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oc(async()=>{const{default:n}=await Promise.resolve().then(()=>Dc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},J7=()=>Q7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oc(()=>Promise.resolve().then(()=>Dc),void 0)).Response:Response}),r1=t=>{if(Array.isArray(t))return t.map(r=>r1(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=r1(n)}),e};var tl=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const Eg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),e9=(t,e,r)=>tl(void 0,void 0,void 0,function*(){const n=yield J7();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new Z7(Eg(a),t.status||500))}).catch(a=>{e(new t1(Eg(a),a))}):e(new t1(Eg(t),t))}),t9=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function tf(t,e,r,n,a,i){return tl(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,t9(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>e9(c,o,n))})})}function T0(t,e,r,n){return tl(this,void 0,void 0,function*(){return tf(t,"GET",e,r,n)})}function ns(t,e,r,n,a){return tl(this,void 0,void 0,function*(){return tf(t,"POST",e,n,a,r)})}function r9(t,e,r,n,a){return tl(this,void 0,void 0,function*(){return tf(t,"PUT",e,n,a,r)})}function n9(t,e,r,n){return tl(this,void 0,void 0,function*(){return tf(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function e6(t,e,r,n,a){return tl(this,void 0,void 0,function*(){return tf(t,"DELETE",e,n,a,r)})}var on=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const a9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i9{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Jj(a)}uploadOrUpdate(e,r,n,a){return on(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Sk),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}upload(e,r,n){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return on(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Sk.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(cr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return on(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ns(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new dw("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}update(e,r,n){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return on(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}copy(e,r,n){return on(this,void 0,void 0,function*(){try{return{data:{path:(yield ns(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return on(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield ns(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return on(this,void 0,void 0,function*(){try{const a=yield ns(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}download(e,r){return on(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield T0(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(cr(o))return{data:null,error:o};throw o}})}info(e){return on(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield T0(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:r1(n),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}exists(e){return on(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield n9(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(cr(n)&&n instanceof t1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return on(this,void 0,void 0,function*(){try{return{data:yield e6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}list(e,r,n){return on(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},a9),r),{prefix:e||""});return{data:yield ns(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const s9="2.7.1",o9={"X-Client-Info":`storage-js/${s9}`};var ul=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class l9{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},o9),r),this.fetch=Jj(n)}listBuckets(){return ul(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(cr(e))return{data:null,error:e};throw e}})}getBucket(e){return ul(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ul(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ul(this,void 0,void 0,function*(){try{return{data:yield r9(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ul(this,void 0,void 0,function*(){try{return{data:yield ns(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ul(this,void 0,void 0,function*(){try{return{data:yield e6(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}}class c9 extends l9{constructor(e,r={},n){super(e,r,n)}from(e){return new i9(this.url,this.headers,e,this.fetch)}}const u9="2.50.0";let ku="";typeof Deno<"u"?ku="deno":typeof document<"u"?ku="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ku="react-native":ku="node";const d9={"X-Client-Info":`supabase-js-${ku}/${u9}`},f9={headers:d9},h9={schema:"public"},p9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},m9={};var g9=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const v9=t=>{let e;return t?e=t:typeof fetch>"u"?e=Bj:e=fetch,(...r)=>e(...r)},x9=()=>typeof Headers>"u"?Fj:Headers,y9=(t,e,r)=>{const n=v9(r),a=x9();return(i,s)=>g9(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var b9=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};function w9(t){return t.endsWith("/")?t:t+"/"}function _9(t,e){var r,n;const{db:a,auth:i,realtime:s,global:o}=t,{db:c,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>b9(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const t6="2.70.0",yl=30*1e3,n1=3,Cg=n1*yl,k9="http://localhost:9999",N9="supabase.auth.token",S9={"X-Client-Info":`gotrue-js/${t6}`},a1="X-Supabase-Api-Version",r6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C9=6e5;class fw extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class j9 extends fw{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function A9(t){return Pe(t)&&t.name==="AuthApiError"}class n6 extends fw{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Xs extends fw{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Ji extends Xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T9(t){return Pe(t)&&t.name==="AuthSessionMissingError"}class Zf extends Xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qf extends Xs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jf extends Xs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I9(t){return Pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ek extends Xs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class i1 extends Xs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function jg(t){return Pe(t)&&t.name==="AuthRetryableFetchError"}class Ck extends Xs{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Gu extends Xs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const I0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jk=` 	
\r=`.split(""),O9=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jk.length;e+=1)t[jk[e].charCodeAt(0)]=-2;for(let e=0;e<I0.length;e+=1)t[I0[e].charCodeAt(0)]=e;return t})();function Ak(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(I0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(I0[n]),e.queuedBits-=6}}function a6(t,e,r){const n=O9[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tk(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{R9(s,n,r)};for(let s=0;s<t.length;s+=1)a6(t.charCodeAt(s),a,i);return e.join("")}function D9(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function P9(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}D9(n,e)}}function R9(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function M9(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)a6(t.charCodeAt(a),r,n);return new Uint8Array(e)}function L9(t){const e=[];return P9(t,r=>e.push(r)),new Uint8Array(e)}function B9(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>Ak(a,r,n)),Ak(null,r,n),e.join("")}function F9(t){return Math.round(Date.now()/1e3)+t}function $9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xa=()=>typeof window<"u"&&typeof document<"u",Js={tested:!1,writable:!1},Xu=()=>{if(!xa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Js.tested)return Js.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Js.tested=!0,Js.writable=!0}catch{Js.tested=!0,Js.writable=!1}return Js.writable};function U9(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const i6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Oc(async()=>{const{default:n}=await Promise.resolve().then(()=>Dc);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},z9=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",s6=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},eh=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},th=async(t,e)=>{await t.removeItem(e)};class Yp{constructor(){this.promise=new Yp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Yp.promiseConstructor=Promise;function Ag(t){const e=t.split(".");if(e.length!==3)throw new Gu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!E9.test(e[n]))throw new Gu("JWT not in base64url format");return{header:JSON.parse(Tk(e[0])),payload:JSON.parse(Tk(e[1])),signature:M9(e[2]),raw:{header:e[0],payload:e[1]}}}async function H9(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function W9(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function V9(t){return("0"+t.toString(16)).substr(-2)}function G9(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,V9).join("")}async function X9(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function q9(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await X9(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dl(t,e,r=!1){const n=G9();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await s6(t,`${e}-code-verifier`,a);const i=await q9(n);return[i,n===i?"plain":"s256"]}const Y9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function K9(t){const e=t.headers.get(a1);if(!e||!e.match(Y9))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Z9(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Q9(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fl(t){if(!J9.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var eL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const co=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tL=[502,503,504];async function Ik(t){var e;if(!z9(t))throw new i1(co(t),0);if(tL.includes(t.status))throw new i1(co(t),t.status);let r;try{r=await t.json()}catch(i){throw new n6(co(i),i)}let n;const a=K9(t);if(a&&a.getTime()>=r6["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ck(co(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ji}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Ck(co(r),t.status,r.weak_password.reasons);throw new j9(co(r),t.status||500,n)}const rL=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ue(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[a1]||(i[a1]=r6["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await nL(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function nL(t,e,r,n,a,i){const s=rL(e,n,a,i);let o;try{o=await t(r,Object.assign({},s))}catch(c){throw console.error(c),new i1(co(c),0)}if(o.ok||await Ik(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Ik(c)}}function vi(t){var e;let r=null;oL(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=F9(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Ok(t){const e=vi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function us(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aL(t){return{data:t,error:null}}function iL(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=eL(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function sL(t){return t}function oL(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tg=["global","local","others"];var lL=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class cL{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=i6(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Tg[0]){if(Tg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tg.join(", ")}`);try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:us})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=lL(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:iL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:us})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:sL});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){fl(e);try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:us})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){fl(e);try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:us})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){fl(e);try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:us})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){fl(e.userId);try{const{data:r,error:n}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){fl(e.userId),fl(e.id);try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}const uL={getItem:t=>Xu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Xu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Xu()&&globalThis.localStorage.removeItem(t)}};function Dk(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function dL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hl={debug:!!(globalThis&&Xu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class o6 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fL extends o6{}async function hL(t,e,r){hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),hl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new fL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(hl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}dL();const pL={url:k9,storageKey:N9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pk(t,e,r){return await r()}class Cd{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cd.nextInstanceID,Cd.nextInstanceID+=1,this.instanceID>0&&xa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},pL),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new cL({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=i6(a.fetch),this.lock=a.lock||Pk,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:xa()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hL:this.lock=Pk,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Xu()?this.storage=uL:(this.memoryStorage={},this.storage=Dk(this.memoryStorage)):(this.memoryStorage={},this.storage=Dk(this.memoryStorage)),xa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${t6}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=U9(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xa()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),I9(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?{error:r}:{error:new n6("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:vi}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await dl(this.storage,this.storageKey)),i=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:vi})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:vi})}else throw new Qf("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:o}=e;r=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ok})}else if("phone"in e){const{phone:i,password:s,options:o}=e;r=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ok})}else throw new Qf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Zf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,s,o,c,u,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:y,wallet:x,statement:v,options:b}=e;let w;if(xa())if(typeof x=="object")w=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))w=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const E=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)m=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await w.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:y,error:x}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:B9(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:vi});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Zf}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(Pe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const r=await eh(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:vi});if(await th(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Pe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,o=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vi}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await dl(this.storage,this.storageKey));const{error:f}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Qf("You must provide either an email or phone number.")}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:vi});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await dl(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:aL})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ji;const{error:a}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await Ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:o}=await Ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new Qf("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await eh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Cg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:us}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ji}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:us})})}catch(r){if(Pe(r))return T9(r)&&(await this._removeSession(),await th(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ji;const s=a.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await dl(this.storage,this.storageKey));const{data:u,error:d}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:us});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ji;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=Ag(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Pe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ji;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!xa())throw new Jf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ek("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ek("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!s||!u)throw new Jf("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=yl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await eh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(A9(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await th(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=$9(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await dl(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return xa()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Pe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await W9(async a=>(a>0&&await H9(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vi})),(a,i)=>{const s=200*Math.pow(2,a);return i&&jg(i)&&Date.now()+s-n<yl})}catch(n){if(this._debug(r,"error",n),Pe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await eh(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Cg;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Cg}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),jg(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Yp;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Ji;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Pe(i)){const s={session:null,error:i};return jg(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await s6(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await th(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/yl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${yl}ms, refresh threshold is ${n1} ticks`),a<=n1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof o6)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await dl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Ag(a.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n||(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+C9>Date.now()))return n;const{data:a,error:i}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new Gu("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(s=>s.kid===e),!n)throw new Gu("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:c}}=Ag(n);if(Z9(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const u=Q9(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,L9(`${o}.${c}`)))throw new Gu("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}Cd.nextInstanceID=0;const mL=Cd;class gL extends mL{constructor(e){super(e)}}var vL=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class xL{constructor(e,r,n){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=w9(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:h9,realtime:m9,auth:Object.assign(Object.assign({},p9),{storageKey:u}),global:f9},f=_9(n??{},d);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=y9(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new M7(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new f7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new c9(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return vL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gL({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Y7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kt=(t,e,r)=>new xL(t,e,r),yL="https://jfvinriqydjtwsmayxix.supabase.co",bL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8",ue=Kt(yL,bL),l6=_.createContext(void 0),wL=({children:t})=>{const[e,r]=_.useState(()=>{const a=localStorage.getItem("theme");return a?a||"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});_.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const n=()=>{r(a=>a==="light"?"dark":"light")};return l.jsx(l6.Provider,{value:{theme:e,toggleTheme:n},children:t})},_L=()=>{const t=_.useContext(l6);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},c6=({className:t="",inverted:e=!1})=>{const r=e?"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_white_science_hub%20no_title.png":"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_gray_science_hub%20no_title.png";return l.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[l.jsx("img",{src:r,alt:"ScienceHub Logo",className:"h-8 w-auto"}),l.jsx("span",{className:`font-heading font-bold text-xl ${e?"text-white":"text-dark-900 dark:text-white"}`,children:"ScienceHub"})]})},Rc=({isOpen:t,onClose:e,title:r,children:n,size:a="md"})=>{if(!t)return null;const i={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:e}),l.jsxs("div",{className:`relative w-full ${i[a]} transform overflow-hidden rounded-lg bg-white dark:bg-dark-800 p-6 text-left shadow-xl transition-all`,children:[r&&l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium",children:r}),l.jsx("button",{onClick:e,className:"rounded-full p-1 hover:bg-gray-100 dark:hover:bg-dark-700",children:l.jsx(Bt,{className:"h-5 w-5"})})]}),n]})]})})},hw=({isOpen:t,onClose:e})=>{const[r,n]=_.useState(""),[a,i]=_.useState(""),[s,o]=_.useState(""),[c,u]=_.useState(!1),[d,f]=_.useState(!1),[h,p]=_.useState(null),[m,g]=_.useState(!1),y=async v=>{v.preventDefault(),u(!0),p(null);try{if(m){const{error:b}=await ue.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/reset-password`});if(b)throw b;K.success("       "),g(!1)}else if(d){if(!s.trim()){p("   "),u(!1);return}const{error:b}=await ue.auth.signUp({email:r,password:a,options:{data:{name:s},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(b)throw b;K.success(" !    .")}else{const{error:b}=await ue.auth.signInWithPassword({email:r,password:a});if(b)throw b;K.success(" "),e()}}catch(b){console.error("Auth error:",b),p(b.message||(d?" ":" "))}finally{u(!1)}},x=()=>{n(""),i(""),o(""),p(null),g(!1)};return l.jsxs(Rc,{isOpen:t,onClose:()=>{e(),x()},title:m?" ":d?"":"  ",size:"md",children:[h&&l.jsxs("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg text-sm flex items-start",children:[l.jsx(Nd,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),l.jsx("span",{children:h})]}),l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[!m&&d&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"name",className:"block font-medium mb-2",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx(Cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",id:"name",value:s,onChange:v=>o(v.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 dark:bg-dark-800",required:d})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",className:"block font-medium mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"email",id:"email",value:r,onChange:v=>n(v.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 dark:bg-dark-800",required:!0})]})]}),!m&&l.jsxs("div",{className:"form-group",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{htmlFor:"password",className:"block font-medium",children:""}),!d&&l.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:" ?"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Yx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"password",id:"password",value:a,onChange:v=>i(v.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 dark:bg-dark-800",required:!0})]})]}),l.jsx("button",{type:"submit",disabled:c,className:"w-full btn-primary py-2",children:c?m?"...":d?"...":"...":m?" ":d?"":""}),m?l.jsx("button",{type:"button",onClick:()=>g(!1),className:"w-full text-center text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"  "}):l.jsx("button",{type:"button",onClick:()=>{f(!d),p(null)},className:"w-full text-center text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:d?"  ? ":" "})]})]})},kL={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24"},NL={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},Rk=({avatarUrl:t,name:e,size:r="md",className:n="",showFallback:a=!0})=>{const i=kL[r],s=NL[r];return l.jsx("div",{className:`${i} rounded-full overflow-hidden bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center flex-shrink-0 ${n}`,children:t?l.jsx("img",{src:t,alt:e||"User avatar",className:"w-full h-full object-cover",onError:o=>{const c=o.target;c.style.display="none"}}):a?l.jsx(Cn,{className:`${s} text-primary-600 dark:text-primary-400`}):null})},SL=({user:t,onLogout:e})=>{var i;const[r,n]=_.useState(!1),a=_.useRef(null);return _.useEffect(()=>{const s=o=>{a.current&&!a.current.contains(o.target)&&n(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]),l.jsxs("div",{className:"relative",ref:a,children:[l.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:[l.jsx(Rk,{avatarUrl:t.avatar,name:t.name||t.email,size:"sm"}),l.jsx(Ed,{className:`h-4 w-4 transition-transform ${r?"rotate-180":""}`})]}),r&&l.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-dark-800 rounded-lg shadow-lg py-2 z-50 border border-gray-200 dark:border-dark-700",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-dark-700",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Rk,{avatarUrl:t.avatar,name:t.name||t.email,size:"md"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:t.name||((i=t.email)==null?void 0:i.split("@")[0])}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:t.email}),t.role&&l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[": ",t.role]})]})]})}),l.jsxs(Be,{to:"/profile",className:"block w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",onClick:()=>n(!1),children:[l.jsx(Cn,{className:"h-4 w-4 inline mr-2"})," "]}),t.role==="Admin"&&l.jsxs(Be,{to:"/admin",className:"block w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",onClick:()=>n(!1),children:[l.jsx(Wu,{className:"h-4 w-4 inline mr-2"})," "]}),l.jsxs("button",{onClick:()=>{e(),n(!1)},className:"block w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors text-red-600 dark:text-red-400",children:[l.jsx(Pj,{className:"h-4 w-4 inline mr-2"}),""]})]})]})},EL=()=>{const[t,e]=_.useState(!1),[r,n]=_.useState(!1),[a,i]=_.useState(null),[s,o]=_.useState("standard"),{theme:c,toggleTheme:u}=_L(),d=zi(),[f,h]=_.useState([]),p=_.useRef(null);_.useEffect(()=>{y(),x(),m();const{data:E}=ue.auth.onAuthStateChange((I,k)=>{I==="SIGNED_IN"&&k?g(k.user.id):I==="SIGNED_OUT"&&i(null)}),j=I=>{p.current&&!p.current.contains(I.target)&&e(!1)};return document.addEventListener("mousedown",j),()=>{E.subscription.unsubscribe(),document.removeEventListener("mousedown",j)}},[]);const m=async()=>{try{const{data:{session:E}}=await ue.auth.getSession();E&&g(E.user.id)}catch(E){console.error("Error checking user session:",E)}},g=async E=>{var j,I;try{const{data:k,error:T}=await ue.from("profiles").select("*").eq("id",E).single();if(T)throw T;const{data:{session:L}}=await ue.auth.getSession();i({id:E,email:(L==null?void 0:L.user.email)||"",name:(k==null?void 0:k.name)||((j=L==null?void 0:L.user.user_metadata)==null?void 0:j.name),role:k==null?void 0:k.role,avatar:k==null?void 0:k.avatar})}catch(k){console.error("Error fetching user profile:",k);const{data:{session:T}}=await ue.auth.getSession();T&&i({id:T.user.id,email:T.user.email||"",name:(I=T.user.user_metadata)==null?void 0:I.name})}},y=async()=>{try{const{data:E,error:j}=await ue.from("site_settings").select("navigation_items").single();if(j)throw j;E!=null&&E.navigation_items&&h(E.navigation_items)}catch(E){console.error("Error fetching navigation items:",E)}},x=async()=>{var E;try{const{data:j,error:I}=await ue.from("site_settings").select("topbar_settings").single();if(I)throw I;(E=j==null?void 0:j.topbar_settings)!=null&&E.height&&o(j.topbar_settings.height)}catch(j){console.error("Error fetching topbar settings:",j)}},v=async()=>{try{await ue.auth.signOut()}catch(E){console.error("Error signing out:",E)}},b=f.filter(E=>E.visible),w=`topbar-${s}`,S=()=>{switch(s){case"compact":return"top-12";case"standard":return"top-14";case"large":return"top-20";default:return"top-16"}};return l.jsxs("header",{className:`topbar ${w}`,children:[l.jsxs("div",{className:"container flex items-center justify-between",children:[l.jsx(Be,{to:"/",className:"flex items-center",onClick:()=>e(!1),children:l.jsx(c6,{className:"h-10 w-auto",inverted:c==="dark"})}),l.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-8",children:b.map(E=>l.jsx(Be,{to:E.path,className:`font-medium relative py-4 ${d.pathname===E.path?'text-primary dark:text-primary-400 after:content-[""] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-primary-600 dark:after:bg-primary-400':"hover:text-primary dark:hover:text-primary-400"}`,children:E.label},E.id))}),l.jsxs("div",{className:"flex md:flex-none items-center gap-4",children:[l.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-dark-100 dark:hover:bg-dark-800","aria-label":c==="dark"?"Switch to light mode":"Switch to dark mode",children:c==="dark"?l.jsx(r7,{className:"h-5 w-5"}):l.jsx(qM,{className:"h-5 w-5"})}),a?l.jsx(SL,{user:a,onLogout:v}):l.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 p-2 text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-md",children:[l.jsx(GM,{className:"h-5 w-5"}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsx("button",{onClick:()=>e(!t),className:"p-2 md:hidden rounded-md text-dark-900 dark:text-white hover:bg-dark-100 dark:hover:bg-dark-800","aria-expanded":t,"aria-label":"Toggle menu",children:t?l.jsx(Bt,{className:"h-6 w-6"}):l.jsx(Kx,{className:"h-6 w-6"})})]}),t&&l.jsx("div",{ref:p,className:`mobile-menu md:hidden absolute ${S()} left-0 right-0 bg-white dark:bg-dark-900 shadow-lg z-50 animate-fade-in`,children:l.jsxs("nav",{className:"container py-5 flex flex-col space-y-4",children:[b.map(E=>l.jsx(Be,{to:E.path,className:`py-2 font-medium ${d.pathname===E.path?"text-primary-600 dark:text-primary-400":"hover:text-primary-600 dark:hover:text-primary-400"}`,onClick:()=>e(!1),children:E.label},E.id)),!a&&l.jsx("button",{onClick:()=>{n(!0),e(!1)},className:"py-2 font-medium text-left text-primary-600 dark:text-primary-400",children:" / "}),a&&l.jsxs(l.Fragment,{children:[l.jsx(Be,{to:"/profile",className:"py-2 font-medium hover:text-primary-600 dark:hover:text-primary-400",onClick:()=>e(!1),children:" "}),a.role==="Admin"&&l.jsx(Be,{to:"/admin",className:"py-2 font-medium hover:text-primary-600 dark:hover:text-primary-400",onClick:()=>e(!1),children:" "}),l.jsx("button",{onClick:()=>{v(),e(!1)},className:"py-2 font-medium text-left text-red-600 dark:text-red-400",children:""})]})]})})]}),l.jsx(hw,{isOpen:r,onClose:()=>n(!1)})]})};function CL(){const[t,e]=_.useState({email:"",phone:"",address:"",workingHours:"",socialLinks:{telegram:"",instagram:"",youtube:""}}),[r,n]=_.useState([]);_.useEffect(()=>{(async()=>{try{const{data:s,error:o}=await ue.from("site_settings").select("footer_settings, navigation_items").single();if(o&&o.code!=="PGRST116"){console.error("Error fetching footer settings:",o);return}if(s&&(s.footer_settings&&e({...t,...s.footer_settings}),s.navigation_items)){const c=s.navigation_items.filter(u=>u.visible).sort((u,d)=>(u.order||0)-(d.order||0));n(c)}}catch(s){console.error("Error fetching footer data:",s)}})()},[]);const a=i=>({telegram:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/tg-logo-100x100.png",instagram:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/ist-logo-100x100.png",youtube:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/yt_100x100.png"})[i];return l.jsx("footer",{className:"bg-dark-900 border-t border-dark-700",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{children:[l.jsx(c6,{className:"h-10 w-auto mb-4",inverted:!0}),l.jsx("p",{className:"text-dark-300 mb-6 leading-relaxed",children:"         , , , , .  ,   ,   ."}),Object.entries(t.socialLinks).some(([i,s])=>s)&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"  "}),l.jsx("div",{className:"flex gap-4",children:Object.entries(t.socialLinks).map(([i,s])=>{if(!s)return null;const o=a(i);return o?l.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform duration-200",title:i.charAt(0).toUpperCase()+i.slice(1),children:l.jsx("img",{src:o,alt:i,className:"w-8 h-8 object-contain"})},i):null})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:""}),l.jsx("ul",{className:"space-y-2",children:r.map(i=>l.jsx("li",{children:l.jsx(Be,{to:i.path,className:"text-dark-300 hover:text-white transition-colors duration-200",children:i.label})},i.id))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:""}),l.jsxs("ul",{className:"space-y-3",children:[t.email&&l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(TM,{className:"h-5 w-5 mt-0.5 text-primary-400 flex-shrink-0"}),l.jsx("a",{href:`mailto:${t.email}`,className:"text-dark-300 hover:text-white transition-colors duration-200",children:t.email})]}),t.phone&&l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(A0,{className:"h-5 w-5 mt-0.5 text-primary-400 flex-shrink-0"}),l.jsx("a",{href:`tel:${t.phone}`,className:"text-dark-300 hover:text-white transition-colors duration-200",children:t.phone})]}),t.address&&l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(vr,{className:"h-5 w-5 mt-0.5 text-primary-400 flex-shrink-0"}),l.jsx("span",{className:"text-dark-300",children:t.address})]}),t.workingHours&&l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx(XM,{className:"h-5 w-5 mt-0.5 text-primary-400 flex-shrink-0"}),l.jsx("span",{className:"text-dark-300",children:t.workingHours})]})]})]})]}),l.jsx("div",{className:"mt-8 pt-8 border-t border-dark-700",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("p",{className:"text-dark-400 text-sm",children:[" ",new Date().getFullYear()," ScienceHub.   ."]}),l.jsx("p",{className:"text-dark-400 text-sm mt-2 md:mt-0",children:"     "})]})})]})})}const Ot=({children:t})=>l.jsxs("div",{className:"flex flex-col min-h-screen",children:[l.jsx(EL,{}),l.jsx("main",{className:"flex-grow",children:t}),l.jsx(CL,{})]}),zt=t=>t?t.startsWith("http")?t:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${t}`:"",jL=async(t,e={})=>{try{const r=(await Oc(async()=>{const{default:s}=await import("./browser-image-compression-CBVwGt6Q.js");return{default:s}},[])).default,a={...{maxWidthOrHeight:5e3,maxSizeMB:5,useWebWorker:!0,fileType:"image/jpeg"},...e};return await r(t,a)}catch(r){return console.error("Error compressing image:",r),t}},AL=(t,e="")=>{const r=Date.now(),n=Math.random().toString(36).substring(2,8),a=t.name.split(".").pop()||"jpg";return`${e}${r}_${n}.${a}`},Jc={style:"centered",centered:{title:"ScienceHub",subtitle:"   ",logoLight:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_science_hub%20no_title.png",logoDark:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_white_science_hub%20no_title.png",logoSize:150},slideshow:{slides:[],settings:{autoplaySpeed:5e3,transition:"fade"}}},TL=({height:t=400})=>{const[e,r]=_.useState(Jc),[n,a]=_.useState(0),[i,s]=_.useState(!0),[o,c]=_.useState(null);_.useRef(null);const u=_.useRef(),d=typeof t=="number"?`${t}px`:t,f=e.centered.logoSize?`${e.centered.logoSize}px`:"150px";_.useEffect(()=>{if(e.style!=="slideshow"||e.slideshow.slides.length<=1)return;const g=()=>{u.current=setInterval(()=>{p()},e.slideshow.settings.autoplaySpeed)},y=()=>{u.current&&clearInterval(u.current)};return g(),()=>y()},[e,n]);const h=g=>{a(g)},p=()=>{a(g=>(g+1)%e.slideshow.slides.length)},m=()=>{a(g=>g===0?e.slideshow.slides.length-1:g-1)};return _.useEffect(()=>{let g=!0;return(async()=>{var x;try{s(!0);const{data:v,error:b}=await ue.from("site_settings").select("header_settings").single();if(!g)return;if(b)throw b;v!=null&&v.header_settings&&r({...Jc,...v.header_settings,slideshow:{...Jc.slideshow,...v.header_settings.slideshow,settings:{...Jc.slideshow.settings,...(x=v.header_settings.slideshow)==null?void 0:x.settings}},centered:{...Jc.centered,...v.header_settings.centered}})}catch(v){console.error("Error fetching header settings:",v),g&&c("    ")}finally{g&&s(!1)}})(),()=>{g=!1}},[]),i?l.jsx("section",{className:"relative flex items-center justify-center bg-gray-100 dark:bg-dark-800",style:{height:d},children:l.jsx("div",{className:"text-center",children:"..."})}):o?l.jsx("section",{className:"relative flex items-center justify-center bg-gray-100 dark:bg-dark-800",style:{height:d},children:l.jsx("div",{className:"text-center text-red-500",children:o})}):e.style==="slideshow"&&e.slideshow.slides.length>0?l.jsxs("section",{className:"relative overflow-hidden",style:{height:d},children:[l.jsx("div",{className:"relative h-full w-full",children:l.jsx("div",{className:"flex h-full transition-transform duration-500",style:{transform:`translateX(-${n*100}%)`,width:`${e.slideshow.slides.length*100}%`},children:e.slideshow.slides.map((g,y)=>l.jsxs("div",{className:"relative w-full h-full",style:{flex:`0 0 ${100/e.slideshow.slides.length}%`},children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("img",{src:zt(g.image),alt:"",className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}),l.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),l.jsx("div",{className:"relative h-full flex flex-col items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center text-center px-4",children:[l.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-4 text-white",children:g.title}),l.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-2xl",children:g.subtitle})]})})]},g.id))})}),l.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:e.slideshow.slides.map((g,y)=>l.jsx("button",{onClick:()=>h(y),className:`w-2 h-2 rounded-full transition-all duration-300 ${y===n?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${y+1}`},y))}),e.slideshow.slides.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:m,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/30 hover:bg-black/50 text-white transition-colors","aria-label":"Previous slide",children:l.jsx(fa,{className:"rotate-180"})}),l.jsx("button",{onClick:p,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/30 hover:bg-black/50 text-white transition-colors","aria-label":"Next slide",children:l.jsx(fa,{})})]})]}):l.jsx("section",{className:"relative flex items-center justify-center bg-gray-50 dark:bg-dark-900",style:{height:d},children:l.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full",children:[l.jsxs("div",{className:"w-full flex items-center justify-center mb-8",style:{height:f},children:[l.jsx("img",{src:e.centered.logoLight,alt:"ScienceHub Logo",className:"h-full w-auto object-contain dark:hidden",loading:"lazy",decoding:"async"}),l.jsx("img",{src:e.centered.logoDark,alt:"ScienceHub Logo",className:"h-full w-auto object-contain hidden dark:block",loading:"lazy",decoding:"async"})]}),l.jsxs("div",{className:"text-center px-4 max-w-2xl",children:[l.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4",children:e.centered.title}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300",children:e.centered.subtitle})]})]})})},IL=()=>{const[t,e]=_.useState(null),[r,n]=_.useState(!0),[a,i]=_.useState(null),s=_.useRef(null),o=_.useRef(null),c=_.useRef(null);return _.useEffect(()=>{let u=!0;return(async()=>{try{const{data:f,error:h}=await ue.from("site_settings").select("info_section").single();if(!u)return;if(h)throw h;f!=null&&f.info_section&&e(f.info_section)}catch(f){console.error("Error fetching info section data:",f),u&&i("   ")}finally{u&&n(!1)}})(),()=>{u=!1}},[]),_.useEffect(()=>{if(!(t!=null&&t.image)||!s.current)return;const u=new IntersectionObserver(d=>{d.forEach(f=>{if(f.isIntersecting){const h=f.target;h.src=h.dataset.src||"",u.unobserve(h)}})},{rootMargin:"200px",threshold:.1});return u.observe(s.current),()=>{s.current&&u.unobserve(s.current)}},[t==null?void 0:t.image]),_.useEffect(()=>{if(!o.current||!c.current)return;const u=new ResizeObserver(d=>{for(let f of d)f.target===o.current&&(c.current.style.height=`${f.contentRect.height}px`)});return u.observe(o.current),()=>{u.disconnect()}},[t]),r?l.jsx("div",{className:"section bg-white dark:bg-dark-900 min-h-[400px] flex items-center justify-center",children:"..."}):a?l.jsx("div",{className:"section bg-white dark:bg-dark-900 min-h-[400px] flex items-center justify-center text-red-500",children:a}):!t||!t.enabled?null:l.jsx("section",{className:"section bg-white dark:bg-dark-900",children:l.jsxs("div",{className:"container grid-layout items-start",children:[l.jsxs("div",{className:"text-content",ref:o,children:[l.jsx("h3",{className:"mb-6",children:t.title}),l.jsx("div",{className:"text-base space-y-4 mb-8",dangerouslySetInnerHTML:{__html:t.description}}),l.jsxs(Be,{to:"/about",className:"inline-flex items-center text-primary-500 hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300 transition-colors font-medium",children:["",l.jsx(fa,{className:"ml-2"})]})]}),l.jsx("div",{className:"image-content mt-8 md:mt-0",ref:c,children:l.jsx("div",{className:"w-full h-full rounded-lg overflow-hidden relative",children:l.jsx("img",{ref:s,"data-src":zt(t.image),alt:t.title,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy",width:"600",height:"400"})})})]})})};function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}function Fr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ve(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ht(t){Ve(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Wo(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function qu(t,e){Ve(2,arguments);var r=ht(t),n=Fr(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function s1(t,e){Ve(2,arguments);var r=ht(t),n=Fr(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var s=i.getDate();return a>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function OL(t,e){Ve(2,arguments);var r=ht(t).getTime(),n=Fr(e);return new Date(r+n)}var DL={};function Mc(){return DL}function Wh(t,e){var r,n,a,i,s,o,c,u;Ve(1,arguments);var d=Mc(),f=Fr((r=(n=(a=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ht(t),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function PL(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Mk(t){Ve(1,arguments);var e=ht(t);return e.setHours(0,0,0,0),e}function RL(t,e){Ve(2,arguments);var r=Fr(e),n=r*7;return qu(t,n)}var u6=6e4,d6=36e5;function Yu(t,e){Ve(2,arguments);var r=Mk(t),n=Mk(e);return r.getTime()===n.getTime()}function ML(t){return Ve(1,arguments),t instanceof Date||Wo(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function LL(t){if(Ve(1,arguments),!ML(t)&&typeof t!="number")return!1;var e=ht(t);return!isNaN(Number(e))}function pw(t){Ve(1,arguments);var e=ht(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Vh(t,e){var r;Ve(1,arguments);var n=t||{},a=ht(n.start),i=ht(n.end),s=i.getTime();if(!(a.getTime()<=s))throw new RangeError("Invalid interval");var o=[],c=a;c.setHours(0,0,0,0);var u=Number((r=void 0)!==null&&r!==void 0?r:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=s;)o.push(ht(c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return o}function jd(t){Ve(1,arguments);var e=ht(t);return e.setDate(1),e.setHours(0,0,0,0),e}function o1(t,e){var r,n,a,i,s,o,c,u;Ve(1,arguments);var d=Mc(),f=Fr((r=(n=(a=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ht(t),p=h.getDay(),m=(p<f?-7:0)+6-(p-f);return h.setDate(h.getDate()+m),h.setHours(23,59,59,999),h}function BL(t,e){Ve(2,arguments);var r=Fr(e);return OL(t,-r)}var FL=864e5;function $L(t){Ve(1,arguments);var e=ht(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=r-n;return Math.floor(a/FL)+1}function O0(t){Ve(1,arguments);var e=1,r=ht(t),n=r.getUTCDay(),a=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function f6(t){Ve(1,arguments);var e=ht(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=O0(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=O0(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function UL(t){Ve(1,arguments);var e=f6(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=O0(r);return n}var zL=6048e5;function HL(t){Ve(1,arguments);var e=ht(t),r=O0(e).getTime()-UL(e).getTime();return Math.round(r/zL)+1}function hc(t,e){var r,n,a,i,s,o,c,u;Ve(1,arguments);var d=Mc(),f=Fr((r=(n=(a=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ht(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function h6(t,e){var r,n,a,i,s,o,c,u;Ve(1,arguments);var d=ht(t),f=d.getUTCFullYear(),h=Mc(),p=Fr((r=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=hc(m,e),y=new Date(0);y.setUTCFullYear(f,0,p),y.setUTCHours(0,0,0,0);var x=hc(y,e);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function WL(t,e){var r,n,a,i,s,o,c,u;Ve(1,arguments);var d=Mc(),f=Fr((r=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=h6(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=hc(p,e);return m}var VL=6048e5;function GL(t,e){Ve(1,arguments);var r=ht(t),n=hc(r,e).getTime()-WL(r,e).getTime();return Math.round(n/VL)+1}function ot(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var qi={y:function(e,r){var n=e.getUTCFullYear(),a=n>0?n:1-n;return ot(r==="yy"?a%100:a,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):ot(n+1,2)},d:function(e,r){return ot(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return ot(e.getUTCHours()%12||12,r.length)},H:function(e,r){return ot(e.getUTCHours(),r.length)},m:function(e,r){return ot(e.getUTCMinutes(),r.length)},s:function(e,r){return ot(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,a=e.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return ot(i,r.length)}},pl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XL={G:function(e,r,n){var a=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var a=e.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return qi.y(e,r)},Y:function(e,r,n,a){var i=h6(e,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return ot(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):ot(s,r.length)},R:function(e,r){var n=f6(e);return ot(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return ot(n,r.length)},Q:function(e,r,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return ot(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return ot(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){var a=e.getUTCMonth();switch(r){case"M":case"MM":return qi.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){var a=e.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return ot(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){var i=GL(e,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):ot(i,r.length)},I:function(e,r,n){var a=HL(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):ot(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):qi.d(e,r)},D:function(e,r,n){var a=$L(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):ot(a,r.length)},E:function(e,r,n){var a=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){var i=e.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return ot(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){var i=e.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return ot(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,n){var a=e.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return ot(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){var a=e.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,n){var a=e.getUTCHours(),i;switch(a===12?i=pl.noon:a===0?i=pl.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,n){var a=e.getUTCHours(),i;switch(a>=17?i=pl.evening:a>=12?i=pl.afternoon:a>=4?i=pl.morning:i=pl.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return qi.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):qi.H(e,r)},K:function(e,r,n){var a=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):ot(a,r.length)},k:function(e,r,n){var a=e.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):ot(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):qi.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):qi.s(e,r)},S:function(e,r){return qi.S(e,r)},X:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return Bk(s);case"XXXX":case"XX":return uo(s);case"XXXXX":case"XXX":default:return uo(s,":")}},x:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();switch(r){case"x":return Bk(s);case"xxxx":case"xx":return uo(s);case"xxxxx":case"xxx":default:return uo(s,":")}},O:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Lk(s,":");case"OOOO":default:return"GMT"+uo(s,":")}},z:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Lk(s,":");case"zzzz":default:return"GMT"+uo(s,":")}},t:function(e,r,n,a){var i=a._originalDate||e,s=Math.floor(i.getTime()/1e3);return ot(s,r.length)},T:function(e,r,n,a){var i=a._originalDate||e,s=i.getTime();return ot(s,r.length)}};function Lk(t,e){var r=t>0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=e;return r+String(a)+s+ot(i,2)}function Bk(t,e){if(t%60===0){var r=t>0?"-":"+";return r+ot(Math.abs(t)/60,2)}return uo(t,e)}function uo(t,e){var r=e||"",n=t>0?"-":"+",a=Math.abs(t),i=ot(Math.floor(a/60),2),s=ot(a%60,2);return n+i+r+s}var Fk=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},p6=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},qL=function(e,r){var n=e.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return Fk(e,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Fk(a,r)).replace("{{time}}",p6(i,r))},YL={p:p6,P:qL},KL=["D","DD"],ZL=["YY","YYYY"];function QL(t){return KL.indexOf(t)!==-1}function JL(t){return ZL.indexOf(t)!==-1}function $k(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var eB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tB=function(e,r,n){var a,i=eB[e];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Yl(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var rB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iB={date:Yl({formats:rB,defaultWidth:"full"}),time:Yl({formats:nB,defaultWidth:"full"}),dateTime:Yl({formats:aB,defaultWidth:"full"})},sB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oB=function(e,r,n,a){return sB[e]};function Wa(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=t.formattingValues[s]||t.formattingValues[i]}else{var o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[c]||t.values[o]}var u=t.argumentCallback?t.argumentCallback(e):e;return a[u]}}var lB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pB=function(e,r){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mB={ordinalNumber:pB,era:Wa({values:lB,defaultWidth:"wide"}),quarter:Wa({values:cB,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Wa({values:uB,defaultWidth:"wide"}),day:Wa({values:dB,defaultWidth:"wide"}),dayPeriod:Wa({values:fB,defaultWidth:"wide",formattingValues:hB,defaultFormattingWidth:"wide"})};function Va(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;var s=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?vB(o,function(f){return f.test(s)}):gB(o,function(f){return f.test(s)}),u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(s.length);return{value:u,rest:d}}}function gB(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function vB(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function m6(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var a=n[0],i=e.match(t.parsePattern);if(!i)return null;var s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=e.slice(a.length);return{value:s,rest:o}}}var xB=/^(\d+)(th|st|nd|rd)?/i,yB=/\d+/i,bB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wB={any:[/^b/i,/^(a|c)/i]},_B={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kB={any:[/1/i,/2/i,/3/i,/4/i]},NB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TB={ordinalNumber:m6({matchPattern:xB,parsePattern:yB,valueCallback:function(e){return parseInt(e,10)}}),era:Va({matchPatterns:bB,defaultMatchWidth:"wide",parsePatterns:wB,defaultParseWidth:"any"}),quarter:Va({matchPatterns:_B,defaultMatchWidth:"wide",parsePatterns:kB,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Va({matchPatterns:NB,defaultMatchWidth:"wide",parsePatterns:SB,defaultParseWidth:"any"}),day:Va({matchPatterns:EB,defaultMatchWidth:"wide",parsePatterns:CB,defaultParseWidth:"any"}),dayPeriod:Va({matchPatterns:jB,defaultMatchWidth:"any",parsePatterns:AB,defaultParseWidth:"any"})},IB={code:"en-US",formatDistance:tB,formatLong:iB,formatRelative:oB,localize:mB,match:TB,options:{weekStartsOn:0,firstWeekContainsDate:1}},OB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PB=/^'([^]*?)'?$/,RB=/''/g,MB=/[a-zA-Z]/;function lt(t,e,r){var n,a,i,s,o,c,u,d,f,h,p,m,g,y,x,v,b,w;Ve(2,arguments);var S=String(e),E=Mc(),j=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:E.locale)!==null&&n!==void 0?n:IB,I=Fr((i=(s=(o=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:E.firstWeekContainsDate)!==null&&s!==void 0?s:(f=E.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Fr((p=(m=(g=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(x=r.locale)===null||x===void 0||(v=x.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&g!==void 0?g:E.weekStartsOn)!==null&&m!==void 0?m:(b=E.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw new RangeError("locale must contain localize property");if(!j.formatLong)throw new RangeError("locale must contain formatLong property");var T=ht(t);if(!LL(T))throw new RangeError("Invalid time value");var L=PL(T),C=BL(T,L),A={firstWeekContainsDate:I,weekStartsOn:k,locale:j,_originalDate:T},N=S.match(DB).map(function(O){var $=O[0];if($==="p"||$==="P"){var D=YL[$];return D(O,j.formatLong)}return O}).join("").match(OB).map(function(O){if(O==="''")return"'";var $=O[0];if($==="'")return LB(O);var D=XL[$];if(D)return!(r!=null&&r.useAdditionalWeekYearTokens)&&JL(O)&&$k(O,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&QL(O)&&$k(O,e,String(t)),D(C,O,j.localize,A);if($.match(MB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return O}).join("");return N}function LB(t){var e=t.match(PB);return e?e[1].replace(RB,"'"):t}function BB(t){Ve(1,arguments);var e=ht(t),r=e.getDay();return r}function FB(t,e){Ve(2,arguments);var r=ht(t),n=ht(e);return r.getTime()<n.getTime()}function l1(t,e){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},l1(t,e)}function $B(t,e){if(Wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UB(t){var e=$B(t,"string");return Wo(e)=="symbol"?e:e+""}function zB(t,e,r){return(e=UB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uk(t){return Ve(1,arguments),ht(t).getTime()<Date.now()}function g6(t,e){Ve(2,arguments);var r=ht(t),n=ht(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function eu(t){return Ve(1,arguments),Yu(t,Date.now())}function zk(t,e){Ve(2,arguments);var r=Fr(e);return qu(t,-r)}function Ci(t,e){var r;Ve(1,arguments);var n=Fr((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var a=GB(t),i;if(a.date){var s=XB(a.date,n);i=qB(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),c=0,u;if(a.time&&(c=YB(a.time),isNaN(c)))return new Date(NaN);if(a.timezone){if(u=KB(a.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+c),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(o+c+u)}var rh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},HB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,WB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,VB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function GB(t){var e={},r=t.split(rh.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],rh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(rh.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var a=rh.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function XB(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function qB(t,e){if(e===null)return new Date(NaN);var r=t.match(HB);if(!r)return new Date(NaN);var n=!!r[4],a=tu(r[1]),i=tu(r[2])-1,s=tu(r[3]),o=tu(r[4]),c=tu(r[5])-1;if(n)return tF(e,o,c)?ZB(e,o,c):new Date(NaN);var u=new Date(0);return!JB(e,i,s)||!eF(e,a)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(a,s)),u)}function tu(t){return t?parseInt(t):1}function YB(t){var e=t.match(WB);if(!e)return NaN;var r=Ig(e[1]),n=Ig(e[2]),a=Ig(e[3]);return rF(r,n,a)?r*d6+n*u6+a*1e3:NaN}function Ig(t){return t&&parseFloat(t.replace(",","."))||0}function KB(t){if(t==="Z")return 0;var e=t.match(VB);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return nF(n,a)?r*(n*d6+a*u6):NaN}function ZB(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var a=n.getUTCDay()||7,i=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var QB=[31,null,31,30,31,30,31,31,30,31,30,31];function v6(t){return t%400===0||t%4===0&&t%100!==0}function JB(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(QB[e]||(v6(t)?29:28))}function eF(t,e){return e>=1&&e<=(v6(t)?366:365)}function tF(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function rF(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function nF(t,e){return e>=0&&e<=59}function aF(t,e){Ve(2,arguments);var r=ht(t),n=Fr(e);return r.setHours(n),r}function iF(t,e){Ve(2,arguments);var r=ht(t),n=Fr(e);return r.setMinutes(n),r}function Hk(t,e,r){Ve(2,arguments);var n=hc(t,r),a=hc(e,r);return n.getTime()===a.getTime()}function ru(t,e){if(t.one!==void 0&&e===1)return t.one;var r=e%10,n=e%100;return r===1&&n!==11?t.singularNominative.replace("{{count}}",String(e)):r>=2&&r<=4&&(n<10||n>20)?t.singularGenitive.replace("{{count}}",String(e)):t.pluralGenitive.replace("{{count}}",String(e))}function zr(t){return function(e,r){return r!=null&&r.addSuffix?r.comparison&&r.comparison>0?t.future?ru(t.future,e):" "+ru(t.regular,e):t.past?ru(t.past,e):ru(t.regular,e)+" ":ru(t.regular,e)}}var sF={lessThanXSeconds:zr({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:zr({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:function(e,r){return r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" ":" ":""},lessThanXMinutes:zr({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:zr({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:zr({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:zr({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:zr({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:zr({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:zr({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:zr({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:zr({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:zr({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:zr({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:zr({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:zr({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},oF=function(e,r,n){return sF[e](r,n)},lF={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},cF={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},uF={any:"{{date}}, {{time}}"},dF={date:Yl({formats:lF,defaultWidth:"full"}),time:Yl({formats:cF,defaultWidth:"full"}),dateTime:Yl({formats:uF,defaultWidth:"any"})},mw=["","","","","","",""];function fF(t){var e=mw[t];switch(t){case 0:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p";case 3:case 5:case 6:return"'  "+e+" ' p"}}function Wk(t){var e=mw[t];return t===2?"' "+e+" ' p":"' "+e+" ' p"}function hF(t){var e=mw[t];switch(t){case 0:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p";case 3:case 5:case 6:return"'  "+e+" ' p"}}var pF={lastWeek:function(e,r,n){var a=e.getUTCDay();return Hk(e,r,n)?Wk(a):fF(a)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:function(e,r,n){var a=e.getUTCDay();return Hk(e,r,n)?Wk(a):hF(a)},other:"P"},mF=function(e,r,n,a){var i=pF[e];return typeof i=="function"?i(r,n,a):i},gF={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},vF={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},xF={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},yF={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},bF={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},wF={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},_F={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},kF=function(e,r){var n=Number(e),a=r==null?void 0:r.unit,i;return a==="date"?i="-":a==="week"||a==="minute"||a==="second"?i="-":i="-",n+i},NF={ordinalNumber:kF,era:Wa({values:gF,defaultWidth:"wide"}),quarter:Wa({values:vF,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Wa({values:xF,defaultWidth:"wide",formattingValues:yF,defaultFormattingWidth:"wide"}),day:Wa({values:bF,defaultWidth:"wide"}),dayPeriod:Wa({values:wF,defaultWidth:"any",formattingValues:_F,defaultFormattingWidth:"wide"})},SF=/^(\d+)(-?(||||||||||))?/i,EF=/\d+/i,CF={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},jF={any:[/^/i,/^/i]},AF={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},TF={any:[/1/i,/2/i,/3/i,/4/i]},IF={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},OF={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},DF={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},PF={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},RF={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},MF={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},LF={ordinalNumber:m6({matchPattern:SF,parsePattern:EF,valueCallback:function(e){return parseInt(e,10)}}),era:Va({matchPatterns:CF,defaultMatchWidth:"wide",parsePatterns:jF,defaultParseWidth:"any"}),quarter:Va({matchPatterns:AF,defaultMatchWidth:"wide",parsePatterns:TF,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Va({matchPatterns:IF,defaultMatchWidth:"wide",parsePatterns:OF,defaultParseWidth:"any"}),day:Va({matchPatterns:DF,defaultMatchWidth:"wide",parsePatterns:PF,defaultParseWidth:"any"}),dayPeriod:Va({matchPatterns:RF,defaultMatchWidth:"wide",parsePatterns:MF,defaultParseWidth:"any"})},ra={code:"ru",formatDistance:oF,formatLong:dF,formatRelative:mF,localize:NF,match:LF,options:{weekStartsOn:1,firstWeekContainsDate:1}},c1={exports:{}},x6={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(x6);var $t=x6.exports,u1={exports:{}},d1={exports:{}},y6={exports:{}};(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(y6);var b6=y6.exports,f1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n,a){if(a.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+a.length+" present")}t.exports=e.default})(f1,f1.exports);var nn=f1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(b6),a=r(nn);function i(s){return(0,a.default)(1,arguments),s instanceof Date||(0,n.default)(s)==="object"&&Object.prototype.toString.call(s)==="[object Date]"}t.exports=e.default})(d1,d1.exports);var BF=d1.exports,h1={exports:{}};(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(b6),a=r(nn);function i(s){(0,a.default)(1,arguments);var o=Object.prototype.toString.call(s);return s instanceof Date||(0,n.default)(s)==="object"&&o==="[object Date]"?new Date(s.getTime()):typeof s=="number"||o==="[object Number]"?new Date(s):((typeof s=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}t.exports=e.default})(h1,h1.exports);var ui=h1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(BF),a=r(ui),i=r(nn);function s(o){if((0,i.default)(1,arguments),!(0,n.default)(o)&&typeof o!="number")return!1;var c=(0,a.default)(o);return!isNaN(Number(c))}t.exports=e.default})(u1,u1.exports);var FF=u1.exports,p1={exports:{}},m1={exports:{}},g1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){if(n===null||n===!0||n===!1)return NaN;var a=Number(n);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}t.exports=e.default})(g1,g1.exports);var rl=g1.exports;const $F=li(rl);(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(rl),a=r(ui),i=r(nn);function s(o,c){(0,i.default)(2,arguments);var u=(0,a.default)(o).getTime(),d=(0,n.default)(c);return new Date(u+d)}t.exports=e.default})(m1,m1.exports);var UF=m1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(UF),a=r(nn),i=r(rl);function s(o,c){(0,a.default)(2,arguments);var u=(0,i.default)(c);return(0,n.default)(o,-u)}t.exports=e.default})(p1,p1.exports);var zF=p1.exports,v1={exports:{}},x1={exports:{}};(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(ui),a=r(nn),i=864e5;function s(o){(0,a.default)(1,arguments);var c=(0,n.default)(o),u=c.getTime();c.setUTCMonth(0,1),c.setUTCHours(0,0,0,0);var d=c.getTime(),f=u-d;return Math.floor(f/i)+1}t.exports=e.default})(x1,x1.exports);var HF=x1.exports,y1={exports:{}},b1={exports:{}};(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=r(ui),a=r(nn);function i(s){(0,a.default)(1,arguments);var o=1,c=(0,n.default)(s),u=c.getUTCDay(),d=(u<o?7:0)+u-o;return c.setUTCDate(c.getUTCDate()-d),c.setUTCHours(0,0,0,0),c}t.exports=e.default})(b1,b1.exports);var gw=b1.exports,w1={exports:{}},_1={exports:{}};(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(ui),a=r(nn),i=r(gw);function s(o){(0,a.default)(1,arguments);var c=(0,n.default)(o),u=c.getUTCFullYear(),d=new Date(0);d.setUTCFullYear(u+1,0,4),d.setUTCHours(0,0,0,0);var f=(0,i.default)(d),h=new Date(0);h.setUTCFullYear(u,0,4),h.setUTCHours(0,0,0,0);var p=(0,i.default)(h);return c.getTime()>=f.getTime()?u+1:c.getTime()>=p.getTime()?u:u-1}t.exports=e.default})(_1,_1.exports);var w6=_1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=r(w6),a=r(gw),i=r(nn);function s(o){(0,i.default)(1,arguments);var c=(0,n.default)(o),u=new Date(0);u.setUTCFullYear(c,0,4),u.setUTCHours(0,0,0,0);var d=(0,a.default)(u);return d}t.exports=e.default})(w1,w1.exports);var WF=w1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var n=r(ui),a=r(gw),i=r(WF),s=r(nn),o=6048e5;function c(u){(0,s.default)(1,arguments);var d=(0,n.default)(u),f=(0,a.default)(d).getTime()-(0,i.default)(d).getTime();return Math.round(f/o)+1}t.exports=e.default})(y1,y1.exports);var VF=y1.exports,k1={exports:{}},N1={exports:{}},nl={};Object.defineProperty(nl,"__esModule",{value:!0});nl.getDefaultOptions=GF;nl.setDefaultOptions=XF;var _6={};function GF(){return _6}function XF(t){_6=t}(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=r(ui),a=r(nn),i=r(rl),s=nl;function o(c,u){var d,f,h,p,m,g,y,x;(0,a.default)(1,arguments);var v=(0,s.getDefaultOptions)(),b=(0,i.default)((d=(f=(h=(p=u==null?void 0:u.weekStartsOn)!==null&&p!==void 0?p:u==null||(m=u.locale)===null||m===void 0||(g=m.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&h!==void 0?h:v.weekStartsOn)!==null&&f!==void 0?f:(y=v.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&d!==void 0?d:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=(0,n.default)(c),S=w.getUTCDay(),E=(S<b?7:0)+S-b;return w.setUTCDate(w.getUTCDate()-E),w.setUTCHours(0,0,0,0),w}t.exports=e.default})(N1,N1.exports);var vw=N1.exports,S1={exports:{}},E1={exports:{}};(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var n=r(ui),a=r(nn),i=r(vw),s=r(rl),o=nl;function c(u,d){var f,h,p,m,g,y,x,v;(0,a.default)(1,arguments);var b=(0,n.default)(u),w=b.getUTCFullYear(),S=(0,o.getDefaultOptions)(),E=(0,s.default)((f=(h=(p=(m=d==null?void 0:d.firstWeekContainsDate)!==null&&m!==void 0?m:d==null||(g=d.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&p!==void 0?p:S.firstWeekContainsDate)!==null&&h!==void 0?h:(x=S.locale)===null||x===void 0||(v=x.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&f!==void 0?f:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=new Date(0);j.setUTCFullYear(w+1,0,E),j.setUTCHours(0,0,0,0);var I=(0,i.default)(j,d),k=new Date(0);k.setUTCFullYear(w,0,E),k.setUTCHours(0,0,0,0);var T=(0,i.default)(k,d);return b.getTime()>=I.getTime()?w+1:b.getTime()>=T.getTime()?w:w-1}t.exports=e.default})(E1,E1.exports);var k6=E1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var n=r(k6),a=r(nn),i=r(vw),s=r(rl),o=nl;function c(u,d){var f,h,p,m,g,y,x,v;(0,a.default)(1,arguments);var b=(0,o.getDefaultOptions)(),w=(0,s.default)((f=(h=(p=(m=d==null?void 0:d.firstWeekContainsDate)!==null&&m!==void 0?m:d==null||(g=d.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&p!==void 0?p:b.firstWeekContainsDate)!==null&&h!==void 0?h:(x=b.locale)===null||x===void 0||(v=x.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&f!==void 0?f:1),S=(0,n.default)(u,d),E=new Date(0);E.setUTCFullYear(S,0,w),E.setUTCHours(0,0,0,0);var j=(0,i.default)(E,d);return j}t.exports=e.default})(S1,S1.exports);var qF=S1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var n=r(ui),a=r(vw),i=r(qF),s=r(nn),o=6048e5;function c(u,d){(0,s.default)(1,arguments);var f=(0,n.default)(u),h=(0,a.default)(f,d).getTime()-(0,i.default)(f,d).getTime();return Math.round(h/o)+1}t.exports=e.default})(k1,k1.exports);var YF=k1.exports,C1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n,a){for(var i=n<0?"-":"",s=Math.abs(n).toString();s.length<a;)s="0"+s;return i+s}t.exports=e.default})(C1,C1.exports);var N6=C1.exports,j1={exports:{}};(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(N6),a={y:function(o,c){var u=o.getUTCFullYear(),d=u>0?u:1-u;return(0,n.default)(c==="yy"?d%100:d,c.length)},M:function(o,c){var u=o.getUTCMonth();return c==="M"?String(u+1):(0,n.default)(u+1,2)},d:function(o,c){return(0,n.default)(o.getUTCDate(),c.length)},a:function(o,c){var u=o.getUTCHours()/12>=1?"pm":"am";switch(c){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(o,c){return(0,n.default)(o.getUTCHours()%12||12,c.length)},H:function(o,c){return(0,n.default)(o.getUTCHours(),c.length)},m:function(o,c){return(0,n.default)(o.getUTCMinutes(),c.length)},s:function(o,c){return(0,n.default)(o.getUTCSeconds(),c.length)},S:function(o,c){var u=c.length,d=o.getUTCMilliseconds(),f=Math.floor(d*Math.pow(10,u-3));return(0,n.default)(f,c.length)}},i=a;e.default=i,t.exports=e.default})(j1,j1.exports);var KF=j1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(HF),a=r(VF),i=r(w6),s=r(YF),o=r(k6),c=r(N6),u=r(KF),d={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f={G:function(x,v,b){var w=x.getUTCFullYear()>0?1:0;switch(v){case"G":case"GG":case"GGG":return b.era(w,{width:"abbreviated"});case"GGGGG":return b.era(w,{width:"narrow"});case"GGGG":default:return b.era(w,{width:"wide"})}},y:function(x,v,b){if(v==="yo"){var w=x.getUTCFullYear(),S=w>0?w:1-w;return b.ordinalNumber(S,{unit:"year"})}return u.default.y(x,v)},Y:function(x,v,b,w){var S=(0,o.default)(x,w),E=S>0?S:1-S;if(v==="YY"){var j=E%100;return(0,c.default)(j,2)}return v==="Yo"?b.ordinalNumber(E,{unit:"year"}):(0,c.default)(E,v.length)},R:function(x,v){var b=(0,i.default)(x);return(0,c.default)(b,v.length)},u:function(x,v){var b=x.getUTCFullYear();return(0,c.default)(b,v.length)},Q:function(x,v,b){var w=Math.ceil((x.getUTCMonth()+1)/3);switch(v){case"Q":return String(w);case"QQ":return(0,c.default)(w,2);case"Qo":return b.ordinalNumber(w,{unit:"quarter"});case"QQQ":return b.quarter(w,{width:"abbreviated",context:"formatting"});case"QQQQQ":return b.quarter(w,{width:"narrow",context:"formatting"});case"QQQQ":default:return b.quarter(w,{width:"wide",context:"formatting"})}},q:function(x,v,b){var w=Math.ceil((x.getUTCMonth()+1)/3);switch(v){case"q":return String(w);case"qq":return(0,c.default)(w,2);case"qo":return b.ordinalNumber(w,{unit:"quarter"});case"qqq":return b.quarter(w,{width:"abbreviated",context:"standalone"});case"qqqqq":return b.quarter(w,{width:"narrow",context:"standalone"});case"qqqq":default:return b.quarter(w,{width:"wide",context:"standalone"})}},M:function(x,v,b){var w=x.getUTCMonth();switch(v){case"M":case"MM":return u.default.M(x,v);case"Mo":return b.ordinalNumber(w+1,{unit:"month"});case"MMM":return b.month(w,{width:"abbreviated",context:"formatting"});case"MMMMM":return b.month(w,{width:"narrow",context:"formatting"});case"MMMM":default:return b.month(w,{width:"wide",context:"formatting"})}},L:function(x,v,b){var w=x.getUTCMonth();switch(v){case"L":return String(w+1);case"LL":return(0,c.default)(w+1,2);case"Lo":return b.ordinalNumber(w+1,{unit:"month"});case"LLL":return b.month(w,{width:"abbreviated",context:"standalone"});case"LLLLL":return b.month(w,{width:"narrow",context:"standalone"});case"LLLL":default:return b.month(w,{width:"wide",context:"standalone"})}},w:function(x,v,b,w){var S=(0,s.default)(x,w);return v==="wo"?b.ordinalNumber(S,{unit:"week"}):(0,c.default)(S,v.length)},I:function(x,v,b){var w=(0,a.default)(x);return v==="Io"?b.ordinalNumber(w,{unit:"week"}):(0,c.default)(w,v.length)},d:function(x,v,b){return v==="do"?b.ordinalNumber(x.getUTCDate(),{unit:"date"}):u.default.d(x,v)},D:function(x,v,b){var w=(0,n.default)(x);return v==="Do"?b.ordinalNumber(w,{unit:"dayOfYear"}):(0,c.default)(w,v.length)},E:function(x,v,b){var w=x.getUTCDay();switch(v){case"E":case"EE":case"EEE":return b.day(w,{width:"abbreviated",context:"formatting"});case"EEEEE":return b.day(w,{width:"narrow",context:"formatting"});case"EEEEEE":return b.day(w,{width:"short",context:"formatting"});case"EEEE":default:return b.day(w,{width:"wide",context:"formatting"})}},e:function(x,v,b,w){var S=x.getUTCDay(),E=(S-w.weekStartsOn+8)%7||7;switch(v){case"e":return String(E);case"ee":return(0,c.default)(E,2);case"eo":return b.ordinalNumber(E,{unit:"day"});case"eee":return b.day(S,{width:"abbreviated",context:"formatting"});case"eeeee":return b.day(S,{width:"narrow",context:"formatting"});case"eeeeee":return b.day(S,{width:"short",context:"formatting"});case"eeee":default:return b.day(S,{width:"wide",context:"formatting"})}},c:function(x,v,b,w){var S=x.getUTCDay(),E=(S-w.weekStartsOn+8)%7||7;switch(v){case"c":return String(E);case"cc":return(0,c.default)(E,v.length);case"co":return b.ordinalNumber(E,{unit:"day"});case"ccc":return b.day(S,{width:"abbreviated",context:"standalone"});case"ccccc":return b.day(S,{width:"narrow",context:"standalone"});case"cccccc":return b.day(S,{width:"short",context:"standalone"});case"cccc":default:return b.day(S,{width:"wide",context:"standalone"})}},i:function(x,v,b){var w=x.getUTCDay(),S=w===0?7:w;switch(v){case"i":return String(S);case"ii":return(0,c.default)(S,v.length);case"io":return b.ordinalNumber(S,{unit:"day"});case"iii":return b.day(w,{width:"abbreviated",context:"formatting"});case"iiiii":return b.day(w,{width:"narrow",context:"formatting"});case"iiiiii":return b.day(w,{width:"short",context:"formatting"});case"iiii":default:return b.day(w,{width:"wide",context:"formatting"})}},a:function(x,v,b){var w=x.getUTCHours(),S=w/12>=1?"pm":"am";switch(v){case"a":case"aa":return b.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"aaa":return b.dayPeriod(S,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return b.dayPeriod(S,{width:"narrow",context:"formatting"});case"aaaa":default:return b.dayPeriod(S,{width:"wide",context:"formatting"})}},b:function(x,v,b){var w=x.getUTCHours(),S;switch(w===12?S=d.noon:w===0?S=d.midnight:S=w/12>=1?"pm":"am",v){case"b":case"bb":return b.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"bbb":return b.dayPeriod(S,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return b.dayPeriod(S,{width:"narrow",context:"formatting"});case"bbbb":default:return b.dayPeriod(S,{width:"wide",context:"formatting"})}},B:function(x,v,b){var w=x.getUTCHours(),S;switch(w>=17?S=d.evening:w>=12?S=d.afternoon:w>=4?S=d.morning:S=d.night,v){case"B":case"BB":case"BBB":return b.dayPeriod(S,{width:"abbreviated",context:"formatting"});case"BBBBB":return b.dayPeriod(S,{width:"narrow",context:"formatting"});case"BBBB":default:return b.dayPeriod(S,{width:"wide",context:"formatting"})}},h:function(x,v,b){if(v==="ho"){var w=x.getUTCHours()%12;return w===0&&(w=12),b.ordinalNumber(w,{unit:"hour"})}return u.default.h(x,v)},H:function(x,v,b){return v==="Ho"?b.ordinalNumber(x.getUTCHours(),{unit:"hour"}):u.default.H(x,v)},K:function(x,v,b){var w=x.getUTCHours()%12;return v==="Ko"?b.ordinalNumber(w,{unit:"hour"}):(0,c.default)(w,v.length)},k:function(x,v,b){var w=x.getUTCHours();return w===0&&(w=24),v==="ko"?b.ordinalNumber(w,{unit:"hour"}):(0,c.default)(w,v.length)},m:function(x,v,b){return v==="mo"?b.ordinalNumber(x.getUTCMinutes(),{unit:"minute"}):u.default.m(x,v)},s:function(x,v,b){return v==="so"?b.ordinalNumber(x.getUTCSeconds(),{unit:"second"}):u.default.s(x,v)},S:function(x,v){return u.default.S(x,v)},X:function(x,v,b,w){var S=w._originalDate||x,E=S.getTimezoneOffset();if(E===0)return"Z";switch(v){case"X":return p(E);case"XXXX":case"XX":return m(E);case"XXXXX":case"XXX":default:return m(E,":")}},x:function(x,v,b,w){var S=w._originalDate||x,E=S.getTimezoneOffset();switch(v){case"x":return p(E);case"xxxx":case"xx":return m(E);case"xxxxx":case"xxx":default:return m(E,":")}},O:function(x,v,b,w){var S=w._originalDate||x,E=S.getTimezoneOffset();switch(v){case"O":case"OO":case"OOO":return"GMT"+h(E,":");case"OOOO":default:return"GMT"+m(E,":")}},z:function(x,v,b,w){var S=w._originalDate||x,E=S.getTimezoneOffset();switch(v){case"z":case"zz":case"zzz":return"GMT"+h(E,":");case"zzzz":default:return"GMT"+m(E,":")}},t:function(x,v,b,w){var S=w._originalDate||x,E=Math.floor(S.getTime()/1e3);return(0,c.default)(E,v.length)},T:function(x,v,b,w){var S=w._originalDate||x,E=S.getTime();return(0,c.default)(E,v.length)}};function h(y,x){var v=y>0?"-":"+",b=Math.abs(y),w=Math.floor(b/60),S=b%60;if(S===0)return v+String(w);var E=x;return v+String(w)+E+(0,c.default)(S,2)}function p(y,x){if(y%60===0){var v=y>0?"-":"+";return v+(0,c.default)(Math.abs(y)/60,2)}return m(y,x)}function m(y,x){var v=x||"",b=y>0?"-":"+",w=Math.abs(y),S=(0,c.default)(Math.floor(w/60),2),E=(0,c.default)(w%60,2);return b+S+v+E}var g=f;e.default=g,t.exports=e.default})(v1,v1.exports);var ZF=v1.exports,A1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(c,u){switch(c){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},n=function(c,u){switch(c){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},a=function(c,u){var d=c.match(/(P+)(p+)?/)||[],f=d[1],h=d[2];if(!h)return r(c,u);var p;switch(f){case"P":p=u.dateTime({width:"short"});break;case"PP":p=u.dateTime({width:"medium"});break;case"PPP":p=u.dateTime({width:"long"});break;case"PPPP":default:p=u.dateTime({width:"full"});break}return p.replace("{{date}}",r(f,u)).replace("{{time}}",n(h,u))},i={p:n,P:a},s=i;e.default=s,t.exports=e.default})(A1,A1.exports);var QF=A1.exports,T1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){var a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),n.getTime()-a.getTime()}t.exports=e.default})(T1,T1.exports);var S6=T1.exports;const Vk=li(S6);var rf={};Object.defineProperty(rf,"__esModule",{value:!0});rf.isProtectedDayOfYearToken=t$;rf.isProtectedWeekYearToken=r$;rf.throwProtectedError=n$;var JF=["D","DD"],e$=["YY","YYYY"];function t$(t){return JF.indexOf(t)!==-1}function r$(t){return e$.indexOf(t)!==-1}function n$(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var I1={exports:{}},O1={exports:{}},D1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n=function(s,o,c){var u,d=r[s];return typeof d=="string"?u=d:o===1?u=d.one:u=d.other.replace("{{count}}",o.toString()),c!=null&&c.addSuffix?c.comparison&&c.comparison>0?"in "+u:u+" ago":u},a=n;e.default=a,t.exports=e.default})(D1,D1.exports);var a$=D1.exports,P1={exports:{}},R1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a.width?String(a.width):n.defaultWidth,s=n.formats[i]||n.formats[n.defaultWidth];return s}}t.exports=e.default})(R1,R1.exports);var i$=R1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i$),a={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},s={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o={date:(0,n.default)({formats:a,defaultWidth:"full"}),time:(0,n.default)({formats:i,defaultWidth:"full"}),dateTime:(0,n.default)({formats:s,defaultWidth:"full"})},c=o;e.default=c,t.exports=e.default})(P1,P1.exports);var s$=P1.exports,M1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n=function(s,o,c,u){return r[s]},a=n;e.default=a,t.exports=e.default})(M1,M1.exports);var o$=M1.exports,L1={exports:{}},B1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){return function(a,i){var s=i!=null&&i.context?String(i.context):"standalone",o;if(s==="formatting"&&n.formattingValues){var c=n.defaultFormattingWidth||n.defaultWidth,u=i!=null&&i.width?String(i.width):c;o=n.formattingValues[u]||n.formattingValues[c]}else{var d=n.defaultWidth,f=i!=null&&i.width?String(i.width):n.defaultWidth;o=n.values[f]||n.values[d]}var h=n.argumentCallback?n.argumentCallback(a):a;return o[h]}}t.exports=e.default})(B1,B1.exports);var l$=B1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(l$),a={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},s={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},o={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},c={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d=function(m,g){var y=Number(m),x=y%100;if(x>20||x<10)switch(x%10){case 1:return y+"st";case 2:return y+"nd";case 3:return y+"rd"}return y+"th"},f={ordinalNumber:d,era:(0,n.default)({values:a,defaultWidth:"wide"}),quarter:(0,n.default)({values:i,defaultWidth:"wide",argumentCallback:function(m){return m-1}}),month:(0,n.default)({values:s,defaultWidth:"wide"}),day:(0,n.default)({values:o,defaultWidth:"wide"}),dayPeriod:(0,n.default)({values:c,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},h=f;e.default=h,t.exports=e.default})(L1,L1.exports);var c$=L1.exports,F1={exports:{}},$1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(i){return function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.width,u=c&&i.matchPatterns[c]||i.matchPatterns[i.defaultMatchWidth],d=s.match(u);if(!d)return null;var f=d[0],h=c&&i.parsePatterns[c]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(h)?a(h,function(y){return y.test(f)}):n(h,function(y){return y.test(f)}),m;m=i.valueCallback?i.valueCallback(p):p,m=o.valueCallback?o.valueCallback(m):m;var g=s.slice(f.length);return{value:m,rest:g}}}function n(i,s){for(var o in i)if(i.hasOwnProperty(o)&&s(i[o]))return o}function a(i,s){for(var o=0;o<i.length;o++)if(s(i[o]))return o}t.exports=e.default})($1,$1.exports);var u$=$1.exports,U1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){return function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.match(n.matchPattern);if(!s)return null;var o=s[0],c=a.match(n.parsePattern);if(!c)return null;var u=n.valueCallback?n.valueCallback(c[0]):c[0];u=i.valueCallback?i.valueCallback(u):u;var d=a.slice(o.length);return{value:u,rest:d}}}t.exports=e.default})(U1,U1.exports);var d$=U1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(u$),a=r(d$),i=/^(\d+)(th|st|nd|rd)?/i,s=/\d+/i,o={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d={any:[/1/i,/2/i,/3/i,/4/i]},f={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},y={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},x={ordinalNumber:(0,a.default)({matchPattern:i,parsePattern:s,valueCallback:function(w){return parseInt(w,10)}}),era:(0,n.default)({matchPatterns:o,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any"}),quarter:(0,n.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any",valueCallback:function(w){return w+1}}),month:(0,n.default)({matchPatterns:f,defaultMatchWidth:"wide",parsePatterns:h,defaultParseWidth:"any"}),day:(0,n.default)({matchPatterns:p,defaultMatchWidth:"wide",parsePatterns:m,defaultParseWidth:"any"}),dayPeriod:(0,n.default)({matchPatterns:g,defaultMatchWidth:"any",parsePatterns:y,defaultParseWidth:"any"})},v=x;e.default=v,t.exports=e.default})(F1,F1.exports);var f$=F1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a$),a=r(s$),i=r(o$),s=r(c$),o=r(f$),c={code:"en-US",formatDistance:n.default,formatLong:a.default,formatRelative:i.default,localize:s.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=c;e.default=u,t.exports=e.default})(O1,O1.exports);var h$=O1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(h$),a=n.default;e.default=a,t.exports=e.default})(I1,I1.exports);var p$=I1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var n=r(FF),a=r(zF),i=r(ui),s=r(ZF),o=r(QF),c=r(S6),u=rf,d=r(rl),f=r(nn),h=nl,p=r(p$),m=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y=/^'([^]*?)'?$/,x=/''/g,v=/[a-zA-Z]/;function b(S,E,j){var I,k,T,L,C,A,N,O,$,D,R,M,F,B,U,q,ee,V;(0,f.default)(2,arguments);var re=String(E),oe=(0,h.getDefaultOptions)(),ie=(I=(k=j==null?void 0:j.locale)!==null&&k!==void 0?k:oe.locale)!==null&&I!==void 0?I:p.default,se=(0,d.default)((T=(L=(C=(A=j==null?void 0:j.firstWeekContainsDate)!==null&&A!==void 0?A:j==null||(N=j.locale)===null||N===void 0||(O=N.options)===null||O===void 0?void 0:O.firstWeekContainsDate)!==null&&C!==void 0?C:oe.firstWeekContainsDate)!==null&&L!==void 0?L:($=oe.locale)===null||$===void 0||(D=$.options)===null||D===void 0?void 0:D.firstWeekContainsDate)!==null&&T!==void 0?T:1);if(!(se>=1&&se<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ye=(0,d.default)((R=(M=(F=(B=j==null?void 0:j.weekStartsOn)!==null&&B!==void 0?B:j==null||(U=j.locale)===null||U===void 0||(q=U.options)===null||q===void 0?void 0:q.weekStartsOn)!==null&&F!==void 0?F:oe.weekStartsOn)!==null&&M!==void 0?M:(ee=oe.locale)===null||ee===void 0||(V=ee.options)===null||V===void 0?void 0:V.weekStartsOn)!==null&&R!==void 0?R:0);if(!(ye>=0&&ye<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ie.localize)throw new RangeError("locale must contain localize property");if(!ie.formatLong)throw new RangeError("locale must contain formatLong property");var ve=(0,i.default)(S);if(!(0,n.default)(ve))throw new RangeError("Invalid time value");var Ge=(0,c.default)(ve),_e=(0,a.default)(ve,Ge),P={firstWeekContainsDate:se,weekStartsOn:ye,locale:ie,_originalDate:ve},Q=re.match(g).map(function(X){var W=X[0];if(W==="p"||W==="P"){var H=o.default[W];return H(X,ie.formatLong)}return X}).join("").match(m).map(function(X){if(X==="''")return"'";var W=X[0];if(W==="'")return w(X);var H=s.default[W];if(H)return!(j!=null&&j.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(X)&&(0,u.throwProtectedError)(X,E,String(S)),!(j!=null&&j.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(X)&&(0,u.throwProtectedError)(X,E,String(S)),H(_e,X,ie.localize,P);if(W.match(v))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return X}).join("");return Q}function w(S){var E=S.match(y);return E?E[1].replace(x,"'"):S}t.exports=e.default})(c1,c1.exports);var m$=c1.exports;const g$=li(m$);function Gk(t,e,r){var n=y$(t,r.timeZone,r.locale);return n.formatToParts?v$(n,e):x$(n,e)}function v$(t,e){for(var r=t.formatToParts(e),n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function x$(t,e){var r=t.format(e).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function y$(t,e,r){if(r&&!r.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function b$(t,e){var r=N$(e);return r.formatToParts?_$(r,t):k$(r,t)}var w$={year:0,month:1,day:2,hour:3,minute:4,second:5};function _$(t,e){try{for(var r=t.formatToParts(e),n=[],a=0;a<r.length;a++){var i=w$[r[a].type];i>=0&&(n[i]=parseInt(r[a].value,10))}return n}catch(s){if(s instanceof RangeError)return[NaN];throw s}}function k$(t,e){var r=t.format(e),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Og={};function N$(t){if(!Og[t]){var e=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";Og[t]=r?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Og[t]}function xw(t,e,r,n,a,i,s){var o=new Date(0);return o.setUTCFullYear(t,e,r),o.setUTCHours(n,a,i,s),o}var Xk=36e5,S$=6e4,Dg={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Kp(t,e,r){var n,a;if(!t||(n=Dg.timezoneZ.exec(t),n))return 0;var i;if(n=Dg.timezoneHH.exec(t),n)return i=parseInt(n[1],10),qk(i)?-(i*Xk):NaN;if(n=Dg.timezoneHHMM.exec(t),n){i=parseInt(n[2],10);var s=parseInt(n[3],10);return qk(i,s)?(a=Math.abs(i)*Xk+s*S$,n[1]==="+"?-a:a):NaN}if(j$(t)){e=new Date(e||Date.now());var o=r?e:E$(e),c=z1(o,t),u=r?c:C$(e,c,t);return-u}return NaN}function E$(t){return xw(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function z1(t,e){var r=b$(t,e),n=xw(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),a=t.getTime(),i=a%1e3;return a-=i>=0?i:1e3+i,n-a}function C$(t,e,r){var n=t.getTime(),a=n-e,i=z1(new Date(a),r);if(e===i)return e;a-=i-e;var s=z1(new Date(a),r);return i===s?i:Math.max(i,s)}function qk(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var Yk={};function j$(t){if(Yk[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Yk[t]=!0,!0}catch{return!1}}var A$=60*1e3,T$={X:function(t,e,r,n){var a=Pg(n.timeZone,t);if(a===0)return"Z";switch(e){case"X":return Kk(a);case"XXXX":case"XX":return bl(a);case"XXXXX":case"XXX":default:return bl(a,":")}},x:function(t,e,r,n){var a=Pg(n.timeZone,t);switch(e){case"x":return Kk(a);case"xxxx":case"xx":return bl(a);case"xxxxx":case"xxx":default:return bl(a,":")}},O:function(t,e,r,n){var a=Pg(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+I$(a,":");case"OOOO":default:return"GMT"+bl(a,":")}},z:function(t,e,r,n){switch(e){case"z":case"zz":case"zzz":return Gk("short",t,n);case"zzzz":default:return Gk("long",t,n)}}};function Pg(t,e){var r=t?Kp(t,e,!0)/A$:e.getTimezoneOffset();if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+t);return r}function D0(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}function bl(t,e){var r=e||"",n=t>0?"-":"+",a=Math.abs(t),i=D0(Math.floor(a/60),2),s=D0(Math.floor(a%60),2);return n+i+r+s}function Kk(t,e){if(t%60===0){var r=t>0?"-":"+";return r+D0(Math.abs(t)/60,2)}return bl(t,e)}function I$(t,e){var r=t>0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=e;return r+String(a)+s+D0(i,2)}var E6=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Rg=36e5,Zk=6e4,O$=2,Zr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:E6};function P0(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var r=e||{},n=r.additionalDigits==null?O$:$F(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var a=D$(t),i=P$(a.date,n),s=i.year,o=i.restDateString,c=R$(o,s);if(isNaN(c))return new Date(NaN);if(c){var u=c.getTime(),d=0,f;if(a.time&&(d=M$(a.time),isNaN(d)))return new Date(NaN);if(a.timeZone||r.timeZone){if(f=Kp(a.timeZone||r.timeZone,new Date(u+d)),isNaN(f))return new Date(NaN)}else f=Vk(new Date(u+d)),f=Vk(new Date(u+d+f));return new Date(u+d+f)}else return new Date(NaN)}function D$(t){var e={},r=Zr.dateTimePattern.exec(t),n;if(r?(e.date=r[1],n=r[3]):(r=Zr.datePattern.exec(t),r?(e.date=r[1],n=r[2]):(e.date=null,n=t)),n){var a=Zr.timeZone.exec(n);a?(e.time=n.replace(a[1],""),e.timeZone=a[1].trim()):e.time=n}return e}function P$(t,e){var r=Zr.YYY[e],n=Zr.YYYYY[e],a;if(a=Zr.YYYY.exec(t)||n.exec(t),a){var i=a[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(a=Zr.YY.exec(t)||r.exec(t),a){var s=a[1];return{year:parseInt(s,10)*100,restDateString:t.slice(s.length)}}return{year:null}}function R$(t,e){if(e===null)return null;var r,n,a,i;if(t.length===0)return n=new Date(0),n.setUTCFullYear(e),n;if(r=Zr.MM.exec(t),r)return n=new Date(0),a=parseInt(r[1],10)-1,Jk(e,a)?(n.setUTCFullYear(e,a),n):new Date(NaN);if(r=Zr.DDD.exec(t),r){n=new Date(0);var s=parseInt(r[1],10);return F$(e,s)?(n.setUTCFullYear(e,0,s),n):new Date(NaN)}if(r=Zr.MMDD.exec(t),r){n=new Date(0),a=parseInt(r[1],10)-1;var o=parseInt(r[2],10);return Jk(e,a,o)?(n.setUTCFullYear(e,a,o),n):new Date(NaN)}if(r=Zr.Www.exec(t),r)return i=parseInt(r[1],10)-1,e3(e,i)?Qk(e,i):new Date(NaN);if(r=Zr.WwwD.exec(t),r){i=parseInt(r[1],10)-1;var c=parseInt(r[2],10)-1;return e3(e,i,c)?Qk(e,i,c):new Date(NaN)}return null}function M$(t){var e,r,n;if(e=Zr.HH.exec(t),e)return r=parseFloat(e[1].replace(",",".")),Mg(r)?r%24*Rg:NaN;if(e=Zr.HHMM.exec(t),e)return r=parseInt(e[1],10),n=parseFloat(e[2].replace(",",".")),Mg(r,n)?r%24*Rg+n*Zk:NaN;if(e=Zr.HHMMSS.exec(t),e){r=parseInt(e[1],10),n=parseInt(e[2],10);var a=parseFloat(e[3].replace(",","."));return Mg(r,n,a)?r%24*Rg+n*Zk+a*1e3:NaN}return null}function Qk(t,e,r){e=e||0,r=r||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var a=n.getUTCDay()||7,i=e*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var L$=[31,28,31,30,31,30,31,31,30,31,30,31],B$=[31,29,31,30,31,30,31,31,30,31,30,31];function C6(t){return t%400===0||t%4===0&&t%100!==0}function Jk(t,e,r){if(e<0||e>11)return!1;if(r!=null){if(r<1)return!1;var n=C6(t);if(n&&r>B$[e]||!n&&r>L$[e])return!1}return!0}function F$(t,e){if(e<1)return!1;var r=C6(t);return!(r&&e>366||!r&&e>365)}function e3(t,e,r){return!(e<0||e>52||r!=null&&(r<0||r>6))}function Mg(t,e,r){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||r!=null&&(r<0||r>=60))}var $$=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function U$(t,e,r){var n=String(e),a=r||{},i=n.match($$);if(i){var s=P0(a.originalDate||t,a);n=i.reduce(function(o,c){if(c[0]==="'")return o;var u=o.indexOf(c),d=o[u-1]==="'",f=o.replace(c,"'"+T$[c[0]](s,c,null,a)+"'");return d?f.substring(0,u-1)+f.substring(u+1):f},n)}return g$(t,n,a)}var H1={exports:{}},W1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n,a){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i]);return n}t.exports=e.default})(W1,W1.exports);var z$=W1.exports;(function(t,e){var r=$t.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=r(z$);function a(i){return(0,n.default)({},i)}t.exports=e.default})(H1,H1.exports);var H$=H1.exports;const j6=li(H$);function R0(t,e,r){var n=P0(t,r),a=Kp(e,n,!0),i=new Date(n.getTime()-a),s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}function W$(t,e,r,n){var a=j6(n);return a.timeZone=e,a.originalDate=t,U$(R0(t,e),r,a)}function V$(t,e,r){if(typeof t=="string"&&!t.match(E6)){var n=j6(r);return n.timeZone=e,P0(t,n)}var a=P0(t,r),i=xw(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()).getTime(),s=Kp(e,new Date(i));return new Date(i+s)}const nf="Europe/Belgrade",Mi=(t,e=nf)=>{if(!t)return"--:--";if(/^\d{2}:\d{2}$/.test(t))return t;if(/^\d{2}:\d{2}:\d{2}$/.test(t))return t.substring(0,5);try{const n=new Date(t);if(!isNaN(n.getTime()))return W$(n,e,"HH:mm")}catch(n){console.error("Error parsing timestamp:",t,n)}const r=t.match(/(\d{1,2}):(\d{2})/);if(r){const n=r[1].padStart(2,"0"),a=r[2];return`${n}:${a}`}return t},Ja=(t,e,r=nf)=>{const n=Mi(t,r),a=Mi(e,r);return!n&&!a?"":n&&!a?n:!n&&a?a:`${n} - ${a}`},en=(t,e="d MMMM yyyy",r=nf)=>{if(!t)return console.warn("formatRussianDate: dateString is null or undefined"),"  ";try{const n=String(t).trim();if(!n)return console.warn("formatRussianDate: dateString is empty"),"  ";const a=new Date(n);if(isNaN(a.getTime()))return console.warn("formatRussianDate: Invalid date string:",t)," ";const i=Ci(n);if(isNaN(i.getTime()))return console.warn("formatRussianDate: parseISO failed for:",t),"  ";const s=R0(i,r);return lt(s,e,{locale:ra})}catch(n){return console.error("formatRussianDate: Error formatting date:",t,n)," "}},ds=(t,e=nf)=>{try{if(!t)return!1;const r=Ci(t);if(isNaN(r.getTime()))return!1;const n=R0(r,e),i=R0(new Date,e);return n<i}catch(r){return console.error("Error checking event date:",r),!1}},t3=(t,e)=>{try{if(!t||!e)throw new Error("Date and time are required");const r=typeof t=="string"?Ci(t):t;if(isNaN(r.getTime()))throw new Error("Invalid date provided");const[n,a]=e.split(":").map(Number);if(isNaN(n)||isNaN(a))throw new Error("Invalid time format");const i=new Date(r);return i.setHours(n,a,0,0),V$(i,nf).toISOString()}catch(r){return console.error("Error formatting date time for database:",r),new Date().toISOString()}},ei=t=>{if(!t)return!1;try{const e=String(t).trim();if(!e)return!1;const r=new Date(e);return!isNaN(r.getTime())}catch{return!1}},G$=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(null),[a,i]=_.useState(!0),[s,o]=_.useState(null);if(_.useEffect(()=>{(async()=>{try{i(!0);const{data:x,error:v}=await ue.from("site_settings").select("homepage_settings").single();let b=3;if(v)console.error("Error fetching settings:",v),n({events_count:3,show_title:!0,show_date:!0,show_time:!0,show_language:!0,show_type:!0,show_age:!0,show_image:!0,show_price:!0});else{const j=(x==null?void 0:x.homepage_settings)||{};b=j.events_count||3,n({events_count:b,show_title:j.show_title!==!1,show_date:j.show_date!==!1,show_time:j.show_time!==!1,show_language:j.show_language!==!1,show_type:j.show_type!==!1,show_age:j.show_age!==!1,show_image:j.show_image!==!1,show_price:j.show_price!==!1})}const w=new Date().toISOString(),{data:S,error:E}=await ue.from("events").select("*").eq("status","active").gte("end_at",w).order("start_at",{ascending:!0}).limit(b);if(E)throw E;e(S||[])}catch(x){console.error("Error fetching data:",x),o("Failed to load events")}finally{i(!1)}})()},[]),a)return l.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:" ..."})]})})});if(s)return l.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsx("div",{className:"text-center text-red-600 dark:text-red-400",children:l.jsxs("p",{children:["  : ",s]})})})});const{show_title:c=!0,show_date:u=!0,show_time:d=!0,show_language:f=!0,show_type:h=!0,show_age:p=!0,show_image:m=!0,show_price:g=!0}=r||{};return l.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:" "}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"     "})]}),t.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:t.map(y=>l.jsxs(Be,{to:`/events/${y.id}`,className:"group bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[m&&l.jsxs("div",{className:"relative h-48",children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${zt(y.bg_image)})`},children:l.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors"})}),c&&l.jsx("div",{className:"absolute inset-0 flex items-end p-4",children:l.jsx("h3",{className:"text-white text-lg font-semibold drop-shadow-md",children:y.title})}),p&&l.jsx("div",{className:"absolute top-3 right-3",children:l.jsx("span",{className:"px-2 py-1 bg-black/70 text-white rounded-full text-xs font-medium",children:y.age_category})})]}),l.jsxs("div",{className:"p-5",children:[u&&y.start_at&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[l.jsx(Oe,{className:"h-4 w-4 flex-shrink-0"}),l.jsx("span",{children:y.start_at&&new Date(y.start_at).getTime()?en(y.start_at):"  "}),d&&y.start_at&&l.jsxs(l.Fragment,{children:[l.jsx(bn,{className:"h-4 w-4 flex-shrink-0 ml-2"}),l.jsx("span",{children:Mi(y.start_at)})]})]}),!m&&c&&l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:y.title}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[f&&y.languages&&y.languages.length>0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Up,{className:"h-3 w-3 text-gray-500"}),l.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:y.languages.join(", ")})]}),h&&y.event_type&&l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:y.event_type})]}),g&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Vt,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.payment_type==="free"?"":y.price?`${y.price} ${y.currency||"RSD"}`:"  "})]}),l.jsx(fa,{className:"h-4 w-4 text-primary-600 group-hover:translate-x-1 transition-transform"})]})]})]},y.id))}),l.jsx("div",{className:"text-center",children:l.jsxs(Be,{to:"/events",className:"inline-flex items-center gap-2 bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[l.jsx("span",{children:" "}),l.jsx(fa,{className:"h-4 w-4"})]})})]}):l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Oe,{className:"w-12 h-12 text-primary-500"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"   -    !"})]})]})})},X$=()=>{const[t,e]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState(!0),[s,o]=_.useState(null);_.useEffect(()=>{(async()=>{try{const{data:d,error:f}=await ue.from("speakers").select("*").eq("active",!0);if(f)throw f;if(e(d||[]),d&&d.length>0){const h=[...d].sort(()=>.5-Math.random());n(h.slice(0,4))}}catch(d){console.error("Error fetching speakers:",d),o("   ")}finally{i(!1)}})()},[]);const c=()=>{if(t.length>0){const u=[...t].sort(()=>.5-Math.random());n(u.slice(0,4))}};return a?l.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-3xl font-semibold mb-12 text-center text-gray-900 dark:text-white",children:" "}),l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})]})}):s?l.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-3xl font-semibold mb-12 text-center text-gray-900 dark:text-white",children:" "}),l.jsx("div",{className:"text-center text-red-600 dark:text-red-400",children:s})]})}):t.length===0?l.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-3xl font-semibold mb-12 text-center text-gray-900 dark:text-white",children:" "}),l.jsx("div",{className:"text-center text-gray-600 dark:text-gray-400",children:"     "})]})}):l.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-semibold text-gray-900 dark:text-white mb-4 md:mb-0",children:" "}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:c,className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium transition-colors",children:" "}),l.jsx("a",{href:"https://forms.gle/2SvevGTqxBbtCs7x5",className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium transition-colors",children:"+  "})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.map(u=>{var d,f;return l.jsxs(Be,{to:`/speakers/${u.id}`,className:"group bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"relative aspect-square",children:(f=(d=u.photos)==null?void 0:d[0])!=null&&f.url?l.jsx("img",{src:zt(u.photos[0].url),alt:u.name,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-90",onError:h=>{const p=h.target;p.onerror=null,p.src="",p.parentElement.className="relative aspect-square bg-gray-100 dark:bg-dark-700 flex items-center justify-center",p.parentElement.innerHTML='<User className="w-12 h-12 text-gray-400 dark:text-dark-500" />'}}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-dark-700",children:l.jsx(Cn,{className:"w-12 h-12 text-gray-400 dark:text-dark-500"})})}),l.jsxs("div",{className:"p-5",children:[l.jsx("h3",{className:"text-lg font-semibold mb-1 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:u.name}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:u.field_of_expertise})]})]},u.id)}),l.jsxs(Be,{to:"/speakers",className:"group bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow flex flex-col items-center justify-center p-6 text-center",children:[l.jsx("div",{className:"mb-3 p-3 bg-gray-100 dark:bg-dark-800 rounded-full",children:l.jsx(fa,{className:"h-6 w-6 text-gray-600 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:" "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"  "})]})]})]})})},q$=()=>{const[t,e]=_.useState(null),[r,n]=_.useState(!0),[a,i]=_.useState(null),s=_.useRef(null),o=_.useRef(null),c=_.useRef(null);return _.useEffect(()=>{let u=!0;return(async()=>{try{const{data:f,error:h}=await ue.from("site_settings").select("rent_selection").single();if(!u)return;if(h)throw h;f!=null&&f.rent_selection&&e(f.rent_selection)}catch(f){console.error("Error fetching Rent section data:",f),u&&i("   ")}finally{u&&n(!1)}})(),()=>{u=!1}},[]),_.useEffect(()=>{if(!(t!=null&&t.image)||!s.current)return;const u=new IntersectionObserver(d=>{d.forEach(f=>{if(f.isIntersecting){const h=f.target;h.src=h.dataset.src||"",u.unobserve(h)}})},{rootMargin:"200px",threshold:.1});return u.observe(s.current),()=>{s.current&&u.unobserve(s.current)}},[t==null?void 0:t.image]),_.useEffect(()=>{if(!o.current||!c.current)return;const u=new ResizeObserver(d=>{for(let f of d)f.target===o.current&&(c.current.style.height=`${f.contentRect.height}px`)});return u.observe(o.current),()=>{u.disconnect()}},[t]),r?l.jsx("div",{className:"section bg-white dark:bg-dark-900 min-h-[400px] flex items-center justify-center",children:"..."}):a?l.jsx("div",{className:"section bg-white dark:bg-dark-900 min-h-[400px] flex items-center justify-center text-red-500",children:a}):!t||!t.enabled?null:l.jsx("section",{className:"section bg-white dark:bg-dark-900",children:l.jsxs("div",{className:"container grid-layout items-start",children:[l.jsx("div",{className:"image-content order-1 md:order-none mt-8 md:mt-0",ref:c,children:l.jsx("div",{className:"w-full h-full rounded-lg overflow-hidden relative",children:l.jsx("img",{ref:s,"data-src":zt(t.image),alt:t.title,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy",width:"600",height:"400"})})}),l.jsxs("div",{className:"text-content order-2 md:order-none",ref:o,children:[l.jsx("h3",{className:"mb-6",children:t.title}),l.jsx("div",{className:"text-base space-y-4 mb-8",dangerouslySetInnerHTML:{__html:t.description}}),l.jsxs(Be,{to:"/rent",className:"inline-flex items-center text-primary-500 hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300 transition-colors font-medium",children:["",l.jsx(fa,{className:"ml-2"})]})]})]})})},Y$=()=>{const[t,e]=_.useState(null),[r,n]=_.useState(!0);_.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const{data:i,error:s}=await ue.from("site_settings").select("coworking_selection").single();if(s)throw s;i!=null&&i.coworking_selection&&e(i.coworking_selection)}catch(i){console.error("Error fetching Coworking section data:",i)}finally{n(!1)}};return r?l.jsx("div",{children:"Loading..."}):!t||!t.enabled?null:l.jsx("section",{className:"section bg-white dark:bg-dark-900",children:l.jsxs("div",{className:"container grid-layout items-center",children:[l.jsxs("div",{className:"text-content",children:[l.jsx("h3",{className:"mb-6",children:t.title}),l.jsx("div",{className:"text-base space-y-4 mb-8",dangerouslySetInnerHTML:{__html:t.description}}),l.jsxs(Be,{to:"/about",className:"inline-flex items-center text-primary-500 hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300 transition-colors font-medium",children:[" ",l.jsx(fa,{className:"ml-2"})]})]}),l.jsx("div",{className:"image-content mt-8 md:mt-0",children:l.jsx("img",{src:zt(t.image),alt:t.title,className:"w-full h-auto rounded-lg shadow-md"})})]})})},K$=()=>l.jsxs(Ot,{children:[l.jsx(TL,{}),l.jsx(IL,{}),l.jsx(G$,{}),l.jsx(X$,{}),l.jsx(q$,{}),l.jsx(Y$,{})]}),A6=_.createContext(void 0),Z$=({children:t})=>{const[e,r]=_.useState(null),[n,a]=_.useState(!0);_.useEffect(()=>{(async()=>{var f;try{const{data:{session:h}}=await ue.auth.getSession();r(h!=null&&h.user?{id:h.user.id,email:h.user.email||"",name:(f=h.user.user_metadata)==null?void 0:f.name}:null)}catch(h){console.error("Error checking auth status:",h),r(null)}finally{a(!1)}})();const{data:d}=ue.auth.onAuthStateChange((f,h)=>{var p;h!=null&&h.user?r({id:h.user.id,email:h.user.email||"",name:(p=h.user.user_metadata)==null?void 0:p.name}):r(null),a(!1)});return()=>{d.subscription.unsubscribe()}},[]);const i=async(u,d)=>{const{error:f}=await ue.auth.signInWithPassword({email:u,password:d});if(f)throw f},s=async(u,d,f)=>{const{error:h}=await ue.auth.signUp({email:u,password:d,options:{data:{name:f},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(h)throw h},o=async()=>{const{error:u}=await ue.auth.signOut();if(u)throw u},c=async u=>{const{error:d}=await ue.auth.resetPasswordForEmail(u,{redirectTo:`${window.location.origin}/reset-password`});if(d)throw d};return l.jsx(A6.Provider,{value:{user:e,loading:n,signIn:i,signUp:s,signOut:o,resetPassword:c},children:t})},al=()=>{const t=_.useContext(A6);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},yw=t=>{const[e,r]=_.useState([]),[n,a]=_.useState(!1),i=async()=>{if(t){a(!0);try{const{data:c,error:u}=await ue.from("user_favorite_speakers").select("speaker_id").eq("user_id",t);if(u)throw u;r((c==null?void 0:c.map(d=>d.speaker_id))||[])}catch(c){console.error("Error fetching favorite speakers:",c)}finally{a(!1)}}},s=async c=>{if(!t){K.error("      ");return}const u=e.includes(c);try{if(u){const{error:d}=await ue.from("user_favorite_speakers").delete().eq("user_id",t).eq("speaker_id",c);if(d)throw d;r(f=>f.filter(h=>h!==c)),K.success("   ")}else{const{error:d}=await ue.from("user_favorite_speakers").insert({user_id:t,speaker_id:c});if(d)throw d;r(f=>[...f,c]),K.success("   ")}}catch(d){console.error("Error toggling favorite speaker:",d),K.error("   ")}},o=c=>e.includes(c);return _.useEffect(()=>{i()},[t]),{favoriteSpeakers:e,loading:n,toggleFavoriteSpeaker:s,isFavoriteSpeaker:o,refetch:i}},bw=t=>{const[e,r]=_.useState([]),[n,a]=_.useState(!1),i=async()=>{if(t){a(!0);try{const{data:c,error:u}=await ue.from("user_favorite_events").select("event_id").eq("user_id",t);if(u)throw u;r((c==null?void 0:c.map(d=>d.event_id))||[])}catch(c){console.error("Error fetching favorite events:",c)}finally{a(!1)}}},s=async c=>{if(!t){K.error("      ");return}const u=e.includes(c);try{if(u){const{error:d}=await ue.from("user_favorite_events").delete().eq("user_id",t).eq("event_id",c);if(d)throw d;r(f=>f.filter(h=>h!==c)),K.success("   ")}else{const{error:d}=await ue.from("user_favorite_events").insert({user_id:t,event_id:c});if(d)throw d;r(f=>[...f,c]),K.success("   ")}}catch(d){console.error("Error toggling favorite event:",d),K.error("   ")}},o=c=>e.includes(c);return _.useEffect(()=>{i()},[t]),{favoriteEvents:e,loading:n,toggleFavoriteEvent:s,isFavoriteEvent:o,refetch:i}},T6=({isFavorite:t,onClick:e,className:r="",size:n="md",loading:a=!1})=>{const i={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},s={sm:"p-1",md:"p-2",lg:"p-3"};return l.jsx("button",{onClick:e,disabled:a,className:`${s[n]} rounded-full transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed ${r}`,title:t?"  ":"  ",children:l.jsx(aa,{className:`${i[n]} transition-colors ${t?"text-red-500 fill-red-500":"text-gray-400 hover:text-red-500"} ${a?"animate-pulse":""}`})})},r3=({eventId:t,className:e="",size:r="md"})=>{const{user:n}=al(),{toggleFavoriteEvent:a,isFavoriteEvent:i,loading:s}=bw(n==null?void 0:n.id);if(!n)return null;const o=c=>{c.preventDefault(),c.stopPropagation(),a(t)};return l.jsx(T6,{isFavorite:i(t),onClick:o,loading:s,className:e,size:r})},n3={lecture:"",workshop:"-","movie discussion":" ","conversation club":" ",festival:"","stand-up":"",concert:"",excursion:"",discussion:"",swap:"",quiz:"",default:""},a3=t=>{if(ei(t.start_at))try{return en(t.start_at,"d MMMM")}catch(e){console.error("Error formatting start_at:",t.start_at,e)}if(ei(t.start_time))try{return en(t.start_time,"d MMMM")}catch(e){console.error("Error formatting start_time:",t.start_time,e)}if(ei(t.date))try{return en(t.date,"d MMMM")}catch(e){console.error("Error formatting date:",t.date,e)}return"  "},i3=(t,e)=>{try{return t.start_at&&t.end_at?e?e(t.start_at,t.end_at):Ja(t.start_at,t.end_at):t.start_time&&t.end_time?e?e(t.start_time,t.end_time):Ja(t.start_time,t.end_time):""}catch(r){return console.error("Error formatting time range in EventsList:",r),""}},s3=t=>{try{return t.payment_type==="free"?"":t.payment_type==="donation"?"":t.price===null||t.price===void 0?"":t.price&&t.currency?`${t.price} ${t.currency}`:"  "}catch(e){return console.error("Error formatting price:",e),"  "}},Q$=({events:t,type:e="upcoming",searchQuery:r="",viewMode:n="grid",showPrice:a=!1,className:i="",formatTimeRange:s})=>{const o=t.filter(u=>{const d=r.toLowerCase();return u.title.toLowerCase().includes(d)||u.description&&u.description.toLowerCase().includes(d)});if(o.length===0)return l.jsx("div",{className:`py-12 text-center ${i}`,children:l.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:r?"     ":"  "})});const c=u=>{const d=u.toLowerCase().replace(/-/g,"_");return n3[d]||n3.default};return l.jsx("div",{className:`${i} ${e==="upcoming"?"upcoming-events":"past-events"}`,children:n==="list"?l.jsx("div",{className:"space-y-4",children:o.map(u=>{var d;return l.jsxs("div",{className:"card hover:shadow-md transition-shadow flex flex-col md:flex-row relative",children:[l.jsx("div",{className:"absolute top-3 right-3 z-10",children:l.jsx(r3,{eventId:u.id.toString(),className:"bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm hover:bg-white dark:hover:bg-dark-800 shadow-sm",size:"sm"})}),l.jsx("div",{className:"md:w-1/3 h-48 md:h-auto bg-cover bg-center relative",style:{backgroundImage:`url(${zt(u.bg_image)})`},children:l.jsx("div",{className:"absolute bottom-3 left-3 flex flex-wrap gap-1",children:l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:[l.jsx(Vt,{className:"h-4 w-4 mr-1.5"}),u.age_category]})})}),l.jsxs("div",{className:"p-5 md:w-2/3 flex flex-col",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(d=u.languages)==null?void 0:d.map((f,h)=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[l.jsx(Up,{className:"h-4 w-4 mr-1.5"}),f]},h)),l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-violet-100 text-violet-800 dark:bg-violet-900/30 dark:text-violet-300",children:[l.jsx(Lj,{className:"h-4 w-4 mr-1.5"}),c(u.event_type)]})]}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:u.title}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Oe,{className:"h-4 w-4 mr-1"}),l.jsx("span",{children:a3(u)})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(bn,{className:"h-4 w-4 mr-1"}),l.jsx("span",{children:i3(u,s)})]}),u.location&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(vr,{className:"h-4 w-4 mr-1"}),l.jsx("span",{children:u.location})]})]}),u.description&&l.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-300 line-clamp-2",children:u.description})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mt-4",children:[a&&u.payment_type&&l.jsx("div",{className:"font-medium text-primary-600 dark:text-primary-400",children:s3(u)}),l.jsx("div",{className:"flex gap-2",children:l.jsx(Be,{to:`/events/${u.id}`,className:"btn btn-primary",children:""})})]})]})]},u.id)})}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:o.map(u=>{var d;return l.jsxs("div",{className:"card group overflow-hidden hover:shadow-md transition-shadow relative",children:[l.jsx("div",{className:"absolute top-3 right-3 z-10",children:l.jsx(r3,{eventId:u.id.toString(),className:"bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm hover:bg-white dark:hover:bg-dark-800 shadow-sm",size:"sm"})}),l.jsxs(Be,{to:`/events/${u.id}`,children:[l.jsxs("div",{className:"relative aspect-video bg-gray-100 dark:bg-gray-800",children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-300 group-hover:scale-105",style:{backgroundImage:`url(${zt(u.bg_image)})`}}),l.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs("span",{className:"text-white font-medium flex items-center",children:[" ",l.jsx(fa,{className:"ml-2 h-4 w-4"})]})}),l.jsx("div",{className:"absolute bottom-3 left-3 flex gap-1",children:l.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:u.age_category})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(d=u.languages)==null?void 0:d.slice(0,2).map((f,h)=>l.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:f},h)),l.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-violet-100 text-violet-800 dark:bg-violet-900/30 dark:text-violet-300",children:c(u.event_type)})]}),l.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:u.title}),l.jsxs("div",{className:"flex flex-col gap-1 text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Oe,{className:"h-4 w-4 mr-1 flex-shrink-0"}),l.jsx("span",{children:a3(u)})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(bn,{className:"h-4 w-4 mr-1 flex-shrink-0"}),l.jsx("span",{children:i3(u,s)})]})]}),a&&u.payment_type&&l.jsx("div",{className:"mt-3 font-medium text-primary-600 dark:text-primary-400",children:s3(u)})]})]})]},u.id)})})})};var I6={},O6={},Zp={},D6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(D6);var J$="Expected a function",o3=NaN,eU="[object Symbol]",tU=/^\s+|\s+$/g,rU=/^[-+]0x[0-9a-f]+$/i,nU=/^0b[01]+$/i,aU=/^0o[0-7]+$/i,iU=parseInt,sU=typeof kt=="object"&&kt&&kt.Object===Object&&kt,oU=typeof self=="object"&&self&&self.Object===Object&&self,lU=sU||oU||Function("return this")(),cU=Object.prototype,uU=cU.toString,dU=Math.max,fU=Math.min,Lg=function(){return lU.Date.now()};function hU(t,e,r){var n,a,i,s,o,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(J$);e=l3(e)||0,V1(r)&&(d=!!r.leading,f="maxWait"in r,i=f?dU(l3(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function p(E){var j=n,I=a;return n=a=void 0,u=E,s=t.apply(I,j),s}function m(E){return u=E,o=setTimeout(x,e),d?p(E):s}function g(E){var j=E-c,I=E-u,k=e-j;return f?fU(k,i-I):k}function y(E){var j=E-c,I=E-u;return c===void 0||j>=e||j<0||f&&I>=i}function x(){var E=Lg();if(y(E))return v(E);o=setTimeout(x,g(E))}function v(E){return o=void 0,h&&n?p(E):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=c=a=o=void 0}function w(){return o===void 0?s:v(Lg())}function S(){var E=Lg(),j=y(E);if(n=arguments,a=this,c=E,j){if(o===void 0)return m(c);if(f)return o=setTimeout(x,e),p(c)}return o===void 0&&(o=setTimeout(x,e)),s}return S.cancel=b,S.flush=w,S}function V1(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function pU(t){return!!t&&typeof t=="object"}function mU(t){return typeof t=="symbol"||pU(t)&&uU.call(t)==eU}function l3(t){if(typeof t=="number")return t;if(mU(t))return o3;if(V1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=V1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(tU,"");var r=nU.test(t);return r||aU.test(t)?iU(t.slice(2),r?2:8):rU.test(t)?o3:+t}var gU=hU,P6={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var i="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(i=a(i,n(o)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var s="";for(var o in i)e.call(i,o)&&i[o]&&(s=a(s,o));return s}function a(i,s){return s?i?i+" "+s:i+s:i}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(P6);var af=P6.exports;const G1=li(af);var me={},ww={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=r(_);function r(a){return a&&a.__esModule?a:{default:a}}var n={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(i){return e.default.createElement("ul",{style:{display:"block"}},i)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(i){return e.default.createElement("button",null,i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=n})(ww);Object.defineProperty(me,"__esModule",{value:!0});me.checkSpecKeys=me.checkNavigable=me.changeSlide=me.canUseDOM=me.canGoNext=void 0;me.clamp=M6;me.extractObject=void 0;me.filterSettings=IU;me.validSettings=me.swipeStart=me.swipeMove=me.swipeEnd=me.slidesOnRight=me.slidesOnLeft=me.slideHandler=me.siblingDirection=me.safePreventDefault=me.lazyStartIndex=me.lazySlidesOnRight=me.lazySlidesOnLeft=me.lazyEndIndex=me.keyHandler=me.initializedState=me.getWidth=me.getTrackLeft=me.getTrackCSS=me.getTrackAnimateCSS=me.getTotalSlides=me.getSwipeDirection=me.getSlideCount=me.getRequiredLazySlides=me.getPreClones=me.getPostClones=me.getOnDemandLazySlides=me.getNavigableIndexes=me.getHeight=void 0;var vU=R6(_),xU=R6(ww);function R6(t){return t&&t.__esModule?t:{default:t}}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function c3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(r),!0).forEach(function(n){yU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yU(t,e,r){return e=bU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bU(t){var e=wU(t,"string");return Ad(e)=="symbol"?e:String(e)}function wU(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M6(t,e,r){return Math.max(e,Math.min(t,r))}var Kl=me.safePreventDefault=function(e){var r=["onTouchStart","onTouchMove","onWheel"];r.includes(e._reactName)||e.preventDefault()},L6=me.getOnDemandLazySlides=function(e){for(var r=[],n=B6(e),a=F6(e),i=n;i<a;i++)e.lazyLoadedList.indexOf(i)<0&&r.push(i);return r};me.getRequiredLazySlides=function(e){for(var r=[],n=B6(e),a=F6(e),i=n;i<a;i++)r.push(i);return r};var B6=me.lazyStartIndex=function(e){return e.currentSlide-_U(e)},F6=me.lazyEndIndex=function(e){return e.currentSlide+kU(e)},_U=me.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},kU=me.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},X1=me.getWidth=function(e){return e&&e.offsetWidth||0},$6=me.getHeight=function(e){return e&&e.offsetHeight||0},U6=me.getSwipeDirection=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,a,i,s;return n=e.startX-e.curX,a=e.startY-e.curY,i=Math.atan2(a,n),s=Math.round(i*180/Math.PI),s<0&&(s=360-Math.abs(s)),s<=45&&s>=0||s<=360&&s>=315?"left":s>=135&&s<=225?"right":r===!0?s>=35&&s<=135?"up":"down":"vertical"},z6=me.canGoNext=function(e){var r=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(r=!1),r};me.extractObject=function(e,r){var n={};return r.forEach(function(a){return n[a]=e[a]}),n};me.initializedState=function(e){var r=vU.default.Children.count(e.children),n=e.listRef,a=Math.ceil(X1(n)),i=e.trackRef&&e.trackRef.node,s=Math.ceil(X1(i)),o;if(e.vertical)o=a;else{var c=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(c*=a/100),o=Math.ceil((a-c)/e.slidesToShow)}var u=n&&$6(n.querySelector('[data-index="0"]')),d=u*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=r-1-e.initialSlide);var h=e.lazyLoadedList||[],p=L6(jt(jt({},e),{},{currentSlide:f,lazyLoadedList:h}));h=h.concat(p);var m={slideCount:r,slideWidth:o,listWidth:a,trackWidth:s,currentSlide:f,slideHeight:u,listHeight:d,lazyLoadedList:h};return e.autoplaying===null&&e.autoplay&&(m.autoplaying="playing"),m};me.slideHandler=function(e){var r=e.waitForAnimate,n=e.animating,a=e.fade,i=e.infinite,s=e.index,o=e.slideCount,c=e.lazyLoad,u=e.currentSlide,d=e.centerMode,f=e.slidesToScroll,h=e.slidesToShow,p=e.useCSS,m=e.lazyLoadedList;if(r&&n)return{};var g=s,y,x,v,b={},w={},S=i?s:M6(s,0,o-1);if(a){if(!i&&(s<0||s>=o))return{};s<0?g=s+o:s>=o&&(g=s-o),c&&m.indexOf(g)<0&&(m=m.concat(g)),b={animating:!0,currentSlide:g,lazyLoadedList:m,targetSlide:g},w={animating:!1,targetSlide:g}}else y=g,g<0?(y=g+o,i?o%f!==0&&(y=o-o%f):y=0):!z6(e)&&g>u?g=y=u:d&&g>=o?(g=i?o:o-1,y=i?0:o-1):g>=o&&(y=g-o,i?o%f!==0&&(y=0):y=o-h),!i&&g+h>=o&&(y=o-h),x=L0(jt(jt({},e),{},{slideIndex:g})),v=L0(jt(jt({},e),{},{slideIndex:y})),i||(x===v&&(g=y),x=v),c&&(m=m.concat(L6(jt(jt({},e),{},{currentSlide:g})))),p?(b={animating:!0,currentSlide:y,trackStyle:H6(jt(jt({},e),{},{left:x})),lazyLoadedList:m,targetSlide:S},w={animating:!1,currentSlide:y,trackStyle:M0(jt(jt({},e),{},{left:v})),swipeLeft:null,targetSlide:S}):b={currentSlide:y,trackStyle:M0(jt(jt({},e),{},{left:v})),lazyLoadedList:m,targetSlide:S};return{state:b,nextState:w}};me.changeSlide=function(e,r){var n,a,i,s,o,c=e.slidesToScroll,u=e.slidesToShow,d=e.slideCount,f=e.currentSlide,h=e.targetSlide,p=e.lazyLoad,m=e.infinite;if(s=d%c!==0,n=s?0:(d-f)%c,r.message==="previous")i=n===0?c:u-n,o=f-i,p&&!m&&(a=f-i,o=a===-1?d-1:a),m||(o=h-c);else if(r.message==="next")i=n===0?c:n,o=f+i,p&&!m&&(o=(f+c)%d+n),m||(o=h+c);else if(r.message==="dots")o=r.index*r.slidesToScroll;else if(r.message==="children"){if(o=r.index,m){var g=CU(jt(jt({},e),{},{targetSlide:o}));o>r.currentSlide&&g==="left"?o=o-d:o<r.currentSlide&&g==="right"&&(o=o+d)}}else r.message==="index"&&(o=Number(r.index));return o};me.keyHandler=function(e,r,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!r?"":e.keyCode===37?n?"next":"previous":e.keyCode===39?n?"previous":"next":""};me.swipeStart=function(e,r,n){return e.target.tagName==="IMG"&&Kl(e),!r||!n&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};me.swipeMove=function(e,r){var n=r.scrolling,a=r.animating,i=r.vertical,s=r.swipeToSlide,o=r.verticalSwiping,c=r.rtl,u=r.currentSlide,d=r.edgeFriction,f=r.edgeDragged,h=r.onEdge,p=r.swiped,m=r.swiping,g=r.slideCount,y=r.slidesToScroll,x=r.infinite,v=r.touchObject,b=r.swipeEvent,w=r.listHeight,S=r.listWidth;if(!n){if(a)return Kl(e);i&&s&&o&&Kl(e);var E,j={},I=L0(r);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var k=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!o&&!m&&k>10)return{scrolling:!0};o&&(v.swipeLength=k);var T=(c?-1:1)*(v.curX>v.startX?1:-1);o&&(T=v.curY>v.startY?1:-1);var L=Math.ceil(g/y),C=U6(r.touchObject,o),A=v.swipeLength;return x||(u===0&&(C==="right"||C==="down")||u+1>=L&&(C==="left"||C==="up")||!z6(r)&&(C==="left"||C==="up"))&&(A=v.swipeLength*d,f===!1&&h&&(h(C),j.edgeDragged=!0)),!p&&b&&(b(C),j.swiped=!0),i?E=I+A*(w/S)*T:c?E=I-A*T:E=I+A*T,o&&(E=I+A*T),j=jt(jt({},j),{},{touchObject:v,swipeLeft:E,trackStyle:M0(jt(jt({},r),{},{left:E}))}),Math.abs(v.curX-v.startX)<Math.abs(v.curY-v.startY)*.8||v.swipeLength>10&&(j.swiping=!0,Kl(e)),j}};me.swipeEnd=function(e,r){var n=r.dragging,a=r.swipe,i=r.touchObject,s=r.listWidth,o=r.touchThreshold,c=r.verticalSwiping,u=r.listHeight,d=r.swipeToSlide,f=r.scrolling,h=r.onSwipe,p=r.targetSlide,m=r.currentSlide,g=r.infinite;if(!n)return a&&Kl(e),{};var y=c?u/o:s/o,x=U6(i,c),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!i.swipeLength)return v;if(i.swipeLength>y){Kl(e),h&&h(x);var b,w,S=g?m:p;switch(x){case"left":case"up":w=S+d3(r),b=d?u3(r,w):w,v.currentDirection=0;break;case"right":case"down":w=S-d3(r),b=d?u3(r,w):w,v.currentDirection=1;break;default:b=S}v.triggerSlideHandler=b}else{var E=L0(r);v.trackStyle=H6(jt(jt({},r),{},{left:E}))}return v};var NU=me.getNavigableIndexes=function(e){for(var r=e.infinite?e.slideCount*2:e.slideCount,n=e.infinite?e.slidesToShow*-1:0,a=e.infinite?e.slidesToShow*-1:0,i=[];n<r;)i.push(n),n=a+e.slidesToScroll,a+=Math.min(e.slidesToScroll,e.slidesToShow);return i},u3=me.checkNavigable=function(e,r){var n=NU(e),a=0;if(r>n[n.length-1])r=n[n.length-1];else for(var i in n){if(r<n[i]){r=a;break}a=n[i]}return r},d3=me.getSlideCount=function(e){var r=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,a=e.listRef,i=a.querySelectorAll&&a.querySelectorAll(".slick-slide")||[];if(Array.from(i).every(function(c){if(e.vertical){if(c.offsetTop+$6(c)/2>e.swipeLeft*-1)return n=c,!1}else if(c.offsetLeft-r+X1(c)/2>e.swipeLeft*-1)return n=c,!1;return!0}),!n)return 0;var s=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,o=Math.abs(n.dataset.index-s)||1;return o}else return e.slidesToScroll},_w=me.checkSpecKeys=function(e,r){return r.reduce(function(n,a){return n&&e.hasOwnProperty(a)},!0)?null:console.error("Keys Missing:",e)},M0=me.getTrackCSS=function(e){_w(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r,n,a=e.slideCount+2*e.slidesToShow;e.vertical?n=a*e.slideHeight:r=EU(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",c=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=jt(jt({},i),{},{WebkitTransform:s,transform:o,msTransform:c})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),r&&(i.width=r),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i},H6=me.getTrackAnimateCSS=function(e){_w(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var r=M0(e);return e.useTransform?(r.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,r.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?r.transition="top "+e.speed+"ms "+e.cssEase:r.transition="left "+e.speed+"ms "+e.cssEase,r},L0=me.getTrackLeft=function(e){if(e.unslick)return 0;_w(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var r=e.slideIndex,n=e.trackRef,a=e.infinite,i=e.centerMode,s=e.slideCount,o=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,f=e.variableWidth,h=e.slideHeight,p=e.fade,m=e.vertical,g=0,y,x,v=0;if(p||e.slideCount===1)return 0;var b=0;if(a?(b=-Gh(e),s%c!==0&&r+c>s&&(b=-(r>s?o-(r-s):s%c)),i&&(b+=parseInt(o/2))):(s%c!==0&&r+c>s&&(b=o-s%c),i&&(b=parseInt(o/2))),g=b*u,v=b*h,m?y=r*h*-1+v:y=r*u*-1+g,f===!0){var w,S=n&&n.node;if(w=r+Gh(e),x=S&&S.childNodes[w],y=x?x.offsetLeft*-1:0,i===!0){w=a?r+Gh(e):r,x=S&&S.children[w],y=0;for(var E=0;E<w;E++)y-=S&&S.children[E]&&S.children[E].offsetWidth;y-=parseInt(e.centerPadding),y+=x&&(d-x.offsetWidth)/2}}return y},Gh=me.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},SU=me.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},EU=me.getTotalSlides=function(e){return e.slideCount===1?1:Gh(e)+e.slideCount+SU(e)},CU=me.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+jU(e)?"left":"right":e.targetSlide<e.currentSlide-AU(e)?"right":"left"},jU=me.slidesOnRight=function(e){var r=e.slidesToShow,n=e.centerMode,a=e.rtl,i=e.centerPadding;if(n){var s=(r-1)/2+1;return parseInt(i)>0&&(s+=1),a&&r%2===0&&(s+=1),s}return a?0:r-1},AU=me.slidesOnLeft=function(e){var r=e.slidesToShow,n=e.centerMode,a=e.rtl,i=e.centerPadding;if(n){var s=(r-1)/2+1;return parseInt(i)>0&&(s+=1),!a&&r%2===0&&(s+=1),s}return a?r-1:0};me.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var TU=me.validSettings=Object.keys(xU.default);function IU(t){return TU.reduce(function(e,r){return t.hasOwnProperty(r)&&(e[r]=t[r]),e},{})}var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Track=void 0;var as=W6(_),Bg=W6(af),Fg=me;function W6(t){return t&&t.__esModule?t:{default:t}}function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q1.apply(this,arguments)}function OU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G6(n.key),n)}}function PU(t,e,r){return e&&DU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y1(t,e)}function Y1(t,e){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y1(t,e)}function MU(t){var e=V6();return function(){var n=B0(t),a;if(e){var i=B0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return LU(this,a)}}function LU(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K1(t)}function K1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V6=function(){return!!t})()}function B0(t){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B0(t)}function f3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(r),!0).forEach(function(n){Z1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z1(t,e,r){return e=G6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G6(t){var e=BU(t,"string");return pc(e)=="symbol"?e:String(e)}function BU(t,e){if(pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $g=function(e){var r,n,a,i,s;e.rtl?s=e.slideCount-1-e.index:s=e.index,a=s<0||s>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-i-1&&s<=e.currentSlide+i&&(r=!0)):r=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow;var o;e.targetSlide<0?o=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?o=e.targetSlide-e.slideCount:o=e.targetSlide;var c=s===o;return{"slick-slide":!0,"slick-active":r,"slick-center":n,"slick-cloned":a,"slick-current":c}},FU=function(e){var r={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(r.width=e.slideWidth),e.fade&&(r.position="relative",e.vertical?r.top=-e.index*parseInt(e.slideHeight):r.left=-e.index*parseInt(e.slideWidth),r.opacity=e.currentSlide===e.index?1:0,r.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(r.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),r},Ug=function(e,r){return e.key||r},$U=function(e){var r,n=[],a=[],i=[],s=as.default.Children.count(e.children),o=(0,Fg.lazyStartIndex)(e),c=(0,Fg.lazyEndIndex)(e);return as.default.Children.forEach(e.children,function(u,d){var f,h={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?f=u:f=as.default.createElement("div",null);var p=FU(ln(ln({},e),{},{index:d})),m=f.props.className||"",g=$g(ln(ln({},e),{},{index:d}));if(n.push(as.default.cloneElement(f,{key:"original"+Ug(f,d),"data-index":d,className:(0,Bg.default)(g,m),tabIndex:"-1","aria-hidden":!g["slick-active"],style:ln(ln({outline:"none"},f.props.style||{}),p),onClick:function(v){f.props&&f.props.onClick&&f.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&e.fade===!1){var y=s-d;y<=(0,Fg.getPreClones)(e)&&(r=-y,r>=o&&(f=u),g=$g(ln(ln({},e),{},{index:r})),a.push(as.default.cloneElement(f,{key:"precloned"+Ug(f,r),"data-index":r,tabIndex:"-1",className:(0,Bg.default)(g,m),"aria-hidden":!g["slick-active"],style:ln(ln({},f.props.style||{}),p),onClick:function(v){f.props&&f.props.onClick&&f.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(h)}}))),r=s+d,r<c&&(f=u),g=$g(ln(ln({},e),{},{index:r})),i.push(as.default.cloneElement(f,{key:"postcloned"+Ug(f,r),"data-index":r,tabIndex:"-1",className:(0,Bg.default)(g,m),"aria-hidden":!g["slick-active"],style:ln(ln({},f.props.style||{}),p),onClick:function(v){f.props&&f.props.onClick&&f.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(h)}}))}}),e.rtl?a.concat(n,i).reverse():a.concat(n,i)};Qp.Track=function(t){RU(r,t);var e=MU(r);function r(){var n;OU(this,r);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i)),Z1(K1(n),"node",null),Z1(K1(n),"handleRef",function(o){n.node=o}),n}return PU(r,[{key:"render",value:function(){var a=$U(this.props),i=this.props,s=i.onMouseEnter,o=i.onMouseOver,c=i.onMouseLeave,u={onMouseEnter:s,onMouseOver:o,onMouseLeave:c};return as.default.createElement("div",q1({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),a)}}]),r}(as.default.PureComponent);var Jp={};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}Object.defineProperty(Jp,"__esModule",{value:!0});Jp.Dots=void 0;var nh=X6(_),UU=X6(af),h3=me;function X6(t){return t&&t.__esModule?t:{default:t}}function p3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(r),!0).forEach(function(n){HU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HU(t,e,r){return e=q6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q6(n.key),n)}}function GU(t,e,r){return e&&VU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q6(t){var e=XU(t,"string");return mc(e)=="symbol"?e:String(e)}function XU(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q1(t,e)}function Q1(t,e){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q1(t,e)}function YU(t){var e=Y6();return function(){var n=F0(t),a;if(e){var i=F0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return KU(this,a)}}function KU(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZU(t)}function ZU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y6=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F0(t)}var QU=function(e){var r;return e.infinite?r=Math.ceil(e.slideCount/e.slidesToScroll):r=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,r};Jp.Dots=function(t){qU(r,t);var e=YU(r);function r(){return WU(this,r),e.apply(this,arguments)}return GU(r,[{key:"clickHandler",value:function(a,i){i.preventDefault(),this.props.clickHandler(a)}},{key:"render",value:function(){for(var a=this.props,i=a.onMouseEnter,s=a.onMouseOver,o=a.onMouseLeave,c=a.infinite,u=a.slidesToScroll,d=a.slidesToShow,f=a.slideCount,h=a.currentSlide,p=QU({slideCount:f,slidesToScroll:u,slidesToShow:d,infinite:c}),m={onMouseEnter:i,onMouseOver:s,onMouseLeave:o},g=[],y=0;y<p;y++){var x=(y+1)*u-1,v=c?x:(0,h3.clamp)(x,0,f-1),b=v-(u-1),w=c?b:(0,h3.clamp)(b,0,f-1),S=(0,UU.default)({"slick-active":c?h>=w&&h<=v:h===w}),E={message:"dots",index:y,slidesToScroll:u,currentSlide:h},j=this.clickHandler.bind(this,E);g=g.concat(nh.default.createElement("li",{key:y,className:S},nh.default.cloneElement(this.props.customPaging(y),{onClick:j})))}return nh.default.cloneElement(this.props.appendDots(g),zU({className:this.props.dotsClass},m))}}]),r}(nh.default.PureComponent);var gc={};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}Object.defineProperty(gc,"__esModule",{value:!0});gc.PrevArrow=gc.NextArrow=void 0;var Zl=Z6(_),K6=Z6(af),JU=me;function Z6(t){return t&&t.__esModule?t:{default:t}}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$0.apply(this,arguments)}function m3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function U0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(r),!0).forEach(function(n){ez(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ez(t,e,r){return e=eA(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eA(n.key),n)}}function J6(t,e,r){return e&&tz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eA(t){var e=rz(t,"string");return vc(e)=="symbol"?e:String(e)}function rz(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J1(t,e)}function J1(t,e){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J1(t,e)}function rA(t){var e=nA();return function(){var n=z0(t),a;if(e){var i=z0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return nz(this,a)}}function nz(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return az(t)}function az(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nA=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z0(t)}gc.PrevArrow=function(t){tA(r,t);var e=rA(r);function r(){return Q6(this,r),e.apply(this,arguments)}return J6(r,[{key:"clickHandler",value:function(a,i){i&&i.preventDefault(),this.props.clickHandler(a,i)}},{key:"render",value:function(){var a={"slick-arrow":!0,"slick-prev":!0},i=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(a["slick-disabled"]=!0,i=null);var s={key:"0","data-role":"none",className:(0,K6.default)(a),style:{display:"block"},onClick:i},o={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.prevArrow?c=Zl.default.cloneElement(this.props.prevArrow,U0(U0({},s),o)):c=Zl.default.createElement("button",$0({key:"0",type:"button"},s)," ","Previous"),c}}]),r}(Zl.default.PureComponent);gc.NextArrow=function(t){tA(r,t);var e=rA(r);function r(){return Q6(this,r),e.apply(this,arguments)}return J6(r,[{key:"clickHandler",value:function(a,i){i&&i.preventDefault(),this.props.clickHandler(a,i)}},{key:"render",value:function(){var a={"slick-arrow":!0,"slick-next":!0},i=this.clickHandler.bind(this,{message:"next"});(0,JU.canGoNext)(this.props)||(a["slick-disabled"]=!0,i=null);var s={key:"1","data-role":"none",className:(0,K6.default)(a),style:{display:"block"},onClick:i},o={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.nextArrow?c=Zl.default.cloneElement(this.props.nextArrow,U0(U0({},s),o)):c=Zl.default.createElement("button",$0({key:"1",type:"button"},s)," ","Next"),c}}]),r}(Zl.default.PureComponent);var aA=function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(a,i){return a[0]===r?(n=i,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},e.prototype.set=function(r,n){var a=t(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,a=t(n,r);~a&&n.splice(a,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,i=this.__entries__;a<i.length;a++){var s=i[a];r.call(n,s[1],s[0])}},e}()}(),ey=typeof window<"u"&&typeof document<"u"&&window.document===document,H0=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),iz=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(H0):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),sz=2;function oz(t,e){var r=!1,n=!1,a=0;function i(){r&&(r=!1,t()),n&&o()}function s(){iz(i)}function o(){var c=Date.now();if(r){if(c-a<sz)return;n=!0}else r=!0,n=!1,setTimeout(s,e);a=c}return o}var lz=20,cz=["top","right","bottom","left","width","height","size","weight"],uz=typeof MutationObserver<"u",dz=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=oz(this.refresh.bind(this),lz)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!ey||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),uz?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!ey||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,a=cz.some(function(i){return!!~n.indexOf(i)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),iA=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var a=n[r];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},xc=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||H0},sA=em(0,0,0,0);function W0(t){return parseFloat(t)||0}function g3(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,a){var i=t["border-"+a+"-width"];return n+W0(i)},0)}function fz(t){for(var e=["top","right","bottom","left"],r={},n=0,a=e;n<a.length;n++){var i=a[n],s=t["padding-"+i];r[i]=W0(s)}return r}function hz(t){var e=t.getBBox();return em(0,0,e.width,e.height)}function pz(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return sA;var n=xc(t).getComputedStyle(t),a=fz(n),i=a.left+a.right,s=a.top+a.bottom,o=W0(n.width),c=W0(n.height);if(n.boxSizing==="border-box"&&(Math.round(o+i)!==e&&(o-=g3(n,"left","right")+i),Math.round(c+s)!==r&&(c-=g3(n,"top","bottom")+s)),!gz(t)){var u=Math.round(o+i)-e,d=Math.round(c+s)-r;Math.abs(u)!==1&&(o-=u),Math.abs(d)!==1&&(c-=d)}return em(a.left,a.top,o,c)}var mz=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof xc(t).SVGGraphicsElement}:function(t){return t instanceof xc(t).SVGElement&&typeof t.getBBox=="function"}}();function gz(t){return t===xc(t).document.documentElement}function vz(t){return ey?mz(t)?hz(t):pz(t):sA}function xz(t){var e=t.x,r=t.y,n=t.width,a=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(i.prototype);return iA(s,{x:e,y:r,width:n,height:a,top:r,right:e+n,bottom:a+r,left:e}),s}function em(t,e,r,n){return{x:t,y:e,width:r,height:n}}var yz=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=em(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=vz(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),bz=function(){function t(e,r){var n=xz(r);iA(this,{target:e,contentRect:n})}return t}(),wz=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new aA,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof xc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new yz(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof xc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new bz(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),oA=typeof WeakMap<"u"?new WeakMap:new aA,lA=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=dz.getInstance(),n=new wz(e,r,this);oA.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){lA.prototype[t]=function(){var e;return(e=oA.get(this))[t].apply(e,arguments)}});var _z=function(){return typeof H0.ResizeObserver<"u"?H0.ResizeObserver:lA}();const kz=Object.freeze(Object.defineProperty({__proto__:null,default:_z},Symbol.toStringTag,{value:"Module"})),Nz=J4(kz);Object.defineProperty(Zp,"__esModule",{value:!0});Zp.InnerSlider=void 0;var Hr=sf(_),Sz=sf(D6),Ez=sf(gU),Cz=sf(af),Dt=me,jz=Qp,Az=Jp,v3=gc,Tz=sf(Nz);function sf(t){return t&&t.__esModule?t:{default:t}}function Vo(t){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(t)}function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V0.apply(this,arguments)}function Iz(t,e){if(t==null)return{};var r=Oz(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oz(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function x3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x3(Object(r),!0).forEach(function(n){$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uA(n.key),n)}}function Rz(t,e,r){return e&&Pz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ty(t,e)}function ty(t,e){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ty(t,e)}function Lz(t){var e=cA();return function(){var n=G0(t),a;if(e){var i=G0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Bz(this,a)}}function Bz(t,e){if(e&&(Vo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fe(t)}function Fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cA=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G0(t)}function $e(t,e,r){return e=uA(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uA(t){var e=Fz(t,"string");return Vo(e)=="symbol"?e:String(e)}function Fz(t,e){if(Vo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Zp.InnerSlider=function(t){Mz(r,t);var e=Lz(r);function r(n){var a;Dz(this,r),a=e.call(this,n),$e(Fe(a),"listRefHandler",function(s){return a.list=s}),$e(Fe(a),"trackRefHandler",function(s){return a.track=s}),$e(Fe(a),"adaptHeight",function(){if(a.props.adaptiveHeight&&a.list){var s=a.list.querySelector('[data-index="'.concat(a.state.currentSlide,'"]'));a.list.style.height=(0,Dt.getHeight)(s)+"px"}}),$e(Fe(a),"componentDidMount",function(){if(a.props.onInit&&a.props.onInit(),a.props.lazyLoad){var s=(0,Dt.getOnDemandLazySlides)(je(je({},a.props),a.state));s.length>0&&(a.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(s)}}),a.props.onLazyLoad&&a.props.onLazyLoad(s))}var o=je({listRef:a.list,trackRef:a.track},a.props);a.updateState(o,!0,function(){a.adaptHeight(),a.props.autoplay&&a.autoPlay("update")}),a.props.lazyLoad==="progressive"&&(a.lazyLoadTimer=setInterval(a.progressiveLazyLoad,1e3)),a.ro=new Tz.default(function(){a.state.animating?(a.onWindowResized(!1),a.callbackTimers.push(setTimeout(function(){return a.onWindowResized()},a.props.speed))):a.onWindowResized()}),a.ro.observe(a.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(c){c.onfocus=a.props.pauseOnFocus?a.onSlideFocus:null,c.onblur=a.props.pauseOnFocus?a.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",a.onWindowResized):window.attachEvent("onresize",a.onWindowResized)}),$e(Fe(a),"componentWillUnmount",function(){a.animationEndCallback&&clearTimeout(a.animationEndCallback),a.lazyLoadTimer&&clearInterval(a.lazyLoadTimer),a.callbackTimers.length&&(a.callbackTimers.forEach(function(s){return clearTimeout(s)}),a.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",a.onWindowResized):window.detachEvent("onresize",a.onWindowResized),a.autoplayTimer&&clearInterval(a.autoplayTimer),a.ro.disconnect()}),$e(Fe(a),"componentDidUpdate",function(s){if(a.checkImagesLoad(),a.props.onReInit&&a.props.onReInit(),a.props.lazyLoad){var o=(0,Dt.getOnDemandLazySlides)(je(je({},a.props),a.state));o.length>0&&(a.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(o)}}),a.props.onLazyLoad&&a.props.onLazyLoad(o))}a.adaptHeight();var c=je(je({listRef:a.list,trackRef:a.track},a.props),a.state),u=a.didPropsChange(s);u&&a.updateState(c,u,function(){a.state.currentSlide>=Hr.default.Children.count(a.props.children)&&a.changeSlide({message:"index",index:Hr.default.Children.count(a.props.children)-a.props.slidesToShow,currentSlide:a.state.currentSlide}),a.props.autoplay?a.autoPlay("update"):a.pause("paused")})}),$e(Fe(a),"onWindowResized",function(s){a.debouncedResize&&a.debouncedResize.cancel(),a.debouncedResize=(0,Ez.default)(function(){return a.resizeWindow(s)},50),a.debouncedResize()}),$e(Fe(a),"resizeWindow",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,o=!!(a.track&&a.track.node);if(o){var c=je(je({listRef:a.list,trackRef:a.track},a.props),a.state);a.updateState(c,s,function(){a.props.autoplay?a.autoPlay("update"):a.pause("paused")}),a.setState({animating:!1}),clearTimeout(a.animationEndCallback),delete a.animationEndCallback}}),$e(Fe(a),"updateState",function(s,o,c){var u=(0,Dt.initializedState)(s);s=je(je(je({},s),u),{},{slideIndex:u.currentSlide});var d=(0,Dt.getTrackLeft)(s);s=je(je({},s),{},{left:d});var f=(0,Dt.getTrackCSS)(s);(o||Hr.default.Children.count(a.props.children)!==Hr.default.Children.count(s.children))&&(u.trackStyle=f),a.setState(u,c)}),$e(Fe(a),"ssrInit",function(){if(a.props.variableWidth){var s=0,o=0,c=[],u=(0,Dt.getPreClones)(je(je(je({},a.props),a.state),{},{slideCount:a.props.children.length})),d=(0,Dt.getPostClones)(je(je(je({},a.props),a.state),{},{slideCount:a.props.children.length}));a.props.children.forEach(function(j){c.push(j.props.style.width),s+=j.props.style.width});for(var f=0;f<u;f++)o+=c[c.length-1-f],s+=c[c.length-1-f];for(var h=0;h<d;h++)s+=c[h];for(var p=0;p<a.state.currentSlide;p++)o+=c[p];var m={width:s+"px",left:-o+"px"};if(a.props.centerMode){var g="".concat(c[a.state.currentSlide],"px");m.left="calc(".concat(m.left," + (100% - ").concat(g,") / 2 ) ")}return{trackStyle:m}}var y=Hr.default.Children.count(a.props.children),x=je(je(je({},a.props),a.state),{},{slideCount:y}),v=(0,Dt.getPreClones)(x)+(0,Dt.getPostClones)(x)+y,b=100/a.props.slidesToShow*v,w=100/v,S=-w*((0,Dt.getPreClones)(x)+a.state.currentSlide)*b/100;a.props.centerMode&&(S+=(100-w*b/100)/2);var E={width:b+"%",left:S+"%"};return{slideWidth:w+"%",trackStyle:E}}),$e(Fe(a),"checkImagesLoad",function(){var s=a.list&&a.list.querySelectorAll&&a.list.querySelectorAll(".slick-slide img")||[],o=s.length,c=0;Array.prototype.forEach.call(s,function(u){var d=function(){return++c&&c>=o&&a.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var f=u.onclick;u.onclick=function(h){f(h),u.parentNode.focus()}}u.onload||(a.props.lazyLoad?u.onload=function(){a.adaptHeight(),a.callbackTimers.push(setTimeout(a.onWindowResized,a.props.speed))}:(u.onload=d,u.onerror=function(){d(),a.props.onLazyLoadError&&a.props.onLazyLoadError()}))})}),$e(Fe(a),"progressiveLazyLoad",function(){for(var s=[],o=je(je({},a.props),a.state),c=a.state.currentSlide;c<a.state.slideCount+(0,Dt.getPostClones)(o);c++)if(a.state.lazyLoadedList.indexOf(c)<0){s.push(c);break}for(var u=a.state.currentSlide-1;u>=-(0,Dt.getPreClones)(o);u--)if(a.state.lazyLoadedList.indexOf(u)<0){s.push(u);break}s.length>0?(a.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(s)}}),a.props.onLazyLoad&&a.props.onLazyLoad(s)):a.lazyLoadTimer&&(clearInterval(a.lazyLoadTimer),delete a.lazyLoadTimer)}),$e(Fe(a),"slideHandler",function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=a.props,u=c.asNavFor,d=c.beforeChange,f=c.onLazyLoad,h=c.speed,p=c.afterChange,m=a.state.currentSlide,g=(0,Dt.slideHandler)(je(je(je({index:s},a.props),a.state),{},{trackRef:a.track,useCSS:a.props.useCSS&&!o})),y=g.state,x=g.nextState;if(y){d&&d(m,y.currentSlide);var v=y.lazyLoadedList.filter(function(b){return a.state.lazyLoadedList.indexOf(b)<0});f&&v.length>0&&f(v),!a.props.waitForAnimate&&a.animationEndCallback&&(clearTimeout(a.animationEndCallback),p&&p(m),delete a.animationEndCallback),a.setState(y,function(){u&&a.asNavForIndex!==s&&(a.asNavForIndex=s,u.innerSlider.slideHandler(s)),x&&(a.animationEndCallback=setTimeout(function(){var b=x.animating,w=Iz(x,["animating"]);a.setState(w,function(){a.callbackTimers.push(setTimeout(function(){return a.setState({animating:b})},10)),p&&p(y.currentSlide),delete a.animationEndCallback})},h))})}}),$e(Fe(a),"changeSlide",function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=je(je({},a.props),a.state),u=(0,Dt.changeSlide)(c,s);if(!(u!==0&&!u)&&(o===!0?a.slideHandler(u,o):a.slideHandler(u),a.props.autoplay&&a.autoPlay("update"),a.props.focusOnSelect)){var d=a.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),$e(Fe(a),"clickHandler",function(s){a.clickable===!1&&(s.stopPropagation(),s.preventDefault()),a.clickable=!0}),$e(Fe(a),"keyHandler",function(s){var o=(0,Dt.keyHandler)(s,a.props.accessibility,a.props.rtl);o!==""&&a.changeSlide({message:o})}),$e(Fe(a),"selectHandler",function(s){a.changeSlide(s)}),$e(Fe(a),"disableBodyScroll",function(){var s=function(c){c=c||window.event,c.preventDefault&&c.preventDefault(),c.returnValue=!1};window.ontouchmove=s}),$e(Fe(a),"enableBodyScroll",function(){window.ontouchmove=null}),$e(Fe(a),"swipeStart",function(s){a.props.verticalSwiping&&a.disableBodyScroll();var o=(0,Dt.swipeStart)(s,a.props.swipe,a.props.draggable);o!==""&&a.setState(o)}),$e(Fe(a),"swipeMove",function(s){var o=(0,Dt.swipeMove)(s,je(je(je({},a.props),a.state),{},{trackRef:a.track,listRef:a.list,slideIndex:a.state.currentSlide}));o&&(o.swiping&&(a.clickable=!1),a.setState(o))}),$e(Fe(a),"swipeEnd",function(s){var o=(0,Dt.swipeEnd)(s,je(je(je({},a.props),a.state),{},{trackRef:a.track,listRef:a.list,slideIndex:a.state.currentSlide}));if(o){var c=o.triggerSlideHandler;delete o.triggerSlideHandler,a.setState(o),c!==void 0&&(a.slideHandler(c),a.props.verticalSwiping&&a.enableBodyScroll())}}),$e(Fe(a),"touchEnd",function(s){a.swipeEnd(s),a.clickable=!0}),$e(Fe(a),"slickPrev",function(){a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"previous"})},0))}),$e(Fe(a),"slickNext",function(){a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"next"})},0))}),$e(Fe(a),"slickGoTo",function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s=Number(s),isNaN(s))return"";a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"index",index:s,currentSlide:a.state.currentSlide},o)},0))}),$e(Fe(a),"play",function(){var s;if(a.props.rtl)s=a.state.currentSlide-a.props.slidesToScroll;else if((0,Dt.canGoNext)(je(je({},a.props),a.state)))s=a.state.currentSlide+a.props.slidesToScroll;else return!1;a.slideHandler(s)}),$e(Fe(a),"autoPlay",function(s){a.autoplayTimer&&clearInterval(a.autoplayTimer);var o=a.state.autoplaying;if(s==="update"){if(o==="hovered"||o==="focused"||o==="paused")return}else if(s==="leave"){if(o==="paused"||o==="focused")return}else if(s==="blur"&&(o==="paused"||o==="hovered"))return;a.autoplayTimer=setInterval(a.play,a.props.autoplaySpeed+50),a.setState({autoplaying:"playing"})}),$e(Fe(a),"pause",function(s){a.autoplayTimer&&(clearInterval(a.autoplayTimer),a.autoplayTimer=null);var o=a.state.autoplaying;s==="paused"?a.setState({autoplaying:"paused"}):s==="focused"?(o==="hovered"||o==="playing")&&a.setState({autoplaying:"focused"}):o==="playing"&&a.setState({autoplaying:"hovered"})}),$e(Fe(a),"onDotsOver",function(){return a.props.autoplay&&a.pause("hovered")}),$e(Fe(a),"onDotsLeave",function(){return a.props.autoplay&&a.state.autoplaying==="hovered"&&a.autoPlay("leave")}),$e(Fe(a),"onTrackOver",function(){return a.props.autoplay&&a.pause("hovered")}),$e(Fe(a),"onTrackLeave",function(){return a.props.autoplay&&a.state.autoplaying==="hovered"&&a.autoPlay("leave")}),$e(Fe(a),"onSlideFocus",function(){return a.props.autoplay&&a.pause("focused")}),$e(Fe(a),"onSlideBlur",function(){return a.props.autoplay&&a.state.autoplaying==="focused"&&a.autoPlay("blur")}),$e(Fe(a),"render",function(){var s=(0,Cz.default)("slick-slider",a.props.className,{"slick-vertical":a.props.vertical,"slick-initialized":!0}),o=je(je({},a.props),a.state),c=(0,Dt.extractObject)(o,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=a.props.pauseOnHover;c=je(je({},c),{},{onMouseEnter:u?a.onTrackOver:null,onMouseLeave:u?a.onTrackLeave:null,onMouseOver:u?a.onTrackOver:null,focusOnSelect:a.props.focusOnSelect&&a.clickable?a.selectHandler:null});var d;if(a.props.dots===!0&&a.state.slideCount>=a.props.slidesToShow){var f=(0,Dt.extractObject)(o,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),h=a.props.pauseOnDotsHover;f=je(je({},f),{},{clickHandler:a.changeSlide,onMouseEnter:h?a.onDotsLeave:null,onMouseOver:h?a.onDotsOver:null,onMouseLeave:h?a.onDotsLeave:null}),d=Hr.default.createElement(Az.Dots,f)}var p,m,g=(0,Dt.extractObject)(o,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=a.changeSlide,a.props.arrows&&(p=Hr.default.createElement(v3.PrevArrow,g),m=Hr.default.createElement(v3.NextArrow,g));var y=null;a.props.vertical&&(y={height:a.state.listHeight});var x=null;a.props.vertical===!1?a.props.centerMode===!0&&(x={padding:"0px "+a.props.centerPadding}):a.props.centerMode===!0&&(x={padding:a.props.centerPadding+" 0px"});var v=je(je({},y),x),b=a.props.touchMove,w={className:"slick-list",style:v,onClick:a.clickHandler,onMouseDown:b?a.swipeStart:null,onMouseMove:a.state.dragging&&b?a.swipeMove:null,onMouseUp:b?a.swipeEnd:null,onMouseLeave:a.state.dragging&&b?a.swipeEnd:null,onTouchStart:b?a.swipeStart:null,onTouchMove:a.state.dragging&&b?a.swipeMove:null,onTouchEnd:b?a.touchEnd:null,onTouchCancel:a.state.dragging&&b?a.swipeEnd:null,onKeyDown:a.props.accessibility?a.keyHandler:null},S={className:s,dir:"ltr",style:a.props.style};return a.props.unslick&&(w={className:"slick-list"},S={className:s}),Hr.default.createElement("div",S,a.props.unslick?"":p,Hr.default.createElement("div",V0({ref:a.listRefHandler},w),Hr.default.createElement(jz.Track,V0({ref:a.trackRefHandler},c),a.props.children)),a.props.unslick?"":m,a.props.unslick?"":d)}),a.list=null,a.track=null,a.state=je(je({},Sz.default),{},{currentSlide:a.props.initialSlide,targetSlide:a.props.initialSlide?a.props.initialSlide:0,slideCount:Hr.default.Children.count(a.props.children)}),a.callbackTimers=[],a.clickable=!0,a.debouncedResize=null;var i=a.ssrInit();return a.state=je(je({},a.state),i),a}return Rz(r,[{key:"didPropsChange",value:function(a){for(var i=!1,s=0,o=Object.keys(this.props);s<o.length;s++){var c=o[s];if(!a.hasOwnProperty(c)){i=!0;break}if(!(Vo(a[c])==="object"||typeof a[c]=="function"||isNaN(a[c]))&&a[c]!==this.props[c]){i=!0;break}}return i||Hr.default.Children.count(this.props.children)!==Hr.default.Children.count(a.children)}}]),r}(Hr.default.Component);var $z=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},Uz=$z,zz=Uz,Hz=function(t){var e=/[height|width]$/;return e.test(t)},y3=function(t){var e="",r=Object.keys(t);return r.forEach(function(n,a){var i=t[n];n=zz(n),Hz(n)&&typeof i=="number"&&(i=i+"px"),i===!0?e+=n:i===!1?e+="not "+n:e+="("+n+": "+i+")",a<r.length-1&&(e+=" and ")}),e},Wz=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(r,n){e+=y3(r),n<t.length-1&&(e+=", ")}),e):y3(t)},Vz=Wz,zg,b3;function Gz(){if(b3)return zg;b3=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},zg=t,zg}var Hg,w3;function dA(){if(w3)return Hg;w3=1;function t(n,a){var i=0,s=n.length,o;for(i;i<s&&(o=a(n[i],i),o!==!1);i++);}function e(n){return Object.prototype.toString.apply(n)==="[object Array]"}function r(n){return typeof n=="function"}return Hg={isFunction:r,isArray:e,each:t},Hg}var Wg,_3;function Xz(){if(_3)return Wg;_3=1;var t=Gz(),e=dA().each;function r(n,a){this.query=n,this.isUnconditional=a,this.handlers=[],this.mql=window.matchMedia(n);var i=this;this.listener=function(s){i.mql=s.currentTarget||s,i.assess()},this.mql.addListener(this.listener)}return r.prototype={constuctor:r,addHandler:function(n){var a=new t(n);this.handlers.push(a),this.matches()&&a.on()},removeHandler:function(n){var a=this.handlers;e(a,function(i,s){if(i.equals(n))return i.destroy(),!a.splice(s,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(n){n.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var n=this.matches()?"on":"off";e(this.handlers,function(a){a[n]()})}},Wg=r,Wg}var Vg,k3;function qz(){if(k3)return Vg;k3=1;var t=Xz(),e=dA(),r=e.each,n=e.isFunction,a=e.isArray;function i(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return i.prototype={constructor:i,register:function(s,o,c){var u=this.queries,d=c&&this.browserIsIncapable;return u[s]||(u[s]=new t(s,d)),n(o)&&(o={match:o}),a(o)||(o=[o]),r(o,function(f){n(f)&&(f={match:f}),u[s].addHandler(f)}),this},unregister:function(s,o){var c=this.queries[s];return c&&(o?c.removeHandler(o):(c.clear(),delete this.queries[s])),this}},Vg=i,Vg}var Gg,N3;function Yz(){if(N3)return Gg;N3=1;var t=qz();return Gg=new t,Gg}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=s(_),r=Zp,n=s(Vz),a=s(ww),i=me;function s(k){return k&&k.__esModule?k:{default:k}}function o(k){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},o(k)}function c(){return c=Object.assign?Object.assign.bind():function(k){for(var T=1;T<arguments.length;T++){var L=arguments[T];for(var C in L)Object.prototype.hasOwnProperty.call(L,C)&&(k[C]=L[C])}return k},c.apply(this,arguments)}function u(k,T){var L=Object.keys(k);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(k);T&&(C=C.filter(function(A){return Object.getOwnPropertyDescriptor(k,A).enumerable})),L.push.apply(L,C)}return L}function d(k){for(var T=1;T<arguments.length;T++){var L=arguments[T]!=null?arguments[T]:{};T%2?u(Object(L),!0).forEach(function(C){S(k,C,L[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(L)):u(Object(L)).forEach(function(C){Object.defineProperty(k,C,Object.getOwnPropertyDescriptor(L,C))})}return k}function f(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function h(k,T){for(var L=0;L<T.length;L++){var C=T[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,E(C.key),C)}}function p(k,T,L){return T&&h(k.prototype,T),Object.defineProperty(k,"prototype",{writable:!1}),k}function m(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),T&&g(k,T)}function g(k,T){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,A){return C.__proto__=A,C},g(k,T)}function y(k){var T=b();return function(){var C=w(k),A;if(T){var N=w(this).constructor;A=Reflect.construct(C,arguments,N)}else A=C.apply(this,arguments);return x(this,A)}}function x(k,T){if(T&&(o(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(k)}function v(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function b(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!k})()}function w(k){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},w(k)}function S(k,T,L){return T=E(T),T in k?Object.defineProperty(k,T,{value:L,enumerable:!0,configurable:!0,writable:!0}):k[T]=L,k}function E(k){var T=j(k,"string");return o(T)=="symbol"?T:String(T)}function j(k,T){if(o(k)!="object"||!k)return k;var L=k[Symbol.toPrimitive];if(L!==void 0){var C=L.call(k,T);if(o(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(k)}var I=(0,i.canUseDOM)()&&Yz();t.default=function(k){m(L,k);var T=y(L);function L(C){var A;return f(this,L),A=T.call(this,C),S(v(A),"innerSliderRefHandler",function(N){return A.innerSlider=N}),S(v(A),"slickPrev",function(){return A.innerSlider.slickPrev()}),S(v(A),"slickNext",function(){return A.innerSlider.slickNext()}),S(v(A),"slickGoTo",function(N){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return A.innerSlider.slickGoTo(N,O)}),S(v(A),"slickPause",function(){return A.innerSlider.pause("paused")}),S(v(A),"slickPlay",function(){return A.innerSlider.autoPlay("play")}),A.state={breakpoint:null},A._responsiveMediaHandlers=[],A}return p(L,[{key:"media",value:function(A,N){I.register(A,N),this._responsiveMediaHandlers.push({query:A,handler:N})}},{key:"componentDidMount",value:function(){var A=this;if(this.props.responsive){var N=this.props.responsive.map(function($){return $.breakpoint});N.sort(function($,D){return $-D}),N.forEach(function($,D){var R;D===0?R=(0,n.default)({minWidth:0,maxWidth:$}):R=(0,n.default)({minWidth:N[D-1]+1,maxWidth:$}),(0,i.canUseDOM)()&&A.media(R,function(){A.setState({breakpoint:$})})});var O=(0,n.default)({minWidth:N.slice(-1)[0]});(0,i.canUseDOM)()&&this.media(O,function(){A.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(A){I.unregister(A.query,A.handler)})}},{key:"render",value:function(){var A=this,N,O;this.state.breakpoint?(O=this.props.responsive.filter(function(V){return V.breakpoint===A.state.breakpoint}),N=O[0].settings==="unslick"?"unslick":d(d(d({},a.default),this.props),O[0].settings)):N=d(d({},a.default),this.props),N.centerMode&&(N.slidesToScroll>1,N.slidesToScroll=1),N.fade&&(N.slidesToShow>1,N.slidesToScroll>1,N.slidesToShow=1,N.slidesToScroll=1);var $=e.default.Children.toArray(this.props.children);$=$.filter(function(V){return typeof V=="string"?!!V.trim():!!V}),N.variableWidth&&(N.rows>1||N.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),N.variableWidth=!1);for(var D=[],R=null,M=0;M<$.length;M+=N.rows*N.slidesPerRow){for(var F=[],B=M;B<M+N.rows*N.slidesPerRow;B+=N.slidesPerRow){for(var U=[],q=B;q<B+N.slidesPerRow&&(N.variableWidth&&$[q].props.style&&(R=$[q].props.style.width),!(q>=$.length));q+=1)U.push(e.default.cloneElement($[q],{key:100*M+10*B+q,tabIndex:-1,style:{width:"".concat(100/N.slidesPerRow,"%"),display:"inline-block"}}));F.push(e.default.createElement("div",{key:10*M+B},U))}N.variableWidth?D.push(e.default.createElement("div",{key:M,style:{width:R}},F)):D.push(e.default.createElement("div",{key:M},F))}if(N==="unslick"){var ee="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ee},$)}else D.length<=N.slidesToShow&&!N.infinite&&(N.unslick=!0);return e.default.createElement(r.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,i.filterSettings)(N)),D)}}]),L}(e.default.Component)})(O6);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=r(O6);function r(n){return n&&n.__esModule?n:{default:n}}t.default=e.default})(I6);const Kz=li(I6),Zz=({events:t,titleStyle:e={},descriptionStyle:r={},desktopTitleStyle:n={},desktopDescriptionStyle:a={},formatTimeRange:i})=>{const[s,o]=_.useState(0),c=f=>{if(ei(f.start_at))try{return en(f.start_at,"d MMMM")}catch(h){console.error("Error formatting start_at:",f.start_at,h)}if(ei(f.start_time))try{return en(f.start_time,"d MMMM")}catch(h){console.error("Error formatting start_time:",f.start_time,h)}if(ei(f.date))try{return en(f.date,"d MMMM")}catch(h){console.error("Error formatting date:",f.date,h)}return"  "},u=f=>{try{return f.start_at&&f.end_at?i?i(f.start_at,f.end_at):Ja(f.start_at,f.end_at):f.start_time&&f.end_time?i?i(f.start_time,f.end_time):Ja(f.start_time,f.end_time):""}catch(h){return console.error("Error formatting time range:",h),""}},d={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,beforeChange:(f,h)=>o(h),customPaging:f=>l.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${f===s?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`}),responsive:[{breakpoint:1024,settings:{arrows:!1}}]};return t.length===0?null:l.jsxs("div",{className:"relative",children:[l.jsx(Kz,{...d,className:"events-slideshow",children:t.map((f,h)=>!f||!f.id?(console.warn("Invalid event data at index:",h,f),null):l.jsxs("div",{className:"relative h-[300px] sm:h-[400px] md:h-[500px]",children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${zt(f.bg_image)})`,backgroundPosition:"center 30%"},children:l.jsx("div",{className:"absolute inset-0 bg-black/50"})}),l.jsx("div",{className:"relative h-full flex items-center",children:l.jsxs("div",{className:"container px-4 sm:px-6",children:[l.jsxs("div",{className:"hidden md:block max-w-2xl text-white",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",style:n,children:f.title||"  "}),l.jsx("p",{className:"text-base md:text-lg mb-6 line-clamp-2",style:a,children:f.short_description||" "}),l.jsx("div",{className:"flex flex-row flex-wrap gap-6 mb-8 text-white/90",children:l.jsx(Be,{to:`/events/${f.id}`,className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all duration-300 group","aria-label":"  ",children:l.jsx(fa,{className:"h-6 w-6 text-white group-hover:translate-x-1 transition-transform"})})}),l.jsxs("div",{className:"flex items-center gap-2 text-base",children:[l.jsx(Oe,{className:"h-5 w-5"}),l.jsxs("span",{children:[c(f),u(f)&&l.jsxs(l.Fragment,{children:["  ",u(f)]})]})]})]}),l.jsx("div",{className:"md:hidden absolute bottom-6 left-0 right-0 px-4 sm:px-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap justify-between items-start sm:items-center gap-3 text-white",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm sm:text-base",children:[l.jsx(Oe,{className:"h-4 w-4 sm:h-5 sm:w-5"}),l.jsxs("span",{children:[c(f),u(f)&&l.jsxs(l.Fragment,{children:["  ",u(f)]})]})]}),l.jsx(Be,{to:`/events/${f.id}`,className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all duration-300 group","aria-label":"  ",children:l.jsx(fa,{className:"h-5 w-5 text-white group-hover:translate-x-1 transition-transform"})})]})})]})})]},f.id))}),l.jsx("div",{className:"md:hidden container px-4 sm:px-6 mt-4",children:t.map((f,h)=>!f||!f.id?null:l.jsxs("div",{className:`${h===s?"block":"hidden"}`,children:[l.jsx("h2",{className:"text-xl font-bold mb-2",style:e,children:f.title||"  "}),l.jsx("p",{className:"text-sm line-clamp-2",style:r,children:f.short_description||" "})]},f.id))}),l.jsx("style",{jsx:!0,global:!0,children:`
        .events-slideshow .slick-dots {
          bottom: 20px;
        }
        .events-slideshow .slick-dots li {
          margin: 0 4px;
        }
        @media (max-width: 640px) {
          .events-slideshow .slick-dots {
            bottom: 10px;
          }
        }
      `})]})},Xg=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),Qz=()=>{var M,F,B;const{user:t}=al(),[e,r]=_.useState(""),[n,a]=_.useState("start-asc"),[i,s]=_.useState("grid"),[o,c]=_.useState("all"),[u,d]=_.useState({active:[],past:[]}),[f,h]=_.useState(!0),[p,m]=_.useState(null),[g,y]=_.useState(10),[x,v]=_.useState(!1),[b,w]=_.useState(!1),[S,E]=_.useState([]),[j,I]=_.useState([]),{favoriteEvents:k,isFavoriteEvent:T}=bw(t==null?void 0:t.id),L=async()=>{try{const{data:U,error:q}=await Xg.from("events").select("event_type").eq("status","active");if(q)throw q;const ee=Array.from(new Set(U.map(V=>V.event_type)));E(ee)}catch(U){console.error("Error fetching event types:",U),K.error("    ")}},C=async()=>{try{h(!0);let U=Xg.from("events").select(`
          *,
          time_slot:time_slots_table!fk_time_slots_event(
            id,
            start_at,
            end_at
          )
        `).eq("status","active");j.length>0&&(U=U.in("event_type",j));const{data:q,error:ee}=await U;if(ee)throw ee;const V=(q||[]).map(_e=>{var P,Q,X,W;return{..._e,start_at:((Q=(P=_e.time_slot)==null?void 0:P[0])==null?void 0:Q.start_at)||_e.start_at,end_at:((W=(X=_e.time_slot)==null?void 0:X[0])==null?void 0:W.end_at)||_e.end_at}});let oe=[...V.filter(_e=>_e.end_at?!ds(_e.end_at):!0)];switch(n){case"start-asc":oe.sort((_e,P)=>new Date(_e.start_at||0).getTime()-new Date(P.start_at||0).getTime());break;case"start-desc":oe.sort((_e,P)=>new Date(P.start_at||0).getTime()-new Date(_e.start_at||0).getTime());break;case"title-asc":oe.sort((_e,P)=>_e.title.localeCompare(P.title));break;case"title-desc":oe.sort((_e,P)=>P.title.localeCompare(_e.title));break}const{data:ie,error:se}=await Xg.from("events").select(`
          *,
          time_slot:time_slots_table!fk_time_slots_event(
            id,
            start_at,
            end_at
          )
        `).or("status.eq.past").order("start_at",{ascending:!1,foreignTable:"time_slot"}).limit(6);if(se)throw se;const ye=(ie||[]).map(_e=>{var P,Q,X,W;return{..._e,start_at:((Q=(P=_e.time_slot)==null?void 0:P[0])==null?void 0:Q.start_at)||_e.start_at,end_at:((W=(X=_e.time_slot)==null?void 0:X[0])==null?void 0:W.end_at)||_e.end_at}}),ve=V.filter(_e=>_e.end_at&&ds(_e.end_at)),Ge=[...ye,...ve].sort((_e,P)=>new Date(P.start_at||0).getTime()-new Date(_e.start_at||0).getTime()).slice(0,6);d({active:oe,past:Ge})}catch(U){console.error("Error fetching events:",U),m("   "),K.error("   ")}finally{h(!1)}};_.useEffect(()=>{L()},[]),_.useEffect(()=>{window.scrollTo(0,0),C()},[n,j]);const A=U=>{I(q=>q.includes(U)?q.filter(ee=>ee!==U):[...q,U])},N=()=>{I([]),r(""),c("all")},O=_.useMemo(()=>{let U=u.active||[];if(e){const q=e.toLowerCase();U=U.filter(ee=>ee.title.toLowerCase().includes(q)||ee.description.toLowerCase().includes(q))}return o==="favorites"&&(U=U.filter(q=>T(q.id))),U},[u.active,e,o,T]),$=_.useMemo(()=>{var U;return(U=u.active)==null?void 0:U.slice().sort((q,ee)=>new Date(q.start_at||0).getTime()-new Date(ee.start_at||0).getTime()).slice(0,5)},[u.active]),D=()=>{y(U=>U+10)},R=[{value:"start-asc",label:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tj,{className:"h-4 w-4"})," "]})},{value:"start-desc",label:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jj,{className:"h-4 w-4"})," "]})},{value:"title-asc",label:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(CM,{className:"h-4 w-4"})," "]})},{value:"title-desc",label:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(EM,{className:"h-4 w-4"})," "]})}];return f?l.jsx(Ot,{children:l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):p?l.jsx(Ot,{children:l.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:p})}):l.jsxs(Ot,{children:[l.jsx("div",{className:"relative",children:l.jsx(Zz,{events:$,titleStyle:{fontSize:"1.25rem"},descriptionStyle:{fontSize:"0.875rem"},desktopTitleStyle:{fontSize:"1.75rem"},desktopDescriptionStyle:{fontSize:"1.125rem"},formatTimeRange:Ja})}),l.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsx("div",{className:"container px-4",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsxs("div",{className:"lg:flex-1",children:[l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-3 justify-between",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{type:"text",placeholder:" ...",value:e,onChange:U=>r(U.target.value),className:"w-full px-4 py-2 pl-10 border border-dark-300 dark:border-dark-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-dark-800"}),l.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-dark-400"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>w(!b),className:`flex items-center gap-2 px-4 py-2 border rounded-md ${j.length>0?"bg-primary-100 dark:bg-primary-900 border-primary-500 text-primary-800 dark:text-primary-200":"border-dark-300 dark:border-dark-700 bg-white dark:bg-dark-800"}`,children:[l.jsx(j0,{className:"h-5 w-5"}),l.jsx("span",{children:""}),j.length>0&&l.jsx("span",{className:"bg-primary-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:j.length})]}),b&&l.jsxs("div",{className:"absolute right-0 mt-1 w-64 bg-white dark:bg-dark-800 border border-dark-300 dark:border-dark-700 rounded-md shadow-lg py-2 z-50",children:[l.jsxs("div",{className:"px-4 py-2 border-b border-dark-200 dark:border-dark-700 flex justify-between items-center",children:[l.jsx("p",{className:"font-medium",children:" "}),l.jsx("button",{onClick:N,className:"text-sm text-primary-600 dark:text-primary-400 hover:underline",children:""})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto",children:S.map(U=>l.jsxs("label",{className:"flex items-center px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-700 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:j.includes(U),onChange:()=>A(U),className:"rounded text-primary-600 dark:text-primary-400 focus:ring-primary-500 dark:focus:ring-primary-400"}),l.jsx("span",{className:"ml-2",children:U})]},U))})]})]})]}),l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsxs("div",{className:"flex rounded-md shadow-sm",children:[l.jsx("button",{className:`p-2 border border-dark-300 dark:border-dark-700 rounded-l-md ${i==="grid"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-dark-800"}`,onClick:()=>s("grid"),title:"",children:l.jsx(WM,{className:"h-5 w-5"})}),l.jsx("button",{className:`p-2 border border-dark-300 dark:border-dark-700 rounded-r-md ${i==="list"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-dark-800"}`,onClick:()=>s("list"),title:"",children:l.jsx(sw,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"relative",style:{zIndex:999},children:[l.jsxs("button",{onClick:()=>v(!x),className:"flex items-center gap-2 px-3 py-2 border border-dark-300 dark:border-dark-700 rounded-md bg-white dark:bg-dark-800",children:[(M=R.find(U=>U.value===n))==null?void 0:M.label,l.jsx(Ed,{className:`h-4 w-4 transition-transform ${x?"rotate-180":""}`})]}),x&&l.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-dark-800 border border-dark-300 dark:border-dark-700 rounded-md shadow-lg py-1 z-50",children:R.map(U=>l.jsx("button",{onClick:()=>{a(U.value),v(!1)},className:`w-full text-left px-4 py-2 text-sm flex items-center gap-2 ${n===U.value?"bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200":"hover:bg-gray-100 dark:hover:bg-dark-700"}`,children:U.label},U.value))})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(j0,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:":"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>c("all"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${o==="all"?"bg-primary-500 text-white":"bg-gray-200 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-dark-600"}`,children:" "}),t&&l.jsxs("button",{onClick:()=>c("favorites"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors flex items-center gap-1 ${o==="favorites"?"bg-red-500 text-white":"bg-gray-200 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-dark-600"}`,children:[l.jsx(aa,{className:`h-4 w-4 ${o==="favorites"?"fill-current":""}`})," (",k.length,")"]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("span",{children:[": ",O.length,"  ",((F=u.active)==null?void 0:F.length)||0]}),t&&k.length>0&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(aa,{className:"h-4 w-4 text-red-500 fill-current"}),k.length,"  "]})]})]})]}),!t&&l.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",l.jsx("strong",{children:":"}),"   ,         ."]})}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:" "}),(j.length>0||o==="favorites")&&l.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[o==="favorites"&&l.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200",children:[l.jsx(aa,{className:"h-3 w-3 mr-1 fill-current"}),"",l.jsx("button",{onClick:()=>c("all"),className:"ml-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",children:""})]}),j.map(U=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200",children:[U,l.jsx("button",{onClick:()=>A(U),className:"ml-2 text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200",children:""})]},U)),l.jsx("button",{onClick:N,className:"text-sm text-primary-600 dark:text-primary-400 hover:underline ml-2",children:" "})]}),O.length===0&&!f&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"mb-4",children:o==="favorites"?l.jsx(aa,{className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600"}):l.jsx(ai,{className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:o==="favorites"?"  ":"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:o==="favorites"?"   ,      ":e?`  "${e}"   .    .`:"     ."}),o==="favorites"&&l.jsx("button",{onClick:()=>c("all"),className:"btn btn-primary",children:"  "})]}),O.length>0&&l.jsx(Q$,{events:O.slice(0,g),type:"upcoming",searchQuery:"",viewMode:i,formatTimeRange:Ja}),O.length>g&&l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:D,className:"px-6 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors dark:bg-primary/20 dark:hover:bg-primary/30",children:" "})})]})]}),((B=u.past)==null?void 0:B.length)>0&&l.jsxs("div",{className:"lg:w-72 xl:w-80",children:[l.jsx("h2",{className:"text-xl font-semibold mb-3 pb-2 border-b border-dark-200 dark:border-dark-700",children:" "}),l.jsx("div",{className:"space-y-3",children:u.past.map(U=>l.jsxs(Be,{to:`/events/${U.id}`,className:"flex gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-14 h-14 bg-cover bg-center rounded",style:{backgroundImage:U.bg_image?`url(https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${U.bg_image})`:"url(https://via.placeholder.com/100?text=No+image)"}})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium text-sm line-clamp-2",children:U.title}),l.jsxs("div",{className:"flex items-center text-xs text-dark-500 dark:text-dark-400 mt-1",children:[l.jsx(Oe,{className:"h-3 w-3 mr-1"}),l.jsx("span",{children:U.start_at?en(U.start_at):"  "})]}),U.start_at&&U.end_at&&l.jsxs("div",{className:"flex items-center text-xs text-dark-500 dark:text-dark-400 mt-1",children:[l.jsx(bn,{className:"h-3 w-3 mr-1"}),l.jsx("span",{children:Ja(U.start_at,U.end_at)})]})]})]},U.id))})]})]})})})]})},Jz=async(t,e,r,n="pending")=>{try{const{error:a}=await ue.rpc("sync_user_registration",{p_user_id:t,p_event_id:e,p_registration_id:r.id,p_full_name:r.full_name,p_email:r.email,p_adult_tickets:r.adult_tickets,p_child_tickets:r.child_tickets,p_total_amount:r.total_amount,p_status:r.status?"active":"cancelled",p_qr_code:r.qr_code,p_payment_status:n,p_registration_date:r.created_at});if(a)throw console.error("Error syncing user registration:",a),a}catch(a){throw console.error("Failed to sync user registration:",a),a}},eH=({isOpen:t,onClose:e,event:r})=>{const{user:n}=al(),[a,i]=_.useState({name:"",contact:"",phone:"",comment:"",adultTickets:1,childTickets:0}),[s,o]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(null);_.useEffect(()=>{t&&n&&i(b=>({...b,name:b.name||n.name||"",contact:b.contact||n.email||""}))},[t,n]);const h=r.payment_type==="free"||r.payment_type==="donation",p=b=>Math.ceil(b/100)*100,m=()=>{if(h)return 0;let b=0,w=0;if(r.couple_discount&&a.adultTickets>=2){const S=Math.floor(a.adultTickets/2),E=a.adultTickets%2,j=r.price*2*(1-r.couple_discount/100);b=S*p(j)+E*r.price}else b=a.adultTickets*r.price;if(!r.adults_only){const S=r.child_half_price?r.price/2:r.price;w=a.childTickets*S}return b+w},g=()=>{if(h)return null;const b=[],w=a.adultTickets,S=r.adults_only?0:a.childTickets;if(r.couple_discount&&w>=2){const E=Math.floor(w/2),I=w%2*r.price,k=r.price*2*(1-r.couple_discount/100),T=p(k);b.push(l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:[" (",w,")",E>0&&l.jsxs("span",{className:"text-xs text-green-500 dark:text-green-400 ml-1",children:["(",E,"2   ",r.couple_discount,"%)"]})]}),l.jsxs("span",{children:[E>0&&l.jsx("span",{className:"text-xs line-through text-gray-500 dark:text-gray-400 mr-1",children:r.price*2*E}),E*T+I," ",r.currency]})]},"adult"))}else b.push(l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:[" (",w,")"]}),l.jsxs("span",{children:[w*r.price," ",r.currency]})]},"adult"));if(!r.adults_only&&S>0){const E=r.child_half_price?r.price/2:r.price;b.push(l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:[" (",S,")",r.child_half_price&&l.jsx("span",{className:"text-xs text-green-500 dark:text-green-400 ml-1",children:"(50% )"})]}),l.jsxs("span",{children:[E*S," ",r.currency]})]},"child"))}return b},y=async b=>{b.preventDefault(),o(!0);try{const w=m(),S=crypto.randomUUID(),E={id:S,full_name:a.name,email:a.contact,phone:a.phone,comment:a.comment,adult_tickets:Number(a.adultTickets),child_tickets:Number(r.adults_only?0:a.childTickets),total_amount:Number(w),status:!0,qr_code:S,created_at:new Date().toISOString(),payment_link_clicked:!1},j=await fetch("https://jfvinriqydjtwsmayxix.supabase.co/functions/v1/register-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"},body:JSON.stringify({eventId:r.id,registrationData:E})});if(!j.ok){const k=await j.json();throw new Error(k.error||"Failed to register for event")}const I=await j.json();if(n)try{await Jz(n.id,r.id,E,h?"free":"pending"),console.log("User registration synced successfully")}catch(k){console.error("Failed to sync user registration:",k)}f({id:S,fullName:a.name,email:a.contact,adultTickets:a.adultTickets,childTickets:r.adults_only?0:a.childTickets,total:w}),u(!0),K.success(" !")}catch(w){console.error("Registration error:",w),K.error("  : "+(w instanceof Error?w.message:" "))}finally{o(!1)}},x=(b,w=0)=>Array.from({length:b-w+1},(S,E)=>w+E),v=()=>{i({name:"",contact:"",phone:"",comment:"",adultTickets:1,childTickets:0}),u(!1),f(null),e()};return l.jsx(Rc,{isOpen:t,onClose:v,title:r.title,size:"md",children:l.jsx("div",{className:"p-3 space-y-3",children:c&&d?l.jsxs("div",{className:"text-center py-6 space-y-4",children:[l.jsx("div",{className:"w-16 h-16 mx-auto bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:l.jsx(dc,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:" !"}),l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",d.fullName]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",d.email]}),l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",d.adultTickets," , ",d.childTickets," "]}),d.total>0&&l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",d.total," ",r.currency]}),l.jsxs("p",{children:[l.jsx("strong",{children:"ID :"})," ",d.id]})]})]}),l.jsx("button",{onClick:v,className:"w-full border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 py-2 px-4 rounded text-sm text-gray-700 dark:text-gray-200",children:""})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Oe,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),l.jsx("span",{children:en(r.start_at,"dd.MM.yyyy")})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(bn,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),l.jsx("span",{children:Mi(r.start_at)})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vr,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),l.jsx("span",{className:"line-clamp-1 max-w-[100px]",children:r.location})]}),!h&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Kd,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),l.jsxs("span",{children:[r.price," ",r.currency]})]})]}),l.jsxs("form",{onSubmit:y,className:"space-y-3",children:[l.jsx("input",{type:"text",placeholder:" ",value:a.name,onChange:b=>i({...a,name:b.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",required:!0}),l.jsx("input",{type:"email",placeholder:"Email",value:a.contact,onChange:b=>i({...a,contact:b.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",required:!0}),l.jsx("input",{type:"tel",placeholder:"",value:a.phone,onChange:b=>i({...a,phone:b.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),l.jsx("textarea",{placeholder:"",value:a.comment,onChange:b=>i({...a,comment:b.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",rows:3}),!h&&l.jsxs("div",{className:`flex gap-2 ${r.adults_only?"justify-center":""}`,children:[l.jsxs("div",{className:r.adults_only?"w-full":"flex-1",children:[l.jsx("label",{className:"block text-xs font-medium mb-1",children:" "}),l.jsx("select",{value:a.adultTickets,onChange:b=>i({...a,adultTickets:Number(b.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700",children:x(10,1).map(b=>l.jsx("option",{value:b,children:b},b))})]}),!r.adults_only&&l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-medium mb-1",children:" "}),l.jsx("select",{value:a.childTickets,onChange:b=>i({...a,childTickets:Number(b.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700",children:x(10,0).map(b=>l.jsx("option",{value:b,children:b},b))})]})]}),!h&&l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded text-sm",children:[l.jsx("h4",{className:"font-semibold mb-2",children:" :"}),l.jsxs("div",{className:"space-y-1",children:[g(),l.jsxs("div",{className:"border-t pt-1 mt-2 font-semibold flex justify-between",children:[l.jsx("span",{children:":"}),l.jsxs("span",{children:[m()," ",r.currency]})]})]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{type:"button",onClick:v,className:"flex-1 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 py-2 px-4 rounded text-sm text-gray-700 dark:text-gray-200",children:""}),l.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white py-2 px-4 rounded text-sm transition-colors",children:s?"...":""})]})]})]})})})},tH=({isOpen:t,onClose:e,onSelectOption:r,hasOnlinePayment:n,paymentType:a,paymentLink:i})=>{const s=_.useRef(null);return _.useEffect(()=>{if(t&&a==="widget"&&s.current){s.current.innerHTML="";const o=document.createElement("div");o.className="oblakkarte-widget",o.setAttribute("data-organizer-public-token","Yi0idjZg"),o.setAttribute("data-event-id","YOUR_EVENT_ID"),s.current.appendChild(o),window.OblakkarteWidget&&window.OblakkarteWidget.init()}},[t,a]),l.jsxs(Rc,{isOpen:t,onClose:e,title:"  ",size:"md",children:[l.jsxs("div",{className:"space-y-4",children:[n&&a==="widget"?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{ref:s,className:"w-full"}),l.jsxs("button",{onClick:()=>r("venue"),className:"w-full p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors flex items-center gap-4",children:[l.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-full",children:l.jsx(vr,{className:"h-6 w-6 text-gray-600 dark:text-gray-400"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-medium",children:"  "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"   "})]})]})]}):n&&l.jsxs("button",{onClick:()=>r("online"),className:"w-full p-4 border-2 border-primary-500 rounded-lg hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors flex items-center gap-4",children:[l.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-full",children:l.jsx(Kd,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-medium",children:" "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]})]}),a!=="widget"&&l.jsxs("button",{onClick:()=>r("venue"),className:"w-full p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors flex items-center gap-4",children:[l.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-full",children:l.jsx(vr,{className:"h-6 w-6 text-gray-600 dark:text-gray-400"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-medium",children:"  "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"   "})]})]})]}),l.jsx("button",{onClick:e,className:"mt-6 w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:""})]})},S3=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),rH=t=>{if(!t)return[];if(Array.isArray(t))return t;if(typeof t=="string")try{const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(e){return console.error("Error parsing photo_gallery JSON:",e),[]}return[]},ry=t=>{if(!t)return l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:" "});const e=[];let r=0,n;const a=/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1(?:[^>]*?)>(.*?)<\/a>/g;for(;(n=a.exec(t))!==null;)n.index>r&&e.push({type:"text",content:t.substring(r,n.index)}),e.push({type:"link",url:n[2],text:n[3]}),r=a.lastIndex;return r<t.length&&e.push({type:"text",content:t.substring(r)}),e.length===0?l.jsx("span",{children:t}):l.jsx(l.Fragment,{children:e.map((i,s)=>i.type==="text"?l.jsx("span",{children:i.content},s):i.type==="link"?l.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:opacity-80 underline",children:i.text},s):null)})},nH=t=>{if(!t)return null;const e=t.split(/\n\s*\n/);return l.jsx("div",{className:"prose dark:prose-invert max-w-none",children:e.map((r,n)=>l.jsx("p",{className:"mb-4",children:ry(r)},n))})},aH=()=>{var j;const{id:t}=iw(),[e,r]=_.useState(null),[n,a]=_.useState([]),[i,s]=_.useState(!0),[o,c]=_.useState(null),[u,d]=_.useState(!1),[f,h]=_.useState(!1),[p,m]=_.useState(!1);_.useEffect(()=>{window.scrollTo(0,0),g()},[t]);const g=async()=>{var I,k,T,L,C;try{s(!0);const{data:A,error:N}=await S3.from("events").select(`
          *,
          time_slot:time_slots_table!fk_time_slots_event(
            id,
            start_at,
            end_at
          )
        `).eq("id",t).single();if(N)throw N;const O={...A,start_at:((k=(I=A.time_slot)==null?void 0:I[0])==null?void 0:k.start_at)||A.start_at,end_at:((L=(T=A.time_slot)==null?void 0:T[0])==null?void 0:L.end_at)||A.end_at};if(r(O),(C=A.speakers)!=null&&C.length){const{data:$,error:D}=await S3.from("speakers").select("*").in("id",A.speakers);if(D)throw D;a($||[])}}catch(A){console.error("Error fetching event data:",A),c("   ")}finally{s(!1)}},y=async I=>{const k=window.location.href,T=e!=null&&e.start_at?en(e.start_at):"",L=`${e==null?void 0:e.title} - ${T}`;switch(I){case"telegram":window.open(`https://t.me/share/url?url=${encodeURIComponent(k)}&text=${encodeURIComponent(L)}`);break;case"vk":window.open(`https://vk.com/share.php?url=${encodeURIComponent(k)}&title=${encodeURIComponent(L)}`);break;case"copy":try{await navigator.clipboard.writeText(k),K.success(" ")}catch{K.error("   ")}break}d(!1)},x=I=>{m(!1),I==="online"&&(e!=null&&e.payment_link)?window.open(e.payment_link,"_blank"):I==="venue"&&h(!0)},v=()=>{(e==null?void 0:e.payment_type)==="free"||(e==null?void 0:e.payment_type)==="donation"?h(!0):(e==null?void 0:e.price)===null&&(e!=null&&e.payment_link)?window.open(e.payment_link,"_blank"):m(!0)},b=()=>{var I;return((I=e==null?void 0:e.registrations)==null?void 0:I.max_regs)!==void 0?e.registrations.max_regs:(e==null?void 0:e.max_registrations)||null},w=()=>{var I;return((I=e==null?void 0:e.registrations)==null?void 0:I.current)!==void 0?e.registrations.current:(e==null?void 0:e.current_registration_count)||0},S=e!=null&&e.end_at?ds(e.end_at):!1;if(i)return l.jsx(Ot,{children:l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})});if(o||!e)return l.jsx(Ot,{children:l.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600 dark:text-red-400",children:o||"  "})});b(),w();const E=rH(e.photo_gallery);return l.jsxs(Ot,{children:[l.jsxs("div",{className:"h-[400px] bg-cover bg-center relative",style:{backgroundImage:e.bg_image?`url(https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${e.bg_image})`:"url(https://via.placeholder.com/1920x400?text=No+image)"},children:[l.jsx("div",{className:"absolute inset-0 bg-black/50"}),l.jsx("div",{className:"container relative h-full flex items-end pb-12",children:l.jsxs("div",{className:"text-white",children:[l.jsxs(Be,{to:"/events",className:"inline-flex items-center text-white/80 hover:text-white mb-4",children:[l.jsx(Aj,{className:"h-5 w-5 mr-2"}),"  "]}),l.jsxs("div",{className:"hidden md:block",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:e.title}),l.jsxs("div",{className:"flex flex-wrap gap-6 text-white/90",children:[e.start_at&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oe,{className:"h-5 w-5"}),l.jsx("span",{children:en(e.start_at)})]}),e.start_at&&e.end_at&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bn,{className:"h-5 w-5"}),l.jsx("span",{children:Ja(e.start_at,e.end_at)})]}),e.location&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vr,{className:"h-5 w-5"}),l.jsx("span",{children:e.location})]})]})]})]})})]}),l.jsxs("div",{className:"md:hidden bg-white dark:bg-dark-800 py-6 px-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-dark-900 dark:text-white mb-4",children:e.title}),l.jsxs("div",{className:"flex flex-col gap-3 text-dark-600 dark:text-dark-300",children:[e.start_at&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oe,{className:"h-5 w-5"}),l.jsx("span",{children:en(e.start_at)})]}),e.start_at&&e.end_at&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bn,{className:"h-5 w-5"}),l.jsx("span",{children:Ja(e.start_at,e.end_at)})]}),e.location&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vr,{className:"h-5 w-5"}),l.jsx("span",{children:e.location})]})]})]}),l.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:" "}),nH(e.description)]}),e.video_url&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:""}),l.jsx("div",{className:"aspect-video",children:l.jsx("iframe",{src:e.video_url,className:"w-full h-full rounded-lg",allowFullScreen:!0,title:"Event video"})})]}),E.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:""}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:E.map((I,k)=>l.jsx("img",{src:I,alt:` ${k+1}`,className:"w-full h-32 object-cover rounded-lg"},k))})]}),e.event_type==="Festival"&&e.festival_program&&e.festival_program.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-6",children:" "}),l.jsx("div",{className:"space-y-6",children:e.festival_program.sort((I,k)=>{try{return new Date(I.start_time).getTime()-new Date(k.start_time).getTime()}catch(T){return console.error("Error sorting program items:",T),0}}).map((I,k)=>{var L,C,A;const T=I.lecturer_id?n.find(N=>N.id===I.lecturer_id):null;return l.jsx("div",{className:"border-b border-gray-200 dark:border-dark-700 pb-6 last:border-0 last:pb-0",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[I.image_url&&l.jsx("div",{className:"md:w-1/3",children:l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${I.image_url}`,alt:I.title,className:"w-full h-auto rounded-lg object-cover"})}),l.jsxs("div",{className:`${I.image_url?"md:w-2/3":"w-full"}`,children:[l.jsx("div",{className:"flex flex-wrap items-center gap-4 mb-3",children:l.jsxs("span",{className:"text-sm font-medium px-3 py-1 bg-primary-100 dark:bg-primary-900/50 text-primary-800 dark:text-primary-200 rounded-full",children:[Mi(I.start_time)," - ",Mi(I.end_time)]})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:I.title}),l.jsx("div",{className:"prose dark:prose-invert max-w-none mb-4",children:ry(I.description)}),T&&l.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[l.jsx(Be,{to:`/speakers/${T.id}`,className:"shrink-0",children:((C=(L=T.photos)==null?void 0:L.find(N=>N.isMain))==null?void 0:C.url)&&l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${(A=T.photos.find(N=>N.isMain))==null?void 0:A.url}`,alt:T.name,className:"w-12 h-12 rounded-full object-cover"})}),l.jsxs("div",{children:[l.jsx(Be,{to:`/speakers/${T.id}`,className:"font-medium hover:text-primary-600 dark:hover:text-primary-400",children:T.name}),l.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:T.field_of_expertise})]})]})]})]})},k)})})]}),n.length>0&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:""}),n.map(I=>{var k;return l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx(Be,{to:`/speakers/${I.id}`,className:"shrink-0",children:l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${(k=I.photos.find(T=>T.isMain))==null?void 0:k.url}`,alt:I.name,className:"w-16 h-16 rounded-full object-cover"})}),l.jsxs("div",{children:[l.jsx(Be,{to:`/speakers/${I.id}`,className:"text-lg font-semibold hover:text-primary-600 dark:hover:text-primary-400",children:I.name}),l.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mb-2",children:I.field_of_expertise}),ry(I.description)]})]})},I.id)})]})]}),!S&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("span",{className:"block text-sm text-dark-500 dark:text-dark-400",children:""}),l.jsx("span",{className:"text-2xl font-bold",children:e.payment_type==="free"?"":e.payment_type==="donation"?"":e.price===null?" ":`${e.price} ${e.currency}`})]}),l.jsxs("button",{onClick:()=>d(!u),className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full relative",children:[l.jsx(ow,{className:"h-5 w-5"}),u&&l.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-dark-800 rounded-lg shadow-lg py-2 z-50",children:[l.jsx("button",{onClick:()=>y("telegram"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700",children:"Telegram"}),l.jsx("button",{onClick:()=>y("vk"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700",children:"VKontakte"}),l.jsx("button",{onClick:()=>y("copy"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700",children:" "})]})]})]}),e.payment_widget_id&&l.jsx("div",{className:"mb-4",dangerouslySetInnerHTML:{__html:e.payment_widget_id}}),l.jsx("button",{onClick:v,className:"w-full btn-primary mb-4",children:e.price===null&&e.payment_link?" ":""}),l.jsx("div",{className:"space-y-4 text-sm",children:((j=e.languages)==null?void 0:j.length)>0&&l.jsxs("div",{className:"flex items-center gap-2 text-dark-500 dark:text-dark-400",children:[l.jsx(Up,{className:"h-5 w-5"}),l.jsx("span",{children:e.languages.join(", ")})]})})]}),e.location&&l.jsxs("div",{className:"card p-6",children:[l.jsx("p",{className:"font-semibold mb-4",children:" "}),l.jsx("div",{className:"space-y-2",children:l.jsx("p",{className:"text-dark-600 dark:text-dark-300",children:e.location})})]})]})]})})}),l.jsx(eH,{isOpen:f,onClose:()=>h(!1),event:e}),l.jsx(tH,{isOpen:p,onClose:()=>m(!1),onSelectOption:x,hasOnlinePayment:e.payment_type!=="free"&&e.payment_type!=="donation",paymentType:e.payment_type==="widget"?"widget":"link",paymentLink:e.payment_link})]})},Ql=({title:t,subtitle:e,children:r,className:n=""})=>l.jsx("section",{className:`page-header ${n}`,children:l.jsxs("div",{className:"container flex flex-col justify-center h-full",children:[l.jsx("h1",{className:"mb-4 animate-slide-up",children:t}),e&&l.jsx("p",{className:"text-xl md:text-2xl mb-6 max-w-2xl animate-slide-up animation-delay-100",children:e}),r]})}),iH=({speakerId:t,className:e="",size:r="md"})=>{const{user:n}=al(),{toggleFavoriteSpeaker:a,isFavoriteSpeaker:i,loading:s}=yw(n==null?void 0:n.id);if(!n)return null;const o=c=>{c.preventDefault(),c.stopPropagation(),a(t)};return l.jsx(T6,{isFavorite:i(t),onClick:o,loading:s,className:e,size:r})},sH=({speakers:t,searchQuery:e=""})=>{const r=t.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())||n.field_of_expertise.toLowerCase().includes(e.toLowerCase())||n.description&&n.description.toLowerCase().includes(e.toLowerCase()));return r.length===0?l.jsx("div",{className:"py-12 text-center",children:l.jsx("p",{className:"text-lg text-dark-500 dark:text-dark-400",children:"  .    ."})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(n=>{var i,s;const a=n.blog_visibility&&n.blogs?JSON.parse(n.blogs):null;return l.jsxs("div",{className:"card hover:shadow-lg flex flex-col md:flex-row lg:flex-col transition-shadow duration-200 relative",children:[l.jsx("div",{className:"absolute top-4 right-4 z-10",children:l.jsx(iH,{speakerId:n.id,className:"bg-white/90 dark:bg-dark-800/90 backdrop-blur-sm hover:bg-white dark:hover:bg-dark-800 shadow-md",size:"sm"})}),l.jsx("div",{className:"md:w-1/3 lg:w-full h-60 md:h-auto lg:h-60 bg-cover bg-center relative",children:(s=(i=n.photos)==null?void 0:i[0])!=null&&s.url?l.jsx("img",{src:zt(n.photos[0].url),alt:n.name,className:"w-full h-full object-cover",onError:o=>{const c=o.target;c.onerror=null,c.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center bg-gray-100 dark:bg-dark-700">
                        <svg class="w-16 h-16 text-gray-400 dark:text-gray-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                          <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                      </div>
                    `}}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-dark-700",children:l.jsx(Cn,{className:"w-16 h-16 text-gray-400 dark:text-gray-600"})})}),l.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex items-center justify-between mb-1",children:l.jsx("h3",{className:"text-xl font-semibold",children:n.name})}),l.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-medium mb-3",children:n.field_of_expertise}),n.description&&l.jsx("p",{className:"text-dark-600 dark:text-dark-300 mb-4 line-clamp-3",children:n.description})]}),a&&a.length>0&&l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.slice(0,3).map((o,c)=>l.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-primary-100 dark:bg-dark-700 text-primary-800 dark:text-primary-300 hover:bg-primary-200 dark:hover:bg-dark-600 transition-colors",title:o.platform,children:[l.jsx(Dj,{className:"w-3 h-3 mr-1.5"}),o.platform.length>12?`${o.platform.substring(0,10)}...`:o.platform]},c)),a.length>3&&l.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 self-center",children:["+",a.length-3," more"]})]})}),l.jsxs(Be,{to:`/speakers/${n.id}`,className:"text-primary-600 dark:text-primary-400 font-medium hover:text-primary-700 dark:hover:text-primary-300 inline-flex items-center mt-auto",children:["",l.jsx(fa,{className:"ml-2 h-5 w-5"})]})]})]},n.id)})})},oH=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),lH=()=>{const{user:t}=al(),[e,r]=_.useState(""),[n,a]=_.useState("name-asc"),[i,s]=_.useState("all"),[o,c]=_.useState([]),[u,d]=_.useState(!0),[f,h]=_.useState(null),{favoriteSpeakers:p,isFavoriteSpeaker:m}=yw(t==null?void 0:t.id);_.useEffect(()=>{(async()=>{try{let x=oH.from("speakers").select("*").eq("active",!0);switch(n){case"name-asc":x=x.order("name",{ascending:!0});break;case"name-desc":x=x.order("name",{ascending:!1});break;case"field-asc":x=x.order("field_of_expertise",{ascending:!0});break;case"field-desc":x=x.order("field_of_expertise",{ascending:!1});break}const{data:v,error:b}=await x;if(b)throw b;c(v||[])}catch(x){console.error("Error fetching speakers:",x),h("Failed to load speakers")}finally{d(!1)}})()},[n]);const g=o.filter(y=>i==="all"||i==="favorites"&&m(y.id));return l.jsxs(Ot,{children:[l.jsx(Ql,{title:" ",subtitle:"     "}),l.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"mb-8 space-y-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-between",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"    ...",value:e,onChange:y=>r(y.target.value),className:"w-full md:w-80 px-4 py-2 pl-10 border border-dark-300 dark:border-dark-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-dark-800"}),l.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-dark-400"})]}),l.jsxs("select",{value:n,onChange:y=>a(y.target.value),className:"px-4 py-2 border border-dark-300 dark:border-dark-700 rounded-md bg-white dark:bg-dark-800",children:[l.jsx("option",{value:"name-asc",children:"  (-)"}),l.jsx("option",{value:"name-desc",children:"  (-)"}),l.jsx("option",{value:"field-asc",children:"  (-)"}),l.jsx("option",{value:"field-desc",children:"  (-)"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(j0,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:":"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>s("all"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${i==="all"?"bg-primary-500 text-white":"bg-gray-200 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-dark-600"}`,children:" "}),t&&l.jsxs("button",{onClick:()=>s("favorites"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors flex items-center gap-1 ${i==="favorites"?"bg-red-500 text-white":"bg-gray-200 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-dark-600"}`,children:[l.jsx(aa,{className:`h-4 w-4 ${i==="favorites"?"fill-current":""}`})," (",p.length,")"]})]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("span",{children:[": ",g.length,"  ",o.length]}),t&&p.length>0&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(aa,{className:"h-4 w-4 text-red-500 fill-current"}),p.length,"  "]})]})]})]}),!t&&l.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",l.jsx("strong",{children:":"}),"   ,         ."]})}),g.length===0&&!u&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"mb-4",children:i==="favorites"?l.jsx(aa,{className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600"}):l.jsx(ai,{className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:i==="favorites"?"  ":"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:i==="favorites"?"   ,      ":e?`  "${e}"   .    .`:"     ."}),i==="favorites"&&l.jsx("button",{onClick:()=>s("all"),className:"btn-primary",children:"  "})]}),g.length>0&&l.jsx(sH,{speakers:g,searchQuery:e}),u&&l.jsx("div",{className:"flex justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),f&&l.jsxs("div",{className:"text-center py-12",children:[l.jsxs("div",{className:"text-red-500 dark:text-red-400 mb-4",children:[l.jsx("p",{className:"text-lg font-medium",children:" "}),l.jsx("p",{className:"text-sm",children:f})]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:" "})]})]})})]})},fA=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),tm=_.createContext({}),rm=_.createContext(null),nm=typeof document<"u",kw=nm?_.useLayoutEffect:_.useEffect,hA=_.createContext({strict:!1}),Nw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),cH="framerAppearId",pA="data-"+Nw(cH);function uH(t,e,r,n){const{visualElement:a}=_.useContext(tm),i=_.useContext(hA),s=_.useContext(rm),o=_.useContext(fA).reducedMotion,c=_.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:a,props:r,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const u=c.current;_.useInsertionEffect(()=>{u&&u.update(r,s)});const d=_.useRef(!!(r[pA]&&!window.HandoffComplete));return kw(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),_.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dH(t,e,r){return _.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Dl(r)&&(r.current=n))},[e])}function Td(t){return typeof t=="string"||Array.isArray(t)}function am(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Sw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ew=["initial",...Sw];function im(t){return am(t.animate)||Ew.some(e=>Td(t[e]))}function mA(t){return!!(im(t)||t.variants)}function fH(t,e){if(im(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Td(r)?r:void 0,animate:Td(n)?n:void 0}}return t.inherit!==!1?e:{}}function hH(t){const{initial:e,animate:r}=fH(t,_.useContext(tm));return _.useMemo(()=>({initial:e,animate:r}),[E3(e),E3(r)])}function E3(t){return Array.isArray(t)?t.join(" "):t}const C3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Id={};for(const t in C3)Id[t]={isEnabled:e=>C3[t].some(r=>!!e[r])};function pH(t){for(const e in t)Id[e]={...Id[e],...t[e]}}const Cw=_.createContext({}),gA=_.createContext({}),mH=Symbol.for("motionComponentSymbol");function gH({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:a}){t&&pH(t);function i(o,c){let u;const d={..._.useContext(fA),...o,layoutId:vH(o)},{isStatic:f}=d,h=hH(o),p=n(o,f);if(!f&&nm){h.visualElement=uH(a,p,d,e);const m=_.useContext(gA),g=_.useContext(hA).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,g,t,m))}return _.createElement(tm.Provider,{value:h},u&&h.visualElement?_.createElement(u,{visualElement:h.visualElement,...d}):null,r(a,o,dH(p,h.visualElement,c),p,f,h.visualElement))}const s=_.forwardRef(i);return s[mH]=a,s}function vH({layoutId:t}){const e=_.useContext(Cw).id;return e&&t!==void 0?e+"-"+t:t}function xH(t){function e(n,a={}){return gH(t(n,a))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,a)=>(r.has(a)||r.set(a,e(a)),r.get(a))})}const yH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jw(t){return typeof t!="string"||t.includes("-")?!1:!!(yH.indexOf(t)>-1||/[A-Z]/.test(t))}const X0={};function bH(t){Object.assign(X0,t)}const of=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],il=new Set(of);function vA(t,{layout:e,layoutId:r}){return il.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!X0[t]||t==="opacity")}const wn=t=>!!(t&&t.getVelocity),wH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_H=of.length;function kH(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,a){let i="";for(let s=0;s<_H;s++){const o=of[s];if(t[o]!==void 0){const c=wH[o]||o;i+=`${c}(${t[o]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(t,n?"":i):r&&n&&(i="none"),i}const xA=t=>e=>typeof e=="string"&&e.startsWith(t),yA=xA("--"),ny=xA("var(--"),NH=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,SH=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fs=(t,e,r)=>Math.min(Math.max(r,t),e),sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ku={...sl,transform:t=>Fs(0,1,t)},ah={...sl,default:1},Zu=t=>Math.round(t*1e5)/1e5,sm=/(-)?([\d]*\.?[\d])+/g,bA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,EH=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function lf(t){return typeof t=="string"}const cf=t=>({test:e=>lf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),es=cf("deg"),ti=cf("%"),Te=cf("px"),CH=cf("vh"),jH=cf("vw"),j3={...ti,parse:t=>ti.parse(t)/100,transform:t=>ti.transform(t*100)},A3={...sl,transform:Math.round},wA={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,size:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,rotate:es,rotateX:es,rotateY:es,rotateZ:es,scale:ah,scaleX:ah,scaleY:ah,scaleZ:ah,skew:es,skewX:es,skewY:es,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Ku,originX:j3,originY:j3,originZ:Te,zIndex:A3,fillOpacity:Ku,strokeOpacity:Ku,numOctaves:A3};function Aw(t,e,r,n){const{style:a,vars:i,transform:s,transformOrigin:o}=t;let c=!1,u=!1,d=!0;for(const f in e){const h=e[f];if(yA(f)){i[f]=h;continue}const p=wA[f],m=SH(h,p);if(il.has(f)){if(c=!0,s[f]=m,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,o[f]=m):a[f]=m}if(e.transform||(c||n?a.transform=kH(t.transform,r,d,n):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=o;a.transformOrigin=`${f} ${h} ${p}`}}const Tw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _A(t,e,r){for(const n in e)!wn(e[n])&&!vA(n,r)&&(t[n]=e[n])}function AH({transformTemplate:t},e,r){return _.useMemo(()=>{const n=Tw();return Aw(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function TH(t,e,r){const n=t.style||{},a={};return _A(a,n,t),Object.assign(a,AH(t,e,r)),t.transformValues?t.transformValues(a):a}function IH(t,e,r){const n={},a=TH(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const OH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function q0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OH.has(t)}let kA=t=>!q0(t);function DH(t){t&&(kA=e=>e.startsWith("on")?!q0(e):t(e))}try{DH(require("@emotion/is-prop-valid").default)}catch{}function PH(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(kA(a)||r===!0&&q0(a)||!e&&!q0(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}function T3(t,e,r){return typeof t=="string"?t:Te.transform(e+r*t)}function RH(t,e,r){const n=T3(e,t.x,t.width),a=T3(r,t.y,t.height);return`${n} ${a}`}const MH={offset:"stroke-dashoffset",array:"stroke-dasharray"},LH={offset:"strokeDashoffset",array:"strokeDasharray"};function BH(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?MH:LH;t[i.offset]=Te.transform(-n);const s=Te.transform(e),o=Te.transform(r);t[i.array]=`${s} ${o}`}function Iw(t,{attrX:e,attrY:r,attrScale:n,originX:a,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...u},d,f,h){if(Aw(t,u,d,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(a!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=RH(g,a!==void 0?a:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),s!==void 0&&BH(p,s,o,c,!1)}const NA=()=>({...Tw(),attrs:{}}),Ow=t=>typeof t=="string"&&t.toLowerCase()==="svg";function FH(t,e,r,n){const a=_.useMemo(()=>{const i=NA();return Iw(i,e,{enableHardwareAcceleration:!1},Ow(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};_A(i,t.style,t),a.style={...i,...a.style}}return a}function $H(t=!1){return(r,n,a,{latestValues:i},s)=>{const c=(jw(r)?FH:IH)(n,i,s,r),d={...PH(n,typeof r=="string",t),...c,ref:a},{children:f}=n,h=_.useMemo(()=>wn(f)?f.get():f,[f]);return _.createElement(r,{...d,children:h})}}function SA(t,{style:e,vars:r},n,a){Object.assign(t.style,e,a&&a.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}const EA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CA(t,e,r,n){SA(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(EA.has(a)?a:Nw(a),e.attrs[a])}function Dw(t,e){const{style:r}=t,n={};for(const a in r)(wn(r[a])||e.style&&wn(e.style[a])||vA(a,t))&&(n[a]=r[a]);return n}function jA(t,e){const r=Dw(t,e);for(const n in t)if(wn(t[n])||wn(e[n])){const a=of.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=t[n]}return r}function Pw(t,e,r,n={},a={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,a)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,a)),e}function AA(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Y0=t=>Array.isArray(t),UH=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),zH=t=>Y0(t)?t[t.length-1]||0:t;function Xh(t){const e=wn(t)?t.get():t;return UH(e)?e.toValue():e}function HH({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,a,i){const s={latestValues:WH(n,a,i,t),renderState:e()};return r&&(s.mount=o=>r(n,o,s)),s}const TA=t=>(e,r)=>{const n=_.useContext(tm),a=_.useContext(rm),i=()=>HH(t,e,n,a);return r?i():AA(i)};function WH(t,e,r,n){const a={},i=n(t,{});for(const h in i)a[h]=Xh(i[h]);let{initial:s,animate:o}=t;const c=im(t),u=mA(t);e&&u&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let d=r?r.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!am(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=Pw(t,p);if(!m)return;const{transitionEnd:g,transition:y,...x}=m;for(const v in x){let b=x[v];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(a[v]=b)}for(const v in g)a[v]=g[v]}),a}const Wt=t=>t;class I3{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function VH(t){let e=new I3,r=new I3,n=0,a=!1,i=!1;const s=new WeakSet,o={schedule:(c,u=!1,d=!1)=>{const f=d&&a,h=f?e:r;return u&&s.add(c),h.add(c)&&f&&a&&(n=e.order.length),c},cancel:c=>{r.remove(c),s.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const d=e.order[u];d(c),s.has(d)&&(o.schedule(d),t())}a=!1,i&&(i=!1,o.process(c))}};return o}const ih=["prepare","read","update","preRender","render","postRender"],GH=40;function XH(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=ih.reduce((f,h)=>(f[h]=VH(()=>r=!0),f),{}),s=f=>i[f].process(a),o=()=>{const f=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(f-a.timestamp,GH),1),a.timestamp=f,a.isProcessing=!0,ih.forEach(s),a.isProcessing=!1,r&&e&&(n=!1,t(o))},c=()=>{r=!0,n=!0,a.isProcessing||t(o)};return{schedule:ih.reduce((f,h)=>{const p=i[h];return f[h]=(m,g=!1,y=!1)=>(r||c(),p.schedule(m,g,y)),f},{}),cancel:f=>ih.forEach(h=>i[h].cancel(f)),state:a,steps:i}}const{schedule:xt,cancel:Li,state:Rr,steps:qg}=XH(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wt,!0),qH={useVisualState:TA({scrapeMotionValuesFromProps:jA,createRenderState:NA,onMount:(t,e,{renderState:r,latestValues:n})=>{xt.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),xt.render(()=>{Iw(r,n,{enableHardwareAcceleration:!1},Ow(e.tagName),t.transformTemplate),CA(e,r)})}})},YH={useVisualState:TA({scrapeMotionValuesFromProps:Dw,createRenderState:Tw})};function KH(t,{forwardMotionProps:e=!1},r,n){return{...jw(t)?qH:YH,preloadedFeatures:r,useRender:$H(e),createVisualElement:n,Component:t}}function Si(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const IA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function om(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const ZH=t=>e=>IA(e)&&t(e,om(e));function ji(t,e,r,n){return Si(t,e,ZH(r),n)}const QH=(t,e)=>r=>e(t(r)),Ts=(...t)=>t.reduce(QH);function OA(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const O3=OA("dragHorizontal"),D3=OA("dragVertical");function DA(t){let e=!1;if(t==="y")e=D3();else if(t==="x")e=O3();else{const r=O3(),n=D3();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function PA(){const t=DA(!0);return t?(t(),!1):!0}class qs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function P3(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),a=(i,s)=>{if(i.pointerType==="touch"||PA())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[n]&&xt.update(()=>o[n](i,s))};return ji(t.current,r,a,{passive:!t.getProps()[n]})}class JH extends qs{mount(){this.unmount=Ts(P3(this.node,!0),P3(this.node,!1))}unmount(){}}class eW extends qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ts(Si(this.node.current,"focus",()=>this.onFocus()),Si(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const RA=(t,e)=>e?t===e?!0:RA(t,e.parentElement):!1;function Yg(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,om(r))}class tW extends qs{constructor(){super(...arguments),this.removeStartListeners=Wt,this.removeEndListeners=Wt,this.removeAccessibleListeners=Wt,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=ji(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();xt.update(()=>{!f&&!RA(this.node.current,o.target)?d&&d(o,c):u&&u(o,c)})},{passive:!(n.onTap||n.onPointerUp)}),s=ji(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ts(i,s),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Yg("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&xt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Si(this.node.current,"keyup",s),Yg("down",(o,c)=>{this.startPress(o,c)})},r=Si(this.node.current,"keydown",e),n=()=>{this.isPressing&&Yg("cancel",(i,s)=>this.cancelPress(i,s))},a=Si(this.node.current,"blur",n);this.removeAccessibleListeners=Ts(r,a)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&xt.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!PA()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&xt.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=ji(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Si(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ts(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ay=new WeakMap,Kg=new WeakMap,rW=t=>{const e=ay.get(t.target);e&&e(t)},nW=t=>{t.forEach(rW)};function aW({root:t,...e}){const r=t||document;Kg.has(r)||Kg.set(r,{});const n=Kg.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(nW,{root:t,...e})),n[a]}function iW(t,e,r){const n=aW(e);return ay.set(t,r),n.observe(t),()=>{ay.delete(t),n.unobserve(t)}}const sW={some:0,all:1};class oW extends qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:sW[a]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return iW(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(lW(e,r))&&this.startObserver()}unmount(){}}function lW({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const cW={inView:{Feature:oW},tap:{Feature:tW},focus:{Feature:eW},hover:{Feature:JH}};function MA(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function uW(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function dW(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function lm(t,e,r){const n=t.getProps();return Pw(n,e,r!==void 0?r:n.custom,uW(t),dW(t))}let Rw=Wt;const Po=t=>t*1e3,Ai=t=>t/1e3,fW={current:!1},LA=t=>Array.isArray(t)&&typeof t[0]=="number";function BA(t){return!!(!t||typeof t=="string"&&FA[t]||LA(t)||Array.isArray(t)&&t.every(BA))}const Nu=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,FA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function $A(t){if(t)return LA(t)?Nu(t):Array.isArray(t)?t.map($A):FA[t]}function hW(t,e,r,{delay:n=0,duration:a,repeat:i=0,repeatType:s="loop",ease:o,times:c}={}){const u={[e]:r};c&&(u.offset=c);const d=$A(o);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function pW(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const UA=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,mW=1e-7,gW=12;function vW(t,e,r,n,a){let i,s,o=0;do s=e+(r-e)/2,i=UA(s,n,a)-t,i>0?r=s:e=s;while(Math.abs(i)>mW&&++o<gW);return s}function uf(t,e,r,n){if(t===e&&r===n)return Wt;const a=i=>vW(i,0,1,t,r);return i=>i===0||i===1?i:UA(a(i),e,n)}const xW=uf(.42,0,1,1),yW=uf(0,0,.58,1),zA=uf(.42,0,.58,1),bW=t=>Array.isArray(t)&&typeof t[0]!="number",HA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,WA=t=>e=>1-t(1-e),Mw=t=>1-Math.sin(Math.acos(t)),VA=WA(Mw),wW=HA(Mw),GA=uf(.33,1.53,.69,.99),Lw=WA(GA),_W=HA(Lw),kW=t=>(t*=2)<1?.5*Lw(t):.5*(2-Math.pow(2,-10*(t-1))),NW={linear:Wt,easeIn:xW,easeInOut:zA,easeOut:yW,circIn:Mw,circInOut:wW,circOut:VA,backIn:Lw,backInOut:_W,backOut:GA,anticipate:kW},R3=t=>{if(Array.isArray(t)){Rw(t.length===4);const[e,r,n,a]=t;return uf(e,r,n,a)}else if(typeof t=="string")return NW[t];return t},Bw=(t,e)=>r=>!!(lf(r)&&EH.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),XA=(t,e,r)=>n=>{if(!lf(n))return n;const[a,i,s,o]=n.match(sm);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},SW=t=>Fs(0,255,t),Zg={...sl,transform:t=>Math.round(SW(t))},Ao={test:Bw("rgb","red"),parse:XA("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Zg.transform(t)+", "+Zg.transform(e)+", "+Zg.transform(r)+", "+Zu(Ku.transform(n))+")"};function EW(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const iy={test:Bw("#"),parse:EW,transform:Ao.transform},Pl={test:Bw("hsl","hue"),parse:XA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ti.transform(Zu(e))+", "+ti.transform(Zu(r))+", "+Zu(Ku.transform(n))+")"},Yr={test:t=>Ao.test(t)||iy.test(t)||Pl.test(t),parse:t=>Ao.test(t)?Ao.parse(t):Pl.test(t)?Pl.parse(t):iy.parse(t),transform:t=>lf(t)?t:t.hasOwnProperty("red")?Ao.transform(t):Pl.transform(t)},Rt=(t,e,r)=>-r*t+r*e+t;function Qg(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function CW({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,s=0;if(!e)a=i=s=r;else{const o=r<.5?r*(1+e):r+e-r*e,c=2*r-o;a=Qg(c,o,t+1/3),i=Qg(c,o,t),s=Qg(c,o,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}const Jg=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},jW=[iy,Ao,Pl],AW=t=>jW.find(e=>e.test(t));function M3(t){const e=AW(t);let r=e.parse(t);return e===Pl&&(r=CW(r)),r}const qA=(t,e)=>{const r=M3(t),n=M3(e),a={...r};return i=>(a.red=Jg(r.red,n.red,i),a.green=Jg(r.green,n.green,i),a.blue=Jg(r.blue,n.blue,i),a.alpha=Rt(r.alpha,n.alpha,i),Ao.transform(a))};function TW(t){var e,r;return isNaN(t)&&lf(t)&&(((e=t.match(sm))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(bA))===null||r===void 0?void 0:r.length)||0)>0}const YA={regex:NH,countKey:"Vars",token:"${v}",parse:Wt},KA={regex:bA,countKey:"Colors",token:"${c}",parse:Yr.parse},ZA={regex:sm,countKey:"Numbers",token:"${n}",parse:sl.parse};function ev(t,{regex:e,countKey:r,token:n,parse:a}){const i=t.tokenised.match(e);i&&(t["num"+r]=i.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...i.map(a)))}function K0(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&ev(r,YA),ev(r,KA),ev(r,ZA),r}function QA(t){return K0(t).values}function JA(t){const{values:e,numColors:r,numVars:n,tokenised:a}=K0(t),i=e.length;return s=>{let o=a;for(let c=0;c<i;c++)c<n?o=o.replace(YA.token,s[c]):c<n+r?o=o.replace(KA.token,Yr.transform(s[c])):o=o.replace(ZA.token,Zu(s[c]));return o}}const IW=t=>typeof t=="number"?0:t;function OW(t){const e=QA(t);return JA(t)(e.map(IW))}const $s={test:TW,parse:QA,createTransformer:JA,getAnimatableNone:OW},e5=(t,e)=>r=>`${r>0?e:t}`;function t5(t,e){return typeof t=="number"?r=>Rt(t,e,r):Yr.test(t)?qA(t,e):t.startsWith("var(")?e5(t,e):n5(t,e)}const r5=(t,e)=>{const r=[...t],n=r.length,a=t.map((i,s)=>t5(i,e[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}},DW=(t,e)=>{const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=t5(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}},n5=(t,e)=>{const r=$s.createTransformer(e),n=K0(t),a=K0(e);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?Ts(r5(n.values,a.values),r):e5(t,e)},Od=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},L3=(t,e)=>r=>Rt(t,e,r);function PW(t){return typeof t=="number"?L3:typeof t=="string"?Yr.test(t)?qA:n5:Array.isArray(t)?r5:typeof t=="object"?DW:L3}function RW(t,e,r){const n=[],a=r||PW(t[0]),i=t.length-1;for(let s=0;s<i;s++){let o=a(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Wt:e;o=Ts(c,o)}n.push(o)}return n}function a5(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(Rw(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=RW(e,n,a),o=s.length,c=u=>{let d=0;if(o>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=Od(t[d],t[d+1],u);return s[d](f)};return r?u=>c(Fs(t[0],t[i-1],u)):c}function MW(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=Od(0,e,n);t.push(Rt(r,1,a))}}function LW(t){const e=[0];return MW(e,t.length-1),e}function BW(t,e){return t.map(r=>r*e)}function FW(t,e){return t.map(()=>e||zA).splice(0,t.length-1)}function Z0({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=bW(n)?n.map(R3):R3(n),i={done:!1,value:e[0]},s=BW(r&&r.length===e.length?r:LW(e),t),o=a5(s,e,{ease:Array.isArray(a)?a:FW(e,a)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}function i5(t,e){return e?t*(1e3/e):0}const $W=5;function s5(t,e,r){const n=Math.max(e-$W,0);return i5(r-t(n),e-n)}const tv=.001,UW=.01,zW=10,HW=.05,WW=1;function VW({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let a,i,s=1-e;s=Fs(HW,WW,s),t=Fs(UW,zW,Ai(t)),s<1?(a=u=>{const d=u*s,f=d*t,h=d-r,p=sy(u,s),m=Math.exp(-f);return tv-h/p*m},i=u=>{const f=u*s*t,h=f*r+r,p=Math.pow(s,2)*Math.pow(u,2)*t,m=Math.exp(-f),g=sy(Math.pow(u,2),s);return(-a(u)+tv>0?-1:1)*((h-p)*m)/g}):(a=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-tv+d*f},i=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const o=5/t,c=XW(a,i,o);if(t=Po(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:t}}}const GW=12;function XW(t,e,r){let n=r;for(let a=1;a<GW;a++)n=n-t(n)/e(n);return n}function sy(t,e){return t*Math.sqrt(1-e*e)}const qW=["duration","bounce"],YW=["stiffness","damping","mass"];function B3(t,e){return e.some(r=>t[r]!==void 0)}function KW(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!B3(t,YW)&&B3(t,qW)){const r=VW(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function o5({keyframes:t,restDelta:e,restSpeed:r,...n}){const a=t[0],i=t[t.length-1],s={done:!1,value:a},{stiffness:o,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=KW({...n,velocity:-Ai(n.velocity||0)}),p=f||0,m=c/(2*Math.sqrt(o*u)),g=i-a,y=Ai(Math.sqrt(o/u)),x=Math.abs(g)<5;r||(r=x?.01:2),e||(e=x?.005:.5);let v;if(m<1){const b=sy(y,m);v=w=>{const S=Math.exp(-m*y*w);return i-S*((p+m*y*g)/b*Math.sin(b*w)+g*Math.cos(b*w))}}else if(m===1)v=b=>i-Math.exp(-y*b)*(g+(p+y*g)*b);else{const b=y*Math.sqrt(m*m-1);v=w=>{const S=Math.exp(-m*y*w),E=Math.min(b*w,300);return i-S*((p+m*y*g)*Math.sinh(E)+b*g*Math.cosh(E))/b}}return{calculatedDuration:h&&d||null,next:b=>{const w=v(b);if(h)s.done=b>=d;else{let S=p;b!==0&&(m<1?S=s5(v,b,w):S=0);const E=Math.abs(S)<=r,j=Math.abs(i-w)<=e;s.done=E&&j}return s.value=s.done?i:w,s}}}function F3({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=I=>o!==void 0&&I<o||c!==void 0&&I>c,m=I=>o===void 0?c:c===void 0||Math.abs(o-I)<Math.abs(c-I)?o:c;let g=r*e;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const v=I=>-g*Math.exp(-I/n),b=I=>x+v(I),w=I=>{const k=v(I),T=b(I);h.done=Math.abs(k)<=u,h.value=h.done?x:T};let S,E;const j=I=>{p(h.value)&&(S=I,E=o5({keyframes:[h.value,m(h.value)],velocity:s5(b,I,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:I=>{let k=!1;return!E&&S===void 0&&(k=!0,w(I),j(I)),S!==void 0&&I>S?E.next(I-S):(!k&&w(I),h)}}}const ZW=t=>{const e=({timestamp:r})=>t(r);return{start:()=>xt.update(e,!0),stop:()=>Li(e),now:()=>Rr.isProcessing?Rr.timestamp:performance.now()}},$3=2e4;function U3(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<$3;)e+=r,n=t.next(e);return e>=$3?1/0:e}const QW={decay:F3,inertia:F3,tween:Z0,keyframes:Z0,spring:o5};function Q0({autoplay:t=!0,delay:e=0,driver:r=ZW,keyframes:n,type:a="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,m=!1,g,y;const x=()=>{y=new Promise(B=>{g=B})};x();let v;const b=QW[a]||Z0;let w;b!==Z0&&typeof n[0]!="number"&&(w=a5([0,100],n,{clamp:!1}),n=[0,100]);const S=b({...h,keyframes:n});let E;o==="mirror"&&(E=b({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let j="idle",I=null,k=null,T=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=U3(S));const{calculatedDuration:L}=S;let C=1/0,A=1/0;L!==null&&(C=L+s,A=C*(i+1)-s);let N=0;const O=B=>{if(k===null)return;p>0&&(k=Math.min(k,B)),p<0&&(k=Math.min(B-A/p,k)),I!==null?N=I:N=Math.round(B-k)*p;const U=N-e*(p>=0?1:-1),q=p>=0?U<0:U>A;N=Math.max(U,0),j==="finished"&&I===null&&(N=A);let ee=N,V=S;if(i){const se=Math.min(N,A)/C;let ye=Math.floor(se),ve=se%1;!ve&&se>=1&&(ve=1),ve===1&&ye--,ye=Math.min(ye,i+1),!!(ye%2)&&(o==="reverse"?(ve=1-ve,s&&(ve-=s/C)):o==="mirror"&&(V=E)),ee=Fs(0,1,ve)*C}const re=q?{done:!1,value:n[0]}:V.next(ee);w&&(re.value=w(re.value));let{done:oe}=re;!q&&L!==null&&(oe=p>=0?N>=A:N<=0);const ie=I===null&&(j==="finished"||j==="running"&&oe);return f&&f(re.value),ie&&R(),re},$=()=>{v&&v.stop(),v=void 0},D=()=>{j="idle",$(),g(),x(),k=T=null},R=()=>{j="finished",d&&d(),$(),g()},M=()=>{if(m)return;v||(v=r(O));const B=v.now();c&&c(),I!==null?k=B-I:(!k||j==="finished")&&(k=B),j==="finished"&&x(),T=k,I=null,j="running",v.start()};t&&M();const F={then(B,U){return y.then(B,U)},get time(){return Ai(N)},set time(B){B=Po(B),N=B,I!==null||!v||p===0?I=B:k=v.now()-B/p},get duration(){const B=S.calculatedDuration===null?U3(S):S.calculatedDuration;return Ai(B)},get speed(){return p},set speed(B){B===p||!v||(p=B,F.time=Ai(N))},get state(){return j},play:M,pause:()=>{j="paused",I=N},stop:()=>{m=!0,j!=="idle"&&(j="idle",u&&u(),D())},cancel:()=>{T!==null&&O(T),D()},complete:()=>{j="finished"},sample:B=>(k=0,O(B))};return F}function JW(t){let e;return()=>(e===void 0&&(e=t()),e)}const eV=JW(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tV=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sh=10,rV=2e4,nV=(t,e)=>e.type==="spring"||t==="backgroundColor"||!BA(e.ease);function aV(t,e,{onUpdate:r,onComplete:n,...a}){if(!(eV()&&tV.has(e)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let s=!1,o,c,u=!1;const d=()=>{c=new Promise(b=>{o=b})};d();let{keyframes:f,duration:h=300,ease:p,times:m}=a;if(nV(e,a)){const b=Q0({...a,repeat:0,delay:0});let w={done:!1,value:f[0]};const S=[];let E=0;for(;!w.done&&E<rV;)w=b.sample(E),S.push(w.value),E+=sh;m=void 0,f=S,h=E-sh,p="linear"}const g=hW(t.owner.current,e,f,{...a,duration:h,ease:p,times:m}),y=()=>{u=!1,g.cancel()},x=()=>{u=!0,xt.update(y),o(),d()};return g.onfinish=()=>{u||(t.set(pW(f,a)),n&&n(),x())},{then(b,w){return c.then(b,w)},attachTimeline(b){return g.timeline=b,g.onfinish=null,Wt},get time(){return Ai(g.currentTime||0)},set time(b){g.currentTime=Po(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return Ai(h)},play:()=>{s||(g.play(),Li(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const w=Q0({...a,autoplay:!1});t.setWithVelocity(w.sample(b-sh).value,w.sample(b).value,sh)}x()},complete:()=>{u||g.finish()},cancel:x}}function iV({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const a=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Wt,pause:Wt,stop:Wt,then:i=>(i(),Promise.resolve()),cancel:Wt,complete:Wt});return e?Q0({keyframes:[0,1],duration:0,delay:e,onComplete:a}):a()}const sV={type:"spring",stiffness:500,damping:25,restSpeed:10},oV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lV={type:"keyframes",duration:.8},cV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uV=(t,{keyframes:e})=>e.length>2?lV:il.has(t)?t.startsWith("scale")?oV(e[1]):sV:cV,oy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($s.test(e)||e==="0")&&!e.startsWith("url(")),dV=new Set(["brightness","contrast","saturate","opacity"]);function fV(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(sm)||[];if(!n)return t;const a=r.replace(n,"");let i=dV.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const hV=/([a-z-]*)\(.*?\)/g,ly={...$s,getAnimatableNone:t=>{const e=t.match(hV);return e?e.map(fV).join(" "):t}},pV={...wA,color:Yr,backgroundColor:Yr,outlineColor:Yr,fill:Yr,stroke:Yr,borderColor:Yr,borderTopColor:Yr,borderRightColor:Yr,borderBottomColor:Yr,borderLeftColor:Yr,filter:ly,WebkitFilter:ly},Fw=t=>pV[t];function l5(t,e){let r=Fw(t);return r!==ly&&(r=$s),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const c5=t=>/^0[^.\s]+$/.test(t);function mV(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||c5(t)}function gV(t,e,r,n){const a=oy(e,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const s=n.from!==void 0?n.from:t.get();let o;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),mV(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(o=i[u]);if(a&&c.length&&o)for(let u=0;u<c.length;u++){const d=c[u];i[d]=l5(e,o)}return i}function vV({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function $w(t,e){return t[e]||t.default||t}const xV={skipAnimations:!1},Uw=(t,e,r,n={})=>a=>{const i=$w(n,t)||{},s=i.delay||n.delay||0;let{elapsed:o=0}=n;o=o-Po(s);const c=gV(e,t,r,i),u=c[0],d=c[c.length-1],f=oy(t,u),h=oy(t,d);let p={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:m=>{e.set(m),i.onUpdate&&i.onUpdate(m)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(vV(i)||(p={...p,...uV(t,p)}),p.duration&&(p.duration=Po(p.duration)),p.repeatDelay&&(p.repeatDelay=Po(p.repeatDelay)),!f||!h||fW.current||i.type===!1||xV.skipAnimations)return iV(p);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=aV(e,t,p);if(m)return m}return Q0(p)};function J0(t){return!!(wn(t)&&t.add)}const u5=t=>/^\-?\d*\.?\d+$/.test(t);function zw(t,e){t.indexOf(e)===-1&&t.push(e)}function Hw(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Ww{constructor(){this.subscriptions=[]}add(e){return zw(this.subscriptions,e),()=>Hw(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yV=t=>!isNaN(parseFloat(t));class bV{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:s}=Rr;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,xt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>xt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=yV(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Ww);const n=this.events[e].add(r);return e==="change"?()=>{n(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?i5(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yc(t,e){return new bV(t,e)}const d5=t=>e=>e.test(t),wV={test:t=>t==="auto",parse:t=>t},f5=[sl,Te,ti,es,jH,CH,wV],nu=t=>f5.find(d5(t)),_V=[...f5,Yr,$s],kV=t=>_V.find(d5(t));function NV(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,yc(r))}function SV(t,e){const r=lm(t,e);let{transitionEnd:n={},transition:a={},...i}=r?t.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const s in i){const o=zH(i[s]);NV(t,s,o)}}function EV(t,e,r){var n,a;const i=Object.keys(e).filter(o=>!t.hasValue(o)),s=i.length;if(s)for(let o=0;o<s;o++){const c=i[o],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(n=r[c])!==null&&n!==void 0?n:t.readValue(c))!==null&&a!==void 0?a:e[c]),d!=null&&(typeof d=="string"&&(u5(d)||c5(d))?d=parseFloat(d):!kV(d)&&$s.test(u)&&(d=l5(c,u)),t.addValue(c,yc(d,{owner:t})),r[c]===void 0&&(r[c]=d),d!==null&&t.setBaseTarget(c,d))}}function CV(t,e){return e?(e[t]||e.default||e).from:void 0}function jV(t,e,r){const n={};for(const a in t){const i=CV(a,e);if(i!==void 0)n[a]=i;else{const s=r.getValue(a);s&&(n[a]=s.get())}}return n}function AV({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function TV(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function h5(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...o}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");n&&(i=n);const u=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const f in o){const h=t.getValue(f),p=o[f];if(!h||p===void 0||d&&AV(d,f))continue;const m={delay:r,elapsed:0,...$w(i||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[pA];if(x){const v=window.HandoffAppearAnimations(x,f,h,xt);v!==null&&(m.elapsed=v,m.isHandoff=!0)}}let g=!m.isHandoff&&!TV(h,p);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(Uw(f,h,p,t.shouldReduceMotion&&il.has(f)?{type:!1}:m));const y=h.animation;J0(c)&&(c.add(f),y.then(()=>c.remove(f))),u.push(y)}return s&&Promise.all(u).then(()=>{s&&SV(t,s)}),u}function cy(t,e,r={}){const n=lm(t,e,r.custom);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(h5(t,n,r)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return IV(t,e,u+c,d,f,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function IV(t,e,r=0,n=0,a=1,i){const s=[],o=(t.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(t.variantChildren).sort(OV).forEach((u,d)=>{u.notify("AnimationStart",e),s.push(cy(u,e,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function OV(t,e){return t.sortNodePosition(e)}function DV(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>cy(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=cy(t,e,r);else{const a=typeof e=="function"?lm(t,e,r.custom):e;n=Promise.all(h5(t,a,r))}return n.then(()=>t.notify("AnimationComplete",e))}const PV=[...Sw].reverse(),RV=Sw.length;function MV(t){return e=>Promise.all(e.map(({animation:r,options:n})=>DV(t,r,n)))}function LV(t){let e=MV(t);const r=FV();let n=!0;const a=(c,u)=>{const d=lm(t,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function i(c){e=c(t)}function s(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},h=[],p=new Set;let m={},g=1/0;for(let x=0;x<RV;x++){const v=PV[x],b=r[v],w=d[v]!==void 0?d[v]:f[v],S=Td(w),E=v===u?b.isActive:null;E===!1&&(g=x);let j=w===f[v]&&w!==d[v]&&S;if(j&&n&&t.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...m},!b.isActive&&E===null||!w&&!b.prevProp||am(w)||typeof w=="boolean")continue;let k=BV(b.prevProp,w)||v===u&&b.isActive&&!j&&S||x>g&&S,T=!1;const L=Array.isArray(w)?w:[w];let C=L.reduce(a,{});E===!1&&(C={});const{prevResolvedValues:A={}}=b,N={...A,...C},O=$=>{k=!0,p.has($)&&(T=!0,p.delete($)),b.needsAnimating[$]=!0};for(const $ in N){const D=C[$],R=A[$];if(m.hasOwnProperty($))continue;let M=!1;Y0(D)&&Y0(R)?M=!MA(D,R):M=D!==R,M?D!==void 0?O($):p.add($):D!==void 0&&p.has($)?O($):b.protectedKeys[$]=!0}b.prevProp=w,b.prevResolvedValues=C,b.isActive&&(m={...m,...C}),n&&t.blockInitialAnimation&&(k=!1),k&&(!j||T)&&h.push(...L.map($=>({animation:$,options:{type:v,...c}})))}if(p.size){const x={};p.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(x[v]=b)}),h.push({animation:x})}let y=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(h):Promise.resolve()}function o(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const h=s(d,c);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r}}function BV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MA(e,t):!1}function eo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FV(){return{animate:eo(!0),whileInView:eo(),whileHover:eo(),whileTap:eo(),whileDrag:eo(),whileFocus:eo(),exit:eo()}}class $V extends qs{constructor(e){super(e),e.animationState||(e.animationState=LV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),am(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let UV=0;class zV extends qs{constructor(){super(...arguments),this.id=UV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const i=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const HV={animation:{Feature:$V},exit:{Feature:zV}},z3=(t,e)=>Math.abs(t-e);function WV(t,e){const r=z3(t.x,e.x),n=z3(t.y,e.y);return Math.sqrt(r**2+n**2)}class p5{constructor(e,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=nv(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=WV(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:g}=Rr;this.history.push({...m,timestamp:g});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=rv(h,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=nv(f.type==="pointercancel"?this.lastMoveEventInfo:rv(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),m&&m(f,y)},!IA(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=om(e),o=rv(s,this.transformPagePoint),{point:c}=o,{timestamp:u}=Rr;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,nv(o,this.history)),this.removeListeners=Ts(ji(this.contextWindow,"pointermove",this.handlePointerMove),ji(this.contextWindow,"pointerup",this.handlePointerUp),ji(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Li(this.updatePoint)}}function rv(t,e){return e?{point:e(t.point)}:t}function H3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nv({point:t},e){return{point:t,delta:H3(t,m5(e)),offset:H3(t,VV(e)),velocity:GV(e,.1)}}function VV(t){return t[0]}function m5(t){return t[t.length-1]}function GV(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=m5(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Po(e)));)r--;if(!n)return{x:0,y:0};const i=Ai(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Rn(t){return t.max-t.min}function uy(t,e=0,r=.01){return Math.abs(t-e)<=r}function W3(t,e,r,n=.5){t.origin=n,t.originPoint=Rt(e.min,e.max,t.origin),t.scale=Rn(r)/Rn(e),(uy(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Rt(r.min,r.max,t.origin)-t.originPoint,(uy(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Qu(t,e,r,n){W3(t.x,e.x,r.x,n?n.originX:void 0),W3(t.y,e.y,r.y,n?n.originY:void 0)}function V3(t,e,r){t.min=r.min+e.min,t.max=t.min+Rn(e)}function XV(t,e,r){V3(t.x,e.x,r.x),V3(t.y,e.y,r.y)}function G3(t,e,r){t.min=e.min-r.min,t.max=t.min+Rn(e)}function Ju(t,e,r){G3(t.x,e.x,r.x),G3(t.y,e.y,r.y)}function qV(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Rt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Rt(r,t,n.max):Math.min(t,r)),t}function X3(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function YV(t,{top:e,left:r,bottom:n,right:a}){return{x:X3(t.x,r,a),y:X3(t.y,e,n)}}function q3(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function KV(t,e){return{x:q3(t.x,e.x),y:q3(t.y,e.y)}}function ZV(t,e){let r=.5;const n=Rn(t),a=Rn(e);return a>n?r=Od(e.min,e.max-n,t.min):n>a&&(r=Od(t.min,t.max-a,e.min)),Fs(0,1,r)}function QV(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const dy=.35;function JV(t=dy){return t===!1?t=0:t===!0&&(t=dy),{x:Y3(t,"left","right"),y:Y3(t,"top","bottom")}}function Y3(t,e,r){return{min:K3(t,e),max:K3(t,r)}}function K3(t,e){return typeof t=="number"?t:t[e]||0}const Z3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rl=()=>({x:Z3(),y:Z3()}),Q3=()=>({min:0,max:0}),Xt=()=>({x:Q3(),y:Q3()});function Qn(t){return[t("x"),t("y")]}function g5({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function eG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tG(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function av(t){return t===void 0||t===1}function fy({scale:t,scaleX:e,scaleY:r}){return!av(t)||!av(e)||!av(r)}function fo(t){return fy(t)||v5(t)||t.z||t.rotate||t.rotateX||t.rotateY}function v5(t){return J3(t.x)||J3(t.y)}function J3(t){return t&&t!=="0%"}function ep(t,e,r){const n=t-r,a=e*n;return r+a}function eN(t,e,r,n,a){return a!==void 0&&(t=ep(t,a,n)),ep(t,r,n)+e}function hy(t,e=0,r=1,n,a){t.min=eN(t.min,e,r,n,a),t.max=eN(t.max,e,r,n,a)}function x5(t,{x:e,y:r}){hy(t.x,e.translate,e.scale,e.originPoint),hy(t.y,r.translate,r.scale,r.originPoint)}function rG(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ml(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,x5(t,s)),n&&fo(i.latestValues)&&Ml(t,i.latestValues))}e.x=tN(e.x),e.y=tN(e.y)}function tN(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function is(t,e){t.min=t.min+e,t.max=t.max+e}function rN(t,e,[r,n,a]){const i=e[a]!==void 0?e[a]:.5,s=Rt(t.min,t.max,i);hy(t,e[r],e[n],s,e.scale)}const nG=["x","scaleX","originX"],aG=["y","scaleY","originY"];function Ml(t,e){rN(t.x,e,nG),rN(t.y,e,aG)}function y5(t,e){return g5(tG(t.getBoundingClientRect(),e))}function iG(t,e,r){const n=y5(t,r),{scroll:a}=e;return a&&(is(n.x,a.offset.x),is(n.y,a.offset.y)),n}const b5=({current:t})=>t?t.ownerDocument.defaultView:null,sG=new WeakMap;class oG{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(om(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=DA(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(y=>{let x=this.getAxisMotionValue(y).get()||0;if(ti.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[y];b&&(x=Rn(b)*(parseFloat(x)/100))}}this.originPoint[y]=x}),m&&xt.update(()=>m(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=lG(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),c=()=>Qn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new p5(e,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:b5(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&xt.update(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!oh(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=qV(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;r&&Dl(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=YV(a.layoutBox,r):this.constraints=!1,this.elastic=JV(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Qn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=QV(a.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Dl(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=iG(n,a.root,this.visualElement.getTransformPagePoint());let s=KV(a.layout.layoutBox,i);if(r){const o=r(eG(s));this.hasMutatedConstraints=!!o,o&&(s=g5(o))}return s}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Qn(d=>{if(!oh(d,r,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,m={type:"inertia",velocity:n?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(Uw(e,n,0,r))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Qn(r=>{const{drag:n}=this.getProps();if(!oh(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(e[r]-Rt(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Dl(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qn(s=>{const o=this.getAxisMotionValue(s);if(o){const c=o.get();a[s]=ZV({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Qn(s=>{if(!oh(s,e,null))return;const o=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];o.set(Rt(c,u,a[s]))})}addListeners(){if(!this.visualElement.current)return;sG.set(this.visualElement,this);const e=this.visualElement.current,r=ji(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Dl(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const s=Si(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=dy,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function oh(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function lG(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class cG extends qs{constructor(e){super(e),this.removeGroupControls=Wt,this.removeListeners=Wt,this.controls=new oG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const nN=t=>(e,r)=>{t&&xt.update(()=>t(e,r))};class uG extends qs{constructor(){super(...arguments),this.removePointerDownListener=Wt}onPointerDown(e){this.session=new p5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:nN(e),onStart:nN(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&xt.update(()=>a(i,s))}}}mount(){this.removePointerDownListener=ji(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function dG(){const t=_.useContext(rm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,a=_.useId();return _.useEffect(()=>n(a),[]),!e&&r?[!1,()=>r&&r(a)]:[!0]}const qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const au={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const r=aN(t,e.target.x),n=aN(t,e.target.y);return`${r}% ${n}%`}},fG={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=$s.parse(t);if(a.length>5)return n;const i=$s.createTransformer(t),s=typeof a[0]!="number"?1:0,o=r.x.scale*e.x,c=r.y.scale*e.y;a[0+s]/=o,a[1+s]/=c;const u=Rt(o,c,.5);return typeof a[2+s]=="number"&&(a[2+s]/=u),typeof a[3+s]=="number"&&(a[3+s]/=u),i(a)}};class hG extends ne.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;bH(pG),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,s=n.projection;return s&&(s.isPresent=i,a||e.layoutDependency!==r||r===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||xt.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function w5(t){const[e,r]=dG(),n=_.useContext(Cw);return ne.createElement(hG,{...t,layoutGroup:n,switchLayoutGroup:_.useContext(gA),isPresent:e,safeToRemove:r})}const pG={borderRadius:{...au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:au,borderTopRightRadius:au,borderBottomLeftRadius:au,borderBottomRightRadius:au,boxShadow:fG},_5=["TopLeft","TopRight","BottomLeft","BottomRight"],mG=_5.length,iN=t=>typeof t=="string"?parseFloat(t):t,sN=t=>typeof t=="number"||Te.test(t);function gG(t,e,r,n,a,i){a?(t.opacity=Rt(0,r.opacity!==void 0?r.opacity:1,vG(n)),t.opacityExit=Rt(e.opacity!==void 0?e.opacity:1,0,xG(n))):i&&(t.opacity=Rt(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let s=0;s<mG;s++){const o=`border${_5[s]}Radius`;let c=oN(e,o),u=oN(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||sN(c)===sN(u)?(t[o]=Math.max(Rt(iN(c),iN(u),n),0),(ti.test(u)||ti.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=Rt(e.rotate||0,r.rotate||0,n))}function oN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vG=k5(0,.5,VA),xG=k5(.5,.95,Wt);function k5(t,e,r){return n=>n<t?0:n>e?1:r(Od(t,e,n))}function lN(t,e){t.min=e.min,t.max=e.max}function Vn(t,e){lN(t.x,e.x),lN(t.y,e.y)}function cN(t,e,r,n,a){return t-=e,t=ep(t,1/r,n),a!==void 0&&(t=ep(t,1/a,n)),t}function yG(t,e=0,r=1,n=.5,a,i=t,s=t){if(ti.test(e)&&(e=parseFloat(e),e=Rt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Rt(i.min,i.max,n);t===i&&(o-=e),t.min=cN(t.min,e,r,o,a),t.max=cN(t.max,e,r,o,a)}function uN(t,e,[r,n,a],i,s){yG(t,e[r],e[n],e[a],e.scale,i,s)}const bG=["x","scaleX","originX"],wG=["y","scaleY","originY"];function dN(t,e,r,n){uN(t.x,e,bG,r?r.x:void 0,n?n.x:void 0),uN(t.y,e,wG,r?r.y:void 0,n?n.y:void 0)}function fN(t){return t.translate===0&&t.scale===1}function N5(t){return fN(t.x)&&fN(t.y)}function _G(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function S5(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function hN(t){return Rn(t.x)/Rn(t.y)}class kG{constructor(){this.members=[]}add(e){zw(this.members,e),e.scheduleRender()}remove(e){if(Hw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pN(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y;if((a||i)&&(n=`translate3d(${a}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const s=t.x.scale*e.x,o=t.y.scale*e.y;return(s!==1||o!==1)&&(n+=`scale(${s}, ${o})`),n||"none"}const NG=(t,e)=>t.depth-e.depth;class SG{constructor(){this.children=[],this.isDirty=!1}add(e){zw(this.children,e),this.isDirty=!0}remove(e){Hw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NG),this.isDirty=!1,this.children.forEach(e)}}function EG(t,e){const r=performance.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(Li(n),t(i-e))};return xt.read(n,!0),()=>Li(n)}function CG(t){window.MotionDebug&&window.MotionDebug.record(t)}function jG(t){return t instanceof SVGElement&&t.tagName!=="svg"}function AG(t,e,r){const n=wn(t)?t:yc(t);return n.start(Uw("",n,e,r)),n.animation}const mN=["","X","Y","Z"],TG={visibility:"hidden"},gN=1e3;let IG=0;const ho={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function E5({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=e==null?void 0:e()){this.id=IG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ho.totalNodes=ho.resolvedTargetDeltas=ho.recalculatedProjection=0,this.nodes.forEach(PG),this.nodes.forEach(FG),this.nodes.forEach($G),this.nodes.forEach(RG),CG(ho)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new SG)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Ww),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const c=this.eventHandlers.get(s);c&&c.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jG(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=EG(h,250),qh.hasAnimatedSinceResize&&(qh.hasAnimatedSinceResize=!1,this.nodes.forEach(xN))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||VG,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),v=!this.targetLayout||!S5(this.targetLayout,m)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const w={...$w(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||xN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Li(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UG),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vN);return}this.isUpdating||this.nodes.forEach(LG),this.isUpdating=!1,this.nodes.forEach(BG),this.nodes.forEach(OG),this.nodes.forEach(DG),this.clearAllSnapshots();const o=performance.now();Rr.delta=Fs(0,1e3/60,o-Rr.timestamp),Rr.timestamp=o,Rr.isProcessing=!0,qg.update.process(Rr),qg.preRender.process(Rr),qg.render.process(Rr),Rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(MG),this.sharedNodes.forEach(zG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!N5(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||fo(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return s&&(c=this.removeTransform(c)),GG(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Xt();const o=s.measureViewportBox(),{scroll:c}=this.root;return c&&(is(o.x,c.offset.x),is(o.y,c.offset.y)),o}removeElementScroll(s){const o=Xt();Vn(o,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Vn(o,s);const{scroll:h}=this.root;h&&(is(o.x,-h.offset.x),is(o.y,-h.offset.y))}is(o.x,d.offset.x),is(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const c=Xt();Vn(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ml(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),fo(d.latestValues)&&Ml(c,d.latestValues)}return fo(this.latestValues)&&Ml(c,this.latestValues),c}removeTransform(s){const o=Xt();Vn(o,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!fo(u.latestValues))continue;fy(u.latestValues)&&u.updateSnapshot();const d=Xt(),f=u.measurePageBox();Vn(d,f),dN(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return fo(this.latestValues)&&dN(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Rr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Ju(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xt(),this.targetWithTransforms=Xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),x5(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xt(),this.relativeTargetOrigin=Xt(),Ju(this.relativeTargetOrigin,this.target,p.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ho.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fy(this.parent.latestValues)||v5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Rr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Vn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;rG(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=Rl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Rl(),this.projectionDeltaWithTransform=Rl());const g=this.projectionTransform;Qu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=pN(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ho.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Xt(),p=c?c.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,y=this.getStack(),x=!y||y.members.length<=1,v=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(WG));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;yN(f.x,s.x,S),yN(f.y,s.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ju(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HG(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&_G(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Xt()),Vn(b,this.relativeTarget)),g&&(this.animationValues=d,gG(d,u,this.latestValues,S,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Li(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{qh.hasAnimatedSinceResize=!0,this.currentAnimation=AG(0,gN,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=s;if(!(!o||!c||!u)){if(this!==s&&this.layout&&u&&C5(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Xt();const f=Rn(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const h=Rn(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+h}Vn(o,c),Ml(o,d),Qu(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new kG),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const u={};for(let d=0;d<mN.length;d++){const f="rotate"+mN[d];c[f]&&(u[f]=c[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return TG;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Xh(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Xh(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!fo(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=pN(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in X0){if(h[g]===void 0)continue;const{correct:y,applyTo:x}=X0[g],v=u.transform==="none"?h[g]:y(h[g],f);if(x){const b=x.length;for(let w=0;w<b;w++)u[x[w]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=f===this?Xh(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(vN),this.root.sharedNodes.clear()}}}function OG(t){t.updateLayout()}function DG(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,s=r.source!==t.layout.source;i==="size"?Qn(f=>{const h=s?r.measuredBox[f]:r.layoutBox[f],p=Rn(h);h.min=n[f].min,h.max=h.min+p}):C5(i,r.layoutBox,n)&&Qn(f=>{const h=s?r.measuredBox[f]:r.layoutBox[f],p=Rn(n[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=Rl();Qu(o,n,r.layoutBox);const c=Rl();s?Qu(c,t.applyTransform(a,!0),r.measuredBox):Qu(c,n,r.layoutBox);const u=!N5(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=Xt();Ju(m,r.layoutBox,h.layoutBox);const g=Xt();Ju(g,n,p.layoutBox),S5(m,g)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function PG(t){ho.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function MG(t){t.clearSnapshot()}function vN(t){t.clearMeasurements()}function LG(t){t.isLayoutDirty=!1}function BG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function FG(t){t.resolveTargetDelta()}function $G(t){t.calcProjection()}function UG(t){t.resetRotation()}function zG(t){t.removeLeadSnapshot()}function yN(t,e,r){t.translate=Rt(e.translate,0,r),t.scale=Rt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function bN(t,e,r,n){t.min=Rt(e.min,r.min,n),t.max=Rt(e.max,r.max,n)}function HG(t,e,r,n){bN(t.x,e.x,r.x,n),bN(t.y,e.y,r.y,n)}function WG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VG={duration:.45,ease:[.4,0,.1,1]},wN=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),_N=wN("applewebkit/")&&!wN("chrome/")?Math.round:Wt;function kN(t){t.min=_N(t.min),t.max=_N(t.max)}function GG(t){kN(t.x),kN(t.y)}function C5(t,e,r){return t==="position"||t==="preserve-aspect"&&!uy(hN(e),hN(r),.2)}const XG=E5({attachResizeListener:(t,e)=>Si(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iv={current:void 0},j5=E5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!iv.current){const t=new XG({});t.mount(window),t.setOptions({layoutScroll:!0}),iv.current=t}return iv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qG={pan:{Feature:uG},drag:{Feature:cG,ProjectionNode:j5,MeasureLayout:w5}},YG=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function KG(t){const e=YG.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function py(t,e,r=1){const[n,a]=KG(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const s=i.trim();return u5(s)?parseFloat(s):s}else return ny(a)?py(a,e,r+1):a}function ZG(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(a=>{const i=a.get();if(!ny(i))return;const s=py(i,n);s&&a.set(s)});for(const a in e){const i=e[a];if(!ny(i))continue;const s=py(i,n);s&&(e[a]=s,r||(r={}),r[a]===void 0&&(r[a]=i))}return{target:e,transitionEnd:r}}const QG=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),A5=t=>QG.has(t),JG=t=>Object.keys(t).some(A5),NN=t=>t===sl||t===Te,SN=(t,e)=>parseFloat(t.split(", ")[e]),EN=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return SN(a[1],e);{const i=n.match(/^matrix\((.+)\)$/);return i?SN(i[1],t):0}},eX=new Set(["x","y","z"]),tX=of.filter(t=>!eX.has(t));function rX(t){const e=[];return tX.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const bc={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:EN(4,13),y:EN(5,14)};bc.translateX=bc.x;bc.translateY=bc.y;const nX=(t,e,r)=>{const n=e.measureViewportBox(),a=e.current,i=getComputedStyle(a),{display:s}=i,o={};s==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{o[u]=bc[u](n,i)}),e.render();const c=e.measureViewportBox();return r.forEach(u=>{const d=e.getValue(u);d&&d.jump(o[u]),t[u]=bc[u](c,i)}),t},aX=(t,e,r={},n={})=>{e={...e},n={...n};const a=Object.keys(e).filter(A5);let i=[],s=!1;const o=[];if(a.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=r[c],f=nu(d);const h=e[c];let p;if(Y0(h)){const m=h.length,g=h[0]===null?1:0;d=h[g],f=nu(d);for(let y=g;y<m&&h[y]!==null;y++)p?Rw(nu(h[y])===p):p=nu(h[y])}else p=nu(h);if(f!==p)if(NN(f)&&NN(p)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof h=="string"?e[c]=parseFloat(h):Array.isArray(h)&&p===Te&&(e[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):e[c]=f.transform(h):(s||(i=rX(t),s=!0),o.push(c),n[c]=n[c]!==void 0?n[c]:e[c],u.jump(h))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,u=nX(e,t,o);return i.length&&i.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),nm&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function iX(t,e,r,n){return JG(e)?aX(t,e,r,n):{target:e,transitionEnd:n}}const sX=(t,e,r,n)=>{const a=ZG(t,e,n);return e=a.target,n=a.transitionEnd,iX(t,e,r,n)},my={current:null},T5={current:!1};function oX(){if(T5.current=!0,!!nm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>my.current=t.matches;t.addListener(e),e()}else my.current=!1}function lX(t,e,r){const{willChange:n}=e;for(const a in e){const i=e[a],s=r[a];if(wn(i))t.addValue(a,i),J0(n)&&n.add(a);else if(wn(s))t.addValue(a,yc(i,{owner:t})),J0(n)&&n.remove(a);else if(s!==i)if(t.hasValue(a)){const o=t.getValue(a);!o.hasAnimated&&o.set(i)}else{const o=t.getStaticValue(a);t.addValue(a,yc(o!==void 0?o:i,{owner:t}))}}for(const a in r)e[a]===void 0&&t.removeValue(a);return e}const CN=new WeakMap,I5=Object.keys(Id),cX=I5.length,jN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uX=Ew.length;class dX{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>xt.render(this.render,!1,!0);const{latestValues:o,renderState:c}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=r.initial?{...o}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.isControllingVariants=im(r),this.isVariantNode=mA(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];o[f]!==void 0&&wn(h)&&(h.set(o[f],!1),J0(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,CN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),T5.current||oX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){CN.delete(this.current),this.projection&&this.projection.unmount(),Li(this.notifyUpdate),Li(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=il.has(e),a=r.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&xt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{a(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,a,i){let s,o;for(let c=0;c<cX;c++){const u=I5[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=Id[u];h&&(s=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(o=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Dl(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return o}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<jN.length;n++){const a=jN[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=e["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=lX(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<uX;n++){const a=Ew[n],i=this.props[a];(Td(i)||i===!1)&&(r[a]=i)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=yc(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(r=Pw(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!wn(i)?i:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Ww),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class O5 extends dX{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:a},i){let s=jV(n,e||{},this);if(a&&(r&&(r=a(r)),n&&(n=a(n)),s&&(s=a(s))),i){EV(this,n,s);const o=sX(this,n,s,r);r=o.transitionEnd,n=o.target}return{transition:e,transitionEnd:r,...n}}}function fX(t){return window.getComputedStyle(t)}class hX extends O5{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(il.has(r)){const n=Fw(r);return n&&n.default||0}else{const n=fX(e),a=(yA(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return y5(e,r)}build(e,r,n,a){Aw(e,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Dw(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,a){SA(e,r,n,a)}}class pX extends O5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(il.has(r)){const n=Fw(r);return n&&n.default||0}return r=EA.has(r)?r:Nw(r),e.getAttribute(r)}measureInstanceViewportBox(){return Xt()}scrapeMotionValuesFromProps(e,r){return jA(e,r)}build(e,r,n,a){Iw(e,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(e,r,n,a){CA(e,r,n,a)}mount(e){this.isSVGTag=Ow(e.tagName),super.mount(e)}}const mX=(t,e)=>jw(t)?new pX(e,{enableHardwareAcceleration:!1}):new hX(e,{enableHardwareAcceleration:!0}),gX={layout:{ProjectionNode:j5,MeasureLayout:w5}},vX={...HV,...cW,...qG,...gX},sv=xH((t,e)=>KH(t,e,vX,mX));function D5(){const t=_.useRef(!1);return kw(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function xX(){const t=D5(),[e,r]=_.useState(0),n=_.useCallback(()=>{t.current&&r(e+1)},[e]);return[_.useCallback(()=>xt.postRender(n),[n]),e]}class yX extends _.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function bX({children:t,isPresent:e}){const r=_.useId(),n=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:i,height:s,top:o,left:c}=a.current;if(e||!n.current||!i||!s)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),_.createElement(yX,{isPresent:e,childRef:n,sizeRef:a},_.cloneElement(t,{ref:n}))}const ov=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s})=>{const o=AA(wX),c=_.useId(),u=_.useMemo(()=>({id:c,initial:e,isPresent:r,custom:a,onExitComplete:d=>{o.set(d,!0);for(const f of o.values())if(!f)return;n&&n()},register:d=>(o.set(d,!1),()=>o.delete(d))}),i?void 0:[r]);return _.useMemo(()=>{o.forEach((d,f)=>o.set(f,!1))},[r]),_.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),s==="popLayout"&&(t=_.createElement(bX,{isPresent:r},t)),_.createElement(rm.Provider,{value:u},t)};function wX(){return new Map}function _X(t){return _.useEffect(()=>()=>t(),[])}const po=t=>t.key||"";function kX(t,e){t.forEach(r=>{const n=po(r);e.set(n,r)})}function NX(t){const e=[];return _.Children.forEach(t,r=>{_.isValidElement(r)&&e.push(r)}),e}const lv=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const o=_.useContext(Cw).forceRender||xX()[0],c=D5(),u=NX(t);let d=u;const f=_.useRef(new Map).current,h=_.useRef(d),p=_.useRef(new Map).current,m=_.useRef(!0);if(kw(()=>{m.current=!1,kX(u,p),h.current=d}),_X(()=>{m.current=!0,p.clear(),f.clear()}),m.current)return _.createElement(_.Fragment,null,d.map(v=>_.createElement(ov,{key:po(v),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:s},v)));d=[...d];const g=h.current.map(po),y=u.map(po),x=g.length;for(let v=0;v<x;v++){const b=g[v];y.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((v,b)=>{if(y.indexOf(b)!==-1)return;const w=p.get(b);if(!w)return;const S=g.indexOf(b);let E=v;if(!E){const j=()=>{f.delete(b);const I=Array.from(p.keys()).filter(k=>!y.includes(k));if(I.forEach(k=>p.delete(k)),h.current=u.filter(k=>{const T=po(k);return T===b||I.includes(T)}),!f.size){if(c.current===!1)return;o(),n&&n()}};E=_.createElement(ov,{key:po(w),isPresent:!1,onExitComplete:j,custom:e,presenceAffectsLayout:i,mode:s},w),f.set(b,E)}d.splice(S,0,E)}),d=d.map(v=>{const b=v.key;return f.has(b)?v:_.createElement(ov,{key:po(v),isPresent:!0,presenceAffectsLayout:i,mode:s},v)}),_.createElement(_.Fragment,null,f.size?d:d.map(v=>_.cloneElement(v)))},AN=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),SX=()=>{var N,O,$;const{id:t}=iw(),e=Ra(),[r,n]=_.useState(null),[a,i]=_.useState(!0),[s,o]=_.useState([]),[c,u]=_.useState([]),[d,f]=_.useState(!0),[h,p]=_.useState(0),[m,g]=_.useState(!1),y=_.useRef(null),x=D=>{if(!ei(D))return"  ";try{return en(D,"d MMMM yyyy")}catch(R){return console.error("Error formatting date in SpeakerProfile:",D,R)," "}},v=D=>{if(!D)return"--:--";try{return Mi(D)}catch(R){return console.error("Error formatting time in SpeakerProfile:",D,R),"--:--"}},b=D=>{try{if(D.status==="past")return!0;if(!D.end_at)return!1;const R=new Date(D.end_at);return isNaN(R.getTime())?!1:R<new Date}catch(R){return console.error("Error checking if event is past:",R),!1}};_.useEffect(()=>{(async()=>{try{const{data:R,error:M}=await AN.from("speakers").select("*").eq("id",t).single();if(M)throw M;const F=R.photos?R.photos.filter((B,U,q)=>U===q.findIndex(ee=>ee.url===B.url)):[];n({...R,photos:F})}catch(R){console.error("Error fetching speaker:",R),K.error("     ")}finally{i(!1)}})()},[t]),_.useEffect(()=>{r&&(async()=>{if(r)try{const{data:R,error:M}=await AN.from("events").select(`
            id,
            title,
            description,
            short_description,
            start_at,
            end_at,
            location,
            event_type,
            languages,
            speakers,
            bg_image,
            original_bg_image,
            status
          `).or(`speakers.cs.["${r.id}"],speakers.cs.{"id":"${r.id}"}`);if(M)throw M;const F=[],B=[];R==null||R.forEach(U=>{b(U)?B.push(U):F.push(U)}),o(F),u(B)}catch(R){console.error("Error fetching events:",R),K.error("    ")}finally{f(!1)}})()},[r]),_.useEffect(()=>{!a&&y.current&&y.current.focus()},[a]);const w=()=>{r&&p(D=>D===r.photos.length-1?0:D+1)},S=()=>{r&&p(D=>D===0?r.photos.length-1:D-1)},E=D=>{m&&(D.key==="Escape"?g(!1):D.key==="ArrowRight"?w():D.key==="ArrowLeft"&&S())};_.useEffect(()=>(window.addEventListener("keydown",E),()=>{window.removeEventListener("keydown",E)}),[m,h]);const j=D=>{try{return typeof D=="string"?JSON.parse(D):D}catch(R){return console.error("Error parsing blogs:",R),null}},I=D=>{if(!D)return l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "});const R=[];let M=0,F;const B=/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1(?:[^>]*?)>(.*?)<\/a>/g;for(;(F=B.exec(D))!==null;)F.index>M&&R.push({type:"text",content:D.substring(M,F.index)}),R.push({type:"link",url:F[2],text:F[3]}),M=F.index+F[0].length;return M<D.length&&R.push({type:"text",content:D.substring(M)}),l.jsx("div",{className:"text-dark-600 dark:text-dark-300",children:R.map((U,q)=>U.type==="text"?l.jsx("span",{children:U.content},q):U.type==="link"?l.jsx("a",{href:U.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:opacity-80 underline",children:U.text},q):null)})},k=D=>D.short_description?D.short_description:D.description?D.description.length>200?`${D.description.substring(0,200)}...`:D.description:"  ",T=D=>{const R=b(D);return l.jsxs("div",{className:"relative border border-gray-200 dark:border-dark-700 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300 min-h-[250px] group",children:[l.jsx("div",{className:"absolute inset-0 z-0",children:D.bg_image?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${D.bg_image}`,alt:D.title,className:"w-full h-full object-cover opacity-60 dark:opacity-50 group-hover:opacity-70 dark:group-hover:opacity-60 transition-opacity duration-300",onError:M=>{const F=M.target;D.original_bg_image&&!F.dataset.triedOriginal?(F.dataset.triedOriginal="true",F.src=`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${D.original_bg_image}`):F.style.display="none"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/90 via-white/70 to-white/50 dark:from-dark-900/90 dark:via-dark-900/70 dark:to-dark-900/50"})]}):l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 to-primary-100 dark:from-dark-800 dark:to-dark-700 opacity-50"})}),l.jsxs("div",{className:"relative z-10 p-5 h-full flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h3",{className:"text-xl font-bold text-dark-800 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:D.title}),R&&l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100/90 dark:bg-dark-700/90 text-gray-700 dark:text-gray-300 backdrop-blur-sm",children:""})]}),l.jsx("p",{className:"text-dark-600 dark:text-dark-300 mb-4 flex-grow line-clamp-3",children:k(D)}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center text-dark-600 dark:text-dark-400",children:[l.jsx(Oe,{className:"h-4 w-4 mr-2 flex-shrink-0 text-primary-500"}),l.jsx("span",{className:"font-medium",children:x(D.start_at)})]}),l.jsxs("div",{className:"flex items-center text-dark-600 dark:text-dark-400",children:[l.jsx(bn,{className:"h-4 w-4 mr-2 flex-shrink-0 text-primary-500"}),l.jsxs("span",{children:[v(D.start_at)," - ",v(D.end_at)]})]}),D.location&&l.jsxs("div",{className:"flex items-center text-dark-600 dark:text-dark-400",children:[l.jsx(vr,{className:"h-4 w-4 mr-2 flex-shrink-0 text-primary-500"}),l.jsx("span",{className:"truncate",children:D.location})]}),D.languages&&D.languages.length>0&&l.jsxs("div",{className:"flex items-center text-dark-600 dark:text-dark-400",children:[l.jsx(BM,{className:"h-4 w-4 mr-2 flex-shrink-0 text-primary-500"}),l.jsx("span",{children:D.languages.join(", ")})]})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/80 dark:border-dark-700/80",children:l.jsxs("a",{href:`/events/${D.id}`,className:"inline-flex items-center text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-semibold group/link",children:[l.jsx("span",{children:""}),l.jsx("svg",{className:"w-4 h-4 ml-1 group-hover/link:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]},D.id)},L=()=>!r||r.photos.length===0?l.jsx("div",{className:"w-full h-64 bg-gray-100 dark:bg-dark-700 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-gray-400",children:" "})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative w-full h-64 md:h-80 lg:h-96 rounded-lg overflow-hidden bg-gray-100 dark:bg-dark-700 cursor-pointer",onClick:()=>g(!0),children:[l.jsx(lv,{mode:"wait",children:l.jsx(sv.img,{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${r.photos[h].url}`,alt:r.name,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},h)}),r.photos.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:D=>{D.stopPropagation(),S()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full z-10 transition-all",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),l.jsx("button",{onClick:D=>{D.stopPropagation(),w()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full z-10 transition-all",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),r.photos.length>1&&l.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:r.photos.map((D,R)=>l.jsx("button",{onClick:()=>p(R),className:`aspect-square overflow-hidden rounded-md transition-all ${R===h?"ring-2 ring-primary-500":"opacity-80 hover:opacity-100 hover:ring-1 hover:ring-gray-300"}`,children:l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${D.url}`,alt:` ${R+1}`,className:"w-full h-full object-cover"})},R))}),l.jsx(lv,{children:m&&l.jsxs(sv.div,{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(!1),children:[l.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",onClick:D=>{D.stopPropagation(),g(!1)},children:l.jsx(Bt,{className:"h-8 w-8"})}),l.jsxs("div",{className:"relative w-full max-w-6xl h-full max-h-screen",children:[l.jsx(lv,{mode:"wait",children:l.jsx(sv.img,{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${r.photos[h].url}`,alt:r.name,className:"w-full h-full object-contain",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},onClick:D=>D.stopPropagation()},h)}),r.photos.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:D=>{D.stopPropagation(),S()},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full z-10 transition-all",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),l.jsx("button",{onClick:D=>{D.stopPropagation(),w()},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full z-10 transition-all",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),l.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:r.photos.map((D,R)=>l.jsx("button",{onClick:M=>{M.stopPropagation(),p(R)},className:`h-2 rounded-full transition-all ${R===h?"w-6 bg-primary-500":"w-2 bg-white/50 hover:bg-white/80"}`},R))})]})]})})]});if(a)return l.jsx(Ot,{children:l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})});if(!r)return l.jsx(Ot,{children:l.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:"  "})});const C=r.blog_visibility?j(r.blogs||"[]"):null,A=C&&C.length>0;return l.jsx(Ot,{children:l.jsx("div",{className:"bg-gray-50 dark:bg-dark-800 min-h-screen",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-dark-500 hover:text-dark-700 dark:text-dark-400 dark:hover:text-dark-200 transition-colors mb-8",children:[l.jsx(Aj,{className:"h-5 w-5"}),"   "]}),l.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg overflow-hidden mb-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row",children:[l.jsx("div",{ref:y,tabIndex:-1,className:"w-full md:w-1/3 lg:w-1/4 p-6 outline-none",children:L()}),l.jsxs("div",{className:"w-full md:w-2/3 lg:w-3/4 p-6 md:p-8 flex flex-col justify-center",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-dark-800 dark:text-white mb-2",children:r.name}),l.jsx("p",{className:"text-xl text-primary-600 dark:text-primary-400 mb-6",children:r.field_of_expertise}),l.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[((N=r.contact_info)==null?void 0:N.email)&&l.jsxs("a",{href:`mailto:${r.contact_info.email}`,className:"flex items-center gap-2 text-dark-600 dark:text-dark-300 hover:text-primary-500 transition-colors",children:[l.jsx(Jd,{className:"h-5 w-5"}),l.jsx("span",{children:r.contact_info.email})]}),((O=r.contact_info)==null?void 0:O.website)&&l.jsxs("a",{href:r.contact_info.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-dark-600 dark:text-dark-300 hover:text-primary-500 transition-colors",children:[l.jsx(Up,{className:"h-5 w-5"}),l.jsx("span",{children:r.contact_info.website})]}),(($=r.contact_info)==null?void 0:$.location)&&l.jsxs("div",{className:"flex items-center gap-2 text-dark-600 dark:text-dark-300",children:[l.jsx(vr,{className:"h-5 w-5"}),l.jsx("span",{children:r.contact_info.location})]})]}),l.jsx("div",{className:"mb-6",children:I(r.description)}),A&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3 text-dark-800 dark:text-white",children:"   "}),l.jsx("div",{className:"flex flex-wrap gap-3",children:C.map((D,R)=>l.jsxs("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors text-dark-700 dark:text-dark-200",children:[l.jsx(Dj,{className:"w-4 h-4 mr-2 flex-shrink-0"}),l.jsx("span",{children:D.platform})]},R))})]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[Array.isArray(r.achievements)&&r.achievements.length>0&&l.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:""}),l.jsx("ul",{className:"space-y-3",children:r.achievements.map((D,R)=>l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-primary-500 mr-2 mt-1",children:""}),l.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:D})]},R))})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),d?l.jsx("div",{className:"flex justify-center py-4",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.length>0?l.jsx("div",{className:"space-y-4",children:s.map(T)}):l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})]}),c.length>0&&l.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),l.jsx("div",{className:"space-y-4",children:c.map(T)})]}),Array.isArray(r.past_events)&&r.past_events.length>0&&l.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:" "}),l.jsx("div",{className:"space-y-4",children:r.past_events.map((D,R)=>l.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200 dark:border-dark-700 last:border-0",children:[l.jsx("span",{className:"font-medium text-dark-800 dark:text-white",children:D.title}),l.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:x(D.date)})]},R))})]})]})]})})})};function P5(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=P5(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ro(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=P5(t))&&(n&&(n+=" "),n+=e);return n}function EX(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}EX(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var df=t=>typeof t=="number"&&!isNaN(t),Go=t=>typeof t=="string",Bi=t=>typeof t=="function",CX=t=>Go(t)||df(t),gy=t=>Go(t)||Bi(t)?t:null,jX=(t,e)=>t===!1||df(t)&&t>0?t:e,vy=t=>_.isValidElement(t)||Go(t)||Bi(t)||df(t);function AX(t,e,r=300){let{scrollHeight:n,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,r)})})}function TX({enter:t,exit:e,appendPosition:r=!1,collapse:n=!0,collapseDuration:a=300}){return function({children:i,position:s,preventExitTransition:o,done:c,nodeRef:u,isIn:d,playToast:f}){let h=r?`${t}--${s}`:t,p=r?`${e}--${s}`:e,m=_.useRef(0);return _.useLayoutEffect(()=>{let g=u.current,y=h.split(" "),x=v=>{v.target===u.current&&(f(),g.removeEventListener("animationend",x),g.removeEventListener("animationcancel",x),m.current===0&&v.type!=="animationcancel"&&g.classList.remove(...y))};g.classList.add(...y),g.addEventListener("animationend",x),g.addEventListener("animationcancel",x)},[]),_.useEffect(()=>{let g=u.current,y=()=>{g.removeEventListener("animationend",y),n?AX(g,c,a):c()};d||(o?y():(m.current=1,g.className+=` ${p}`,g.addEventListener("animationend",y)))},[d]),ne.createElement(ne.Fragment,null,i)}}function TN(t,e){return{content:R5(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function R5(t,e,r=!1){return _.isValidElement(t)&&!Go(t.type)?_.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):Bi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function IX({closeToast:t,theme:e,ariaLabel:r="close"}){return ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":r},ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function OX({delay:t,isRunning:e,closeToast:r,type:n="default",hide:a,className:i,controlledProgress:s,progress:o,rtl:c,isIn:u,theme:d}){let f=a||s&&o===0,h={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};s&&(h.transform=`scaleX(${o})`);let p=Ro("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),m=Bi(i)?i({rtl:c,type:n,defaultClassName:p}):Ro(p,i),g={[s&&o>=1?"onTransitionEnd":"onAnimationEnd"]:s&&o<1?null:()=>{u&&r()}};return ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),ne.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:m,style:h,...g}))}var DX=1,M5=()=>`${DX++}`;function PX(t,e,r){let n=1,a=0,i=[],s=[],o=e,c=new Map,u=new Set,d=v=>(u.add(v),()=>u.delete(v)),f=()=>{s=Array.from(c.values()),u.forEach(v=>v())},h=({containerId:v,toastId:b,updateId:w})=>{let S=v?v!==t:t!==1,E=c.has(b)&&w==null;return S||E},p=(v,b)=>{c.forEach(w=>{var S;(b==null||b===w.props.toastId)&&((S=w.toggle)==null||S.call(w,v))})},m=v=>{var b,w;(w=(b=v.props)==null?void 0:b.onClose)==null||w.call(b,v.removalReason),v.isActive=!1},g=v=>{if(v==null)c.forEach(m);else{let b=c.get(v);b&&m(b)}f()},y=()=>{a-=i.length,i=[]},x=v=>{var b,w;let{toastId:S,updateId:E}=v.props,j=E==null;v.staleId&&c.delete(v.staleId),v.isActive=!0,c.set(S,v),f(),r(TN(v,j?"added":"updated")),j&&((w=(b=v.props).onOpen)==null||w.call(b))};return{id:t,props:o,observe:d,toggle:p,removeToast:g,toasts:c,clearQueue:y,buildToast:(v,b)=>{if(h(b))return;let{toastId:w,updateId:S,data:E,staleId:j,delay:I}=b,k=S==null;k&&a++;let T={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(b).filter(([C,A])=>A!=null)),toastId:w,updateId:S,data:E,isIn:!1,className:gy(b.className||o.toastClassName),progressClassName:gy(b.progressClassName||o.progressClassName),autoClose:b.isLoading?!1:jX(b.autoClose,o.autoClose),closeToast(C){c.get(w).removalReason=C,g(w)},deleteToast(){let C=c.get(w);if(C!=null){if(r(TN(C,"removed")),c.delete(w),a--,a<0&&(a=0),i.length>0){x(i.shift());return}f()}}};T.closeButton=o.closeButton,b.closeButton===!1||vy(b.closeButton)?T.closeButton=b.closeButton:b.closeButton===!0&&(T.closeButton=vy(o.closeButton)?o.closeButton:!0);let L={content:v,props:T,staleId:j};o.limit&&o.limit>0&&a>o.limit&&k?i.push(L):df(I)?setTimeout(()=>{x(L)},I):x(L)},setProps(v){o=v},setToggle:(v,b)=>{let w=c.get(v);w&&(w.toggle=b)},isToastActive:v=>{var b;return(b=c.get(v))==null?void 0:b.isActive},getSnapshot:()=>s}}var Qr=new Map,Dd=[],xy=new Set,RX=t=>xy.forEach(e=>e(t)),L5=()=>Qr.size>0;function MX(){Dd.forEach(t=>F5(t.content,t.options)),Dd=[]}var LX=(t,{containerId:e})=>{var r;return(r=Qr.get(e||1))==null?void 0:r.toasts.get(t)};function B5(t,e){var r;if(e)return!!((r=Qr.get(e))!=null&&r.isToastActive(t));let n=!1;return Qr.forEach(a=>{a.isToastActive(t)&&(n=!0)}),n}function BX(t){if(!L5()){Dd=Dd.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||CX(t))Qr.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Qr.get(t.containerId);e?e.removeToast(t.id):Qr.forEach(r=>{r.removeToast(t.id)})}}var FX=(t={})=>{Qr.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function F5(t,e){vy(t)&&(L5()||Dd.push({content:t,options:e}),Qr.forEach(r=>{r.buildToast(t,e)}))}function $X(t){var e;(e=Qr.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function $5(t,e){Qr.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function UX(t){let e=t.containerId||1;return{subscribe(r){let n=PX(e,t,RX);Qr.set(e,n);let a=n.observe(r);return MX(),()=>{a(),Qr.delete(e)}},setProps(r){var n;(n=Qr.get(e))==null||n.setProps(r)},getSnapshot(){var r;return(r=Qr.get(e))==null?void 0:r.getSnapshot()}}}function zX(t){return xy.add(t),()=>{xy.delete(t)}}function HX(t){return t&&(Go(t.toastId)||df(t.toastId))?t.toastId:M5()}function ff(t,e){return F5(t,e),e.toastId}function cm(t,e){return{...e,type:e&&e.type||t,toastId:HX(e)}}function um(t){return(e,r)=>ff(e,cm(t,r))}function tt(t,e){return ff(t,cm("default",e))}tt.loading=(t,e)=>ff(t,cm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function WX(t,{pending:e,error:r,success:n},a){let i;e&&(i=Go(e)?tt.loading(e,a):tt.loading(e.render,{...a,...e}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(u,d,f)=>{if(d==null){tt.dismiss(i);return}let h={type:u,...s,...a,data:f},p=Go(d)?{render:d}:d;return i?tt.update(i,{...h,...p}):tt(p.render,{...h,...p}),f},c=Bi(t)?t():t;return c.then(u=>o("success",n,u)).catch(u=>o("error",r,u)),c}tt.promise=WX;tt.success=um("success");tt.info=um("info");tt.error=um("error");tt.warning=um("warning");tt.warn=tt.warning;tt.dark=(t,e)=>ff(t,cm("default",{theme:"dark",...e}));function VX(t){BX(t)}tt.dismiss=VX;tt.clearWaitingQueue=FX;tt.isActive=B5;tt.update=(t,e={})=>{let r=LX(t,e);if(r){let{props:n,content:a}=r,i={delay:100,...n,...e,toastId:e.toastId||t,updateId:M5()};i.toastId!==t&&(i.staleId=t);let s=i.render||a;delete i.render,ff(s,i)}};tt.done=t=>{tt.update(t,{progress:1})};tt.onChange=zX;tt.play=t=>$5(!0,t);tt.pause=t=>$5(!1,t);function GX(t){var e;let{subscribe:r,getSnapshot:n,setProps:a}=_.useRef(UX(t)).current;a(t);let i=(e=_.useSyncExternalStore(r,n,n))==null?void 0:e.slice();function s(o){if(!i)return[];let c=new Map;return t.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>o(u[0],u[1]))}return{getToastToRender:s,isToastActive:B5,count:i==null?void 0:i.length}}function XX(t){let[e,r]=_.useState(!1),[n,a]=_.useState(!1),i=_.useRef(null),s=_.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=t;$X({id:t.toastId,containerId:t.containerId,fn:r}),_.useEffect(()=>{if(t.pauseOnFocusLoss)return h(),()=>{p()}},[t.pauseOnFocusLoss]);function h(){document.hasFocus()||x(),window.addEventListener("focus",y),window.addEventListener("blur",x)}function p(){window.removeEventListener("focus",y),window.removeEventListener("blur",x)}function m(j){if(t.draggable===!0||t.draggable===j.pointerType){v();let I=i.current;s.canCloseOnClick=!0,s.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(s.start=j.clientX,s.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(s.start=j.clientY,s.removalDistance=I.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function g(j){let{top:I,bottom:k,left:T,right:L}=i.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&t.pauseOnHover&&j.clientX>=T&&j.clientX<=L&&j.clientY>=I&&j.clientY<=k?x():y()}function y(){r(!0)}function x(){r(!1)}function v(){s.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",S)}function b(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",S)}function w(j){let I=i.current;if(s.canDrag&&I){s.didMove=!0,e&&x(),t.draggableDirection==="x"?s.delta=j.clientX-s.start:s.delta=j.clientY-s.start,s.start!==j.clientX&&(s.canCloseOnClick=!1);let k=t.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;I.style.transform=`translate3d(${k},0)`,I.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function S(){b();let j=i.current;if(s.canDrag&&s.didMove&&j){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}let E={onPointerDown:m,onPointerUp:g};return o&&c&&(E.onMouseEnter=x,t.stacked||(E.onMouseLeave=y)),f&&(E.onClick=j=>{d&&d(j),s.canCloseOnClick&&u(!0)}),{playToast:y,pauseToast:x,isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:E}}var qX=typeof window<"u"?_.useLayoutEffect:_.useEffect,dm=({theme:t,type:e,isLoading:r,...n})=>ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function YX(t){return ne.createElement(dm,{...t},ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function KX(t){return ne.createElement(dm,{...t},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ZX(t){return ne.createElement(dm,{...t},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function QX(t){return ne.createElement(dm,{...t},ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function JX(){return ne.createElement("div",{className:"Toastify__spinner"})}var yy={info:KX,warning:YX,success:ZX,error:QX,spinner:JX},eq=t=>t in yy;function tq({theme:t,type:e,isLoading:r,icon:n}){let a=null,i={theme:t,type:e};return n===!1||(Bi(n)?a=n({...i,isLoading:r}):_.isValidElement(n)?a=_.cloneElement(n,i):r?a=yy.spinner():eq(e)&&(a=yy[e](i))),a}var rq=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:a,playToast:i}=XX(t),{closeButton:s,children:o,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:h,transition:p,position:m,className:g,style:y,progressClassName:x,updateId:v,role:b,progress:w,rtl:S,toastId:E,deleteToast:j,isIn:I,isLoading:k,closeOnClick:T,theme:L,ariaLabel:C}=t,A=Ro("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":T}),N=Bi(g)?g({rtl:S,position:m,type:d,defaultClassName:A}):Ro(A,g),O=tq(t),$=!!w||!c,D={closeToast:h,type:d,theme:L},R=null;return s===!1||(Bi(s)?R=s(D):_.isValidElement(s)?R=_.cloneElement(s,D):R=IX(D)),ne.createElement(p,{isIn:I,done:j,position:m,preventExitTransition:r,nodeRef:n,playToast:i},ne.createElement("div",{id:E,tabIndex:0,onClick:u,"data-in":I,className:N,...a,style:y,ref:n,...I&&{role:b,"aria-label":C}},O!=null&&ne.createElement("div",{className:Ro("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},O),R5(o,t,!e),R,!t.customProgressBar&&ne.createElement(OX,{...v&&!$?{key:`p-${v}`}:{},rtl:S,theme:L,delay:c,isRunning:e,isIn:I,closeToast:h,hide:f,type:d,className:x,controlledProgress:$,progress:w||0})))},nq=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),aq=TX(nq("bounce",!0)),iq={position:"top-right",transition:aq,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function sq(t){let e={...iq,...t},r=t.stacked,[n,a]=_.useState(!0),i=_.useRef(null),{getToastToRender:s,isToastActive:o,count:c}=GX(e),{className:u,style:d,rtl:f,containerId:h,hotKeys:p}=e;function m(y){let x=Ro("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":f});return Bi(u)?u({position:y,rtl:f,defaultClassName:x}):Ro(x,gy(u))}function g(){r&&(a(!0),tt.play())}return qX(()=>{var y;if(r){let x=i.current.querySelectorAll('[data-in="true"]'),v=12,b=(y=e.position)==null?void 0:y.includes("top"),w=0,S=0;Array.from(x).reverse().forEach((E,j)=>{let I=E;I.classList.add("Toastify__toast--stacked"),j>0&&(I.dataset.collapsed=`${n}`),I.dataset.pos||(I.dataset.pos=b?"top":"bot");let k=w*(n?.2:1)+(n?0:v*j);I.style.setProperty("--y",`${b?k:k*-1}px`),I.style.setProperty("--g",`${v}`),I.style.setProperty("--s",`${1-(n?S:0)}`),w+=I.offsetHeight,S+=.025})}},[n,c,r]),_.useEffect(()=>{function y(x){var v;let b=i.current;p(x)&&((v=b.querySelector('[tabIndex="0"]'))==null||v.focus(),a(!1),tt.pause()),x.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(a(!0),tt.play())}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[p]),ne.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{r&&(a(!1),tt.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},s((y,x)=>{let v=x.length?{...d}:{...d,pointerEvents:"none"};return ne.createElement("div",{tabIndex:-1,className:m(y),"data-stacked":r,style:v,key:`c-${y}`},x.map(({content:b,props:w})=>ne.createElement(rq,{...w,stacked:r,collapseAll:g,isIn:o(w.toastId,w.containerId),key:`t-${w.key}`},b)))}))}const oq=async(t,e)=>{try{return console.error("Telegram configuration missing: Bot token or Chat ID not set"),!1}catch(r){return console.error("Error sending Telegram notification:",r),!1}},lq=()=>{const t=new Date,[e,r]=_.useState(t),[n,a]=_.useState(t),[i,s]=_.useState({name:"",email:"",phone:"",social_contact:"",selectedSlots:[],selectionState:"initial"}),[o,c]=_.useState([]),[u,d]=_.useState(!1),[f,h]=_.useState(null),[p,m]=_.useState(!1),[g,y]=_.useState(null),x=_.useRef(null),v=async()=>{d(!0),h(null);try{const{data:V,error:re}=await ue.from("time_slots_table").select("*").order("date",{ascending:!0}).order("start_time",{ascending:!0});if(re)throw re;c(V||[])}catch(V){console.error("Error fetching time slots:",V),h("    ")}finally{d(!1)}};_.useEffect(()=>{v()},[]);const b=V=>{if(!tt.isActive(g)){const re=tt.error(V,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});y(re)}},w=V=>{if(!tt.isActive(g)){const re=tt.success(V,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});y(re)}},S=()=>{r(s1(e,1))},E=()=>{r(s1(e,-1))},j=jd(e),I=pw(e),k=Vh({start:j,end:I}),T=V=>{const re=lt(V,"yyyy-MM-dd"),oe=o.filter(ye=>ye.date===re).sort((ye,ve)=>ye.start_time.localeCompare(ve.start_time));if(oe.length===0)return[];const ie=[];let se={...oe[0]};for(let ye=1;ye<oe.length;ye++)oe[ye].start_time===se.end_time?se.end_time=oe[ye].end_time:(ie.push(se),se={...oe[ye]});return ie.push(se),ie},L=V=>{Uk(V)||(a(V),s(re=>({...re,selectedSlots:[],selectionState:"initial"})))},C=V=>{if(!V)return[];lt(V,"yyyy-MM-dd");const re=T(V),oe=[];for(let ie=9;ie<23;ie++)for(let se=0;se<60;se+=30){const ye=`${ie.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}`,ve=se===30?`${(ie+1).toString().padStart(2,"0")}:00`:`${ie.toString().padStart(2,"0")}:30`;!re.some(_e=>{const P=_e.start_time,Q=_e.end_time;return ye>=P&&ye<Q||ve>P&&ve<=Q||ye<=P&&ve>=Q})&&oe.push({start_time:ye,end_time:ve})}return oe},A=V=>{const re=C(V),oe=T(V);return re.length===0&&oe.length>0?"busy":re.length>0&&oe.length>0?"partial":re.length>0&&oe.length===0?"free":"unknown"},N=V=>{const{name:re,value:oe}=V.target;s(ie=>({...ie,[re]:oe}))},O=V=>{const re=C(n),oe=T(n);s(ie=>{var se;if(ie.selectionState==="range-selected")return{...ie,selectedSlots:[V],selectionState:"first-selected"};if(ie.selectionState==="initial")return{...ie,selectedSlots:[V],selectionState:"first-selected"};if(ie.selectionState==="first-selected"&&ie.selectedSlots.length===1){const ye=ie.selectedSlots[0],ve=re.findIndex(G=>G.start_time===ye.start_time&&G.end_time===ye.end_time),Ge=re.findIndex(G=>G.start_time===V.start_time&&G.end_time===V.end_time);if(ve===-1||Ge===-1)return ie;const _e=Math.min(ve,Ge),P=Math.max(ve,Ge),Q=re[_e].start_time,X=re[P].end_time;if(oe.some(G=>G.start_time>=Q&&G.start_time<X||G.end_time>Q&&G.end_time<=X||G.start_time<=Q&&G.end_time>=X)){const G=oe.find(J=>J.start_time>=Q&&J.start_time<X||J.end_time>Q&&J.end_time<=X||J.start_time<=Q&&J.end_time>=X);return b(l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"  "}),l.jsxs("p",{children:["   ",Q,"-",X,"   :"]}),l.jsxs("p",{className:"mt-1 font-medium",children:[G==null?void 0:G.start_time,"-",G==null?void 0:G.end_time," -"," ",((se=G==null?void 0:G.slot_details)==null?void 0:se.type)==="event"?G.slot_details.title:""]})]})),ie}const H=re.slice(_e,P+1);return{...ie,selectedSlots:H,selectionState:"range-selected"}}return ie})},$=async V=>{try{const re=`   :

 : ${V.date}
 : ${V.startTime}-${V.endTime}
 : ${V.name}
 Email: ${V.email}
${V.phone?` : ${V.phone}
`:""}${V.social_contact?` : ${V.social_contact}
`:""}`;await oq(void 0,re)}catch(re){console.error("   Telegram:",re)}},D=async V=>{if(V.preventDefault(),!i.name||!i.email){b(l.jsx("div",{children:l.jsx("span",{className:"font-medium",children:",    email"})}));return}try{d(!0);const re=i.selectedSlots[0],oe=i.selectedSlots[i.selectedSlots.length-1],ie=i.selectedSlots.map(ve=>ue.from("time_slots_table").insert([{date:lt(n,"yyyy-MM-dd"),start_time:ve.start_time,end_time:ve.end_time,slot_details:{user_name:i.name,email:i.email,phone:i.phone,social_contact:i.social_contact,type:"booking",title:` ${i.name}`,description:`: ${R()} ()`},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}])),ye=(await Promise.all(ie)).filter(ve=>ve.error);if(ye.length>0)throw ye[0].error;await $({date:lt(n,"dd.MM.yyyy"),startTime:re.start_time,endTime:oe.end_time,name:i.name,email:i.email,phone:i.phone,social_contact:i.social_contact}),await v(),w(l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"  !"}),l.jsxs("p",{className:"mt-1",children:[lt(n,"dd.MM.yyyy")," ",re.start_time,"-",oe.end_time]})]})),s({name:"",email:"",phone:"",social_contact:"",selectedSlots:[],selectionState:"initial"}),m(!1)}catch(re){console.error("Booking error:",re),b(l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"  "}),l.jsx("p",{className:"mt-1",children:",       "})]}))}finally{d(!1)}},R=()=>{if(i.selectedSlots.length===0)return 0;const V=i.selectedSlots[0],re=i.selectedSlots[i.selectedSlots.length-1],[oe,ie]=V.start_time.split(":").map(Number),[se,ye]=re.end_time.split(":").map(Number);return se-oe+(ye-ie)/60},M=V=>{V&&(console.log("Navigate to event:",V),alert(`    ID: ${V}`))},F=()=>{const V=BB(j);return V===0?6:V-1},B=()=>{if(i.selectedSlots.length===0){b(l.jsx("div",{children:l.jsx("span",{className:"font-medium",children:",     "})}));return}m(!0)},U=()=>{if(i.selectedSlots.length===0)return"";const V=i.selectedSlots[0],re=i.selectedSlots[i.selectedSlots.length-1];return`${V.start_time}-${re.end_time}`},q=V=>{switch(A(V)){case"free":return"";case"busy":return"";case"partial":return" ";default:return""}},ee=V=>{switch(A(V)){case"free":return{bg:"bg-green-100 dark:bg-green-900/30",border:"border-2 border-green-500 dark:border-green-700",text:"text-green-800 dark:text-green-200"};case"busy":return{bg:"bg-red-100 dark:bg-red-900/30",border:"border-2 border-red-500 dark:border-red-700",text:"text-red-800 dark:text-red-200"};case"partial":return{bg:"bg-orange-100 dark:bg-orange-900/30",border:"border-2 border-orange-500 dark:border-orange-700",text:"text-orange-800 dark:text-orange-200"};default:return{bg:"",border:"",text:""}}};return l.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 bg-gray-50 text-gray-900 dark:bg-gray-800 dark:text-gray-100",children:[l.jsx(sq,{}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-center",children:" "}),f&&l.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border-2 border-red-500 dark:border-red-700 text-red-800 dark:text-red-200 px-4 py-3 rounded mb-4",children:f}),l.jsxs("div",{className:"bg-white dark:bg-gray-700 p-4 sm:p-6 mb-8 rounded-lg shadow",ref:x,children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("button",{onClick:E,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 text-sm sm:text-base",children:"< "}),l.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:lt(e,"MMMM yyyy",{locale:ra})}),l.jsx("button",{onClick:S,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 text-sm sm:text-base",children:" >"})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 mb-2",children:["","","","","","",""].map(V=>l.jsx("div",{className:"text-center font-medium text-gray-500 dark:text-gray-400 text-xs sm:text-sm",children:V},V))}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:[Array.from({length:F()}).map((V,re)=>l.jsx("div",{className:"h-8 sm:h-10"},`empty-${re}`)),k.map(V=>{const re=g6(V,e),oe=n&&Yu(V,n),ie=Uk(V)&&!Yu(V,new Date),se=Yu(V,t),ye=A(V),ve=q(V),{bg:Ge,border:_e,text:P}=ee(V);return l.jsxs("button",{"data-today":se,onClick:()=>L(V),disabled:ie||ye==="busy",className:`h-12 sm:h-16 flex flex-col items-center justify-center rounded-md transition-colors text-sm sm:text-base
                  ${re?"":"text-gray-300 dark:text-gray-500"}
                  ${ie?"cursor-not-allowed opacity-50":"cursor-pointer hover:opacity-80"}
                  ${oe?"bg-blue-500 text-white hover:bg-blue-600 dark:hover:bg-blue-600":`${Ge} ${_e} ${P}`}
                  ${se&&!oe?"ring-2 ring-blue-500 dark:ring-blue-400":""}
                `,children:[l.jsx("div",{className:"font-medium",children:lt(V,"d")}),re&&!ie&&ye!=="unknown"&&l.jsx("div",{className:"text-xs mt-1 hidden sm:block",children:ve})]},V.toString())})]})]}),n&&l.jsxs("div",{className:"bg-white dark:bg-gray-700 p-4 sm:p-6 mb-8 rounded-lg shadow animate-fade-in",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:lt(n,"dd MMMM yyyy",{locale:ra})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"font-medium text-gray-600 dark:text-gray-300 mb-2",children:" :"}),T(n).length>0?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:T(n).map((V,re)=>{var oe,ie;return l.jsxs("div",{className:`p-3 border-2 rounded-md ${((oe=V.slot_details)==null?void 0:oe.type)==="event"?"border-blue-500 dark:border-blue-700 bg-blue-100 dark:bg-blue-900/30 cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-800/50":"border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-600"}`,onClick:()=>{var se;return((se=V.slot_details)==null?void 0:se.type)==="event"&&M(V.slot_details.event_id)},children:[l.jsxs("div",{className:"font-medium",children:[V.start_time,"-",V.end_time]}),l.jsx("div",{className:"text-sm",children:((ie=V.slot_details)==null?void 0:ie.type)==="event"?V.slot_details.title:""})]},re)})}):l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"  "})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"font-medium text-gray-600 dark:text-gray-300 mb-2",children:" :"}),u?l.jsx("div",{className:"text-center py-8",children:"..."}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4 mb-6",children:[C(n).map((V,re)=>{const oe=i.selectedSlots.some(ie=>ie.start_time===V.start_time&&ie.end_time===V.end_time);return l.jsx("div",{onClick:()=>O(V),className:`p-3 sm:p-4 border-2 rounded-md cursor-pointer transition-colors text-center ${oe?"bg-blue-100 dark:bg-blue-900 border-blue-500 dark:border-blue-700":"border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500"}`,children:l.jsxs("div",{className:"font-medium text-sm sm:text-base",children:[V.start_time,"-",V.end_time]})},re)}),C(n).length===0&&l.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-gray-400",children:"     "})]}),i.selectedSlots.length>0&&l.jsx("div",{className:"mt-4 p-4 bg-gray-100 dark:bg-gray-600 rounded-md border-2 border-gray-300 dark:border-gray-500",children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:":"})," ",U()]}),l.jsx("button",{onClick:B,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-md hover:bg-blue-700 dark:hover:bg-blue-800",children:""})]})})]})]})]}),p&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg w-full max-w-md",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-medium mb-2",children:" :"}),l.jsx("div",{className:"bg-gray-100 dark:bg-gray-600 p-3 rounded-md border-2 border-gray-300 dark:border-gray-500",children:U()})]}),l.jsxs("form",{onSubmit:D,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),l.jsx("input",{type:"text",name:"name",value:i.name,onChange:N,className:"w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:i.email,onChange:N,className:"w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),l.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:N,className:"w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"  "}),l.jsx("input",{type:"text",name:"social_contact",value:i.social_contact,onChange:N,className:"w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:""})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>m(!1),className:"w-full sm:w-auto px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600",children:""}),l.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-3 bg-blue-600 dark:bg-blue-700 text-white rounded-md hover:bg-blue-700 dark:hover:bg-blue-800",disabled:u,children:u?"...":""})]})]})]})})})]})},cq=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),uq=({isOpen:t,onClose:e,photos:r,currentIndex:n,onNavigate:a})=>{if(_.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),_.useEffect(()=>{const o=c=>{c.key==="Escape"&&e(),c.key==="ArrowLeft"&&a("prev"),c.key==="ArrowRight"&&a("next")};if(t)return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[t,e,a]),!t||!(r!=null&&r.length))return null;const i=r[n],s=i!=null&&i.startsWith("http")?i:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${i}`;return l.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white hover:text-gray-300 text-2xl z-10","aria-label":"",children:""}),r.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>a("prev"),className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 p-2","aria-label":" ",children:l.jsx(qd,{className:"w-8 h-8"})}),l.jsx("button",{onClick:()=>a("next"),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 p-2","aria-label":" ",children:l.jsx(Yd,{className:"w-8 h-8"})})]}),l.jsx("div",{className:"max-w-full max-h-full flex items-center justify-center",children:l.jsx("img",{src:s,alt:` ${n+1}`,className:"max-w-full max-h-full object-contain"})}),l.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white text-lg",children:[n+1,"  ",r.length]}),l.jsx("div",{className:"absolute inset-0 -z-10",onClick:e})]})},dq=({photos:t,title:e})=>{const[r,n]=_.useState(0),[a,i]=_.useState(!0),[s,o]=_.useState(!1),[c,u]=_.useState(0);_.useEffect(()=>{if(!a||!(t!=null&&t.length))return;const y=setInterval(()=>{n(x=>(x+1)%t.length)},5e3);return()=>clearInterval(y)},[a,t==null?void 0:t.length]);const d=y=>{n(y),i(!1),setTimeout(()=>i(!0),1e4)},f=()=>{n(y=>(y+1)%t.length),i(!1),setTimeout(()=>i(!0),1e4)},h=()=>{n(y=>(y-1+t.length)%t.length),i(!1),setTimeout(()=>i(!0),1e4)},p=y=>{u(y),o(!0),i(!1)},m=()=>{o(!1),setTimeout(()=>i(!0),1e3)},g=y=>{u(y==="next"?x=>(x+1)%t.length:x=>(x-1+t.length)%t.length)};return t!=null&&t.length?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative h-64 md:h-96 w-full bg-gray-900 overflow-hidden",children:[l.jsxs("div",{className:"w-full h-full bg-cover bg-center transition-all duration-500 cursor-pointer",style:{backgroundImage:`url(${t[r].startsWith("http")?t[r]:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${t[r]}`})`},onClick:()=>p(r),children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-8 text-white",children:[l.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2",children:e}),l.jsx("p",{className:"text-base md:text-xl opacity-90 mb-2",children:"    "}),l.jsxs("p",{className:"text-sm md:text-lg opacity-75",children:[" ",r+1,"  ",t.length,"    "]})]})]}),t.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all duration-200 backdrop-blur-sm z-10","aria-label":" ",children:l.jsx(qd,{className:"w-5 h-5"})}),l.jsx("button",{onClick:f,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all duration-200 backdrop-blur-sm z-10","aria-label":" ",children:l.jsx(Yd,{className:"w-5 h-5"})})]}),t.length>1&&l.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:t.map((y,x)=>l.jsx("button",{onClick:()=>d(x),className:`w-2 h-2 rounded-full transition-all duration-200 ${x===r?"bg-white":"bg-white/50 hover:bg-white/75"}`,"aria-label":`   ${x+1}`},x))})]}),l.jsx(uq,{isOpen:s,onClose:m,photos:t,currentIndex:c,onNavigate:g})]}):null},fq=t=>{switch(t){case"hour":return l.jsx(bn,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"});case"day":return l.jsx(Oe,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"});case"week":return l.jsx(Oe,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"});case"month":return l.jsx(Oe,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"});default:return l.jsx(bn,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}},hq=t=>{switch(t){case"hour":return"";case"day":return"";case"week":return"";case"month":return"";default:return t}},pq=()=>{const[t,e]=_.useState(null),[r,n]=_.useState(!0),[a,i]=_.useState(null);return _.useEffect(()=>{(async()=>{try{n(!0);const{data:o,error:c}=await cq.from("site_settings").select("rent_selection").single();if(c)if(c.code==="PGRST116")console.log("No site settings found, using defaults"),e({id:1,title:"  ScienceHub",description:"<p>     ,   .             .</p>",photos:["https://images.pexels.com/photos/1181406/pexels-photo-1181406.jpeg","https://images.pexels.com/photos/1181248/pexels-photo-1181248.jpeg"],amenities:["Wi-Fi",""," "],pricelist:[],contacts:{address:"    ",phone:"+381 XX XXX XXXX",email:"info@sciencehub.rs"},main_prices:{hourly:25,daily:150},included_services:["Wi-Fi",""," ",""," ",""]});else throw c;else{const u=o==null?void 0:o.rent_selection;e(u||{id:1,title:"  ScienceHub",description:"<p>     ,   .             .</p>",photos:["https://images.pexels.com/photos/1181406/pexels-photo-1181406.jpeg","https://images.pexels.com/photos/1181248/pexels-photo-1181248.jpeg"],amenities:["Wi-Fi",""," "],pricelist:[],contacts:{address:"    ",phone:"+381 XX XXX XXXX",email:"info@sciencehub.rs"},main_prices:{hourly:25,daily:150},included_services:["Wi-Fi",""," ",""," ",""]})}}catch(o){console.error("Error fetching data:",o),i("     ")}finally{n(!1)}})()},[]),r?l.jsx(Ot,{children:l.jsx("div",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsx("div",{className:"container text-center py-12",children:"..."})})}):a||!t?l.jsx(Ot,{children:l.jsx("div",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsx("div",{className:"container text-center py-12 text-red-600",children:a||"  "})})}):l.jsxs(Ot,{children:[t.photos&&t.photos.length>0&&l.jsx(dq,{photos:t.photos,title:t.title}),l.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"mb-12 bg-white dark:bg-dark-900 rounded-xl shadow-md p-6",children:l.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t.description}})}),t.main_prices&&l.jsxs("div",{className:"mb-6 p-6 bg-primary-50 dark:bg-primary-900/20 rounded-lg",children:[l.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:" "}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center p-4 bg-white dark:bg-dark-800 rounded-lg shadow-sm",children:[l.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400 mb-2",children:" "}),l.jsxs("div",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400",children:[t.main_prices.hourly," ",l.jsx("span",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:" / "})]})]}),l.jsxs("div",{className:"text-center p-4 bg-white dark:bg-dark-800 rounded-lg shadow-sm",children:[l.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400 mb-2",children:" "}),l.jsxs("div",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400",children:[t.main_prices.daily," ",l.jsx("span",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:" / "})]})]})]}),t.included_services&&t.included_services.length>0&&l.jsxs("div",{className:"mt-8 max-w-2xl mx-auto",children:[l.jsx("h3",{className:"text-lg font-medium text-center mb-4",children:"  :"}),l.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-gray-600 dark:text-gray-300",children:t.included_services.map((s,o)=>l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx($p,{className:"h-4 w-4 text-primary-600 dark:text-primary-400"}),s]},o))})]})]}),t.pricelist&&t.pricelist.length>0&&l.jsx("div",{className:"mb-12 bg-white dark:bg-dark-900 rounded-xl shadow-md overflow-hidden",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-6",children:" "}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.pricelist.map(s=>l.jsxs("div",{className:"border dark:border-dark-700 rounded-lg p-5 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/30 p-2 rounded-full",children:fq(s.duration)}),l.jsx("h3",{className:"font-medium text-lg",children:s.name})]}),s.description&&l.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:s.description}),l.jsxs("div",{className:"text-2xl font-bold",children:[s.price," ",l.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:[" ","/ ",hq(s.duration)]})]})]},s.id))})]})}),t.contacts&&l.jsxs("div",{className:"mb-12 bg-white dark:bg-dark-900 rounded-xl shadow-md p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-6",children:""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/30 p-2 rounded-full",children:l.jsx(vr,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-1",children:""}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.contacts.address}),t.contacts.map_link&&l.jsx("a",{href:t.contacts.map_link,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-primary-600 dark:text-primary-400 hover:underline",children:"  "})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/30 p-2 rounded-full",children:l.jsx(Vt,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-1",children:""}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.contacts.phone}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.contacts.email})]})]})]})]}),l.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-md p-8 text-center",children:l.jsx(lq,{})})]})})]})},IN=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),mq=void 0,gq=void 0,vq=()=>{const[t,e]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState(null),[s,o]=_.useState(!0),[c,u]=_.useState(null),[d,f]=_.useState(!1),[h,p]=_.useState(null),[m,g]=_.useState({name:"",contact:"",phone:"",comment:""}),[y,x]=_.useState({name:!1,phone:!1}),[v,b]=_.useState(!1),[w,S]=_.useState("idle");_.useEffect(()=>{let L=!0;const C=async()=>{var N,O;try{o(!0),u(null);const[$,D]=await Promise.all([IN.from("coworking_header").select("*").single(),IN.from("coworking_info_table").select("*").eq("active",!0)]);if(!L)return;if($.error)throw $.error;if(D.error)throw D.error;i($.data);const R=((N=D.data)==null?void 0:N.filter(F=>F.main_service))||[],M=((O=D.data)==null?void 0:O.filter(F=>!F.main_service))||[];e(R),n(M)}catch($){console.error("Error fetching data:",$),L&&u("   . ,  .")}finally{L&&o(!1)}},A=setTimeout(()=>{s&&(u("    "),o(!1))},1e4);return C(),()=>{L=!1,clearTimeout(A)}},[]);const E=L=>{p(L),f(!0),S("idle"),g({name:"",contact:"",phone:"",comment:""})},j=L=>{const{name:C,value:A}=L.target;g(N=>({...N,[C]:A})),(C==="name"||C==="phone")&&x(N=>({...N,[C]:!1}))},I=()=>{const L={name:!m.name.trim(),phone:!m.phone.trim()};return x(L),!L.name&&!L.phone},k=async()=>{const L=`    :

: ${h==null?void 0:h.name}
: ${m.name}
: ${m.contact||" "}
: ${m.phone}
: ${m.comment||" "}`;try{if(!(await fetch(`https://api.telegram.org/bot${mq}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:gq,text:L})})).ok)throw new Error("   ")}catch(C){throw console.error("   Telegram:",C),C}},T=async L=>{if(L.preventDefault(),!!I()){b(!0);try{await k(),S("success"),setTimeout(()=>{f(!1)},2e3)}catch{S("error")}finally{b(!1)}}};return s?l.jsxs(Ot,{children:[l.jsx(Ql,{title:"...\\",description:"   "}),l.jsx("div",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsx("div",{className:"container",children:l.jsxs("div",{className:"animate-pulse space-y-4 py-12",children:[l.jsx("div",{className:"h-8 w-64 bg-gray-200 dark:bg-dark-700 rounded"}),l.jsx("div",{className:"h-12 bg-gray-200 dark:bg-dark-700 rounded"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((L,C)=>l.jsx("div",{className:"h-64 bg-gray-200 dark:bg-dark-700 rounded-lg"},C))})]})})})]}):l.jsxs(Ot,{children:[a&&l.jsx(Ql,{title:a.title,description:a.description}),l.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"mb-16",children:[l.jsx("h2",{className:"text-3xl font-semibold text-gray-900 dark:text-white mb-8 text-center",children:" "}),t.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"     . ,  ."})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(L=>l.jsx(ON,{service:L,onBookClick:()=>E(L)},L.id))})]}),r.length>0&&l.jsxs("div",{className:"mb-16",children:[l.jsx("h2",{className:"text-3xl font-semibold text-gray-900 dark:text-white mb-8 text-center",children:" "}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(L=>l.jsx(ON,{service:L,onBookClick:()=>E(L)},L.id))})]}),a&&l.jsxs("div",{className:"bg-white dark:bg-dark-700 rounded-xl shadow-lg p-8",children:[l.jsx("h2",{className:"text-3xl font-semibold text-gray-900 dark:text-white mb-6 text-center",children:""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:""}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",dangerouslySetInnerHTML:{__html:a.address}})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:""}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",dangerouslySetInnerHTML:{__html:a.phone}})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:" "}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300",dangerouslySetInnerHTML:{__html:a.working_hours}})]})]})]})]})}),l.jsx(Rc,{isOpen:d,onClose:()=>f(!1),children:l.jsxs("div",{className:"p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:[": ",h==null?void 0:h.name]}),w==="success"?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-green-500 text-5xl mb-4",children:""}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:" !"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"      ."})]}):l.jsxs("form",{onSubmit:T,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:j,className:`w-full px-3 py-2 border rounded-lg ${y.name?"border-red-500":"border-gray-300 dark:border-dark-600"} bg-white dark:bg-dark-800`,placeholder:" "}),y.name&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:"    "})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"contact",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" (  )"}),l.jsx("input",{type:"text",id:"contact",name:"contact",value:m.contact,onChange:j,className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-800",placeholder:"telegram: @username  email@example.com"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:j,className:`w-full px-3 py-2 border rounded-lg ${y.phone?"border-red-500":"border-gray-300 dark:border-dark-600"} bg-white dark:bg-dark-800`,placeholder:"+7 (123) 456-78-90"}),y.phone&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:"    "})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:""}),l.jsx("textarea",{id:"comment",name:"comment",value:m.comment,onChange:j,className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-800",rows:3,placeholder:",       "})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",disabled:v,children:""}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors disabled:opacity-50",disabled:v,children:v?"...":" "})]}),w==="error"&&l.jsx("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg text-sm",children:"   . ,  ."})]})]})})]})},ON=({service:t,onBookClick:e})=>{const r=()=>{switch(t.currency){case"euro":return"";case"":return"";default:return t.currency}},n=()=>{switch(t.period){case"":return"";case"":return"";case"":return"";default:return t.period}};return l.jsxs("div",{className:"bg-white dark:bg-dark-700 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 h-full flex flex-col",children:[t.image_url&&l.jsx("div",{className:"h-48 overflow-hidden",children:l.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"})}),l.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:t.name}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300 mb-4 prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t.description}})]}),l.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[t.price," ",r()]}),l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 ml-1",children:["/ ",n()]})]}),l.jsx("button",{onClick:e,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:""})]})]})]})},xq=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),yq=({platform:t})=>{const r={Boosty:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/bosty-logo-100x100.png",Patreon:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/pn-logo-100x100.png",PayPal:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/pp-logo-100x100.png"}[t]||"";return l.jsx("img",{src:r,alt:t,className:"w-6 h-6 object-contain"})},bq=()=>{const[t,e]=_.useState(null),[r,n]=_.useState(!0),[a,i]=_.useState(null);return _.useEffect(()=>{(async()=>{try{const{data:o,error:c}=await xq.from("about_table").select("*").limit(1).single();if(c)throw c;e(o)}catch(o){console.error("Error fetching about data:",o),i("Failed to load about page data")}finally{n(!1)}})()},[]),r?l.jsxs(Ot,{children:[l.jsx(Ql,{title:" "}),l.jsx("div",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsx("div",{className:"container text-center py-12",children:"..."})})]}):a||!t?l.jsxs(Ot,{children:[l.jsx(Ql,{title:" "}),l.jsx("div",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsx("div",{className:"container text-center py-12 text-red-600",children:a||"  "})})]}):l.jsxs(Ot,{children:[l.jsx(Ql,{title:" ",subtitle:"Science Hub  -   "}),l.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"mb-16",children:l.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:t.project_info}})}),l.jsxs("div",{className:"mb-16",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-8",children:" "}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.team_members.map((s,o)=>l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden",children:l.jsx("img",{src:s.photo,alt:s.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium mb-1",children:s.name}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.role})]})]},o))})]}),t.contributors.length>0&&l.jsxs("div",{className:"mb-16",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-8",children:" "}),l.jsx("div",{className:"flex flex-wrap justify-around gap-10",children:t.contributors.map((s,o)=>l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden mb-3",children:l.jsx("img",{src:s.photo,alt:s.name,className:"w-full h-full object-cover"})}),l.jsx("h3",{className:"text-lg font-medium",children:s.name})]},o))})]}),l.jsxs("div",{className:"mb-16",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-8",children:""}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:t.support_platforms.map((s,o)=>l.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"p-4 border border-gray-200 dark:border-dark-700 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors flex items-center justify-center gap-2",children:[l.jsx(yq,{platform:s.platform}),l.jsx("span",{children:s.platform})]},o))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-8",children:""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-gray-100 dark:bg-dark-700 rounded-full",children:l.jsx(Jd,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-1",children:"Email"}),l.jsx("a",{href:`mailto:${t.contact_info.email}`,className:"text-gray-600 dark:text-gray-400 hover:text-primary transition-colors",children:t.contact_info.email})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-gray-100 dark:bg-dark-700 rounded-full",children:l.jsx(A0,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-1",children:""}),l.jsx("a",{href:`tel:${t.contact_info.phone.replace(/\s/g,"")}`,className:"text-gray-600 dark:text-gray-400 hover:text-primary transition-colors",children:t.contact_info.phone})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-gray-100 dark:bg-dark-700 rounded-full",children:l.jsx(vr,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium mb-1",children:""}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t.contact_info.address})]})]})]})]})]})})]})},wq=()=>l.jsx(Ot,{children:l.jsx("div",{className:"min-h-[70vh] flex items-center justify-center",children:l.jsxs("div",{className:"container max-w-2xl text-center",children:[l.jsx("div",{className:"mb-8 flex justify-center",children:l.jsx("div",{className:"relative",children:l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl font-bold",children:"404"})})}),l.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"  "}),l.jsx("p",{className:"text-lg text-dark-600 dark:text-dark-300 mb-8",children:",       ."}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[l.jsx(Be,{to:"/",className:"btn-primary",children:"  "}),l.jsx(Be,{to:"/events",className:"btn-outline",children:" "})]})]})})});function _q(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function kq(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var Nq=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sq=function(t){Nq(e,t);function e(r,n){var a=this.constructor,i=t.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),_q(i,a.prototype),kq(i),i}return e}(Error),Eq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_n=function(t){Eq(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(Sq),Cq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ya=function(t){Cq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(_n),jq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ee=function(t){jq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(_n),Aq=function(){function t(e){if(this.binarizer=e,e===null)throw new Ee("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,a){var i=this.binarizer.getLuminanceSource().crop(e,r,n,a);return new t(this.binarizer.createBinarizer(i))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),Tq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fr=function(t){Tq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(_n),Iq=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),yt=function(){function t(){}return t.arraycopy=function(e,r,n,a,i){for(;i--;)n[a++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),Oq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vw=function(t){Oq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(_n),Dq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DN=function(t){Dq(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=t.call(this,n)||this;return a.index=r,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e}(Vw),Pq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nr=function(){function t(){}return t.fill=function(e,r){for(var n=0,a=e.length;n<a;n++)e[n]=r},t.fillWithin=function(e,r,n,a){t.rangeCheck(e.length,r,n);for(var i=r;i<n;i++)e[i]=a},t.rangeCheck=function(e,r,n){if(r>n)throw new Ee("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new DN(r);if(n>e)throw new DN(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var a=Array.from({length:e});return a.map(function(i){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var a=Array.from({length:e});return a.map(function(i){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var a=1;try{for(var i=Pq(e),s=i.next();!s.done;s=i.next()){var o=s.value;a=31*a+o}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var a=n-r,i=new Int32Array(a);return yt.arraycopy(e,r,i,0,a),i},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var a=0,i=e.length-1;a<=i;){var s=i+a>>1,o=n(r,e[s]);if(o>0)a=s+1;else if(o<0)i=s-1;else return s}return-a-1},t.numberComparator=function(e,r){return e-r},t}(),Le=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),hr=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);yt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),i=n[a];i&=~((1<<(e&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=n[a]}var o=a*32+Le.numberOfTrailingZeros(i);return o>r?r:o},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),i=~n[a];i&=~((1<<(e&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=~n[a]}var o=a*32+Le.numberOfTrailingZeros(i);return o>r?r:o},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Ee;if(r!==e){r--;for(var n=Math.floor(e/32),a=Math.floor(r/32),i=this.bits,s=n;s<=a;s++){var o=s>n?0:e&31,c=s<a?31:r&31,u=(2<<c)-(1<<o);i[s]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Ee;if(r===e)return!0;r--;for(var a=Math.floor(e/32),i=Math.floor(r/32),s=this.bits,o=a;o<=i;o++){var c=o>a?0:e&31,u=o<i?31:r&31,d=(2<<u)-(1<<c)&4294967295;if((s[o]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Ee("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Ee("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,a){for(var i=0;i<a;i++){for(var s=0,o=0;o<8;o++)this.get(e)&&(s|=1<<7-o),e++;r[n+i]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,i=0;i<n;i++){var s=a[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[r-i]=s}if(this.size!==n*32){for(var o=n*32-this.size,c=e[0]>>>o,i=1;i<n;i++){var u=e[i];c|=u<<32-o,e[i-1]=c,c=u>>>o}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&nr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+nr.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),by;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(by||(by={}));const It=by;var Rq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pe=function(t){Rq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(_n),Mq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},it;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(it||(it={}));var rr=function(){function t(e,r,n){for(var a,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,d=c.length;u!==d;u++){var f=c[u];t.VALUES_TO_ECI.set(f,this)}try{for(var h=Mq(s),p=h.next();!p.done;p=h.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new pe("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new pe("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new pe("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(it.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(it.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(it.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(it.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(it.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(it.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(it.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(it.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(it.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(it.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(it.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(it.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(it.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(it.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(it.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(it.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(it.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(it.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(it.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(it.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(it.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(it.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(it.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(it.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(it.Big5,28,"Big5"),t.GB18030=new t(it.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(it.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),Lq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yh=function(t){Lq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(_n),la=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof rr?e:rr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var a="",i=0,s=e.length;i<s;i++){var o=e[i].toString(16);o.length<2&&(o="0"+o),a+="%"+o}return decodeURIComponent(a)}if(n.equals(rr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Yh("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(rr.UTF8)||e.equals(rr.ISO8859_1)||e.equals(rr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),a=[],i=0;i<n.length;i++)a.push(n[i].charCodeAt(0));return new Uint8Array(a)},t}(),qe=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return la.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(It.CHARACTER_SET)!==void 0)return r.get(It.CHARACTER_SET).toString();for(var n=e.length,a=!0,i=!0,s=!0,o=0,c=0,u=0,d=0,f=0,h=0,p=0,m=0,g=0,y=0,x=0,v=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,b=0;b<n&&(a||i||s);b++){var w=e[b]&255;s&&(o>0?w&128?o--:s=!1:w&128&&(w&64?(o++,w&32?(o++,w&16?(o++,w&8?s=!1:d++):u++):c++):s=!1)),a&&(w>127&&w<160?a=!1:w>159&&(w<192||w===215||w===247)&&x++),i&&(f>0?w<64||w===127||w>252?i=!1:f--:w===128||w===160||w>239?i=!1:w>160&&w<224?(h++,m=0,p++,p>g&&(g=p)):w>127?(f++,p=0,m++,m>y&&(y=m)):(p=0,m=0))}return s&&o>0&&(s=!1),i&&f>0&&(i=!1),s&&(v||c+u+d>0)?t.UTF8:i&&(t.ASSUME_SHIFT_JIS||g>=3||y>=3)?t.SHIFT_JIS:a&&i?g===2&&h===2||x*10>=n?t.SHIFT_JIS:t.ISO88591:a?t.ISO88591:i?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function i(o,c,u,d,f,h){if(o==="%%")return"%";if(r[++a]!==void 0){o=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[a];break;case"c":m=r[a][0];break;case"f":m=parseFloat(r[a]).toFixed(o);break;case"p":m=parseFloat(r[a]).toPrecision(o);break;case"e":m=parseFloat(r[a]).toExponential(o);break;case"x":m=parseInt(r[a]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[a],p||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var g=parseInt(u),y=u&&u[0]+""=="0"?"0":" ";m.length<g;)m=c!==void 0?m+y:y+m;return m}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},t.getBytes=function(e,r){return la.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=rr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=rr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=rr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Me=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=qe.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var a=r;r<r+n;a++)this.append(e[a]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),ii=function(){function t(e,r,n,a){if(this.width=e,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=e),this.height=r,e<1||r<1)throw new Ee("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,a=new t(n,r),i=0;i<r;i++)for(var s=e[i],o=0;o<n;o++)s[o]&&a.set(o,i);return a},t.parseFromString=function(e,r,n){if(e===null)throw new Ee("stringRepresentation cannot be null");for(var a=new Array(e.length),i=0,s=0,o=-1,c=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new Ee("row lengths do not match");s=i,c++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,a[i]=!0,i++;else if(e.substring(u,u+n.length)===n)u+=n.length,a[i]=!1,i++;else throw new Ee("illegal character encountered: "+e.substring(u));if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new Ee("row lengths do not match");c++}for(var d=new t(o,c),f=0;f<i;f++)a[f]&&d.set(Math.floor(f%o),Math.floor(f/o));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ee("input matrix dimensions do not match");for(var r=new hr(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,i=0,s=this.height;i<s;i++)for(var o=i*n,c=e.getRow(i,r).getBitArray(),u=0;u<n;u++)a[o+u]^=c[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,a){if(r<0||e<0)throw new Ee("Left and top must be nonnegative");if(a<1||n<1)throw new Ee("Height and width must be at least 1");var i=e+n,s=r+a;if(s>this.height||i>this.width)throw new Ee("The region must fit inside the matrix");for(var o=this.rowSize,c=this.bits,u=r;u<s;u++)for(var d=u*o,f=e;f<i;f++)c[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new hr(this.width):r.clear();for(var n=this.rowSize,a=this.bits,i=e*n,s=0;s<n;s++)r.setBulk(s*32,a[i+s]);return r},t.prototype.setRow=function(e,r){yt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new hr(e),a=new hr(e),i=0,s=Math.floor((r+1)/2);i<s;i++)n=this.getRow(i,n),a=this.getRow(r-1-i,a),n.reverse(),a.reverse(),this.setRow(i,a),this.setRow(r-1-i,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,a=this.bits,i=e,s=r,o=-1,c=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=a[u*n+d];if(f!==0){if(u<s&&(s=u),u>c&&(c=u),d*32<i){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<i&&(i=d*32+h)}if(d*32+31>o){for(var h=31;!(f>>>h);)h--;d*32+h>o&&(o=d*32+h)}}}return o<i||c<s?null:Int32Array.from([i,s,o-i+1,c-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/e,i=n%e*32,s=r[n],o=0;!(s<<31-o&4294967295);)o++;return i+=o,Int32Array.from([i,a])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),i=Math.floor(n%e)*32,s=r[n],o=31;!(s>>>o);)o--;return i+=o,Int32Array.from([i,a])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&nr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+nr.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var a=new Me,i=0,s=this.height;i<s;i++){for(var o=0,c=this.width;o<c;o++)a.append(this.get(o,i)?e:r);a.append(n)}return a.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),Bq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),te=function(t){Bq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(_n),Fq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$q=function(t){Fq(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),i=a.getWidth();n==null||n.getSize()<i?n=new hr(i):n.clear(),this.initArrays(i);for(var s=a.getRow(r,this.luminances),o=this.buckets,c=0;c<i;c++)o[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(o);if(i<3)for(var c=0;c<i;c++)(s[c]&255)<u&&n.set(c);else for(var d=s[0]&255,f=s[1]&255,c=1;c<i-1;c++){var h=s[c+1]&255;(f*4-d-h)/2<u&&n.set(c),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),i=new ii(n,a);this.initArrays(n);for(var s=this.buckets,o=1;o<5;o++)for(var c=Math.floor(a*o/5),u=r.getRow(c,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;s[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(s),m=r.getMatrix(),o=0;o<a;o++)for(var g=o*n,f=0;f<n;f++){var h=m[g+f]&255;h<p&&i.set(f,o)}return i},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(r){for(var n=r.length,a=0,i=0,s=0,o=0;o<n;o++)r[o]>s&&(i=o,s=r[o]),r[o]>a&&(a=r[o]);for(var c=0,u=0,o=0;o<n;o++){var d=o-i,f=r[o]*d*d;f>u&&(c=o,u=f)}if(i>c){var h=i;i=c,c=h}if(c-i<=n/16)throw new te;for(var p=c-1,m=-1,o=c-1;o>i;o--){var g=o-i,f=g*g*(c-o)*(a-r[o]);f>m&&(p=o,m=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Iq),Uq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zq=function(t){Uq(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var i=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&s++;var o=a>>e.BLOCK_SIZE_POWER;a&e.BLOCK_SIZE_MASK&&o++;var c=e.calculateBlackPoints(i,s,o,n,a),u=new ii(n,a);e.calculateThresholdForBlock(i,s,o,n,a,c,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,a,i,s,o,c){for(var u=s-e.BLOCK_SIZE,d=i-e.BLOCK_SIZE,f=0;f<a;f++){var h=f<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=e.cap(f,2,a-3),m=0;m<n;m++){var g=m<<e.BLOCK_SIZE_POWER;g>d&&(g=d);for(var y=e.cap(m,2,n-3),x=0,v=-2;v<=2;v++){var b=o[p+v];x+=b[y-2]+b[y-1]+b[y]+b[y+1]+b[y+2]}var w=x/25;e.thresholdBlock(r,g,h,w,i,c)}}},e.cap=function(r,n,a){return r<n?n:r>a?a:r},e.thresholdBlock=function(r,n,a,i,s,o){for(var c=0,u=a*s+n;c<e.BLOCK_SIZE;c++,u+=s)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=i&&o.set(n+d,a+c)},e.calculateBlackPoints=function(r,n,a,i,s){for(var o=s-e.BLOCK_SIZE,c=i-e.BLOCK_SIZE,u=new Array(a),d=0;d<a;d++){u[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>o&&(f=o);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var m=0,g=255,y=0,x=0,v=f*i+p;x<e.BLOCK_SIZE;x++,v+=i){for(var b=0;b<e.BLOCK_SIZE;b++){var w=r[v+b]&255;m+=w,w<g&&(g=w),w>y&&(y=w)}if(y-g>e.MIN_DYNAMIC_RANGE)for(x++,v+=i;x<e.BLOCK_SIZE;x++,v+=i)for(var b=0;b<e.BLOCK_SIZE;b++)m+=r[v+b]&255}var S=m>>e.BLOCK_SIZE_POWER*2;if(y-g<=e.MIN_DYNAMIC_RANGE&&(S=g/2,d>0&&h>0)){var E=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;g<E&&(S=E)}u[d][h]=S}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}($q),fm=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,a){throw new Yh("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Yh("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Yh("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Me,n=0;n<this.height;n++){for(var a=this.getRow(n,e),i=0;i<this.width;i++){var s=a[i]&255,o=void 0;s<64?o="#":s<128?o="+":s<192?o=".":o=" ",r.append(o)}r.append(`
`)}return r.toString()},t}(),Hq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gw=function(t){Hq(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),i=this.getWidth(),s=0;s<i;s++)a[s]=255-(a[s]&255);return a},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),i=0;i<n;i++)a[i]=255-(r[i]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,a,i){return new e(this.delegate.crop(r,n,a,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(fm),Wq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vq=function(t){Wq(e,t);function e(r,n){n===void 0&&(n=!1);var a=t.call(this,r.width,r.height)||this;return a.canvas=r,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(r,n),a}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var a=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(a.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,a,i){i===void 0&&(i=!1);var s=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!i)for(var o=0,c=0,u=r.length;o<u;o+=4,c++){var d=void 0,f=r[o+3];if(f===0)d=255;else{var h=r[o],p=r[o+1],m=r[o+2];d=306*h+601*p+117*m+512>>10}s[c]=d}else for(var o=0,c=0,g=r.length;o<g;o+=4,c++){var d=void 0,f=r[o+3];if(f===0)d=255;else{var h=r[o],p=r[o+1],m=r[o+2];d=306*h+601*p+117*m+512>>10}s[c]=255-d}return s},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ee("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return t.prototype.crop.call(this,r,n,a,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),i=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*o),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*o);return n.width=c,n.height=u,a.translate(c/2,u/2),a.rotate(i),a.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Gw(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(fm),Gq=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Wr=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})},Vr=function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Xq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lc=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Wr(this,void 0,void 0,function(){var e,r,n,a,i,s,o,c,u,d,f,h;return Vr(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=Xq(e),a=n.next();!a.done;a=n.next())i=a.value,s=i.kind==="video"?"videoinput":i.kind,s==="videoinput"&&(o=i.deviceId||i.id,c=i.label||"Video device "+(r.length+1),u=i.groupId,d={deviceId:o,label:c,kind:s,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Wr(this,void 0,void 0,function(){var e;return Vr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new Gq(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Wr(this,void 0,void 0,function(){var r;return Vr(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Wr(this,void 0,void 0,function(){return Vr(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Wr(this,void 0,void 0,function(){var n,a;return Vr(this,function(i){switch(i.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Wr(this,void 0,void 0,function(){var n;return Vr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Wr(this,void 0,void 0,function(){var n,a;return Vr(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return a=i.sent(),[2,a]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Wr(this,void 0,void 0,function(){return Vr(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Wr(this,void 0,void 0,function(){var a,i;return Vr(this,function(s){switch(s.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Wr(this,void 0,void 0,function(){var a;return Vr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Wr(this,void 0,void 0,function(){var a;return Vr(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Wr(this,void 0,void 0,function(){var n;return Vr(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Wr(this,void 0,void 0,function(){return Vr(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new ya("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new ya("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new ya("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new ya("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new ya("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new ya("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new ya("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new ya("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new ya("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new ya("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=e,a},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Wr(this,void 0,void 0,function(){return Vr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Wr(this,void 0,void 0,function(){return Vr(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(s,o){if(a._stopAsyncDecode){o(new te("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var c=a.decode(e);s(c)}catch(h){var u=r&&h instanceof te,d=h instanceof fr||h instanceof pe,f=d&&n;if(u||f)return setTimeout(i,a._timeBetweenDecodingAttempts,s,o);o(h)}};return new Promise(function(s,o){return i(s,o)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var i=n.decode(e);r(i,null),setTimeout(a,n.timeBetweenScansMillis)}catch(c){r(null,c);var s=c instanceof fr||c instanceof pe,o=c instanceof te;(s||o)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),a=new Vq(n,r),i=new zq(a);return new Aq(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),$r=function(){function t(e,r,n,a,i,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=yt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=i,this.resultMetadata=null,s==null?this.timestamp=yt.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);yt.arraycopy(r,0,n,0,r.length),yt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),wy;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wy||(wy={}));const Se=wy;var _y;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(_y||(_y={}));const Er=_y;var hm=function(){function t(e,r,n,a,i,s){i===void 0&&(i=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),Su=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ee;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Is=function(){function t(e,r){if(r.length===0)throw new Ee;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),yt.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var a=0,i=r.length;a!==i;a++){var s=r[a];n=Su.addOrSubtract(n,s)}return n}n=r[0];for(var o=r.length,c=this.field,a=1;a<o;a++)n=Su.addOrSubtract(c.multiply(e,n),r[a]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ee("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;yt.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=Su.addOrSubtract(r[o-s],n[o]);return new t(this.field,i)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ee("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=e.coefficients,i=a.length,s=new Int32Array(n+i-1),o=this.field,c=0;c<n;c++)for(var u=r[c],d=0;d<i;d++)s[c+d]=Su.addOrSubtract(s[c+d],o.multiply(u,a[d]));return new t(o,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),i=this.coefficients,s=0;s<r;s++)a[s]=n.multiply(i[s],e);return new t(n,a)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Ee;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,i=new Int32Array(a+e),s=this.field,o=0;o<a;o++)i[o]=s.multiply(n[o],r);return new t(s,i)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ee("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ee("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,i=e.getCoefficient(e.getDegree()),s=r.inverse(i);a.getDegree()>=e.getDegree()&&!a.isZero();){var o=a.getDegree()-e.getDegree(),c=r.multiply(a.getCoefficient(a.getDegree()),s),u=e.multiplyByMonomial(o,c),d=r.buildMonomial(o,c);n=n.addOrSubtract(d),a=a.addOrSubtract(u)}return[n,a]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),qq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U5=function(t){qq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(_n),Yq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mn=function(t){Yq(e,t);function e(r,n,a){var i=t.call(this)||this;i.primitive=r,i.size=n,i.generatorBase=a;for(var s=new Int32Array(n),o=1,c=0;c<n;c++)s[c]=o,o*=2,o>=n&&(o^=r,o&=n-1);i.expTable=s;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[s[c]]=c;return i.logTable=u,i.zero=new Is(i,Int32Array.from([0])),i.one=new Is(i,Int32Array.from([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Ee;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new Is(this,a)},e.prototype.inverse=function(r){if(r===0)throw new U5;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Le.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Su),Kq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lh=function(t){Kq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(_n),Zq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hf=function(t){Zq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(_n),pm=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,a=new Is(n,e),i=new Int32Array(r),s=!0,o=0;o<r;o++){var c=a.evaluateAt(n.exp(o+n.getGeneratorBase()));i[i.length-1-o]=c,c!==0&&(s=!1)}if(!s)for(var u=new Is(n,i),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),o=0;o<p.length;o++){var g=e.length-1-n.log(p[o]);if(g<0)throw new lh("Bad error location");e[g]=mn.addOrSubtract(e[g],m[o])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=this.field,s=e,o=r,c=i.getZero(),u=i.getOne();o.getDegree()>=(n/2|0);){var d=s,f=c;if(s=o,c=u,s.isZero())throw new lh("r_{i-1} was zero");o=d;for(var h=i.getZero(),p=s.getCoefficient(s.getDegree()),m=i.inverse(p);o.getDegree()>=s.getDegree()&&!o.isZero();){var g=o.getDegree()-s.getDegree(),y=i.multiply(o.getCoefficient(o.getDegree()),m);h=h.addOrSubtract(i.buildMonomial(g,y)),o=o.addOrSubtract(s.multiplyByMonomial(g,y))}if(u=h.multiply(c).addOrSubtract(f),o.getDegree()>=s.getDegree())throw new hf("Division algorithm failed to reduce polynomial?")}var x=u.getCoefficient(0);if(x===0)throw new lh("sigmaTilde(0) was zero");var v=i.inverse(x),b=u.multiplyScalar(v),w=o.multiplyScalar(v);return[b,w]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,i=this.field,s=1;s<i.getSize()&&a<r;s++)e.evaluateAt(s)===0&&(n[a]=i.inverse(s),a++);if(a!==r)throw new lh("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,a=new Int32Array(n),i=this.field,s=0;s<n;s++){for(var o=i.inverse(r[s]),c=1,u=0;u<n;u++)if(s!==u){var d=i.multiply(r[u],o),f=d&1?d&-2:d|1;c=i.multiply(c,f)}a[s]=i.multiply(e.evaluateAt(o),i.inverse(c)),i.getGeneratorBase()!==0&&(a[s]=i.multiply(a[s],o))}return a},t}(),_r;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(_r||(_r={}));var PN=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),a=this.correctBits(n),i=t.convertBoolArrayToByteArray(a),s=t.getEncodedData(a),o=new hm(i,s,null,null);return o.setNumBits(a.length),o},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=_r.UPPER,a=_r.UPPER,i="",s=0;s<r;)if(a===_r.BINARY){if(r-s<5)break;var o=t.readCode(e,s,5);if(s+=5,o===0){if(r-s<11)break;o=t.readCode(e,s,11)+31,s+=11}for(var c=0;c<o;c++){if(r-s<8){s=r;break}var u=t.readCode(e,s,8);i+=qe.castAsNonUtf8Char(u),s+=8}a=n}else{var d=a===_r.DIGIT?4:5;if(r-s<d)break;var u=t.readCode(e,s,d);s+=d;var f=t.getCharacter(a,u);f.startsWith("CTRL_")?(n=a,a=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=a)):(i+=f,a=n)}return i},t.getTable=function(e){switch(e){case"L":return _r.LOWER;case"P":return _r.PUNCT;case"M":return _r.MIXED;case"D":return _r.DIGIT;case"B":return _r.BINARY;case"U":default:return _r.UPPER}},t.getCharacter=function(e,r){switch(e){case _r.UPPER:return t.UPPER_TABLE[r];case _r.LOWER:return t.LOWER_TABLE[r];case _r.MIXED:return t.MIXED_TABLE[r];case _r.PUNCT:return t.PUNCT_TABLE[r];case _r.DIGIT:return t.DIGIT_TABLE[r];default:throw new hf("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=mn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=mn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=mn.AZTEC_DATA_10):(n=12,r=mn.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=e.length/n;if(i<a)throw new pe;for(var s=e.length%n,o=new Int32Array(i),c=0;c<i;c++,s+=n)o[c]=t.readCode(e,s,n);try{var u=new pm(r);u.decode(o,i-a)}catch(y){throw new pe(y)}for(var d=(1<<n)-1,f=0,c=0;c<a;c++){var h=o[c];if(h===0||h===d)throw new pe;(h===1||h===d-1)&&f++}for(var p=new Array(a*n-f),m=0,c=0;c<a;c++){var h=o[c];if(h===1||h===d-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var g=n-1;g>=0;--g)p[m++]=(h&1<<g)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,i=new Int32Array(a),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var o=0;o<i.length;o++)i[o]=o;else for(var c=a+1+2*Le.truncDivision(Le.truncDivision(a,2)-1,15),u=a/2,d=Le.truncDivision(c,2),o=0;o<u;o++){var f=o+Le.truncDivision(o,15);i[u-o-1]=d-f-1,i[u+o]=d+f+1}for(var o=0,h=0;o<n;o++){for(var p=(n-o)*4+(r?9:12),m=o*2,g=a-1-m,y=0;y<p;y++)for(var x=y*2,v=0;v<2;v++)s[h+x+v]=e.get(i[m+v],i[m+y]),s[h+2*p+x+v]=e.get(i[m+y],i[g-v]),s[h+4*p+x+v]=e.get(i[g-v],i[g-y]),s[h+6*p+x+v]=e.get(i[g-y],i[m+v]);h+=p*8}return s},t.readCode=function(e,r,n){for(var a=0,i=r;i<r+n;i++)a<<=1,e[i]&&(a|=1);return a},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Qe=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,a){var i=e-n,s=r-a;return Math.sqrt(i*i+s*s)},t.sum=function(e){for(var r=0,n=0,a=e.length;n!==a;n++){var i=e[n];r+=i}return r},t}(),ky=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),we=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*ky.floatToIntBits(this.x)+ky.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),i,s,o;if(n>=r&&n>=a?(s=e[0],i=e[1],o=e[2]):a>=n&&a>=r?(s=e[1],i=e[0],o=e[2]):(s=e[2],i=e[0],o=e[1]),this.crossProductZ(i,s,o)<0){var c=i;i=o,o=c}e[0]=i,e[1]=s,e[2]=o},t.distance=function(e,r){return Qe.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var a=r.x,i=r.y;return(n.x-a)*(e.y-i)-(n.y-i)*(e.x-a)},t}(),Xw=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Qq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jq=function(t){Qq(e,t);function e(r,n,a,i,s){var o=t.call(this,r,n)||this;return o.compact=a,o.nbDatablocks=i,o.nbLayers=s,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Xw),Ny=function(){function t(e,r,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var i=r/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,i=!1,s=!0,o=!1,c=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;s;){s=!1;for(var m=!0;(m||!c)&&r<h;)m=this.containsBlackPoint(n,a,r,!1),m?(r++,s=!0,c=!0):c||r++;if(r>=h){i=!0;break}for(var g=!0;(g||!u)&&a<p;)g=this.containsBlackPoint(e,r,a,!0),g?(a++,s=!0,u=!0):u||a++;if(a>=p){i=!0;break}for(var y=!0;(y||!d)&&e>=0;)y=this.containsBlackPoint(n,a,e,!1),y?(e--,s=!0,d=!0):d||e--;if(e<0){i=!0;break}for(var x=!0;(x||!f)&&n>=0;)x=this.containsBlackPoint(e,r,n,!0),x?(n--,s=!0,f=!0):f||n--;if(n<0){i=!0;break}s&&(o=!0)}if(!i&&o){for(var v=r-e,b=null,w=1;b===null&&w<v;w++)b=this.getBlackPointOnSegment(e,a-w,e+w,a);if(b==null)throw new te;for(var S=null,w=1;S===null&&w<v;w++)S=this.getBlackPointOnSegment(e,n+w,e+w,n);if(S==null)throw new te;for(var E=null,w=1;E===null&&w<v;w++)E=this.getBlackPointOnSegment(r,n+w,r-w,n);if(E==null)throw new te;for(var j=null,w=1;j===null&&w<v;w++)j=this.getBlackPointOnSegment(r,a-w,r-w,a);if(j==null)throw new te;return this.centerEdges(j,b,E,S)}else throw new te},t.prototype.getBlackPointOnSegment=function(e,r,n,a){for(var i=Qe.round(Qe.distance(e,r,n,a)),s=(n-e)/i,o=(a-r)/i,c=this.image,u=0;u<i;u++){var d=Qe.round(e+u*s),f=Qe.round(r+u*o);if(c.get(d,f))return new we(d,f)}return null},t.prototype.centerEdges=function(e,r,n,a){var i=e.getX(),s=e.getY(),o=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),f=a.getX(),h=a.getY(),p=t.CORR;return i<this.width/2?[new we(f-p,h+p),new we(o+p,c+p),new we(u-p,d-p),new we(i+p,s-p)]:[new we(f+p,h+p),new we(o+p,c-p),new we(u-p,d+p),new we(i-p,s-p)]},t.prototype.containsBlackPoint=function(e,r,n,a){var i=this.image;if(a){for(var s=e;s<=r;s++)if(i.get(s,n))return!0}else for(var o=e;o<=r;o++)if(i.get(n,o))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),RN=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),a=e.getHeight(),i=!0,s=0;s<r.length&&i;s+=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>a)throw new te;i=!1,o===-1?(r[s]=0,i=!0):o===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}i=!0;for(var s=r.length-2;s>=0&&i;s-=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>a)throw new te;i=!1,o===-1?(r[s]=0,i=!0):o===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}},t}(),z5=function(){function t(e,r,n,a,i,s,o,c,u){this.a11=e,this.a21=r,this.a31=n,this.a12=a,this.a22=i,this.a32=s,this.a13=o,this.a23=c,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,a,i,s,o,c,u,d,f,h,p,m,g,y){var x=t.quadrilateralToSquare(e,r,n,a,i,s,o,c),v=t.squareToQuadrilateral(u,d,f,h,p,m,g,y);return v.times(x)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],m=e[h+1],g=i*p+c*m+f;e[h]=(n*p+s*m+u)/g,e[h+1]=(a*p+o*m+d)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var m=e[p],g=r[p],y=i*m+c*g+f;e[p]=(n*m+s*g+u)/y,r[p]=(a*m+o*g+d)/y}},t.squareToQuadrilateral=function(e,r,n,a,i,s,o,c){var u=e-n+i-o,d=r-a+s-c;if(u===0&&d===0)return new t(n-e,i-n,e,a-r,s-a,r,0,0,1);var f=n-i,h=o-i,p=a-s,m=c-s,g=f*m-h*p,y=(u*m-h*d)/g,x=(f*d-u*p)/g;return new t(n-e+y*n,o-e+x*o,e,a-r+y*a,c-r+x*c,r,y,x,1)},t.quadrilateralToSquare=function(e,r,n,a,i,s,o,c){return t.squareToQuadrilateral(e,r,n,a,i,s,o,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),eY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tY=function(t){eY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,a,i,s,o,c,u,d,f,h,p,m,g,y,x,v,b,w){var S=z5.quadrilateralToQuadrilateral(i,s,o,c,u,d,f,h,p,m,g,y,x,v,b,w);return this.sampleGridWithTransform(r,n,a,S)},e.prototype.sampleGridWithTransform=function(r,n,a,i){if(n<=0||a<=0)throw new te;for(var s=new ii(n,a),o=new Float32Array(2*n),c=0;c<a;c++){for(var u=o.length,d=c+.5,f=0;f<u;f+=2)o[f]=f/2+.5,o[f+1]=d;i.transformPoints(o),RN.checkAndNudgePoints(r,o);try{for(var f=0;f<u;f+=2)r.get(Math.floor(o[f]),Math.floor(o[f+1]))&&s.set(f/2,c)}catch{throw new te}}return s},e}(RN),qw=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new tY,t}(),cn=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new we(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),rY=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new Jq(i,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new te;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,i=0;i<4;i++){var s=n[(this.shift+i)%4];this.compact?(a<<=7,a+=s>>1&127):(a<<=10,a+=(s>>2&992)+(s>>1&31))}var o=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(i,s,o){var c=(i>>r-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(Le.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new te},t.prototype.getCorrectedParameterData=function(e,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var i=n-a,s=new Int32Array(n),o=n-1;o>=0;--o)s[o]=e&15,e>>=4;try{var c=new pm(mn.AZTEC_PARAM);c.decode(s,i)}catch{throw new te}for(var u=0,o=0;o<a;o++)u=(u<<4)+s[o];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,a=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(r,s,1,-1),c=this.getFirstDifferent(n,s,1,1),u=this.getFirstDifferent(a,s,-1,1),d=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,o)*this.nbCenterLayers/(this.distancePoint(i,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(o,c,u,d))break}r=o,n=c,a=u,i=d,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;var h=new we(r.getX()+.5,r.getY()-.5),p=new we(n.getX()+.5,n.getY()+.5),m=new we(a.getX()-.5,a.getY()+.5),g=new we(i.getX()-.5,i.getY()-.5);return this.expandSquare([h,p,m,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,a;try{var i=new Ny(this.image).detect();e=i[0],r=i[1],n=i[2],a=i[3]}catch{var s=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new cn(s+7,o-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new cn(s+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new cn(s-7,o+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new cn(s-7,o-7),!1,-1,-1).toResultPoint()}var c=Qe.round((e.getX()+a.getX()+r.getX()+n.getX())/4),u=Qe.round((e.getY()+a.getY()+r.getY()+n.getY())/4);try{var i=new Ny(this.image,15,c,u).detect();e=i[0],r=i[1],n=i[2],a=i[3]}catch{e=this.getFirstDifferent(new cn(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new cn(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new cn(c-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new cn(c-7,u-7),!1,-1,-1).toResultPoint()}return c=Qe.round((e.getX()+a.getX()+r.getX()+n.getX())/4),u=Qe.round((e.getY()+a.getY()+r.getY()+n.getY())/4),new cn(c,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,a,i){var s=qw.getInstance(),o=this.getDimension(),c=o/2-this.nbCenterLayers,u=o/2+this.nbCenterLayers;return s.sampleGrid(e,o,o,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(e,r,n){for(var a=0,i=this.distanceResultPoint(e,r),s=i/n,o=e.getX(),c=e.getY(),u=s*(r.getX()-e.getX())/i,d=s*(r.getY()-e.getY())/i,f=0;f<n;f++)this.image.get(Qe.round(o+f*u),Qe.round(c+f*d))&&(a|=1<<n-f-1);return a},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,a){var i=3;e=new cn(e.getX()-i,e.getY()+i),r=new cn(r.getX()-i,r.getY()-i),n=new cn(n.getX()+i,n.getY()-i),a=new cn(a.getX()+i,a.getY()+i);var s=this.getColor(a,e);if(s===0)return!1;var o=this.getColor(e,r);return o!==s||(o=this.getColor(r,n),o!==s)?!1:(o=this.getColor(n,a),o===s)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),a=(r.getX()-e.getX())/n,i=(r.getY()-e.getY())/n,s=0,o=e.getX(),c=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)o+=a,c+=i,this.image.get(Qe.round(o),Qe.round(c))!==u&&s++;var h=s/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,a){for(var i=e.getX()+n,s=e.getY()+a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n,s+=a;for(i-=n,s-=a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n;for(i-=n;this.isValid(i,s)&&this.image.get(i,s)===r;)s+=a;return s-=a,new cn(i,s)},t.prototype.expandSquare=function(e,r,n){var a=n/(2*r),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,u=new we(o+a*i,c+a*s),d=new we(o-a*i,c-a*s);i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var f=new we(o+a*i,c+a*s),h=new we(o-a*i,c-a*s),p=[u,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Qe.round(e.getX()),n=Qe.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Qe.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Qe.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Le.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Sy=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,a=new rY(e.getBlackMatrix()),i=null,s=null;try{var o=a.detectMirror(!1);i=o.getPoints(),this.reportFoundResultPoints(r,i),s=new PN().decode(o)}catch(f){n=f}if(s==null)try{var o=a.detectMirror(!0);i=o.getPoints(),this.reportFoundResultPoints(r,i),s=new PN().decode(o)}catch(f){throw n??f}var c=new $r(s.getText(),s.getRawBytes(),s.getNumBits(),i,Se.AZTEC,yt.currentTimeMillis()),u=s.getByteSegments();u!=null&&c.putMetadata(Er.BYTE_SEGMENTS,u);var d=s.getECLevel();return d!=null&&c.putMetadata(Er.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(It.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,i,s){n.foundPossibleResultPoint(a)})}},t.prototype.reset=function(){},t}(),nY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){nY(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Sy,r)||this}return e})(Lc);var ir=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(It.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),i=this.doDecode(a,r),s=i.getResultMetadata(),o=270;s!==null&&s.get(Er.ORIENTATION)===!0&&(o=o+s.get(Er.ORIENTATION)%360),i.putMetadata(Er.ORIENTATION,o);var c=i.getResultPoints();if(c!==null)for(var u=a.getHeight(),d=0;d<c.length;d++)c[d]=new we(u-c[d].getY()-1,c[d].getX());return i}else throw new te}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),a=e.getHeight(),i=new hr(n),s=r&&r.get(It.TRY_HARDER)===!0,o=Math.max(1,a>>(s?8:5)),c;s?c=a:c=15;for(var u=Math.trunc(a/2),d=0;d<c;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+o*(h?f:-f);if(p<0||p>=a)break;try{i=e.getBlackRow(p,i)}catch{continue}for(var m=function(v){if(v===1&&(i.reverse(),r&&r.get(It.NEED_RESULT_POINT_CALLBACK)===!0)){var b=new Map;r.forEach(function(E,j){return b.set(j,E)}),b.delete(It.NEED_RESULT_POINT_CALLBACK),r=b}try{var w=g.decodeRow(p,i,r);if(v===1){w.putMetadata(Er.ORIENTATION,180);var S=w.getResultPoints();S!==null&&(S[0]=new we(n-S[0].getX()-1,S[0].getY()),S[1]=new we(n-S[1].getX()-1,S[1].getY()))}return{value:w}}catch{}},g=this,y=0;y<2;y++){var x=m(y);if(typeof x=="object")return x.value}}throw new te},t.recordPattern=function(e,r,n){for(var a=n.length,i=0;i<a;i++)n[i]=0;var s=e.getSize();if(r>=s)throw new te;for(var o=!e.get(r),c=0,u=r;u<s;){if(e.get(u)!==o)n[c]++;else{if(++c===a)break;n[c]=1,o=!o}u++}if(!(c===a||c===a-1&&u===s))throw new te},t.recordPatternInReverse=function(e,r,n){for(var a=n.length,i=e.get(r);r>0&&a>=0;)e.get(--r)!==i&&(a--,i=!i);if(a>=0)throw new te;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var a=e.length,i=0,s=0,o=0;o<a;o++)i+=e[o],s+=r[o];if(i<s)return Number.POSITIVE_INFINITY;var c=i/s;n*=c;for(var u=0,d=0;d<a;d++){var f=e[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/i},t}(),aY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MN=function(t){aY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),i=0,s=Int32Array.from([0,0,0,0,0,0]),o=a,c=!1,u=6,d=a;d<n;d++)if(r.get(d)!==c)s[i]++;else{if(i===u-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var m=ir.patternMatchVariance(s,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,o-(d-o)/2),o,!1))return Int32Array.from([o,d,h]);o+=s[0]+s[1],s=s.slice(2,s.length),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,c=!c}throw new te},e.decodeCode=function(r,n,a){ir.recordPattern(r,a,n);for(var i=e.MAX_AVG_VARIANCE,s=-1,o=0;o<e.CODE_PATTERNS.length;o++){var c=e.CODE_PATTERNS[o],u=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,s=o)}if(s>=0)return s;throw new te},e.prototype.decodeRow=function(r,n,a){var i=a&&a.get(It.ASSUME_GS1)===!0,s=e.findStartPattern(n),o=s[2],c=0,u=new Uint8Array(20);u[c++]=o;var d;switch(o){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new pe}for(var f=!1,h=!1,p="",m=s[0],g=s[1],y=Int32Array.from([0,0,0,0,0,0]),x=0,v=0,b=o,w=0,S=!0,E=!1,j=!1;!f;){var I=h;switch(h=!1,x=v,v=e.decodeCode(n,y,g),u[c++]=v,v!==e.CODE_STOP&&(S=!0),v!==e.CODE_STOP&&(w++,b+=w*v),m=g,g+=y.reduce(function(D,R){return D+R},0),v){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new pe}switch(d){case e.CODE_CODE_A:if(v<64)j===E?p+=String.fromCharCode(32+v):p+=String.fromCharCode(32+v+128),j=!1;else if(v<96)j===E?p+=String.fromCharCode(v-64):p+=String.fromCharCode(v+64),j=!1;else switch(v!==e.CODE_STOP&&(S=!1),v){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!E&&j?(E=!0,j=!1):E&&j?(E=!1,j=!1):j=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(v<96)j===E?p+=String.fromCharCode(32+v):p+=String.fromCharCode(32+v+128),j=!1;else switch(v!==e.CODE_STOP&&(S=!1),v){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!E&&j?(E=!0,j=!1):E&&j?(E=!1,j=!1):j=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(v<100)v<10&&(p+="0"),p+=v;else switch(v!==e.CODE_STOP&&(S=!1),v){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}I&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var k=g-m;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-m)/2),!1))throw new te;if(b-=w*x,b%103!==x)throw new fr;var T=p.length;if(T===0)throw new te;T>0&&S&&(d===e.CODE_CODE_C?p=p.substring(0,T-2):p=p.substring(0,T-1));for(var L=(s[1]+s[0])/2,C=m+k/2,A=u.length,N=new Uint8Array(A),O=0;O<A;O++)N[O]=u[O];var $=[new we(L,r),new we(C,r)];return new $r(p,N,0,$,Se.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(ir),iY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LN=function(t){iY(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=t.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,m;do{e.recordPattern(n,f,u);var g=e.toNarrowWidePattern(u);if(g<0)throw new te;p=e.patternToChar(g),this.decodeRowResult+=p,m=f;try{for(var y=(i=void 0,cv(u)),x=y.next();!x.done;x=y.next()){var v=x.value;f+=v}}catch(A){i={error:A}}finally{try{x&&!x.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var b=0;try{for(var w=cv(u),S=w.next();!S.done;S=w.next()){var v=S.value;b+=v}}catch(A){o={error:A}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(o)throw o.error}}var E=f-m-b;if(f!==h&&E*2<b)throw new te;if(this.usingCheckDigit){for(var j=this.decodeRowResult.length-1,I=0,k=0;k<j;k++)I+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(k));if(this.decodeRowResult.charAt(j)!==e.ALPHABET_STRING.charAt(I%43))throw new fr;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new te;var T;this.extendedMode?T=e.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;var L=(d[1]+d[0])/2,C=m+b/2;return new $r(T,null,0,[new we(L,r),new we(C,r)],Se.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var a=r.getSize(),i=r.getNextSet(0),s=0,o=i,c=!1,u=n.length,d=i;d<a;d++)if(r.get(d)!==c)n[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,o-Math.floor((d-o)/2)),o,!1))return[o,d];o+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,c=!c}throw new te},e.toNarrowWidePattern=function(r){var n,a,i=r.length,s=0,o;do{var c=2147483647;try{for(var u=(n=void 0,cv(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<c&&f>s&&(c=f)}}catch(g){n={error:g}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}s=c,o=0;for(var h=0,p=0,m=0;m<i;m++){var f=r[m];f>s&&(p|=1<<i-1-m,o++,h+=f)}if(o===3){for(var m=0;m<i&&o>0;m++){var f=r[m];if(f>s&&(o--,f*2>=h))return-1}return p}}while(o>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new te},e.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){var o=r.charAt(i+1),c="\0";switch(s){case"+":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new pe;break;case"$":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new pe;break;case"%":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o==="X"||o==="Y"||o==="Z")c="";else throw new pe;break;case"/":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new pe;break}a+=c,i++}else a+=s}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(ir),sY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BN=function(t){sY(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{e.recordPattern(n,d,h);var g=this.toPattern(h);if(g<0)throw new te;p=this.patternToChar(g),this.decodeRowResult+=p,m=d;try{for(var y=(i=void 0,uv(h)),x=y.next();!x.done;x=y.next()){var v=x.value;d+=v}}catch(k){i={error:k}}finally{try{x&&!x.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var b=0;try{for(var w=uv(h),S=w.next();!S.done;S=w.next()){var v=S.value;b+=v}}catch(k){o={error:k}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(o)throw o.error}}if(d===f||!n.get(d))throw new te;if(this.decodeRowResult.length<2)throw new te;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var E=this.decodeExtended(this.decodeRowResult),j=(u[1]+u[0])/2,I=m+b/2;return new $r(E,null,0,[new we(j,r),new we(I,r)],Se.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var i=this.counters,s=a,o=!1,c=i.length,u=0,d=a;d<n;d++)if(r.get(d)!==o)i[u]++;else{if(u===c-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([s,d]);s+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,o=!o}throw new te},e.prototype.toPattern=function(r){var n,a,i=0;try{for(var s=uv(r),o=s.next();!o.done;o=s.next()){var c=o.value;i+=c}}catch(m){n={error:m}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/i);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new te},e.prototype.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s>="a"&&s<="d"){if(i>=n-1)throw new pe;var o=r.charAt(i+1),c="\0";switch(s){case"d":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new pe;break;case"a":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new pe;break;case"b":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o>="X"&&o<="Z")c="";else throw new pe;break;case"c":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new pe;break}a+=c,i++}else a+=s}return a},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,a){for(var i=1,s=0,o=n-1;o>=0;o--)s+=i*e.ALPHABET_STRING.indexOf(r.charAt(o)),++i>a&&(i=1);if(r.charAt(n)!==e.ALPHABET_STRING[s%47])throw new fr},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(ir),oY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FN=function(t){oY(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,a){var i,s,o=this.decodeStart(n),c=this.decodeEnd(n),u=new Me;e.decodeMiddle(n,o[1],c[0],u);var d=u.toString(),f=null;a!=null&&(f=a.get(It.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,m=0;try{for(var g=lY(f),y=g.next();!y.done;y=g.next()){var x=y.value;if(h===x){p=!0;break}x>m&&(m=x)}}catch(w){i={error:w}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(!p&&h>m&&(p=!0),!p)throw new pe;var v=[new we(o[1],r),new we(c[0],r)],b=new $r(d,null,0,v,Se.ITF,new Date().getTime());return b},e.decodeMiddle=function(r,n,a,i){var s=new Int32Array(10),o=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),o.fill(0),c.fill(0);n<a;){ir.recordPattern(r,n,s);for(var u=0;u<5;u++){var d=2*u;o[u]=s[d],c[u]=s[d+1]}var f=e.decodeDigit(o);i.append(f.toString()),f=this.decodeDigit(c),i.append(f.toString()),s.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),a=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},e.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var i=n-1;a>0&&i>=0&&!r.get(i);i--)a--;if(a!==0)throw new te},e.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new te;return a},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),a=void 0;try{a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof te&&(a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var i=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-i,a}finally{r.reverse()}},e.findGuardPattern=function(r,n,a){var i=a.length,s=new Int32Array(i),o=r.getSize(),c=!1,u=0,d=n;s.fill(0);for(var f=n;f<o;f++)if(r.get(f)!==c)s[u]++;else{if(u===i-1){if(ir.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=s[0]+s[1],yt.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new te},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,a=-1,i=e.PATTERNS.length,s=0;s<i;s++){var o=e.PATTERNS[s],c=ir.patternMatchVariance(r,o,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,a=s):c===n&&(a=-1)}if(a>=0)return a%10;throw new te},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(ir),cY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wc=function(t){cY(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,a,i=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),a=e.findGuardPattern(r,i,!1,this.START_END_PATTERN,s);var o=a[0];i=a[1];var c=o-(i-o);c>=0&&(n=r.isRange(c,o,!1))}return a},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new pe;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new pe;a+=s}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,a,i){return this.findGuardPattern(r,n,a,i,new Int32Array(i.length))},e.findGuardPattern=function(r,n,a,i,s){var o=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,d=i.length,f=a,h=n;h<o;h++)if(r.get(h)!==f)s[c]++;else{if(c===d-1){if(ir.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=s[0]+s[1];for(var p=s.slice(2,s.length),m=0;m<c-1;m++)s[m]=p[m];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,f=!f}throw new te},e.decodeDigit=function(r,n,a,i){this.recordPattern(r,a,n);for(var s=this.MAX_AVG_VARIANCE,o=-1,c=i.length,u=0;u<c;u++){var d=i[u],f=ir.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=u)}if(o>=0)return o;throw new te},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(ir),uY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dY=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),o=t.parseExtensionString(s),c=[new we((n[0]+n[1])/2,e),new we(i,e)],u=new $r(s,null,0,c,Se.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=r[1],u=0,d=0;d<5&&c<o;d++){var f=wc.decodeDigit(e,s,c,wc.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(a=void 0,uY(s)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(y){a={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<4-d),d!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new te;var g=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==g)throw new te;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,a=r-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;n*=3;for(var a=r-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new te},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Er.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),i=n%100,s=i<10?"0"+i:i.toString();return r+a+"."+s},t}(),fY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hY=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),o=t.parseExtensionString(s),c=[new we((n[0]+n[1])/2,e),new we(i,e)],u=new $r(s,null,0,c,Se.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=r[1],u=0,d=0;d<2&&c<o;d++){var f=wc.decodeDigit(e,s,c,wc.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(a=void 0,fY(s)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new te;if(parseInt(n.toString())%4!==u)throw new te;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Er.ISSUE_NUMBER,parseInt(e)]])},t}(),pY=function(){function t(){}return t.decodeRow=function(e,r,n){var a=wc.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new dY;return i.decodeRow(e,r,a)}catch{var s=new hY;return s.decodeRow(e,r,a)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),mY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tr=function(t){mY(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],i=new Int32Array(a.length),s=0;s<a.length;s++)i[s]=a[a.length-s-1];e.L_AND_G_PATTERNS[n]=i}return r}return e.prototype.decodeRow=function(r,n,a){var i=e.findStartGuardPattern(n),s=a==null?null:a.get(It.NEED_RESULT_POINT_CALLBACK);if(s!=null){var o=new we((i[0]+i[1])/2,r);s.foundPossibleResultPoint(o)}var c=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=c.rowOffset,d=c.resultString;if(s!=null){var f=new we(u,r);s.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,u);if(s!=null){var p=new we((h[0]+h[1])/2,r);s.foundPossibleResultPoint(p)}var m=h[1],g=m+(m-h[0]);if(g>=n.getSize()||!n.isRange(m,g,!1))throw new te;var y=d.toString();if(y.length<8)throw new pe;if(!e.checkChecksum(y))throw new fr;var x=(i[1]+i[0])/2,v=(h[1]+h[0])/2,b=this.getBarcodeFormat(),w=[new we(x,r),new we(v,r)],S=new $r(y,null,0,w,b,new Date().getTime()),E=0;try{var j=pY.decodeRow(r,n,h[1]);S.putMetadata(Er.UPC_EAN_EXTENSION,j.getText()),S.putAllMetadata(j.getResultMetadata()),S.addResultPoints(j.getResultPoints()),E=j.getText().length}catch{}var I=a==null?null:a.get(It.ALLOWED_EAN_EXTENSIONS);if(I!=null){var k=!1;for(var T in I)if(E.toString()===T){k=!0;break}if(!k)throw new te}return b===Se.EAN_13||Se.UPC_A,S},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new pe;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new pe;a+=s}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(wc),gY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$N=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ey=function(t){gY(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var m=tr.decodeDigit(r,u,f,tr.L_AND_G_PATTERNS);a+=String.fromCharCode(48+m%10);try{for(var g=(i=void 0,$N(u)),y=g.next();!y.done;y=g.next()){var x=y.value;f+=x}}catch(S){i={error:S}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}m>=10&&(h|=1<<5-p)}a=e.determineFirstDigit(a,h);var v=tr.findGuardPattern(r,f,!0,tr.MIDDLE_PATTERN,new Int32Array(tr.MIDDLE_PATTERN.length).fill(0));f=v[1];for(var p=0;p<6&&f<d;p++){var m=tr.decodeDigit(r,u,f,tr.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var b=(o=void 0,$N(u)),w=b.next();!w.done;w=b.next()){var x=w.value;f+=x}}catch(j){o={error:j}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:a}},e.prototype.getBarcodeFormat=function(){return Se.EAN_13},e.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new te},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(tr),vY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zN=function(t){vY(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=tr.decodeDigit(r,u,f,tr.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var m=(i=void 0,UN(u)),g=m.next();!g.done;g=m.next()){var y=g.value;f+=y}}catch(w){i={error:w}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}}var x=tr.findGuardPattern(r,f,!0,tr.MIDDLE_PATTERN,new Int32Array(tr.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var h=0;h<4&&f<d;h++){var p=tr.decodeDigit(r,u,f,tr.L_PATTERNS);a+=String.fromCharCode(48+p);try{for(var v=(o=void 0,UN(u)),b=v.next();!b.done;b=v.next()){var y=b.value;f+=y}}catch(E){o={error:E}}finally{try{b&&!b.done&&(c=v.return)&&c.call(v)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:a}},e.prototype.getBarcodeFormat=function(){return Se.EAN_8},e}(tr),xY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HN=function(t){xY(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Ey,r}return e.prototype.getBarcodeFormat=function(){return Se.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},e.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new $r(n.substring(1),null,null,r.getResultPoints(),Se.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new te},e.prototype.reset=function(){this.ean13Reader.reset()},e}(tr),yY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WN=function(t){yY(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o=this.decodeMiddleCounters.map(function(y){return y});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var c=r.getSize(),u=n[1],d=0,f=0;f<6&&u<c;f++){var h=e.decodeDigit(r,o,u,e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+h%10);try{for(var p=(i=void 0,bY(o)),m=p.next();!m.done;m=p.next()){var g=m.value;u+=g}}catch(y){i={error:y}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new Me(a),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return tr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){r.insert(0,"0"+a),r.append("0"+i);return}throw te.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Se.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),a=new Me;a.append(r.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(i),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(i);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(tr),wY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dv=function(t){wY(e,t);function e(r){var n=t.call(this)||this,a=r==null?null:r.get(It.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Se.EAN_13)>-1&&i.push(new Ey),a.indexOf(Se.UPC_A)>-1&&i.push(new HN),a.indexOf(Se.EAN_8)>-1&&i.push(new zN),a.indexOf(Se.UPC_E)>-1&&i.push(new WN)),i.length===0&&(i.push(new Ey),i.push(new HN),i.push(new zN),i.push(new WN)),n.readers=i,n}return e.prototype.decodeRow=function(r,n,a){var i,s;try{for(var o=VN(this.readers),c=o.next();!c.done;c=o.next()){var u=c.value;try{var d=u.decodeRow(r,n,a),f=d.getBarcodeFormat()===Se.EAN_13&&d.getText().charAt(0)==="0",h=a==null?null:a.get(It.POSSIBLE_FORMATS),p=h==null||h.includes(Se.UPC_A);if(f&&p){var m=d.getRawBytes(),g=new $r(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),Se.UPC_A);return g.putAllMetadata(d.getResultMetadata()),g}return d}catch{}}}catch(y){i={error:y}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}throw new te},e.prototype.reset=function(){var r,n;try{for(var a=VN(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e}(ir),_Y=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kY=function(t){_Y(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,a){var i=this.getValidRowData(n);if(!i)throw new te;var s=this.codaBarDecodeRow(i.row);if(!s)throw new te;return new $r(s,null,0,[new we(i.left,r),new we(i.right,r)],Se.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var i=n.lastIndexOf(!0);if(i<=a)return null;n=n.slice(a,i+1);for(var s=[],o=n[0],c=1,u=1;u<n.length;u++)n[u]===o?c++:(o=n[u],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:a,right:i}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(c,u){return(c+u)/2},0));r.length>0;){var i=r.splice(0,8).splice(0,7),s=i.map(function(c){return c<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var o=n.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(ir),NY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mo=function(t){NY(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(ir.patternMatchVariance(r,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new te},e.count=function(r){return Qe.sum(new Int32Array(r))},e.increment=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]>i&&(i=n[s],a=s);r[a]++},e.decrement=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]<i&&(i=n[s],a=s);r[a]--},e.isFinderPattern=function(r){var n,a,i=r[0]+r[1],s=i+r[2]+r[3],o=i/s;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=SY(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<c&&(c=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return u<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(ir),tp=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),H5=function(){function t(e,r,n,a,i){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new we(n,i)),this.resultPoints.push(new we(a,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),EY=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ll=function(){function t(){}return t.getRSSvalue=function(e,r,n){var a,i,s=0;try{for(var o=EY(e),c=o.next();!c.done;c=o.next()){var u=c.value;s+=u}}catch(v){a={error:v}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<e[p];m++,f&=~(1<<p)){var g=t.combins(s-m-1,h-p-2);if(n&&f===0&&s-m-(h-p-1)>=h-p-1&&(g-=t.combins(s-m-(h-p),h-p-2)),h-p-1>1){for(var y=0,x=s-m-(h-p-2);x>r;x--)y+=t.combins(s-m-x-1,h-p-3);g-=y*(h-1-p)}else s-m>r&&g--;d+=g}s-=m}return d},t.combins=function(e,r){var n,a;e-r>r?(a=r,n=e-r):(a=e-r,n=r);for(var i=1,s=1,o=e;o>n;o--)i*=o,s<=a&&(i/=s,s++);for(;s<=a;)i/=s,s++;return i},t}(),CY=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new hr(n),i=0,s=e[0],o=s.getRightChar().getValue(),c=11;c>=0;--c)o&1<<c&&a.set(i),i++;for(var c=1;c<e.length;++c){for(var u=e[c],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&a.set(i),i++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&a.set(i),i++}return a},t}(),to=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),Yw=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),jY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ga=function(t){jY(e,t);function e(r,n){var a=t.call(this,r)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Yw),AY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ro=function(t){AY(e,t);function e(r,n,a){var i=t.call(this,r)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Yw),TY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ml=function(t){TY(e,t);function e(r,n,a){var i=t.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new pe;return i.firstDigit=n,i.secondDigit=a,i}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Yw),ch=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IY=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,a,i,s,o,c,u;if(!e)return null;if(e.length<2)throw new te;var d=e.substring(0,2);try{for(var f=ch(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(E){r={error:E}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new te;var m=e.substring(0,3);try{for(var g=ch(t.THREE_DIGIT_DATA_LENGTH),y=g.next();!y.done;y=g.next()){var p=y.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(E){a={error:E}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}try{for(var x=ch(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=x.next();!v.done;v=x.next()){var p=v.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(E){s={error:E}}finally{try{v&&!v.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}if(e.length<4)throw new te;var b=e.substring(0,4);try{for(var w=ch(t.FOUR_DIGIT_DATA_LENGTH),S=w.next();!S.done;S=w.next()){var p=S.value;if(p[0]===b)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(E){c={error:E}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(c)throw c.error}}throw new te},t.processFixedAI=function(e,r,n){if(n.length<e)throw new te;var a=n.substring(0,e);if(n.length<e+r)throw new te;var i=n.substring(e,e+r),s=n.substring(e+r),o="("+a+")"+i,c=t.parseFieldsInGeneralPurpose(s);return c==null?o:o+c},t.processVariableAI=function(e,r,n){var a=n.substring(0,e),i;n.length<e+r?i=n.length:i=e+r;var s=n.substring(e,i),o=n.substring(i),c="("+a+")"+s,u=t.parseFieldsInGeneralPurpose(o);return u==null?c:c+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Kh=function(){function t(e){this.buffer=new Me,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,a=null;do{var i=this.decodeGeneralPurposeField(n,a),s=IY.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),i.isRemaining()?a=""+i.getRemainingValue():a=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new ml(this.information.getSize(),ml.FNC1,ml.FNC1):new ml(this.information.getSize(),r-1,ml.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,i=(n-8)%11;return new ml(e+7,a,i)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var a=0,i=0;i<n;++i)e.get(r+i)&&(a|=1<<n-i-1);return a},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new ro(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ro(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new ro(this.current.getPosition(),this.buffer.toString()):r=new ro(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new to(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new ro(this.current.getPosition(),this.buffer.toString());return new to(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new to(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ro(this.current.getPosition(),this.buffer.toString());return new to(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new to(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ro(this.current.getPosition(),this.buffer.toString());return new to(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new to(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new ga(e+5,ga.FNC1);if(r>=5&&r<15)return new ga(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new ga(e+7,""+(n+1));if(n>=90&&n<116)return new ga(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new pe}return new ga(e+8,i)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new ga(e+5,ga.FNC1);if(r>=5&&r<15)return new ga(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new ga(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new hf("Decoding invalid alphanumeric value: "+n)}return new ga(e+6,a)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),W5=function(){function t(e){this.information=e,this.generalDecoder=new Kh(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),OY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Na=function(t){OY(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var i=0;i<4;++i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}e.appendCheckDigit(r,a)},e.appendCheckDigit=function(r,n){for(var a=0,i=0;i<13;i++){var s=r.charAt(i+n).charCodeAt(0)-48;a+=i&1?s:3*s}a=10-a%10,a===10&&(a=0),r.append(a)},e.GTIN_SIZE=40,e}(W5),DY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PY=function(t){DY(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Me;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Na),RY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MY=function(t){RY(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Me;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(W5),LY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zh=function(t){LY(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,i);for(var s=this.checkWeight(i),o=1e5,c=0;c<5;++c)s/o===0&&r.append("0"),o/=10;r.append(s)},e}(Na),BY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V5=function(t){BY(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Zh.GTIN_SIZE+e.WEIGHT_SIZE)throw new te;var r=new Me;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Zh.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Zh),FY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$Y=function(t){FY(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(V5),UY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zY=function(t){UY(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(V5),HY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WY=function(t){HY(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Na.GTIN_SIZE)throw new te;var r=new Me;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Na.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Na.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Na),VY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GY=function(t){VY(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Na.GTIN_SIZE)throw new te;var r=new Me;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Na.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Na.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Na.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Na),XY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yi=function(t){XY(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.dateCode=a,i.firstAIdigits=n,i}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new te;var r=new Me;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var i=a%32;a/=32;var s=a%12+1;a/=12;var o=a;o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s),i/10===0&&r.append("0"),r.append(i)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Zh);function qY(t){try{if(t.get(1))return new PY(t);if(!t.get(2))return new MY(t);var e=Kh.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new $Y(t);case 5:return new zY(t)}var r=Kh.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new WY(t);case 13:return new GY(t)}var n=Kh.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Yi(t,"310","11");case 57:return new Yi(t,"320","11");case 58:return new Yi(t,"310","13");case 59:return new Yi(t,"320","13");case 60:return new Yi(t,"310","15");case 61:return new Yi(t,"320","15");case 62:return new Yi(t,"310","17");case 63:return new Yi(t,"320","17")}}catch(a){throw console.log(a),new hf("unknown decoder: "+t)}}var GN=function(){function t(e,r,n,a){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),YY=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(a,i){r.forEach(function(s){a.getLeftChar().getValue()===s.getLeftChar().getValue()&&a.getRightChar().getValue()===s.getRightChar().getValue()&&a.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),KY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ki=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZY=function(t){KY(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(o){if(o instanceof te){if(!this.pairs.length)throw new te;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(r,!1),i){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new te},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var a,i,s=n;s<this.rows.length;s++){var o=this.rows[s];this.pairs.length=0;try{for(var c=(a=void 0,Ki(r)),u=c.next();!u.done;u=c.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){a={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(o);try{return this.checkRows(f,s+1)}catch(h){console.log(h)}}}throw new te},e.isValidSequence=function(r){var n,a;try{for(var i=Ki(e.FINDER_PATTERN_SEQUENCES),s=i.next();!s.done;s=i.next()){var o=s.value;if(!(r.length>o.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==o[u]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var a=0,i=!1,s=!1;a<this.rows.length;){var o=this.rows[a];if(o.getRowNumber()>r){s=o.isEquivalent(this.pairs);break}i=o.isEquivalent(this.pairs),a++}s||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new YY(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var a,i,s,o,c,u;try{for(var d=Ki(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(s=void 0,Ki(h.getPairs())),g=m.next();!g.done;g=m.next()){var y=g.value,x=!1;try{for(var v=(c=void 0,Ki(r)),b=v.next();!b.done;b=v.next()){var w=b.value;if(GN.equals(y,w)){x=!0;break}}}catch(S){c={error:S}}finally{try{b&&!b.done&&(u=v.return)&&u.call(v)}finally{if(c)throw c.error}}x||(p=!1)}}catch(S){s={error:S}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}}}}catch(S){a={error:S}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}},e.isPartialRow=function(r,n){var a,i,s,o,c,u;try{for(var d=Ki(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var m=(s=void 0,Ki(r)),g=m.next();!g.done;g=m.next()){var y=g.value,x=!1;try{for(var v=(c=void 0,Ki(h.getPairs())),b=v.next();!b.done;b=v.next()){var w=b.value;if(y.equals(w)){x=!0;break}}}catch(S){c={error:S}}finally{try{b&&!b.done&&(u=v.return)&&u.call(v)}finally{if(c)throw c.error}}if(!x){p=!1;break}}}catch(S){s={error:S}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}if(p)return!0}}catch(S){a={error:S}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=CY.buildBitArray(r),a=qY(n),i=a.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),o=r[r.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],o[0],o[1]];return new $r(i,null,null,c,Se.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),s=2,o=1;o<this.pairs.size();++o){var c=this.pairs.get(o);i+=c.getLeftChar().getChecksumPortion(),s++;var u=c.getRightChar();u!=null&&(i+=u.getChecksumPortion(),s++)}i%=211;var d=211*(s-4)+i;return d===n.getValue()},e.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(r,n,a){var i=n.length%2===0;this.startFromEven&&(i=!i);var s,o=!0,c=-1;do this.findNextPair(r,n,c),s=this.parseFoundFinderPattern(r,a,i),s===null?c=e.getNextSecondBar(r,this.startEnd[0]):o=!1;while(o);var u=this.decodeDataCharacter(r,s,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new te;var d;try{d=this.decodeDataCharacter(r,s,i,!1)}catch(f){d=null,console.log(f)}return new GN(u,d,s,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var s=r.getSize(),o;if(a>=0)o=a;else if(this.isEmptyPair(n))o=0;else{var c=n[n.length-1];o=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;o<s&&(d=!r.get(o),!!d);)o++;for(var f=0,h=o,p=o;p<s;p++)if(r.get(p)!==d)i[f]++;else{if(f===3){if(u&&e.reverseCounters(i),e.isFinderPattern(i)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&e.reverseCounters(i),h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,d=!d}throw new te},e.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var i=r[a];r[a]=r[n-a-1],r[n-a-1]=i}},e.prototype.parseFoundFinderPattern=function(r,n,a){var i,s,o;if(a){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,i=this.startEnd[0]-c,s=c,o=this.startEnd[1]}else s=this.startEnd[0],o=r.getNextUnset(this.startEnd[1]+1),i=o-this.startEnd[1];var u=this.getDecodeFinderCounters();yt.arraycopy(u,0,u,1,u.length-1),u[0]=i;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new H5(d,[s,o],s,o,n)},e.prototype.decodeDataCharacter=function(r,n,a,i){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(i)e.recordPatternInReverse(r,n.getStartEnd()[0],s);else{e.recordPattern(r,n.getStartEnd()[1],s);for(var c=0,u=s.length-1;c<u;c++,u--){var d=s[c];s[c]=s[u],s[u]=d}}var f=17,h=Qe.sum(new Int32Array(s))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new te;for(var m=this.getOddCounts(),g=this.getEvenCounts(),y=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var v=1*s[c]/h,b=v+.5;if(b<1){if(v<.3)throw new te;b=1}else if(b>8){if(v>8.7)throw new te;b=8}var w=c/2;c&1?(g[w]=b,x[w]=v-b):(m[w]=b,y[w]=v-b)}this.adjustOddEvenCounts(f);for(var S=4*n.getValue()+(a?0:2)+(i?0:1)-1,E=0,j=0,c=m.length-1;c>=0;c--){if(e.isNotA1left(n,a,i)){var I=e.WEIGHTS[S][2*c];j+=m[c]*I}E+=m[c]}for(var k=0,c=g.length-1;c>=0;c--)if(e.isNotA1left(n,a,i)){var I=e.WEIGHTS[S][2*c+1];k+=g[c]*I}var T=j+k;if(E&1||E>13||E<4)throw new te;var L=(13-E)/2,C=e.SYMBOL_WIDEST[L],A=9-C,N=Ll.getRSSvalue(m,C,!0),O=Ll.getRSSvalue(g,A,!1),$=e.EVEN_TOTAL_SUBSET[L],D=e.GSUM[L],R=N*$+O+D;return new tp(R,T)},e.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(r){var n=Qe.sum(new Int32Array(this.getOddCounts())),a=Qe.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;n>13?s=!0:n<4&&(i=!0);var o=!1,c=!1;a>13?c=!0:a<4&&(o=!0);var u=n+a-r,d=(n&1)===1,f=(a&1)===0;if(u===1)if(d){if(f)throw new te;s=!0}else{if(!f)throw new te;c=!0}else if(u===-1)if(d){if(f)throw new te;i=!0}else{if(!f)throw new te;o=!0}else if(u===0){if(d){if(!f)throw new te;n<a?(i=!0,c=!0):(s=!0,o=!0)}else if(f)throw new te}else throw new te;if(i){if(s)throw new te;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(c)throw new te;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(mo),QY=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JY=function(t){QY(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.count=0,i.finderPattern=a,i}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(tp),eK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XN=function(t){eK(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.decodePair(n,!1,r,a);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,a);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=fv(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(o=void 0,fv(this.possibleRightPairs)),g=m.next();!g.done;g=m.next()){var y=g.value;if(y.getCount()>1&&e.checkChecksum(p,y))return e.constructResult(p,y)}}catch(x){o={error:x}}finally{try{g&&!g.done&&(c=m.return)&&c.call(m)}finally{if(o)throw o.error}}}}catch(x){i={error:x}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}throw new te},e.addOrTally=function(r,n){var a,i;if(n!=null){var s=!1;try{for(var o=fv(r),c=o.next();!c.done;c=o.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),s=!0;break}}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}s||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),i=new String(a).toString(),s=new Me,o=13-i.length;o>0;o--)s.append("0");s.append(i);for(var c=0,o=0;o<13;o++){var u=s.charAt(o).charCodeAt(0)-48;c+=o&1?u:3*u}c=10-c%10,c===10&&(c=0),s.append(c.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new $r(s.toString(),null,0,[d[0],d[1],f[0],f[1]],Se.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},e.prototype.decodePair=function(r,n,a,i){try{var s=this.findFinderPattern(r,n),o=this.parseFoundFinderPattern(r,a,n,s),c=i==null?null:i.get(It.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(s[0]+s[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new we(u,a))}var d=this.decodeDataCharacter(r,o,!0),f=this.decodeDataCharacter(r,o,!1);return new JY(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,a){for(var i=this.getDataCharacterCounters(),s=0;s<i.length;s++)i[s]=0;if(a)ir.recordPatternInReverse(r,n.getStartEnd()[0],i);else{ir.recordPattern(r,n.getStartEnd()[1]+1,i);for(var o=0,c=i.length-1;o<c;o++,c--){var u=i[o];i[o]=i[c],i[c]=u}}for(var d=a?16:15,f=Qe.sum(new Int32Array(i))/d,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),o=0;o<i.length;o++){var y=i[o]/f,x=Math.floor(y+.5);x<1?x=1:x>8&&(x=8);var v=Math.floor(o/2);o&1?(p[v]=x,g[v]=y-x):(h[v]=x,m[v]=y-x)}this.adjustOddEvenCounts(a,d);for(var b=0,w=0,o=h.length-1;o>=0;o--)w*=9,w+=h[o],b+=h[o];for(var S=0,E=0,o=p.length-1;o>=0;o--)S*=9,S+=p[o],E+=p[o];var j=w+3*S;if(a){if(b&1||b>12||b<4)throw new te;var I=(12-b)/2,k=e.OUTSIDE_ODD_WIDEST[I],T=9-k,L=Ll.getRSSvalue(h,k,!1),C=Ll.getRSSvalue(p,T,!0),A=e.OUTSIDE_EVEN_TOTAL_SUBSET[I],N=e.OUTSIDE_GSUM[I];return new tp(L*A+C+N,j)}else{if(E&1||E>10||E<4)throw new te;var I=(10-E)/2,k=e.INSIDE_ODD_WIDEST[I],T=9-k,L=Ll.getRSSvalue(h,k,!0),C=Ll.getRSSvalue(p,T,!1),O=e.INSIDE_ODD_TOTAL_SUBSET[I],N=e.INSIDE_GSUM[I];return new tp(C*O+L+N,j)}},e.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=r.getSize(),s=!1,o=0;o<i&&(s=!r.get(o),n!==s);)o++;for(var c=0,u=o,d=o;d<i;d++)if(r.get(d)!==s)a[c]++;else{if(c===3){if(mo.isFinderPattern(a))return[u,d];u+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new te},e.prototype.parseFoundFinderPattern=function(r,n,a,i){for(var s=r.get(i[0]),o=i[0]-1;o>=0&&s!==r.get(o);)o--;o++;var c=i[0]-o,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);yt.arraycopy(u,0,d,1,u.length-1),d[0]=c;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=o,p=i[1];return a&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new H5(f,[o,i[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var a=Qe.sum(new Int32Array(this.getOddCounts())),i=Qe.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,c=!1,u=!1;r?(a>12?o=!0:a<4&&(s=!0),i>12?u=!0:i<4&&(c=!0)):(a>11?o=!0:a<5&&(s=!0),i>10?u=!0:i<4&&(c=!0));var d=a+i-n,f=(a&1)===(r?1:0),h=(i&1)===1;if(d===1)if(f){if(h)throw new te;o=!0}else{if(!h)throw new te;u=!0}else if(d===-1)if(f){if(h)throw new te;s=!0}else{if(!h)throw new te;c=!0}else if(d===0){if(f){if(!h)throw new te;a<i?(s=!0,u=!0):(o=!0,c=!0)}else if(h)throw new te}else throw new te;if(s){if(o)throw new te;mo.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&mo.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new te;mo.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&mo.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(mo),tK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Eu=function(t){tK(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var a=r?r.get(It.POSSIBLE_FORMATS):null,i=r&&r.get(It.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=r&&r.get(It.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Se.EAN_13)||a.includes(Se.UPC_A)||a.includes(Se.EAN_8)||a.includes(Se.UPC_E))&&n.readers.push(new dv(r)),a.includes(Se.CODE_39)&&n.readers.push(new LN(i,s)),a.includes(Se.CODE_93)&&n.readers.push(new BN),a.includes(Se.CODE_128)&&n.readers.push(new MN),a.includes(Se.ITF)&&n.readers.push(new FN),a.includes(Se.CODABAR)&&n.readers.push(new kY),a.includes(Se.RSS_14)&&n.readers.push(new XN),a.includes(Se.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new ZY))),n.readers.length===0&&(n.readers.push(new dv(r)),n.readers.push(new LN),n.readers.push(new BN),n.readers.push(new dv(r)),n.readers.push(new MN),n.readers.push(new FN),n.readers.push(new XN)),n}return e.prototype.decodeRow=function(r,n,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(r,n,a)}catch{}throw new te},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(ir),rK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){rK(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Eu(n),r,n)||this}return e})(Lc);var qN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rt=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Je=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),nK=function(){function t(e,r,n,a,i,s){var o,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=s;var u=0,d=s.getECCodewords(),f=s.getECBlocks();try{for(var h=qN(f),p=h.next();!p.done;p=h.next()){var m=p.value;u+=m.getCount()*(m.getDataCodewords()+d)}}catch(g){o={error:g}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(o)throw o.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,a;if(e&1||r&1)throw new pe;try{for(var i=qN(t.VERSIONS),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o}}catch(c){n={error:c}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new pe},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new rt(5,new Je(1,3))),new t(2,12,12,10,10,new rt(7,new Je(1,5))),new t(3,14,14,12,12,new rt(10,new Je(1,8))),new t(4,16,16,14,14,new rt(12,new Je(1,12))),new t(5,18,18,16,16,new rt(14,new Je(1,18))),new t(6,20,20,18,18,new rt(18,new Je(1,22))),new t(7,22,22,20,20,new rt(20,new Je(1,30))),new t(8,24,24,22,22,new rt(24,new Je(1,36))),new t(9,26,26,24,24,new rt(28,new Je(1,44))),new t(10,32,32,14,14,new rt(36,new Je(1,62))),new t(11,36,36,16,16,new rt(42,new Je(1,86))),new t(12,40,40,18,18,new rt(48,new Je(1,114))),new t(13,44,44,20,20,new rt(56,new Je(1,144))),new t(14,48,48,22,22,new rt(68,new Je(1,174))),new t(15,52,52,24,24,new rt(42,new Je(2,102))),new t(16,64,64,14,14,new rt(56,new Je(2,140))),new t(17,72,72,16,16,new rt(36,new Je(4,92))),new t(18,80,80,18,18,new rt(48,new Je(4,114))),new t(19,88,88,20,20,new rt(56,new Je(4,144))),new t(20,96,96,22,22,new rt(68,new Je(4,174))),new t(21,104,104,24,24,new rt(56,new Je(6,136))),new t(22,120,120,18,18,new rt(68,new Je(6,175))),new t(23,132,132,20,20,new rt(62,new Je(8,163))),new t(24,144,144,22,22,new rt(62,new Je(8,156),new Je(2,155))),new t(25,8,18,6,16,new rt(7,new Je(1,5))),new t(26,8,32,6,14,new rt(11,new Je(1,10))),new t(27,12,26,10,24,new rt(14,new Je(1,16))),new t(28,12,36,10,16,new rt(18,new Je(1,22))),new t(29,16,36,14,16,new rt(24,new Je(1,32))),new t(30,16,48,14,22,new rt(28,new Je(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),aK=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new pe;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ii(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return nK.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),o=!1,c=!1,u=!1,d=!1;do if(n===i&&a===0&&!o)e[r++]=this.readCorner1(i,s)&255,n-=2,a+=2,o=!0;else if(n===i-2&&a===0&&s&3&&!c)e[r++]=this.readCorner2(i,s)&255,n-=2,a+=2,c=!0;else if(n===i+4&&a===2&&!(s&7)&&!u)e[r++]=this.readCorner3(i,s)&255,n-=2,a+=2,u=!0;else if(n===i-2&&a===0&&(s&7)===4&&!d)e[r++]=this.readCorner4(i,s)&255,n-=2,a+=2,d=!0;else{do n<i&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,i,s)&255),n-=2,a+=2;while(n>=0&&a<s);n+=1,a+=3;do n>=0&&a<s&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,i,s)&255),n+=2,a-=2;while(n<i&&a>=0);n+=3,a+=1}while(n<i||a<s);if(r!==this.version.getTotalCodewords())throw new pe;return e},t.prototype.readModule=function(e,r,n,a){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,a){var i=0;return this.readModule(e-2,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e-2,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r,n,a)&&(i|=1),i<<=1,this.readModule(e,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e,r,n,a)&&(i|=1),i},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Ee("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=r/a|0,o=n/i|0,c=s*a,u=o*i,d=new ii(u,c),f=0;f<s;++f)for(var h=f*a,p=0;p<o;++p)for(var m=p*i,g=0;g<a;++g)for(var y=f*(a+2)+1+g,x=h+g,v=0;v<i;++v){var b=p*(i+2)+1+v;if(e.get(b,y)){var w=m+v;d.set(w,x)}}return d},t}(),YN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iK=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,a,i,s,o=r.getECBlocks(),c=0,u=o.getECBlocks();try{for(var d=YN(u),f=d.next();!f.done;f=d.next()){var h=f.value;c+=h.getCount()}}catch(N){n={error:N}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}var p=new Array(c),m=0;try{for(var g=YN(u),y=g.next();!y.done;y=g.next())for(var h=y.value,x=0;x<h.getCount();x++){var v=h.getDataCodewords(),b=o.getECCodewords()+v;p[m++]=new t(v,new Uint8Array(b))}}catch(N){i={error:N}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}for(var w=p[0].codewords.length,S=w-o.getECCodewords(),E=S-1,j=0,x=0;x<E;x++)for(var I=0;I<m;I++)p[I].codewords[x]=e[j++];for(var k=r.getVersionNumber()===24,T=k?8:m,I=0;I<T;I++)p[I].codewords[S-1]=e[j++];for(var L=p[0].codewords.length,x=S;x<L;x++)for(var I=0;I<m;I++){var C=k?(I+8)%m:I,A=k&&C>7?x-1:x;p[C].codewords[A]=e[j++]}if(j!==e.length)throw new Ee;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),G5=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ee(""+e);var r=0,n=this.bitOffset,a=this.byteOffset,i=this.bytes;if(n>0){var s=8-n,o=e<s?e:s,c=s-o,u=255>>8-o<<c;r=(i[a]&u)>>c,e-=o,n+=o,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)r=r<<8|i[a]&255,a++,e-=8;if(e>0){var c=8-e,u=255>>c<<c;r=r<<e|(i[a]&u)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=a,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Qt;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qt||(Qt={}));var sK=function(){function t(){}return t.decode=function(e){var r=new G5(e),n=new Me,a=new Me,i=new Array,s=Qt.ASCII_ENCODE;do if(s===Qt.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,a);else{switch(s){case Qt.C40_ENCODE:this.decodeC40Segment(r,n);break;case Qt.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Qt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Qt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Qt.BASE256_ENCODE:this.decodeBase256Segment(r,n,i);break;default:throw new pe}s=Qt.ASCII_ENCODE}while(s!==Qt.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new hm(e,n.toString(),i.length===0?null:i,null)},t.decodeAsciiSegment=function(e,r,n){var a=!1;do{var i=e.readBits(8);if(i===0)throw new pe;if(i<=128)return a&&(i+=128),r.append(String.fromCharCode(i-1)),Qt.ASCII_ENCODE;if(i===129)return Qt.PAD_ENCODE;if(i<=229){var s=i-130;s<10&&r.append("0"),r.append(""+s)}else switch(i){case 230:return Qt.C40_ENCODE;case 231:return Qt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Qt.ANSIX12_ENCODE;case 239:return Qt.TEXT_ENCODE;case 240:return Qt.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new pe;break}}while(e.available()>0);return Qt.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,a=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new pe;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new pe}i=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),i=0;break;default:throw new pe}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,a=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new pe;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new pe}i=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),i=0}else throw new pe;break;default:throw new pe}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var i=0;i<3;i++){var s=n[i];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new pe;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var a=(e<<8)+r-1,i=Math.floor(a/1600);n[0]=i,a-=i*1600,i=Math.floor(a/40),n[1]=i,n[2]=a-i*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var i=8-e.getBitOffset();i!==8&&e.readBits(i);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var a=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),a++),s;if(i===0?s=e.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(e.readBits(8),a++),s<0)throw new pe;for(var o=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new pe;o[c]=this.unrandomize255State(e.readBits(8),a++)}n.push(o);try{r.append(la.decode(o,qe.ISO88591))}catch(u){throw new hf("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,a=e-n;return a>=0?a:a+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),oK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lK=function(){function t(){this.rsDecoder=new pm(mn.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,a=new aK(e),i=a.getVersion(),s=a.readCodewords(),o=iK.getDataBlocks(s,i),c=0;try{for(var u=oK(o),d=u.next();!d.done;d=u.next()){var f=d.value;c+=f.getNumDataCodewords()}}catch(b){r={error:b}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(c),p=o.length,m=0;m<p;m++){var g=o[m],y=g.getCodewords(),x=g.getNumDataCodewords();this.correctErrors(y,x);for(var v=0;v<x;v++)h[v*p+m]=y[v]}return sK.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new fr}for(var a=0;a<r;a++)e[a]=n[a]},t}(),cK=function(){function t(e){this.image=e,this.rectangleDetector=new Ny(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new te;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],i=r[2],s=r[3],o=this.transitionsBetween(n,s)+1,c=this.transitionsBetween(i,s)+1;(o&1)===1&&(o+=1),(c&1)===1&&(c+=1),4*o<7*c&&4*c<7*o&&(o=c=Math.max(o,c));var u=t.sampleGrid(this.image,n,a,i,s,o,c);return new Xw(u,[n,a,i,s])},t.shiftPoint=function(e,r,n){var a=(r.getX()-e.getX())/(n+1),i=(r.getY()-e.getY())/(n+1);return new we(e.getX()+a,e.getY()+i)},t.moveAway=function(e,r,n){var a=e.getX(),i=e.getY();return a<r?a-=1:a+=1,i<n?i-=1:i+=1,new we(a,i)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],a=e[3],i=e[2],s=this.transitionsBetween(r,n),o=this.transitionsBetween(n,a),c=this.transitionsBetween(a,i),u=this.transitionsBetween(i,r),d=s,f=[i,r,n,a];return d>o&&(d=o,f[0]=r,f[1]=n,f[2]=a,f[3]=i),d>c&&(d=c,f[0]=n,f[1]=a,f[2]=i,f[3]=r),d>u&&(f[0]=a,f[1]=i,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i),o=t.shiftPoint(n,a,(s+1)*4),c=t.shiftPoint(a,n,(s+1)*4),u=this.transitionsBetween(o,r),d=this.transitionsBetween(c,i);return u<d?(e[0]=r,e[1]=n,e[2]=a,e[3]=i):(e[0]=n,e[1]=a,e[2]=i,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i),o=this.transitionsBetween(n,i),c=t.shiftPoint(r,n,(o+1)*4),u=t.shiftPoint(a,n,(s+1)*4);s=this.transitionsBetween(c,i),o=this.transitionsBetween(u,i);var d=new we(i.getX()+(a.getX()-n.getX())/(s+1),i.getY()+(a.getY()-n.getY())/(s+1)),f=new we(i.getX()+(r.getX()-n.getX())/(o+1),i.getY()+(r.getY()-n.getY())/(o+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(c,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(c,f)+this.transitionsBetween(u,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i)+1,o=this.transitionsBetween(a,i)+1,c=t.shiftPoint(r,n,o*4),u=t.shiftPoint(a,n,s*4);s=this.transitionsBetween(c,i)+1,o=this.transitionsBetween(u,i)+1,(s&1)===1&&(s+=1),(o&1)===1&&(o+=1);var d=(r.getX()+n.getX()+a.getX()+i.getX())/4,f=(r.getY()+n.getY()+a.getY()+i.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),a=t.moveAway(a,d,f),i=t.moveAway(i,d,f);var h,p;return c=t.shiftPoint(r,n,o*4),c=t.shiftPoint(c,i,s*4),h=t.shiftPoint(n,r,o*4),h=t.shiftPoint(h,a,s*4),u=t.shiftPoint(a,i,o*4),u=t.shiftPoint(u,n,s*4),p=t.shiftPoint(i,a,o*4),p=t.shiftPoint(p,r,s*4),[c,h,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,a,i,s,o){var c=qw.getInstance();return c.sampleGrid(e,s,o,.5,.5,s-.5,.5,s-.5,o-.5,.5,o-.5,r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),i=Math.trunc(r.getX()),s=Math.trunc(r.getY()),o=Math.abs(s-a)>Math.abs(i-n);if(o){var c=n;n=a,a=c,c=i,i=s,s=c}for(var u=Math.abs(i-n),d=Math.abs(s-a),f=-u/2,h=a<s?1:-1,p=n<i?1:-1,m=0,g=this.image.get(o?a:n,o?n:a),y=n,x=a;y!==i;y+=p){var v=this.image.get(o?x:y,o?y:x);if(v!==g&&(m++,g=v),f+=d,f>0){if(x===s)break;x+=h,f-=u}}return m},t}(),Cy=function(){function t(){this.decoder=new lK}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(It.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(i),a=t.NO_POINTS}else{var s=new cK(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),a=s.getPoints()}var o=n.getRawBytes(),c=new $r(n.getText(),o,8*o.length,a,Se.DATA_MATRIX,yt.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(Er.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&c.putMetadata(Er.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new te;var a=this.moduleSize(r,e),i=r[1],s=n[1],o=r[0],c=n[0],u=(c-o+1)/a,d=(s-i+1)/a;if(u<=0||d<=0)throw new te;var f=a/2;i+=f,o+=f;for(var h=new ii(u,d),p=0;p<d;p++)for(var m=i+p*a,g=0;g<u;g++)e.get(o+g*a,m)&&h.set(g,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),a=e[0],i=e[1];a<n&&r.get(a,i);)a++;if(a===n)throw new te;var s=a-e[0];if(s===0)throw new te;return s},t.NO_POINTS=[],t}(),uK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){uK(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Cy,r)||this}return e})(Lc);var Bl;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Bl||(Bl={}));var dK=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new ya(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Ee;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Bl.L,"L",1),t.M=new t(Bl.M,"M",0),t.Q=new t(Bl.Q,"Q",3),t.H=new t(Bl.H,"H",2),t}(),fK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X5=function(){function t(e){this.errorCorrectionLevel=dK.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Le.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,a,i=Number.MAX_SAFE_INTEGER,s=0;try{for(var o=fK(t.FORMAT_INFO_DECODE_LOOKUP),c=o.next();!c.done;c=o.next()){var u=c.value,d=u[0];if(d===e||d===r)return new t(u[1]);var f=t.numBitsDiffering(e,d);f<i&&(s=u[1],i=f),e!==r&&(f=t.numBitsDiffering(r,d),f<i&&(s=u[1],i=f))}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),hK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,a=this.ecBlocks;try{for(var i=hK(a),s=i.next();!s.done;s=i.next()){var o=s.value;n+=o.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),z=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),pK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mo=function(){function t(e,r){for(var n,a,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;var o=0,c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var d=pK(u),f=d.next();!f.done;f=d.next()){var h=f.value;o+=h.getCount()*(h.getDataCodewords()+c)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}this.totalCodewords=o}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new pe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new pe}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Ee;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<t.VERSION_DECODE_INFO.length;a++){var i=t.VERSION_DECODE_INFO[a];if(i===e)return t.getVersionForNumber(a+7);var s=X5.numBitsDiffering(e,i);s<r&&(n=a+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new ii(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var i=this.alignmentPatternCenters[a]-2,s=0;s<n;s++)a===0&&(s===0||s===n-1)||a===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,i,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Y(7,new z(1,19)),new Y(10,new z(1,16)),new Y(13,new z(1,13)),new Y(17,new z(1,9))),new t(2,Int32Array.from([6,18]),new Y(10,new z(1,34)),new Y(16,new z(1,28)),new Y(22,new z(1,22)),new Y(28,new z(1,16))),new t(3,Int32Array.from([6,22]),new Y(15,new z(1,55)),new Y(26,new z(1,44)),new Y(18,new z(2,17)),new Y(22,new z(2,13))),new t(4,Int32Array.from([6,26]),new Y(20,new z(1,80)),new Y(18,new z(2,32)),new Y(26,new z(2,24)),new Y(16,new z(4,9))),new t(5,Int32Array.from([6,30]),new Y(26,new z(1,108)),new Y(24,new z(2,43)),new Y(18,new z(2,15),new z(2,16)),new Y(22,new z(2,11),new z(2,12))),new t(6,Int32Array.from([6,34]),new Y(18,new z(2,68)),new Y(16,new z(4,27)),new Y(24,new z(4,19)),new Y(28,new z(4,15))),new t(7,Int32Array.from([6,22,38]),new Y(20,new z(2,78)),new Y(18,new z(4,31)),new Y(18,new z(2,14),new z(4,15)),new Y(26,new z(4,13),new z(1,14))),new t(8,Int32Array.from([6,24,42]),new Y(24,new z(2,97)),new Y(22,new z(2,38),new z(2,39)),new Y(22,new z(4,18),new z(2,19)),new Y(26,new z(4,14),new z(2,15))),new t(9,Int32Array.from([6,26,46]),new Y(30,new z(2,116)),new Y(22,new z(3,36),new z(2,37)),new Y(20,new z(4,16),new z(4,17)),new Y(24,new z(4,12),new z(4,13))),new t(10,Int32Array.from([6,28,50]),new Y(18,new z(2,68),new z(2,69)),new Y(26,new z(4,43),new z(1,44)),new Y(24,new z(6,19),new z(2,20)),new Y(28,new z(6,15),new z(2,16))),new t(11,Int32Array.from([6,30,54]),new Y(20,new z(4,81)),new Y(30,new z(1,50),new z(4,51)),new Y(28,new z(4,22),new z(4,23)),new Y(24,new z(3,12),new z(8,13))),new t(12,Int32Array.from([6,32,58]),new Y(24,new z(2,92),new z(2,93)),new Y(22,new z(6,36),new z(2,37)),new Y(26,new z(4,20),new z(6,21)),new Y(28,new z(7,14),new z(4,15))),new t(13,Int32Array.from([6,34,62]),new Y(26,new z(4,107)),new Y(22,new z(8,37),new z(1,38)),new Y(24,new z(8,20),new z(4,21)),new Y(22,new z(12,11),new z(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Y(30,new z(3,115),new z(1,116)),new Y(24,new z(4,40),new z(5,41)),new Y(20,new z(11,16),new z(5,17)),new Y(24,new z(11,12),new z(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Y(22,new z(5,87),new z(1,88)),new Y(24,new z(5,41),new z(5,42)),new Y(30,new z(5,24),new z(7,25)),new Y(24,new z(11,12),new z(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Y(24,new z(5,98),new z(1,99)),new Y(28,new z(7,45),new z(3,46)),new Y(24,new z(15,19),new z(2,20)),new Y(30,new z(3,15),new z(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Y(28,new z(1,107),new z(5,108)),new Y(28,new z(10,46),new z(1,47)),new Y(28,new z(1,22),new z(15,23)),new Y(28,new z(2,14),new z(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Y(30,new z(5,120),new z(1,121)),new Y(26,new z(9,43),new z(4,44)),new Y(28,new z(17,22),new z(1,23)),new Y(28,new z(2,14),new z(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Y(28,new z(3,113),new z(4,114)),new Y(26,new z(3,44),new z(11,45)),new Y(26,new z(17,21),new z(4,22)),new Y(26,new z(9,13),new z(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Y(28,new z(3,107),new z(5,108)),new Y(26,new z(3,41),new z(13,42)),new Y(30,new z(15,24),new z(5,25)),new Y(28,new z(15,15),new z(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Y(28,new z(4,116),new z(4,117)),new Y(26,new z(17,42)),new Y(28,new z(17,22),new z(6,23)),new Y(30,new z(19,16),new z(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Y(28,new z(2,111),new z(7,112)),new Y(28,new z(17,46)),new Y(30,new z(7,24),new z(16,25)),new Y(24,new z(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Y(30,new z(4,121),new z(5,122)),new Y(28,new z(4,47),new z(14,48)),new Y(30,new z(11,24),new z(14,25)),new Y(30,new z(16,15),new z(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Y(30,new z(6,117),new z(4,118)),new Y(28,new z(6,45),new z(14,46)),new Y(30,new z(11,24),new z(16,25)),new Y(30,new z(30,16),new z(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Y(26,new z(8,106),new z(4,107)),new Y(28,new z(8,47),new z(13,48)),new Y(30,new z(7,24),new z(22,25)),new Y(30,new z(22,15),new z(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Y(28,new z(10,114),new z(2,115)),new Y(28,new z(19,46),new z(4,47)),new Y(28,new z(28,22),new z(6,23)),new Y(30,new z(33,16),new z(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Y(30,new z(8,122),new z(4,123)),new Y(28,new z(22,45),new z(3,46)),new Y(30,new z(8,23),new z(26,24)),new Y(30,new z(12,15),new z(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new z(3,117),new z(10,118)),new Y(28,new z(3,45),new z(23,46)),new Y(30,new z(4,24),new z(31,25)),new Y(30,new z(11,15),new z(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new z(7,116),new z(7,117)),new Y(28,new z(21,45),new z(7,46)),new Y(30,new z(1,23),new z(37,24)),new Y(30,new z(19,15),new z(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new z(5,115),new z(10,116)),new Y(28,new z(19,47),new z(10,48)),new Y(30,new z(15,24),new z(25,25)),new Y(30,new z(23,15),new z(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new z(13,115),new z(3,116)),new Y(28,new z(2,46),new z(29,47)),new Y(30,new z(42,24),new z(1,25)),new Y(30,new z(23,15),new z(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new z(17,115)),new Y(28,new z(10,46),new z(23,47)),new Y(30,new z(10,24),new z(35,25)),new Y(30,new z(19,15),new z(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new z(17,115),new z(1,116)),new Y(28,new z(14,46),new z(21,47)),new Y(30,new z(29,24),new z(19,25)),new Y(30,new z(11,15),new z(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new z(13,115),new z(6,116)),new Y(28,new z(14,46),new z(23,47)),new Y(30,new z(44,24),new z(7,25)),new Y(30,new z(59,16),new z(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new z(12,121),new z(7,122)),new Y(28,new z(12,47),new z(26,48)),new Y(30,new z(39,24),new z(14,25)),new Y(30,new z(22,15),new z(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new z(6,121),new z(14,122)),new Y(28,new z(6,47),new z(34,48)),new Y(30,new z(46,24),new z(10,25)),new Y(30,new z(2,15),new z(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new z(17,122),new z(4,123)),new Y(28,new z(29,46),new z(14,47)),new Y(30,new z(49,24),new z(10,25)),new Y(30,new z(24,15),new z(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new z(4,122),new z(18,123)),new Y(28,new z(13,46),new z(32,47)),new Y(30,new z(48,24),new z(14,25)),new Y(30,new z(42,15),new z(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new z(20,117),new z(4,118)),new Y(28,new z(40,47),new z(7,48)),new Y(30,new z(43,24),new z(22,25)),new Y(30,new z(10,15),new z(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new z(19,118),new z(6,119)),new Y(28,new z(18,47),new z(31,48)),new Y(30,new z(34,24),new z(34,25)),new Y(30,new z(20,15),new z(61,16)))],t}(),or;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(or||(or={}));var KN=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&e.flip(a,n)},t.values=new Map([[or.DATA_MASK_000,new t(or.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[or.DATA_MASK_001,new t(or.DATA_MASK_001,function(e,r){return(e&1)===0})],[or.DATA_MASK_010,new t(or.DATA_MASK_010,function(e,r){return r%3===0})],[or.DATA_MASK_011,new t(or.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[or.DATA_MASK_100,new t(or.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[or.DATA_MASK_101,new t(or.DATA_MASK_101,function(e,r){return e*r%6===0})],[or.DATA_MASK_110,new t(or.DATA_MASK_110,function(e,r){return e*r%6<3})],[or.DATA_MASK_111,new t(or.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),mK=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new pe;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),i=0,s=a-7,n=a-1;n>=s;n--)i=this.copyBit(8,n,i);for(var r=a-8;r<a;r++)i=this.copyBit(r,8,i);if(this.parsedFormatInfo=X5.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new pe},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Mo.getVersionForNumber(r);for(var n=0,a=e-11,i=5;i>=0;i--)for(var s=e-9;s>=a;s--)n=this.copyBit(s,i,n);var o=Mo.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(var s=5;s>=0;s--)for(var i=e-9;i>=a;i--)n=this.copyBit(s,i,n);if(o=Mo.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new pe},t.prototype.copyBit=function(e,r,n){var a=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return a?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=KN.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var i=r.buildFunctionPattern(),s=!0,o=new Uint8Array(r.getTotalCodewords()),c=0,u=0,d=0,f=a-1;f>0;f-=2){f===6&&f--;for(var h=0;h<a;h++)for(var p=s?a-1-h:h,m=0;m<2;m++)i.get(f-m,p)||(d++,u<<=1,this.bitMatrix.get(f-m,p)&&(u|=1),d===8&&(o[c++]=u,d=0,u=0));s=!s}if(c!==r.getTotalCodewords())throw new pe;return o},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=KN.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var a=r+1,i=e.getHeight();a<i;a++)e.get(r,a)!==e.get(a,r)&&(e.flip(a,r),e.flip(r,a))},t}(),ZN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gK=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var a,i,s,o;if(e.length!==r.getTotalCodewords())throw new Ee;var c=r.getECBlocksForLevel(n),u=0,d=c.getECBlocks();try{for(var f=ZN(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(A){a={error:A}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var m=new Array(u),g=0;try{for(var y=ZN(d),x=y.next();!x.done;x=y.next())for(var p=x.value,v=0;v<p.getCount();v++){var b=p.getDataCodewords(),w=c.getECCodewordsPerBlock()+b;m[g++]=new t(b,new Uint8Array(w))}}catch(A){s={error:A}}finally{try{x&&!x.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}for(var S=m[0].codewords.length,E=m.length-1;E>=0;){var j=m[E].codewords.length;if(j===S)break;E--}E++;for(var I=S-c.getECCodewordsPerBlock(),k=0,v=0;v<I;v++)for(var T=0;T<g;T++)m[T].codewords[v]=e[k++];for(var T=E;T<g;T++)m[T].codewords[I]=e[k++];for(var L=m[0].codewords.length,v=I;v<L;v++)for(var T=0;T<g;T++){var C=T<E?v:v+1;m[T].codewords[C]=e[k++]}return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Jn;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Jn||(Jn={}));var _t=function(){function t(e,r,n,a){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,t.FOR_BITS.set(a,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Ee;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Jn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Jn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Jn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Jn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Jn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Jn.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Jn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Jn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Jn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Jn.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),vK=function(){function t(){}return t.decode=function(e,r,n,a){var i=new G5(e),s=new Me,o=new Array,c=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(i.available()<4)h=_t.TERMINATOR;else{var p=i.readBits(4);h=_t.forBits(p)}switch(h){case _t.TERMINATOR:break;case _t.FNC1_FIRST_POSITION:case _t.FNC1_SECOND_POSITION:f=!0;break;case _t.STRUCTURED_APPEND:if(i.available()<16)throw new pe;c=i.readBits(8),u=i.readBits(8);break;case _t.ECI:var m=t.parseECIValue(i);if(d=rr.getCharacterSetECIByValue(m),d===null)throw new pe;break;case _t.HANZI:var g=i.readBits(4),y=i.readBits(h.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(i,s,y);break;default:var x=i.readBits(h.getCharacterCountBits(r));switch(h){case _t.NUMERIC:t.decodeNumericSegment(i,s,x);break;case _t.ALPHANUMERIC:t.decodeAlphanumericSegment(i,s,x,f);break;case _t.BYTE:t.decodeByteSegment(i,s,x,d,o,a);break;case _t.KANJI:t.decodeKanjiSegment(i,s,x);break;default:throw new pe}break}}while(h!==_t.TERMINATOR)}catch{throw new pe}return new hm(e,s.toString(),o.length===0?null:o,n===null?null:n.toString(),c,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new pe;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=e.readBits(13),o=s/96<<8&4294967295|s%96;o<959?o+=41377:o+=42657,a[i]=o>>8&255,a[i+1]=o&255,i+=2,n--}try{r.append(la.decode(a,qe.GB2312))}catch(c){throw new pe(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new pe;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=e.readBits(13),o=s/192<<8&4294967295|s%192;o<7936?o+=33088:o+=49472,a[i]=o>>8,a[i+1]=o,i+=2,n--}try{r.append(la.decode(a,qe.SHIFT_JIS))}catch(c){throw new pe(c)}},t.decodeByteSegment=function(e,r,n,a,i,s){if(8*n>e.available())throw new pe;for(var o=new Uint8Array(n),c=0;c<n;c++)o[c]=e.readBits(8);var u;a===null?u=qe.guessEncoding(o,s):u=a.getName();try{r.append(la.decode(o,u))}catch(d){throw new pe(d)}i.push(o)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new pe;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,a){for(var i=r.length();n>1;){if(e.available()<11)throw new pe;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new pe;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(a)for(var o=i;o<r.length();o++)r.charAt(o)==="%"&&(o<r.length()-1&&r.charAt(o+1)==="%"?r.deleteCharAt(o+1):r.setCharAt(o,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new pe;var a=e.readBits(10);if(a>=1e3)throw new pe;r.append(t.toAlphaNumericChar(Math.floor(a/100))),r.append(t.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(t.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new pe;var i=e.readBits(7);if(i>=100)throw new pe;r.append(t.toAlphaNumericChar(Math.floor(i/10))),r.append(t.toAlphaNumericChar(i%10))}else if(n===1){if(e.available()<4)throw new pe;var s=e.readBits(4);if(s>=10)throw new pe;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=e.readBits(16);return(r&31)<<16&4294967295|a}throw new pe},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),q5=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),QN=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xK=function(){function t(){this.rsDecoder=new pm(mn.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(ii.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new mK(e),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){a=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,r);return i.setOther(new q5(!0)),i}catch(s){throw a!==null?a:s}},t.prototype.decodeBitMatrixParser=function(e,r){var n,a,i,s,o=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=gK.getDataBlocks(u,o,c),f=0;try{for(var h=QN(d),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(E){n={error:E}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}var g=new Uint8Array(f),y=0;try{for(var x=QN(d),v=x.next();!v.done;v=x.next()){var m=v.value,b=m.getCodewords(),w=m.getNumDataCodewords();this.correctErrors(b,w);for(var S=0;S<w;S++)g[y++]=b[S]}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}return vK.decode(g,o,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new fr}for(var a=0;a<r;a++)e[a]=n[a]},t}(),yK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bK=function(t){yK(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.estimatedModuleSize=a,i}return e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var i=(this.getX()+n)/2,s=(this.getY()+r)/2,o=(this.estimatedModuleSize+a)/2;return new e(i,s,o)},e}(we),wK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_K=function(){function t(e,r,n,a,i,s,o){this.image=e,this.startX=r,this.startY=n,this.width=a,this.height=i,this.moduleSize=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,a=e+n,i=this.startY+r/2,s=new Int32Array(3),o=this.image,c=0;c<r;c++){var u=i+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var d=e;d<a&&!o.get(d,u);)d++;for(var f=0;d<a;){if(o.get(d,u))if(f===1)s[1]++;else if(f===2){if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,d);if(h!==null)return h}s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else f===1&&f++,s[f]++;d++}if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,a);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-e[a])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,a){var i=this.image,s=i.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var c=e;c>=0&&i.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&!i.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(r,c)&&o[1]<=n;)o[1]++,c++;if(c===s||o[1]>n)return NaN;for(;c<s&&!i.get(r,c)&&o[2]<=n;)o[2]++,c++;if(o[2]>n)return NaN;var u=o[0]+o[1]+o[2];return 5*Math.abs(u-a)>=2*a?NaN:this.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var a,i,s=e[0]+e[1]+e[2],o=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,o,2*e[1],s);if(!isNaN(c)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=wK(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,c,o))return h.combineEstimate(c,o,u)}}catch(m){a={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}var p=new bK(o,c,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),kK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NK=function(t){kK(e,t);function e(r,n,a,i){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=a,s.count=i,i===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var i=this.count+1,s=(this.count*this.getX()+n)/i,o=(this.count*this.getY()+r)/i,c=(this.count*this.estimatedModuleSize+a)/i;return new e(s,o,c,i)},e}(we),SK=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),iu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EK=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(It.TRY_HARDER)!==void 0,n=e!=null&&e.get(It.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),s=a.getWidth(),o=Math.floor(3*i/(4*t.MAX_MODULES));(o<t.MIN_SKIP||r)&&(o=t.MIN_SKIP);for(var c=!1,u=new Int32Array(5),d=o-1;d<i&&!c;d+=o){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<s;h++)if(a.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(o=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>u[2]&&(d+=m-u[2]-o,h=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,s,n);p===!0&&(o=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return we.orderBestPatterns(g),new SK(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;r+=a}if(r<7)return!1;var i=r/7,s=i/2;return Math.abs(i-e[0])<s&&Math.abs(i-e[1])<s&&Math.abs(3*i-e[2])<3*s&&Math.abs(i-e[3])<s&&Math.abs(i-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,a){for(var i=this.getCrossCheckStateCount(),s=0,o=this.image;e>=s&&r>=s&&o.get(r-s,e-s);)i[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!o.get(r-s,e-s)&&i[1]<=n;)i[1]++,s++;if(e<s||r<s||i[1]>n)return!1;for(;e>=s&&r>=s&&o.get(r-s,e-s)&&i[0]<=n;)i[0]++,s++;if(i[0]>n)return!1;var c=o.getHeight(),u=o.getWidth();for(s=1;e+s<c&&r+s<u&&o.get(r+s,e+s);)i[2]++,s++;if(e+s>=c||r+s>=u)return!1;for(;e+s<c&&r+s<u&&!o.get(r+s,e+s)&&i[3]<n;)i[3]++,s++;if(e+s>=c||r+s>=u||i[3]>=n)return!1;for(;e+s<c&&r+s<u&&o.get(r+s,e+s)&&i[4]<n;)i[4]++,s++;if(i[4]>=n)return!1;var d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-a)<2*a&&t.foundPatternCross(i)},t.prototype.crossCheckVertical=function(e,r,n,a){for(var i=this.image,s=i.getHeight(),o=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(r,c);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(r,c);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(r,c)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(r,c)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-a)>=2*a?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,a){for(var i=this.image,s=i.getWidth(),o=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(c,r);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,r)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(c,r)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(c,r);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(c,r)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(c,r)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-a)>=a?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,a){var i=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),o=this.crossCheckVertical(r,Math.floor(s),e[2],i);if(!isNaN(o)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(o),e[2],i),!isNaN(s)&&(!a||this.crossCheckDiagonal(Math.floor(o),Math.floor(s),e[2],i)))){for(var c=i/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(c,o,s)){d[f]=p.combineEstimate(o,s,c),u=!0;break}}if(!u){var m=new NK(s,o,c);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var i=iu(this.possibleCenters),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.getCount()>=t.CENTER_QUORUM)if(a==null)a=o;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-o.getX())-Math.abs(a.getY()-o.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,a,i=0,s=0,o=this.possibleCenters.length;try{for(var c=iu(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(i++,s+=d.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(i<3)return!1;var f=s/o,h=0;try{for(var p=iu(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(g){n={error:g}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}return h<=.05*s},t.prototype.selectBestPatterns=function(){var e,r,n,a,i=this.possibleCenters.length;if(i<3)throw new te;var s=this.possibleCenters,o;if(i>3){var c=0,u=0;try{for(var d=iu(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();c+=p,u+=p*p}}catch(S){e={error:S}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}o=c/i;var m=Math.sqrt(u/i-o*o);s.sort(function(S,E){var j=Math.abs(E.getEstimatedModuleSize()-o),I=Math.abs(S.getEstimatedModuleSize()-o);return j<I?-1:j>I?1:0});for(var g=Math.max(.2*o,m),y=0;y<s.length&&s.length>3;y++){var x=s[y];Math.abs(x.getEstimatedModuleSize()-o)>g&&(s.splice(y,1),y--)}}if(s.length>3){var c=0;try{for(var v=iu(s),b=v.next();!b.done;b=v.next()){var w=b.value;c+=w.getEstimatedModuleSize()}}catch(E){n={error:E}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(n)throw n.error}}o=c/s.length,s.sort(function(E,j){if(j.getCount()===E.getCount()){var I=Math.abs(j.getEstimatedModuleSize()-o),k=Math.abs(E.getEstimatedModuleSize()-o);return I<k?1:I>k?-1:0}else return j.getCount()-E.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),CK=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(It.NEED_RESULT_POINT_CALLBACK);var r=new EK(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),i=this.calculateModuleSize(r,n,a);if(i<1)throw new te("No pattern found in proccess finder.");var s=t.computeDimension(r,n,a,i),o=Mo.getProvisionalVersionForDimension(s),c=o.getDimensionForVersion()-7,u=null;if(o.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+a.getX(),f=n.getY()-r.getY()+a.getY(),h=1-3/c,p=Math.floor(r.getX()+h*(d-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),g=4;g<=16;g<<=1)try{u=this.findAlignmentInRegion(i,p,m,g);break}catch(b){if(!(b instanceof te))throw b}var y=t.createTransform(r,n,a,u,s),x=t.sampleGrid(this.image,y,s),v;return u===null?v=[a,r,n]:v=[a,r,n,u],new Xw(x,v)},t.createTransform=function(e,r,n,a,i){var s=i-3.5,o,c,u,d;return a!==null?(o=a.getX(),c=a.getY(),u=s-3,d=u):(o=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),u=s,d=s),z5.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,d,3.5,s,e.getX(),e.getY(),r.getX(),r.getY(),o,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var a=qw.getInstance();return a.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,a){var i=Qe.round(we.distance(e,r)/a),s=Qe.round(we.distance(e,n)/a),o=Math.floor((i+s)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new te("Dimensions could be not found.")}return o},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,a){var i=this.sizeOfBlackWhiteBlackRun(e,r,n,a),s=1,o=e-(n-e);o<0?(s=e/(e-o),o=0):o>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var c=Math.floor(r-(a-r)*s);return s=1,c<0?(s=r/(r-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),o=Math.floor(e+(o-e)*s),i+=this.sizeOfBlackWhiteBlackRun(e,r,o,c),i-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,a){var i=Math.abs(a-r)>Math.abs(n-e);if(i){var s=e;e=r,r=s,s=n,n=a,a=s}for(var o=Math.abs(n-e),c=Math.abs(a-r),u=-o/2,d=e<n?1:-1,f=r<a?1:-1,h=0,p=n+d,m=e,g=r;m!==p;m+=d){var y=i?g:m,x=i?m:g;if(h===1===this.image.get(y,x)){if(h===2)return Qe.distance(m,g,e,r);h++}if(u+=c,u>0){if(g===a)break;g+=f,u-=o}}return h===2?Qe.distance(n+d,a,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,a){var i=Math.floor(a*e),s=Math.max(0,r-i),o=Math.min(this.image.getWidth()-1,r+i);if(o-s<e*3)throw new te("Alignment top exceeds estimated module size.");var c=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-c<e*3)throw new te("Alignment bottom exceeds estimated module size.");var d=new _K(this.image,s,c,o-s,u-c,e,this.resultPointCallback);return d.find()},t}(),jy=function(){function t(){this.decoder=new xK}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,a;if(r!=null&&r.get(It.PURE_BARCODE)!==void 0){var i=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,r),a=t.NO_POINTS}else{var s=new CK(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),a=s.getPoints()}n.getOther()instanceof q5&&n.getOther().applyMirroredCorrection(a);var o=new $r(n.getText(),n.getRawBytes(),void 0,a,Se.QR_CODE,void 0),c=n.getByteSegments();c!==null&&o.putMetadata(Er.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&o.putMetadata(Er.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(o.putMetadata(Er.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(Er.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new te;var a=this.moduleSize(r,e),i=r[1],s=n[1],o=r[0],c=n[0];if(o>=c||i>=s)throw new te;if(s-i!==c-o&&(c=o+(s-i),c>=e.getWidth()))throw new te;var u=Math.round((c-o+1)/a),d=Math.round((s-i+1)/a);if(u<=0||d<=0)throw new te;if(d!==u)throw new te;var f=Math.floor(a/2);i+=f,o+=f;var h=o+Math.floor((u-1)*a)-c;if(h>0){if(h>f)throw new te;o-=h}var p=i+Math.floor((d-1)*a)-s;if(p>0){if(p>f)throw new te;i-=p}for(var m=new ii(u,d),g=0;g<d;g++)for(var y=i+Math.floor(g*a),x=0;x<u;x++)e.get(o+Math.floor(x*a),y)&&m.set(x,g);return m},t.moduleSize=function(e,r){for(var n=r.getHeight(),a=r.getWidth(),i=e[0],s=e[1],o=!0,c=0;i<a&&s<n;){if(o!==r.get(i,s)){if(++c===5)break;o=!o}i++,s++}if(i===a||s===n)throw new te;return(i-e[0])/7},t.NO_POINTS=new Array,t}(),jK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ye=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Qe.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),i=0;try{for(var s=jK(e),o=s.next();!o.done;o=s.next()){var c=o.value;a[i++]=c}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t.getCodeword=function(e){var r=nr.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),AK=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),TK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IK=function(){function t(){}return t.detectMultiple=function(e,r,n){var a=e.getBlackMatrix(),i=t.detect(n,a);return i.length||(a=a.clone(),a.rotate180(),i=t.detect(n,a)),new AK(a,i)},t.detect=function(e,r){for(var n,a,i=new Array,s=0,o=0,c=!1;s<r.getHeight();){var u=t.findVertices(r,s,o);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,o=0;try{for(var d=(n=void 0,TK(i)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(c=!0,i.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return i},t.findVertices=function(e,r,n){var a=e.getHeight(),i=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,a,i,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,a,i,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,r,n){for(var a=0;a<n.length;a++)e[n[a]]=r[a]},t.findRowsWithPattern=function(e,r,n,a,i,s){for(var o=new Array(4),c=!1,u=new Int32Array(s.length);a<r;a+=t.ROW_STEP){var d=t.findGuardPattern(e,i,a,n,!1,s,u);if(d!=null){for(;a>0;){var f=t.findGuardPattern(e,i,--a,n,!1,s,u);if(f!=null)d=f;else{a++;break}}o[0]=new we(d[0],a),o[1]=new we(d[1],a),c=!0;break}}var h=a+1;if(c){for(var p=0,f=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,s,u);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,o[2]=new we(f[0],h),o[3]=new we(f[1],h)}return h-a<t.BARCODE_MIN_HEIGHT&&nr.fill(o,null),o},t.findGuardPattern=function(e,r,n,a,i,s,o){nr.fillWithin(o,0,o.length,0);for(var c=r,u=0;e.get(c,n)&&c>0&&u++<t.MAX_PIXEL_DRIFT;)c--;for(var d=c,f=0,h=s.length,p=i;d<a;d++){var m=e.get(d,n);if(m!==p)o[f]++;else{if(f===h-1){if(t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=o[0]+o[1],yt.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var a=e.length,i=0,s=0,o=0;o<a;o++)i+=e[o],s+=r[o];if(i<s)return 1/0;var c=i/s;n*=c;for(var u=0,d=0;d<a;d++){var f=e[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),OK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},To=function(){function t(e,r){if(r.length===0)throw new Ee;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),yt.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var i=OK(this.coefficients),s=i.next();!s.done;s=i.next()){var o=s.value;a=this.field.add(a,o)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}for(var c=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)c=this.field.add(this.field.multiply(e,c),this.coefficients[d]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ee("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;yt.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=this.field.add(r[o-s],n[o]);return new t(this.field,i)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ee("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ee("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=e.coefficients,i=a.length,s=new Int32Array(n+i-1),o=0;o<n;o++)for(var c=r[o],u=0;u<i;u++)s[o+u]=this.field.add(s[o+u],this.field.multiply(c,a[u]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Ee;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],r);return new t(this.field,a)},t.prototype.toString=function(){for(var e=new Me,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),DK=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ee;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new U5;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),PK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),RK=function(t){PK(e,t);function e(r,n){var a=t.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var i=1,s=0;s<r;s++)a.expTable[s]=i,i=i*n%r;for(var s=0;s<r-1;s++)a.logTable[a.expTable[s]]=s;return a.zero=new To(a,new Int32Array([0])),a.one=new To(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Ee;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new To(this,a)},e.PDF417_GF=new e(Ye.NUMBER_OF_CODEWORDS,3),e}(DK),MK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LK=function(){function t(){this.field=RK.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var a,i,s=new To(this.field,e),o=new Int32Array(r),c=!1,u=r;u>0;u--){var d=s.evaluateAt(this.field.exp(u));o[r-u]=d,d!==0&&(c=!0)}if(!c)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=MK(n),p=h.next();!p.done;p=h.next()){var m=p.value,g=this.field.exp(e.length-1-m),y=new To(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(y)}}catch(I){a={error:I}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}for(var x=new To(this.field,o),v=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),b=v[0],w=v[1],S=this.findErrorLocations(b),E=this.findErrorMagnitudes(w,b,S),u=0;u<S.length;u++){var j=e.length-1-this.field.log(S[u]);if(j<0)throw fr.getChecksumInstance();e[j]=this.field.subtract(e[j],E[u])}return S.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=e,s=r,o=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(n/2);){var u=i,d=o;if(i=s,o=c,i.isZero())throw fr.getChecksumInstance();s=u;for(var f=this.field.getZero(),h=i.getCoefficient(i.getDegree()),p=this.field.inverse(h);s.getDegree()>=i.getDegree()&&!s.isZero();){var m=s.getDegree()-i.getDegree(),g=this.field.multiply(s.getCoefficient(s.getDegree()),p);f=f.add(this.field.buildMonomial(m,g)),s=s.subtract(i.multiplyByMonomial(m,g))}c=f.multiply(o).subtract(d).negative()}var y=c.getCoefficient(0);if(y===0)throw fr.getChecksumInstance();var x=this.field.inverse(y),v=c.multiply(x),b=s.multiply(x);return[v,b]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),a=0,i=1;i<this.field.getSize()&&a<r;i++)e.evaluateAt(i)===0&&(n[a]=this.field.inverse(i),a++);if(a!==r)throw fr.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var a=r.getDegree(),i=new Int32Array(a),s=1;s<=a;s++)i[a-s]=this.field.multiply(s,r.getCoefficient(s));for(var o=new To(this.field,i),c=n.length,u=new Int32Array(c),s=0;s<c;s++){var d=this.field.inverse(n[s]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(o.evaluateAt(d));u[s]=this.field.multiply(f,h)}return u},t}(),Ay=function(){function t(e,r,n,a,i){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,a,i)}return t.prototype.constructor_1=function(e,r,n,a,i){var s=r==null||n==null,o=a==null||i==null;if(s&&o)throw new te;s?(r=new we(0,a.getY()),n=new we(0,i.getY())):o&&(a=new we(e.getWidth()-1,r.getY()),i=new we(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var a=this.topLeft,i=this.bottomLeft,s=this.topRight,o=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-e);u<0&&(u=0);var d=new we(c.getX(),u);n?a=d:s=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new we(f.getX(),h);n?i=p:o=p}return new t(this.image,a,i,s,o)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),BK=function(){function t(e,r,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),Kw=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function a(s,o,c,u,d,f){if(s==="%%")return"%";if(r[++n]!==void 0){s=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(s);break;case"p":p=parseFloat(r[n]).toPrecision(s);break;case"e":p=parseFloat(r[n]).toExponential(s);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(c),g=c&&c[0]+""=="0"?"0":" ";p.length<m;)p=o!==void 0?p+g:g+p;return p}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,a)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),FK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y5=function(){function t(e){this.boundingBox=new Ay(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new Kw,a=0;try{for(var i=FK(this.codewords),s=i.next();!s.done;s=i.next()){var o=s.value;if(o==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,o.getRowNumber(),o.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),$K=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UK=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Cu=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,a=new Array,i=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),a=[],a.push(p.getKey())):p.getValue()===n&&a.push(p.getKey())};try{for(var s=$K(this.values.entries()),o=s.next();!o.done;o=s.next()){var c=UK(o.value,2),u=c[0],d=c[1];i(u,d)}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return Ye.toIntArray(a)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),zK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JN=function(t){zK(e,t);function e(r,n){var a=t.call(this,r)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var r,n;try{for(var a=hv(this.getCodewords()),i=a.next();!i.done;i=a.next()){var s=i.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,d=1,f=0,h=o;h<c;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-u;if(m===0)f++;else if(m===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var g=void 0;d>2?g=(d-2)*m:g=m;for(var y=g>=h,x=1;x<=g&&!y;x++)y=n[h-x]!=null;y?n[h]=null:(u=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var s=hv(this.getCodewords()),o=s.next();!o.done;o=s.next()){var c=o.value;if(c!=null){var u=c.getRowNumber();if(u>=i.length)continue;i[u]++}}}catch(d){r={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1,d=s;d<o;d++)if(c[d]!=null){var f=c[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?c[d]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),i=new Cu,s=new Cu,o=new Cu,c=new Cu;try{for(var u=hv(a),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:c.setValue(h/3),o.setValue(h%3);break;case 2:i.setValue(h+1);break}}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(i.getValue().length===0||s.getValue().length===0||o.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<Ye.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>Ye.MAX_ROWS_IN_BARCODE)return null;var m=new BK(i.getValue()[0],s.getValue()[0],o.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(a,m),m},e.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var i=r[a];if(r[a]!=null){var s=i.getValue()%30,o=i.getRowNumber();if(o>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:s+1!==n.getColumnCount()&&(r[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(Y5),HK=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WK=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Ye.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[n];i!=null&&(i.setRowNumber(e[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=t.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=t.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var a,i;if(this.detectionResultColumns[e-1]!=null){var s=n[r],o=this.detectionResultColumns[e-1].getCodewords(),c=o;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=o[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=o[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=o[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=o[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=o[r+2],u[13]=c[r+2]);try{for(var d=HK(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(s,h))return}}catch(p){a={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new Kw,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[n];if(i==null){r.format("    |   ");continue}r.format(" %3d|%3d",i.getRowNumber(),i.getValue())}r.format("%n")}return r.toString()},t}(),VK=function(){function t(e,r,n,a){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),GK=function(){function t(){}return t.initialize=function(){for(var e=0;e<Ye.SYMBOL_TABLE.length;e++)for(var r=Ye.SYMBOL_TABLE[e],n=r&1,a=0;a<Ye.BARS_IN_MODULE;a++){for(var i=0;(r&1)===n;)i+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Ye.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Ye.BARS_IN_MODULE-a-1]=Math.fround(i/Ye.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Qe.sum(e),n=new Int32Array(Ye.BARS_IN_MODULE),a=0,i=0,s=0;s<Ye.MODULES_IN_CODEWORD;s++){var o=r/(2*Ye.MODULES_IN_CODEWORD)+s*r/Ye.MODULES_IN_CODEWORD;i+e[a]<=o&&(i+=e[a],a++),n[a]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Ye.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Qe.sum(e),n=new Array(Ye.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/r);var i=ky.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var o=0;o<t.RATIOS_TABLE.length;o++){for(var c=0,u=t.RATIOS_TABLE[o],d=0;d<Ye.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(c+=Math.fround(f*f),c>=i)break}c<i&&(i=c,s=Ye.SYMBOL_TABLE[o])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Ye.SYMBOL_TABLE.length).map(function(e){return new Array(Ye.BARS_IN_MODULE)}),t}(),XK=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),eS=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),qK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YK=function(t){qK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(_n),KK=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new YK;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new Vw;if(n===0)return;for(var a=0;a<n;a++)this.write(e[r+a])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),ZK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QK=function(t){ZK(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(_n),JK=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eZ=function(t){JK(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Ee("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new QK;a=Le.MAX_VALUE}this.buf=nr.copyOfUint8Array(this.buf,a)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new Vw;this.ensureCapacity(this.count+a),yt.arraycopy(r,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return nr.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(KK),ft;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ft||(ft={}));function K5(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var uh;function ss(t){if(typeof uh>"u"&&(uh=K5()),uh===null)throw new Error("BigInt is not supported!");return uh(t)}function tZ(){var t=[];t[0]=ss(1);var e=ss(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var rZ=function(){function t(){}return t.decode=function(e,r){var n=new Me(""),a=rr.ISO8859_1;n.enableDecoding(a);for(var i=1,s=e[i++],o=new XK;i<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:i=t.textCompaction(e,i,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:i=t.byteCompaction(s,e,a,i,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:i=t.numericCompaction(e,i,n);break;case t.ECI_CHARSET:rr.getCharacterSetECIByValue(e[i++]);break;case t.ECI_GENERAL_PURPOSE:i+=2;break;case t.ECI_USER_DEFINED:i++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=t.decodeMacroBlock(e,i,o);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new pe;default:i--,i=t.textCompaction(e,i,n);break}if(i<e.length)s=e[i++];else throw pe.getFormatInstance()}if(n.length()===0)throw pe.getFormatInstance();var c=new hm(null,n.toString(),null,r);return c.setOther(o),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw pe.getFormatInstance();for(var a=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<t.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)a[i]=e[r];n.setSegmentIndex(Le.parseInt(t.decodeBase900toBase10(a,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new Me;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var o=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Me;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Me;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Me;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new Me;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(Le.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new Me;r=t.numericCompaction(e,r+1,h),n.setTimestamp(eS.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new Me;r=t.numericCompaction(e,r+1,p),n.setChecksum(Le.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new Me;r=t.numericCompaction(e,r+1,m),n.setFileSize(eS.parseLong(m.toString()));break;default:throw pe.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw pe.getFormatInstance()}if(o!==-1){var g=r-o;n.isLastSegment()&&g--,n.setOptionalData(nr.copyOfRange(e,o,o+g))}return r},t.textCompaction=function(e,r,n){for(var a=new Int32Array((e[0]-r)*2),i=new Int32Array((e[0]-r)*2),s=0,o=!1;r<e[0]&&!o;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)a[s]=c/30,a[s+1]=c%30,s+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:a[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],i[s]=c,s++;break}}return t.decodeTextCompaction(a,i,s,n),r},t.decodeTextCompaction=function(e,r,n,a){for(var i=ft.ALPHA,s=ft.ALPHA,o=0;o<n;){var c=e[o],u="";switch(i){case ft.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.LL:i=ft.LOWER;break;case t.ML:i=ft.MIXED;break;case t.PS:s=i,i=ft.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=ft.ALPHA;break}break;case ft.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case t.AS:s=i,i=ft.ALPHA_SHIFT;break;case t.ML:i=ft.MIXED;break;case t.PS:s=i,i=ft.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=ft.ALPHA;break}break;case ft.MIXED:if(c<t.PL)u=t.MIXED_CHARS[c];else switch(c){case t.PL:i=ft.PUNCT;break;case 26:u=" ";break;case t.LL:i=ft.LOWER;break;case t.AL:i=ft.ALPHA;break;case t.PS:s=i,i=ft.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=ft.ALPHA;break}break;case ft.PUNCT:if(c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:i=ft.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=ft.ALPHA;break}break;case ft.ALPHA_SHIFT:if(i=s,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:i=ft.ALPHA;break}break;case ft.PUNCT_SHIFT:if(i=s,c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:i=ft.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=ft.ALPHA;break}break}u!==""&&a.append(u),o++}},t.byteCompaction=function(e,r,n,a,i){var s=new eZ,o=0,c=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[a++];a<r[0]&&!u;)switch(d[o++]=f,c=900*c+f,f=r[a++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,u=!0;break;default:if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(ss(c)>>ss(8*(5-h))));c=0,o=0}break}a===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[o++]=f);for(var p=0;p<o;p++)s.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!u;){var m=r[a++];if(m<t.TEXT_COMPACTION_MODE_LATCH)o++,c=900*c+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,u=!0;break}if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(ss(c)>>ss(8*(5-h))));c=0,o=0}}break}return i.append(la.decode(s.toByteArray(),n)),a},t.numericCompaction=function(e,r,n){for(var a=0,i=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!i;){var o=e[r++];if(r===e[0]&&(i=!0),o<t.TEXT_COMPACTION_MODE_LATCH)s[a]=o,a++;else switch(o){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,i=!0;break}(a%t.MAX_NUMERIC_CODEWORDS===0||o===t.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(n.append(t.decodeBase900toBase10(s,a)),a=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=ss(0),a=0;a<r;a++)n+=t.EXP900[r-a-1]*ss(e[a]);var i=n.toString();if(i.charAt(0)!=="1")throw new pe;return i.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=K5()?tZ():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),su=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nZ=function(){function t(){}return t.decode=function(e,r,n,a,i,s,o){for(var c=new Ay(e,r,n,a,i),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,c,r,!0,s,o)),a!=null&&(d=t.getRowIndicatorColumn(e,c,a,!1,s,o)),f=t.merge(u,d),f==null)throw te.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}f.setBoundingBox(c);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(m,d);for(var g=u!=null,y=1;y<=m;y++){var x=g?y:m-y;if(f.getDetectionResultColumn(x)===void 0){var v=void 0;x===0||x===m?v=new JN(c,x===0):v=new Y5(c),f.setDetectionResultColumn(x,v);for(var b=-1,w=b,S=c.getMinY();S<=c.getMaxY();S++){if(b=t.getStartColumn(f,x,S,g),b<0||b>c.getMaxX()){if(w===-1)continue;b=w}var E=t.detectCodeword(e,c.getMinX(),c.getMaxX(),g,b,S,s,o);E!=null&&(v.setCodeword(S,E),w=b,s=Math.min(s,E.getWidth()),o=Math.max(o,E.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var a=Ay.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new WK(n,a)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var i=t.getMax(a),s=0;try{for(var o=su(a),c=o.next();!c.done;c=o.next()){var u=c.value;if(s+=i-u,u>0)break}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;s>0&&d[f]==null;f++)s--;for(var h=0,f=a.length-1;f>=0&&(h+=i-a[f],!(a[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(s,h,e.isLeft())},t.getMax=function(e){var r,n,a=-1;try{for(var i=su(e),s=i.next();!s.done;s=i.next()){var o=s.value;a=Math.max(a,o)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,a,i,s){for(var o=new JN(r,a),c=0;c<2;c++)for(var u=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=t.detectCodeword(e,0,e.getWidth(),a,d,f,i,s);h!=null&&(o.setCodeword(f,h),a?d=h.getStartX():d=h.getEndX())}return o},t.adjustCodewordCount=function(e,r){var n=r[0][1],a=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(i<1||i>Ye.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();n.setValue(i)}else a[0]!==i&&n.setValue(i)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var c=0;c<e.getBarcodeColumnCount();c++){var u=r[o][c+1].getValue(),d=o*e.getBarcodeColumnCount()+c;u.length===0?n.push(d):u.length===1?a[d]=u[0]:(s.push(d),i.push(u))}for(var f=new Array(i.length),h=0;h<f.length;h++)f[h]=i[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,Ye.toIntArray(n),Ye.toIntArray(s),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,a,i){for(var s=new Int32Array(a.length),o=100;o-- >0;){for(var c=0;c<s.length;c++)r[a[c]]=i[c][s[c]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof fr;if(!u)throw d}if(s.length===0)throw fr.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<i[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw fr.getChecksumInstance()}throw fr.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,a,i,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<s.length;o++)for(var c=0;c<s[o].length;c++)s[o][c]=new Cu;var u=0;try{for(var d=su(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(a=void 0,su(h.getCodewords())),m=p.next();!m.done;m=p.next()){var g=m.value;if(g!=null){var y=g.getRowNumber();if(y>=0){if(y>=s.length)continue;s[y][u].setValue(g.getValue())}}}}catch(x){a={error:x}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}u++}}catch(x){r={error:x}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return s},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,a){var i,s,o=a?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-o)&&(c=e.getDetectionResultColumn(r-o).getCodeword(n)),c!=null)return a?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return a?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-o)&&(c=e.getDetectionResultColumn(r-o).getCodewordNearby(n)),c!=null)return a?c.getEndX():c.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-o);){r-=o;try{for(var d=(i=void 0,su(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(a?h.getEndX():h.getStartX())+o*u*(h.getEndX()-h.getStartX())}}catch(p){i={error:p}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}u++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,a,i,s,o,c){i=t.adjustCodewordStartColumn(e,r,n,a,i,s);var u=t.getModuleBitCount(e,r,n,a,i,s);if(u==null)return null;var d,f=Qe.sum(u);if(a)d=i+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=i,i=d-f}if(!t.checkCodewordSkew(f,o,c))return null;var m=GK.getDecodedValue(u),g=Ye.getCodeword(m);return g===-1?null:new VK(i,d,t.getCodewordBucketNumber(m),g)},t.getModuleBitCount=function(e,r,n,a,i,s){for(var o=i,c=new Int32Array(8),u=0,d=a?1:-1,f=a;(a?o<n:o>=r)&&u<c.length;)e.get(o,s)===f?(c[u]++,o+=d):(u++,f=!f);return u===c.length||o===(a?n:r)&&u===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,a,i,s){for(var o=i,c=a?-1:1,u=0;u<2;u++){for(;(a?o>=r:o<n)&&a===e.get(o,s);){if(Math.abs(i-o)>t.CODEWORD_SKEW_SIZE)return i;o+=c}c=-c,a=!a}return o},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw pe.getFormatInstance();var a=1<<r+1,i=t.correctErrors(e,n,a);t.verifyCodewordCount(e,a);var s=rZ.decode(e,""+r);return s.setErrorsCorrected(i),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw fr.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw pe.getFormatInstance();var n=e[0];if(n>e.length)throw pe.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw pe.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,a=r.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)r[a]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new Kw,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var i=e[n][a];i.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new LK,t}(),aZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ty=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw te.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof pe||n instanceof fr?te.getNotFoundInstance():n}},t.decode=function(e,r,n){var a,i,s=new Array,o=IK.detectMultiple(e,r,n);try{for(var c=aZ(o.getPoints()),u=c.next();!u.done;u=c.next()){var d=u.value,f=nZ.decode(o.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new $r(f.getText(),f.getRawBytes(),void 0,d,Se.PDF_417);h.putMetadata(Er.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(Er.PDF417_EXTRA_METADATA,p),s.push(h)}}catch(m){a={error:m}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return s.map(function(m){return m})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Le.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Ye.MODULES_IN_CODEWORD/Ye.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Ye.MODULES_IN_CODEWORD/Ye.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Ye.MODULES_IN_CODEWORD/Ye.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Ye.MODULES_IN_CODEWORD/Ye.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),iZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tS=function(t){iZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(_n),rS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sZ=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(It.TRY_HARDER)!==void 0,n=e==null?null:e.get(It.POSSIBLE_FORMATS),a=new Array;if(n!=null){var i=n.some(function(s){return s===Se.UPC_A||s===Se.UPC_E||s===Se.EAN_13||s===Se.EAN_8||s===Se.CODABAR||s===Se.CODE_39||s===Se.CODE_93||s===Se.CODE_128||s===Se.ITF||s===Se.RSS_14||s===Se.RSS_EXPANDED});i&&!r&&a.push(new Eu(e)),n.includes(Se.QR_CODE)&&a.push(new jy),n.includes(Se.DATA_MATRIX)&&a.push(new Cy),n.includes(Se.AZTEC)&&a.push(new Sy),n.includes(Se.PDF_417)&&a.push(new Ty),i&&r&&a.push(new Eu(e))}a.length===0&&(r||a.push(new Eu(e)),a.push(new jy),a.push(new Cy),a.push(new Sy),a.push(new Ty),r&&a.push(new Eu(e))),this.readers=a},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=rS(this.readers),a=n.next();!a.done;a=n.next()){var i=a.value;i.reset()}}catch(s){e={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new tS("No readers where selected, nothing can be read.");try{for(var a=rS(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;try{return s.decode(e,this.hints)}catch(o){if(o instanceof tS)continue}}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new te("No MultiFormat Readers were able to detect the code.")},t}(),oZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lZ=function(t){oZ(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,i=new sZ;return i.setHints(r),a=t.call(this,i,n)||this,a}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(Lc),cZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){cZ(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Ty,r)||this}return e})(Lc);var uZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){uZ(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new jy,r)||this}return e})(Lc);var Iy;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Iy||(Iy={}));const dh=Iy;var Z5=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Is(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],a=this.field,i=r.length;i<=e;i++){var s=n.multiply(new Is(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));r.push(s),n=s}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Ee("No error correction bytes");var n=e.length-r;if(n<=0)throw new Ee("No data bytes provided");var a=this.buildGenerator(r),i=new Int32Array(n);yt.arraycopy(e,0,i,0,n);var s=new Is(this.field,i);s=s.multiplyByMonomial(r,1);for(var o=s.divide(a)[1],c=o.getCoefficients(),u=r-c.length,d=0;d<u;d++)e[n+d]=0;yt.arraycopy(c,0,e,n+u,c.length)},t}(),ju=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i-1;s++)for(var o=n[s],c=0;c<a-1;c++){var u=o[c];u===o[c+1]&&u===n[s+1][c]&&u===n[s+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var o=0;o<a;o++){var c=n[s];o+6<a&&c[o]===1&&c[o+1]===0&&c[o+2]===1&&c[o+3]===1&&c[o+4]===1&&c[o+5]===0&&c[o+6]===1&&(t.isWhiteHorizontal(c,o-4,o)||t.isWhiteHorizontal(c,o+7,o+11))&&r++,s+6<i&&n[s][o]===1&&n[s+1][o]===0&&n[s+2][o]===1&&n[s+3][o]===1&&n[s+4][o]===1&&n[s+5][o]===0&&n[s+6][o]===1&&(t.isWhiteVertical(n,o,s-4,s)||t.isWhiteVertical(n,o,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var a=r;a<n;a++)if(e[a]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var i=n;i<a;i++)if(e[i][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var o=n[s],c=0;c<a;c++)o[c]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var a,i;switch(e){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:i=n*r,a=(i&1)+i%3;break;case 6:i=n*r,a=(i&1)+i%3&1;break;case 7:i=n*r,a=i%3+(n+r&1)&1;break;default:throw new Ee("Invalid mask pattern: "+e)}return a===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,a=r?e.getHeight():e.getWidth(),i=r?e.getWidth():e.getHeight(),s=e.getArray(),o=0;o<a;o++){for(var c=0,u=-1,d=0;d<i;d++){var f=r?s[o][d]:s[d][o];f===u?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,u=f)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),dZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fZ=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var a=dZ(this.bytes),i=a.next();!i.done;i=a.next()){var s=i.value;nr.fill(s,e)}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var i=this.bytes[n],s=r.bytes[n],o=0,c=this.width;o<c;++o)if(i[o]!==s[o])return!1;return!0},t.prototype.toString=function(){for(var e=new Me,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],i=0,s=this.width;i<s;++i)switch(a[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),Oy=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Me;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),hZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wt=function(t){hZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(_n),nS=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,a,i){t.clearMatrix(i),t.embedBasicPatterns(n,i),t.embedTypeInfo(r,a,i),t.maybeEmbedVersionInfo(n,i),t.embedDataBits(e,a,i)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var a=new hr;t.makeTypeInfoBits(e,r,a);for(var i=0,s=a.getSize();i<s;++i){var o=a.get(a.getSize()-1-i),c=t.TYPE_INFO_COORDINATES[i],u=c[0],d=c[1];if(n.setBoolean(u,d,o),i<8){var f=n.getWidth()-i-1,h=8;n.setBoolean(f,h,o)}else{var f=8,h=n.getHeight()-7+(i-8);n.setBoolean(f,h,o)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new hr;t.makeVersionInfoBits(e,n);for(var a=6*3-1,i=0;i<6;++i)for(var s=0;s<3;++s){var o=n.get(a);a--,r.setBoolean(i,r.getHeight()-11+s,o),r.setBoolean(r.getHeight()-11+s,i,o)}}},t.embedDataBits=function(e,r,n){for(var a=0,i=-1,s=n.getWidth()-1,o=n.getHeight()-1;s>0;){for(s===6&&(s-=1);o>=0&&o<n.getHeight();){for(var c=0;c<2;++c){var u=s-c;if(t.isEmpty(n.get(u,o))){var d=void 0;a<e.getSize()?(d=e.get(a),++a):d=!1,r!==255&&ju.getDataMaskBit(r,u,o)&&(d=!d),n.setBoolean(u,o,d)}}o+=i}i=-i,o+=i,s-=2}if(a!==e.getSize())throw new wt("Not all bits consumed: "+a+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Le.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Ee("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Oy.isValidMaskPattern(r))throw new wt("Invalid mask pattern");var a=e.getBits()<<3|r;n.appendBits(a,5);var i=t.calculateBCHCode(a,t.TYPE_INFO_POLY);n.appendBits(i,10);var s=new hr;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new wt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new wt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new wt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var a=0;a<8;++a){if(!t.isEmpty(n.get(e+a,r)))throw new wt;n.setNumber(e+a,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var a=0;a<7;++a){if(!t.isEmpty(n.get(e,r+a)))throw new wt;n.setNumber(e,r+a,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var a=0;a<5;++a)for(var i=t.POSITION_ADJUSTMENT_PATTERN[a],s=0;s<5;++s)n.setNumber(e+s,r+a,i[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var a=0;a<7;++a)for(var i=t.POSITION_DETECTION_PATTERN[a],s=0;s<7;++s)n.setNumber(e+s,r+a,i[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;t.embedVerticalSeparationPattern(a,0,e),t.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),t.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,s=a.length;i!==s;i++){var o=a[i];if(o>=0)for(var c=0;c!==s;c++){var u=a[c];u>=0&&t.isEmpty(r.get(u,o))&&t.embedPositionAdjustmentPattern(u-2,o-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),pZ=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),aS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return ju.applyMaskPenaltyRule1(e)+ju.applyMaskPenaltyRule2(e)+ju.applyMaskPenaltyRule3(e)+ju.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var a=t.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(dh.CHARACTER_SET)!==void 0;i&&(a=n.get(dh.CHARACTER_SET).toString());var s=this.chooseMode(e,a),o=new hr;if(s===_t.BYTE&&(i||t.DEFAULT_BYTE_MODE_ENCODING!==a)){var c=rr.getCharacterSetECIByName(a);c!==void 0&&this.appendECI(c,o)}this.appendModeInfo(s,o);var u=new hr;this.appendBytes(e,s,u,a);var d;if(n!==null&&n.get(dh.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(dh.QR_VERSION).toString(),10);d=Mo.getVersionForNumber(f);var h=this.calculateBitsNeeded(s,o,u,d);if(!this.willFit(h,d,r))throw new wt("Data too big for requested version")}else d=this.recommendVersion(r,s,o,u);var p=new hr;p.appendBitArray(o);var m=s===_t.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(m,d,s,p),p.appendBitArray(u);var g=d.getECBlocksForLevel(r),y=d.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(y,p);var x=this.interleaveWithECBytes(p,d.getTotalCodewords(),y,g.getNumBlocks()),v=new Oy;v.setECLevel(r),v.setMode(s),v.setVersion(d);var b=d.getDimensionForVersion(),w=new fZ(b,b),S=this.chooseMaskPattern(x,r,d,w);return v.setMaskPattern(S),nS.buildMatrix(x,r,d,S,w),v.setMatrix(w),v},t.recommendVersion=function(e,r,n,a){var i=this.calculateBitsNeeded(r,n,a,Mo.getVersionForNumber(1)),s=this.chooseVersion(i,e),o=this.calculateBitsNeeded(r,n,a,s);return this.chooseVersion(o,e)},t.calculateBitsNeeded=function(e,r,n,a){return r.getSize()+e.getCharacterCountBits(a)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),rr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return _t.KANJI;for(var n=!1,a=!1,i=0,s=e.length;i<s;++i){var o=e.charAt(i);if(t.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)a=!0;else return _t.BYTE}return a?_t.ALPHANUMERIC:n?_t.NUMERIC:_t.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=la.encode(e,rr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var i=r[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,a){for(var i=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<Oy.NUM_MASK_PATTERNS;o++){nS.buildMatrix(e,r,n,o,a);var c=this.calculateMaskPenalty(a);c<i&&(i=c,s=o)}return s},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var a=Mo.getVersionForNumber(n);if(t.willFit(e,a,r))return a}throw new wt("Data too big")},t.willFit=function(e,r,n){var a=r.getTotalCodewords(),i=r.getECBlocksForLevel(n),s=i.getTotalECCodewords(),o=a-s,c=(e+7)/8;return o>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new wt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var i=r.getSize()&7;if(i>0)for(var a=i;a<8;a++)r.appendBit(!1);for(var s=e-r.getSizeInBytes(),a=0;a<s;++a)r.appendBits(a&1?17:236,8);if(r.getSize()!==n)throw new wt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,a,i,s){if(a>=n)throw new wt("Block ID too large");var o=e%n,c=n-o,u=Math.floor(e/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,m=d-h;if(p!==m)throw new wt("EC bytes mismatch");if(n!==c+o)throw new wt("RS blocks mismatch");if(e!==(f+p)*c+(h+m)*o)throw new wt("Total bytes mismatch");a<c?(i[0]=f,s[0]=p):(i[0]=h,s[0]=m)},t.interleaveWithECBytes=function(e,r,n,a){var i,s,o,c;if(e.getSizeInBytes()!==n)throw new wt("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<a;++p){var m=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,a,p,m,g);var y=m[0],x=new Uint8Array(y);e.toBytes(8*u,x,0,y);var v=t.generateECBytes(x,g[0]);h.push(new pZ(x,v)),d=Math.max(d,y),f=Math.max(f,v.length),u+=m[0]}if(n!==u)throw new wt("Data bytes does not match offset");for(var b=new hr,p=0;p<d;++p)try{for(var w=(i=void 0,aS(h)),S=w.next();!S.done;S=w.next()){var E=S.value,x=E.getDataBytes();p<x.length&&b.appendBits(x[p],8)}}catch(T){i={error:T}}finally{try{S&&!S.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}for(var p=0;p<f;++p)try{for(var j=(o=void 0,aS(h)),I=j.next();!I.done;I=j.next()){var E=I.value,v=E.getErrorCorrectionBytes();p<v.length&&b.appendBits(v[p],8)}}catch(T){o={error:T}}finally{try{I&&!I.done&&(c=j.return)&&c.call(j)}finally{if(o)throw o.error}}if(r!==b.getSizeInBytes())throw new wt("Interleaving error: "+r+" and "+b.getSizeInBytes()+" differ.");return b},t.generateECBytes=function(e,r){for(var n=e.length,a=new Int32Array(n+r),i=0;i<n;i++)a[i]=e[i]&255;new Z5(mn.QR_CODE_FIELD_256).encode(a,r);for(var s=new Uint8Array(r),i=0;i<r;i++)s[i]=a[n+i];return s},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,a){var i=n.getCharacterCountBits(r);if(e>=1<<i)throw new wt(e+" is bigger than "+((1<<i)-1));a.appendBits(e,i)},t.appendBytes=function(e,r,n,a){switch(r){case _t.NUMERIC:t.appendNumericBytes(e,n);break;case _t.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case _t.BYTE:t.append8BitBytes(e,n,a);break;case _t.KANJI:t.appendKanjiBytes(e,n);break;default:throw new wt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var i=t.getDigit(e.charAt(a));if(a+2<n){var s=t.getDigit(e.charAt(a+1)),o=t.getDigit(e.charAt(a+2));r.appendBits(i*100+s*10+o,10),a+=3}else if(a+1<n){var s=t.getDigit(e.charAt(a+1));r.appendBits(i*10+s,7),a+=2}else r.appendBits(i,4),a++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var i=t.getAlphanumericCode(e.charCodeAt(a));if(i===-1)throw new wt;if(a+1<n){var s=t.getAlphanumericCode(e.charCodeAt(a+1));if(s===-1)throw new wt;r.appendBits(i*45+s,11),a+=2}else r.appendBits(i,6),a++}},t.append8BitBytes=function(e,r,n){var a;try{a=la.encode(e,n)}catch(c){throw new wt(c)}for(var i=0,s=a.length;i!==s;i++){var o=a[i];r.appendBits(o,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=la.encode(e,rr.SJIS)}catch(f){throw new wt(f)}for(var a=n.length,i=0;i<a;i+=2){var s=n[i]&255,o=n[i+1]&255,c=s<<8&4294967295|o,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new wt("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(_t.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=rr.UTF8.getName(),t})();var mZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){mZ(e,t);function e(r,n,a,i,s,o,c,u){var d=t.call(this,o,c)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=a,d.left=i,d.top=s,i+o>n||s+c>a)throw new Ee("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(o,c),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ee("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return yt.arraycopy(this.yuvData,i,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return yt.arraycopy(this.yuvData,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*r;yt.arraycopy(this.yuvData,s,i,c,r),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,i,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),i=this.yuvData,s=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var c=o*r,u=0;u<r;u++){var d=i[s+u*e.THUMBNAIL_SCALE_FACTOR]&255;a[c+u]=4278190080|d*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,i=0,s=this.top*this.dataWidth+this.left;i<n;i++,s+=this.dataWidth)for(var o=s+r/2,c=s,u=s+r-1;c<o;c++,u--){var d=a[c];a[c]=a[u],a[u]=d}},e.prototype.invert=function(){return new Gw(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(fm);var gZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){gZ(e,t);function e(r,n,a,i,s,o,c){var u=t.call(this,n,a)||this;if(u.dataWidth=i,u.dataHeight=s,u.left=o,u.top=c,r.BYTES_PER_ELEMENT===4){for(var d=n*a,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],m=p>>16&255,g=p>>7&510,y=p&255;f[h]=(m+g+y)/4&255}u.luminances=f}else u.luminances=r;if(i===void 0&&(u.dataWidth=n),s===void 0&&(u.dataHeight=a),o===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+a>u.dataHeight)throw new Ee("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ee("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return yt.arraycopy(this.luminances,i,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return yt.arraycopy(this.luminances,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*r;yt.arraycopy(this.luminances,s,i,c,r),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return new e(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new Gw(this)},e})(fm);var vZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xZ=function(t){vZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(rr),yZ=function(){function t(){}return t.ISO_8859_1=rr.ISO8859_1,t}(),Dy,bZ=301,wZ=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=bZ);return{LOG:t,ALOG:e}};Dy=wZ([],[]),Dy.LOG;Dy.ALOG;var iS;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(iS||(iS={}));var sS=129,Q5=230,_Z=231,kZ=235,NZ=236,SZ=237,EZ=238,CZ=239,jZ=240,pv=254,AZ=254,oS="[)>05",lS="[)>06",cS="",st=0,kr=1,qr=2,Jt=3,lr=4,Pr=5,TZ=function(){function t(){}return t.prototype.getEncodingMode=function(){return st},t.prototype.encode=function(e){var r=Sa.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=Sa.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Pr:e.writeCodeword(_Z),e.signalEncoderChange(Pr);return;case kr:e.writeCodeword(Q5),e.signalEncoderChange(kr);return;case Jt:e.writeCodeword(EZ),e.signalEncoderChange(Jt);break;case qr:e.writeCodeword(CZ),e.signalEncoderChange(qr);break;case lr:e.writeCodeword(jZ),e.signalEncoderChange(lr);break;default:throw new Error("Illegal mode: "+a)}else Sa.isExtendedASCII(n)?(e.writeCodeword(kZ),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Sa.isDigit(e)&&Sa.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),IZ=function(){function t(){}return t.prototype.getEncodingMode=function(){return Pr},t.prototype.encode=function(e){var r=new Me;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var a=Sa.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(st);break}}var i=r.length()-1,s=1,o=e.getCodewordCount()+i+s;e.updateSymbolInfo(o);var c=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||c)if(i<=249)r.setCharAt(0,qe.getCharAt(i));else if(i<=1555)r.setCharAt(0,qe.getCharAt(Math.floor(i/250)+249)),r.insert(1,qe.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,a=e+n;return a<=255?a:a-256},t}(),Zw=function(){function t(){}return t.prototype.getEncodingMode=function(){return kr},t.prototype.encodeMaximal=function(e){for(var r=new Me,n=0,a=e.pos,i=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(a=e.pos,i=r.length())}if(i!==r.length()){var o=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(c);var u=e.getSymbolInfo().getDataCapacity()-c,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=a)}r.length()>0&&e.writeCodeword(Q5),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Me;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,r),i=Math.floor(r.length()/3)*2,s=e.getCodewordCount()+i;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new Me;for(r.length()%3===2&&o!==2&&(a=this.backtrackOneCharacter(e,r,c,a));r.length()%3===1&&(a>3||o!==1);)a=this.backtrackOneCharacter(e,r,c,a);break}var u=r.length();if(u%3===0){var d=Sa.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(st);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,a){var i=r.length(),s=r.toString().substring(0,i-a);r.setLengthToZero(),r.append(s),e.pos--;var o=e.getCurrentChar();return a=this.encodeChar(o,n),e.resetSymbolInfo(),a},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,i=e.getCodewordCount()+n;e.updateSymbolInfo(i);var s=e.getSymbolInfo().getDataCapacity()-i;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(pv)}else if(s===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(pv),e.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(s>0||e.hasMoreCharacters())&&e.writeCodeword(pv)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(st)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,a=r%256,i=new Me;return i.append(n),i.append(a),i.toString()},t}(),OZ=function(){function t(){}return t.prototype.getEncodingMode=function(){return lr},t.prototype.encode=function(e){for(var r=new Me;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var a=r.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var i=r.toString().substring(4);r.setLengthToZero(),r.append(i);var s=Sa.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(st);break}}}r.append(qe.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,o=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),u=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}u?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(o)}finally{e.signalEncoderChange(st)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(qe.getCharAt(e-64)):Sa.illegalCharacter(qe.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=r>=2?e.charAt(1).charCodeAt(0):0,i=r>=3?e.charAt(2).charCodeAt(0):0,s=r>=4?e.charAt(3).charCodeAt(0):0,o=(n<<18)+(a<<12)+(i<<6)+s,c=o>>16&255,u=o>>8&255,d=o&255,f=new Me;return f.append(c),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},t}(),DZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PZ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},et=function(){function t(e,r,n,a,i,s,o,c){o===void 0&&(o=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=s,this.rsBlockData=o,this.rsBlockError=c}return t.lookup=function(e,r,n,a,i){var s,o;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var c=PZ(MZ),u=c.next();!u.done;u=c.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(d.getSymbolWidth()>a.getWidth()||d.getSymbolHeight()>a.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){s={error:f}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),RZ=function(t){DZ(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(et),MZ=[new et(!1,3,5,8,8,1),new et(!1,5,7,10,10,1),new et(!0,5,7,16,6,1),new et(!1,8,10,12,12,1),new et(!0,10,11,14,6,2),new et(!1,12,12,14,14,1),new et(!0,16,14,24,10,1),new et(!1,18,14,16,16,1),new et(!1,22,18,18,18,1),new et(!0,22,18,16,10,2),new et(!1,30,20,20,20,1),new et(!0,32,24,16,14,2),new et(!1,36,24,22,22,1),new et(!1,44,28,24,24,1),new et(!0,49,28,22,14,2),new et(!1,62,36,14,14,4),new et(!1,86,42,16,16,4),new et(!1,114,48,18,18,4),new et(!1,144,56,20,20,4),new et(!1,174,68,22,22,4),new et(!1,204,84,24,24,4,102,42),new et(!1,280,112,14,14,16,140,56),new et(!1,368,144,16,16,16,92,36),new et(!1,456,192,18,18,16,114,48),new et(!1,576,224,20,20,16,144,56),new et(!1,696,272,22,22,16,174,68),new et(!1,816,336,24,24,16,136,56),new et(!1,1050,408,18,18,36,175,68),new et(!1,1304,496,20,20,36,163,62),new RZ],LZ=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(o){return o.charCodeAt(0)}),n=new Me,a=0,i=r.length;a<i;a++){var s=String.fromCharCode(r[a]&255);if(s==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new Me,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=et.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),BZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FZ=function(t){BZ(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Jt},e.prototype.encode=function(r){for(var n=new Me;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var i=n.length();if(i%3===0){this.writeNextTriplet(r,n);var s=Sa.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(st);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Sa.illegalCharacter(qe.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),i=n.length();r.pos-=i,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(AZ),r.getNewEncoding()<0&&r.signalEncoderChange(st)},e}(Zw),$Z=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UZ=function(t){$Z(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return qr},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},e}(Zw),Sa=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=sS+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,a,i){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!1);var s=new Zw,o=[new TZ,s,new UZ,new FZ,new OZ,new IZ],c=new LZ(e);c.setSymbolShape(r),c.setSizeConstraints(n,a),e.startsWith(oS)&&e.endsWith(cS)?(c.writeCodeword(NZ),c.setSkipAtEnd(2),c.pos+=oS.length):e.startsWith(lS)&&e.endsWith(cS)&&(c.writeCodeword(SZ),c.setSkipAtEnd(2),c.pos+=lS.length);var u=st;for(i&&(s.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)o[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var f=c.getSymbolInfo().getDataCapacity();d<f&&u!==st&&u!==Pr&&u!==lr&&c.writeCodeword("");var h=c.getCodewords();for(h.length()<f&&h.append(sS);h.length()<f;)h.append(this.randomize253State(h.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var a=this.lookAheadTestIntern(e,r,n);if(n===Jt&&a===Jt){for(var i=Math.min(r+3,e.length),s=r;s<i;s++)if(!this.isNativeX12(e.charCodeAt(s)))return st}else if(n===lr&&a===lr){for(var i=Math.min(r+4,e.length),s=r;s<i;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return st}return a},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var a;n===st?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var i=0,s=new Uint8Array(6),o=[];;){if(r+i===e.length){nr.fill(s,0),nr.fill(o,0);var c=this.findMinimums(a,o,Le.MAX_VALUE,s),u=this.getMinimumCount(s);if(o[st]===c)return st;if(u===1){if(s[Pr]>0)return Pr;if(s[lr]>0)return lr;if(s[qr]>0)return qr;if(s[Jt]>0)return Jt}return kr}var d=e.charCodeAt(r+i);if(i++,this.isDigit(d)?a[st]+=.5:this.isExtendedASCII(d)?(a[st]=Math.ceil(a[st]),a[st]+=2):(a[st]=Math.ceil(a[st]),a[st]++),this.isNativeC40(d)?a[kr]+=2/3:this.isExtendedASCII(d)?a[kr]+=8/3:a[kr]+=4/3,this.isNativeText(d)?a[qr]+=2/3:this.isExtendedASCII(d)?a[qr]+=8/3:a[qr]+=4/3,this.isNativeX12(d)?a[Jt]+=2/3:this.isExtendedASCII(d)?a[Jt]+=13/3:a[Jt]+=10/3,this.isNativeEDIFACT(d)?a[lr]+=3/4:this.isExtendedASCII(d)?a[lr]+=17/4:a[lr]+=13/4,this.isSpecialB256(d)?a[Pr]+=4:a[Pr]++,i>=4){if(nr.fill(s,0),nr.fill(o,0),this.findMinimums(a,o,Le.MAX_VALUE,s),o[st]<this.min(o[Pr],o[kr],o[qr],o[Jt],o[lr]))return st;if(o[Pr]<o[st]||o[Pr]+1<this.min(o[kr],o[qr],o[Jt],o[lr]))return Pr;if(o[lr]+1<this.min(o[Pr],o[kr],o[qr],o[Jt],o[st]))return lr;if(o[qr]+1<this.min(o[Pr],o[kr],o[lr],o[Jt],o[st]))return qr;if(o[Jt]+1<this.min(o[Pr],o[kr],o[lr],o[qr],o[st]))return Jt;if(o[kr]+1<this.min(o[st],o[Pr],o[lr],o[qr])){if(o[kr]<o[Jt])return kr;if(o[kr]===o[Jt]){for(var f=r+i+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return Jt;if(!this.isNativeX12(h))break;f++}return kr}}}}},t.min=function(e,r,n,a,i){var s=Math.min(e,Math.min(r,Math.min(n,a)));return i===void 0?s:Math.min(s,i)},t.findMinimums=function(e,r,n,a){for(var i=0;i<6;i++){var s=r[i]=Math.ceil(e[i]);n>s&&(n=s,nr.fill(a,0)),n===s&&(a[i]=a[i]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,a=r;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-r},t.illegalCharacter=function(e){var r=Le.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),mv=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uS=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return la.encode(e,this.charset)!=null}catch{return!1}},t}(),zZ=function(){function t(e,r,n){var a,i,s,o,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(k){return new uS(xZ.forName(k))}),this.encoders=[];var d=[];d.push(new uS(yZ.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var m=(a=void 0,mv(d)),g=m.next();!g.done;g=m.next()){var y=g.value,x=e.charAt(h),v=x.charCodeAt(0);if(v===n||y.canEncode(x)){p=!0;break}}}catch(k){a={error:k}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}if(!p)try{for(var b=(s=void 0,mv(this.ENCODERS)),w=b.next();!w.done;w=b.next()){var y=w.value;if(y.canEncode(e.charAt(h))){d.push(y),p=!0;break}}}catch(k){s={error:k}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(s)throw s.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var S=0;try{for(var E=mv(d),j=E.next();!j.done;j=E.next()){var y=j.value;this.encoders[S++]=y}}catch(k){c={error:k}}finally{try{j&&!j.done&&(u=E.return)&&u.call(E)}finally{if(c)throw c.error}}}var I=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){I=h;break}}this.priorityEncoderIndex=I}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return la.encode(qe.getCharAt(e),this.encoders[r].name)},t}(),HZ=3,WZ=function(){function t(e,r,n){this.fnc1=n;var a=new zZ(e,r,n);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var s=e.charAt(i).charCodeAt(0);this.bytes[i]=s===n?1e3:s}else this.bytes=this.encodeMinimally(e,a,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Me,a=e;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,a,i,s){var o=e.charAt(a).charCodeAt(0),c=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(o===s||r.canEncode(o,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),u=c+1);for(var d=c;d<u;d++)(o===s||r.canEncode(o,d))&&this.addEdge(n,a+1,new dS(o,r,d,i,s))},t.prototype.encodeMinimally=function(e,r,n){var a=e.length,i=new dS[a+1][r.length()];this.addEdges(e,r,i,0,null,n);for(var s=1;s<=a;s++){for(var o=0;o<r.length();o++)i[s][o]!=null&&s<a&&this.addEdges(e,r,i,s,i[s][o],n);for(var o=0;o<r.length();o++)i[s-1][o]=null}for(var c=-1,u=Le.MAX_VALUE,o=0;o<r.length();o++)if(i[a][o]!=null){var d=i[a][o];d.cachedTotalSize<u&&(u=d.cachedTotalSize,c=o)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=i[a][c];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),s=p.length-1;s>=0;s--)f.unshift(p[s]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var g=[],s=0;s<g.length;s++)g[s]=f[s];return g},t}(),dS=function(){function t(e,r,n,a,i){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=i,this.c=e===i?1e3:e;var s=this.isFNC1()?1:r.encode(e,n).length,o=a===null?0:a.encoderIndex;o!==n&&(s+=HZ),a!=null&&(s+=a.cachedTotalSize),this.cachedTotalSize=s}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),VZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var fS;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(fS||(fS={}));(function(t){VZ(e,t);function e(r,n,a,i,s){var o=t.call(this,r,n,a)||this;return o.shape=i,o.macroId=s,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(WZ);var GZ=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),hS=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),XZ=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),qZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qw=function(t){qZ(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.value=n,i.bitCount=a,i}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Le.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(XZ),YZ=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KZ=function(t){YZ(e,t);function e(r,n,a){var i=t.call(this,r,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=a,i}return e.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Qw);function ZZ(t,e,r){return new KZ(t,e,r)}function ou(t,e,r){return new Qw(t,e,r)}var QZ=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Os=0,rp=1,ia=2,J5=3,qa=4,JZ=new Qw(null,0,0),gv=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],eQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function tQ(t){var e,r;try{for(var n=eQ(t),a=n.next();!a.done;a=n.next()){var i=a.value;nr.fill(i,-1)}}catch(s){e={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Os][qa]=0,t[rp][qa]=0,t[rp][Os]=28,t[J5][qa]=0,t[ia][qa]=0,t[ia][Os]=15,t}var eT=tQ(nr.createInt32Array(6,6)),rQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nQ=function(){function t(e,r,n,a){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,a=this.token;if(e!==this.mode){var i=gv[this.mode][e];a=ou(a,i&65535,i>>16),n+=i>>16}var s=e===ia?4:5;return a=ou(a,r,s),new t(a,e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,a=this.mode===ia?4:5;return n=ou(n,eT[this.mode][e],a),n=ou(n,r,5),new t(n,this.mode,0,this.bitCount+a+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===qa||this.mode===ia){var i=gv[n][Os];r=ou(r,i&65535,i>>16),a+=i>>16,n=Os}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new t(r,n,this.binaryShiftByteCount+1,a+s);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=ZZ(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(gv[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,a=[],i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())a.unshift(i);var s=new hr;try{for(var o=rQ(a),c=o.next();!c.done;c=o.next()){var u=c.value;u.appendTo(s,e)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t.prototype.toString=function(){return qe.format("%s bits=%d bytes=%d",QZ[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(JZ,Os,0,0),t}();function aQ(t){var e=qe.getCharCode(" "),r=qe.getCharCode("."),n=qe.getCharCode(",");t[Os][e]=1;for(var a=qe.getCharCode("Z"),i=qe.getCharCode("A"),s=i;s<=a;s++)t[Os][s]=s-i+2;t[rp][e]=1;for(var o=qe.getCharCode("z"),c=qe.getCharCode("a"),s=c;s<=o;s++)t[rp][s]=s-c+2;t[ia][e]=1;for(var u=qe.getCharCode("9"),d=qe.getCharCode("0"),s=d;s<=u;s++)t[ia][s]=s-d+2;t[ia][n]=12,t[ia][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[J5][qe.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)qe.getCharCode(p[h])>0&&(t[qa][qe.getCharCode(p[h])]=h);return t}var vv=aQ(nr.createInt32Array(5,256)),fh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iQ=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=qe.getCharCode(" "),r=qe.getCharCode(`
`),n=hS.singletonList(nQ.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,s=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case qe.getCharCode("\r"):i=s===r?2:0;break;case qe.getCharCode("."):i=s===e?3:0;break;case qe.getCharCode(","):i=s===e?4:0;break;case qe.getCharCode(":"):i=s===e?5:0;break;default:i=0}i>0?(n=t.updateStateListForPair(n,a,i),a++):n=this.updateStateListForChar(n,a)}var o=hS.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return o.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,a,i=[];try{for(var s=fh(e),o=s.next();!o.done;o=s.next()){var c=o.value;this.updateStateForChar(c,r,i)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(i)},t.prototype.updateStateForChar=function(e,r,n){for(var a=this.text[r]&255,i=vv[e.getMode()][a]>0,s=null,o=0;o<=qa;o++){var c=vv[o][a];if(c>0){if(s==null&&(s=e.endBinaryShift(r)),!i||o===e.getMode()||o===ia){var u=s.latchAndAppend(o,c);n.push(u)}if(!i&&eT[e.getMode()][o]>=0){var d=s.shiftAndAppend(o,c);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||vv[e.getMode()][a]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var a,i,s=[];try{for(var o=fh(e),c=o.next();!c.done;c=o.next()){var u=c.value;this.updateStateForPair(u,r,n,s)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,r,n,a){var i=e.endBinaryShift(r);if(a.push(i.latchAndAppend(qa,n)),e.getMode()!==qa&&a.push(i.shiftAndAppend(qa,n)),n===3||n===4){var s=i.latchAndAppend(ia,16-n).latchAndAppend(ia,1);a.push(s)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(o)}},t.simplifyStates=function(e){var r,n,a,i,s=[];try{for(var o=fh(e),c=o.next();!c.done;c=o.next()){var u=c.value,d=!0,f=function(y){if(y.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(y)&&(s=s.filter(function(x){return x!==y}))};try{for(var h=(a=void 0,fh(s)),p=h.next();!p.done;p=h.next()){var m=p.value,g=f(m);if(g==="break")break}}catch(y){a={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}d&&s.push(u)}}catch(y){r={error:y}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t}(),sQ=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var a=new iQ(e).encode(),i=Le.truncDivision(a.getSize()*r,100)+11,s=a.getSize()+i,o,c,u,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(o=n<0,c=Math.abs(n),c>(o?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Ee(qe.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(c,o),d=t.WORD_SIZE[c];var h=u-u%d;if(f=t.stuffBits(a,d),f.getSize()+i>h)throw new Ee("Data to large for user specified layer");if(o&&f.getSize()>d*64)throw new Ee("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new Ee("Data too large for an Aztec code");if(o=p<=3,c=o?p+1:p,u=t.totalBitsInLayer(c,o),!(s>u)){(f==null||d!==t.WORD_SIZE[c])&&(d=t.WORD_SIZE[c],f=t.stuffBits(a,d));var h=u-u%d;if(!(o&&f.getSize()>d*64)&&f.getSize()+i<=h)break}}}var m=t.generateCheckWords(f,u,d),g=f.getSize()/d,y=t.generateModeMessage(o,c,g),x=(o?11:14)+c*4,v=new Int32Array(x),b;if(o){b=x;for(var p=0;p<v.length;p++)v[p]=p}else{b=x+1+2*Le.truncDivision(Le.truncDivision(x,2)-1,15);for(var w=Le.truncDivision(x,2),S=Le.truncDivision(b,2),p=0;p<w;p++){var E=p+Le.truncDivision(p,15);v[w-p-1]=S-E-1,v[w+p]=S+E+1}}for(var j=new ii(b),p=0,I=0;p<c;p++){for(var k=(c-p)*4+(o?9:12),T=0;T<k;T++)for(var L=T*2,C=0;C<2;C++)m.get(I+L+C)&&j.set(v[p*2+C],v[p*2+T]),m.get(I+k*2+L+C)&&j.set(v[p*2+T],v[x-1-p*2-C]),m.get(I+k*4+L+C)&&j.set(v[x-1-p*2-C],v[x-1-p*2-T]),m.get(I+k*6+L+C)&&j.set(v[x-1-p*2-T],v[p*2+C]);I+=k*8}if(t.drawModeMessage(j,o,b,y),o)t.drawBullsEye(j,Le.truncDivision(b,2),5);else{t.drawBullsEye(j,Le.truncDivision(b,2),7);for(var p=0,T=0;p<Le.truncDivision(x,2)-1;p+=15,T+=16)for(var C=Le.truncDivision(b,2)&1;C<b;C+=2)j.set(Le.truncDivision(b,2)-T,C),j.set(Le.truncDivision(b,2)+T,C),j.set(C,Le.truncDivision(b,2)-T),j.set(C,Le.truncDivision(b,2)+T)}var A=new GZ;return A.setCompact(o),A.setSize(b),A.setLayers(c),A.setCodeWords(g),A.setMatrix(j),A},t.drawBullsEye=function(e,r,n){for(var a=0;a<n;a+=2)for(var i=r-a;i<=r+a;i++)e.set(i,r-a),e.set(i,r+a),e.set(r-a,i),e.set(r+a,i);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var a=new hr;return e?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=t.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=t.generateCheckWords(a,40,4)),a},t.drawModeMessage=function(e,r,n,a){var i=Le.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var o=i-3+s;a.get(s)&&e.set(o,i-5),a.get(s+7)&&e.set(i+5,o),a.get(20-s)&&e.set(o,i+5),a.get(27-s)&&e.set(i-5,o)}else for(var s=0;s<10;s++){var o=i-5+s+Le.truncDivision(s,5);a.get(s)&&e.set(o,i-7),a.get(s+10)&&e.set(i+7,o),a.get(29-s)&&e.set(o,i+7),a.get(39-s)&&e.set(i-7,o)}},t.generateCheckWords=function(e,r,n){var a,i,s=e.getSize()/n,o=new Z5(t.getGF(n)),c=Le.truncDivision(r,n),u=t.bitsToWords(e,n,c);o.encode(u,c-s);var d=r%n,f=new hr;f.appendBits(0,d);try{for(var h=sQ(Array.from(u)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return f},t.bitsToWords=function(e,r,n){var a=new Int32Array(n),i,s;for(i=0,s=e.getSize()/r;i<s;i++){for(var o=0,c=0;c<r;c++)o|=e.get(i*r+c)?1<<r-c-1:0;a[i]=o}return a},t.getGF=function(e){switch(e){case 4:return mn.AZTEC_PARAM;case 6:return mn.AZTEC_DATA_6;case 8:return mn.AZTEC_DATA_8;case 10:return mn.AZTEC_DATA_10;case 12:return mn.AZTEC_DATA_12;default:throw new Ee("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new hr,a=e.getSize(),i=(1<<r)-2,s=0;s<a;s+=r){for(var o=0,c=0;c<r;c++)(s+c>=a||e.get(s+c))&&(o|=1<<r-1-c);(o&i)===i?(n.appendBits(o&i,r),s--):o&i?n.appendBits(o,r):(n.appendBits(o|1,r),s--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();const tT=({isOpen:t,onClose:e,eventId:r})=>{const{user:n}=al(),[a,i]=_.useState(!1),[s,o]=_.useState(null),[c,u]=_.useState(!1),[d,f]=_.useState([]),[h,p]=_.useState(""),[m,g]=_.useState(""),[y,x]=_.useState(null),[v,b]=_.useState(0),[w,S]=_.useState(!1),E=_.useRef(null),j=_.useRef(null);_.useEffect(()=>(t?I():C(),()=>{C()}),[t]),_.useEffect(()=>{const O=()=>{E.current&&a?S(!0):S(!1)};O();const $=setInterval(O,100);return()=>clearInterval($)},[a]);const I=async()=>{try{const{data:O,error:$}=await ue.from("user_attendance").select(`
          *,
          profiles!user_attendance_user_id_fkey(name),
          events(title)
        `).order("scanned_at",{ascending:!1}).limit(5);if($)throw $;f(O||[])}catch(O){console.error("Error fetching recent scans:",O)}},k=O=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(O),T=_.useCallback(async O=>{var D;const $=Date.now();if(!($-v<2e3)){b($);try{console.log("  QR :",O);const R=JSON.parse(O);if(R.type==="user_attendance"&&R.userId&&R.qrToken){if(R.userId==="test"||!k(R.userId)){console.log("   "),o({userId:R.userId,userName:R.userName||" ",userEmail:R.userEmail||"test@example.com",qrToken:R.qrToken}),C(),K.success("  QR- ");return}const{data:M,error:F}=await ue.from("profiles").select("id, name, qr_token").eq("id",R.userId).eq("qr_token",R.qrToken).single();if(F||!M)throw new Error("QR- ");o({userId:M.id,userName:M.name||` ${M.id.slice(0,8)}`,userEmail:R.userEmail||" ",qrToken:M.qr_token}),C();return}if(R.type==="event_registration"&&R.registrationId&&R.eventId){if(R.registrationId==="test-reg"||R.eventId==="test-event"){console.log("   "),o({userId:R.userId||"test-user",userName:R.fullName||" ",userEmail:R.email||"test@example.com",qrToken:R.registrationId,registrationData:{registrationId:R.registrationId,eventId:R.eventId,eventTitle:" ",adultTickets:R.adultTickets||1,childTickets:R.childTickets||0,totalAmount:R.totalAmount||0,paymentStatus:R.paymentStatus||"free"}}),C(),K.success("   ");return}const{data:M,error:F}=await ue.from("user_event_registrations").select(`
            *,
            event:events(id, title, start_at, location),
            profile:profiles(id, name)
          `).eq("registration_id",R.registrationId).eq("event_id",R.eventId).eq("status","active").single();if(F||!M)throw new Error("  ");o({userId:M.user_id,userName:M.full_name,userEmail:M.email,qrToken:R.registrationId,registrationData:{registrationId:M.registration_id,eventId:M.event_id,eventTitle:(D=M.event)==null?void 0:D.title,adultTickets:M.adult_tickets,childTickets:M.child_tickets,totalAmount:M.total_amount,paymentStatus:M.payment_status}}),C();return}throw new Error("  QR-")}catch(R){console.error("   QR:",R),K.error(R instanceof Error?R.message:" QR-")}}},[v]),L=_.useCallback(async()=>{try{if(console.log("  ZXing ..."),x(null),u(!0),await new Promise(R=>setTimeout(R,500)),!E.current)throw new Error("   .     .");console.log("   ");const O=new lZ;j.current=O,console.log("   ...");const $=await O.listVideoInputDevices();if($.length===0)throw new Error("  ");console.log(`  : ${$.length}`);const D=$[0].deviceId;console.log("  ..."),await O.decodeFromVideoDevice(D,E.current,(R,M)=>{R&&(console.log(" QR  :",R.getText()),T(R.getText())),M&&!(M instanceof te)&&console.warn("  :",M.message)}),i(!0),K.success("  ")}catch(O){console.error("  :",O);let $="  ";O instanceof Error&&(O.message.includes("Permission denied")||O.name==="NotAllowedError"?$="    .     .":O.message.includes("not found")||O.name==="NotFoundError"?$="   .   .":O.message.includes("in use")||O.name==="NotReadableError"?$="    .":O.message.includes("   ")?$="     .":$=` ${O.message}`),x($),K.error($)}finally{u(!1)}},[T]),C=_.useCallback(()=>{console.log("  ...");try{j.current&&(j.current.reset(),j.current=null,console.log("  "))}catch(O){console.warn("  :",O)}i(!1),x(null),b(0),S(!1)},[]),A=async()=>{var O,$;if(!(!s||!n))try{if(u(!0),s.userId==="test"||s.userId==="test-user"||!k(s.userId)){console.log("   "),K.success(`   : ${s.userName}`),o(null),p(""),g("");return}const D={user_id:s.userId,scanned_by:n.id,event_id:r||((O=s.registrationData)==null?void 0:O.eventId)||null,location:h.trim()||null,notes:m.trim()||null,attendance_type:r||($=s.registrationData)!=null&&$.eventId?"event":"general"},{error:R}=await ue.from("user_attendance").insert([D]);if(R)throw R;s.registrationData&&await ue.from("user_event_registrations").update({attended_at:new Date().toISOString(),attendance_confirmed:!0}).eq("registration_id",s.registrationData.registrationId).eq("user_id",s.userId),K.success(`  : ${s.userName}`),o(null),p(""),g(""),await I()}catch(D){console.error("Attendance error:",D),K.error("  ")}finally{u(!1)}},N=O=>{const $=O.target.value;$.trim()&&(T($.trim()),O.target.value="")};return t?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2",children:l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl w-full max-w-md max-h-[95vh] overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uc,{className:"h-5 w-5"}),l.jsx("h2",{className:"text-lg font-semibold",children:"QR "}),a&&l.jsx("span",{className:"text-xs bg-green-500 px-2 py-1 rounded animate-pulse",children:" LIVE"})]}),l.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 transition-colors p-1",children:l.jsx(Bt,{className:"h-6 w-6"})})]})}),l.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(95vh-80px)]",children:s?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(dc,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:s.registrationData?"  ":"  "}),l.jsxs("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-3",children:[l.jsx("p",{className:"font-medium",children:s.userName}),l.jsx("p",{className:"text-sm text-gray-500",children:s.userEmail}),(s.userId==="test"||s.userId==="test-user"||!k(s.userId))&&l.jsx("div",{className:"mt-2 p-2 bg-yellow-100 dark:bg-yellow-900/20 rounded text-xs",children:"   -      "}),s.registrationData&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-dark-600 text-sm",children:[l.jsxs("p",{className:"font-medium text-primary-600",children:[" ",s.registrationData.eventTitle]}),l.jsxs("p",{className:"text-xs",children:[" ",s.registrationData.adultTickets," ",s.registrationData.childTickets>0&&`, ${s.registrationData.childTickets} `]}),s.registrationData.totalAmount>0&&l.jsxs("p",{className:"text-xs",children:[" ",s.registrationData.totalAmount," "]})]}),l.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[" ",s.qrToken.slice(0,8),"..."]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),l.jsx("input",{type:"text",value:h,onChange:O=>p(O.target.value),placeholder:" , ...",className:"w-full p-2 border border-gray-300 dark:border-dark-600 rounded dark:bg-dark-800 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),l.jsx("textarea",{value:m,onChange:O=>g(O.target.value),placeholder:" ...",rows:2,className:"w-full p-2 border border-gray-300 dark:border-dark-600 rounded dark:bg-dark-800 text-sm"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>o(null),className:"flex-1 btn-outline py-3",children:" "}),l.jsx("button",{onClick:A,disabled:c,className:"flex-1 btn-primary py-3 font-medium",children:c?" ...":" "})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-center",children:[a?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative w-full aspect-square max-w-64 mx-auto rounded-lg overflow-hidden bg-black",children:[l.jsx("video",{ref:E,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"},autoPlay:!0,playsInline:!0,muted:!0}),w&&l.jsxs("div",{className:"absolute inset-4 border-2 border-primary-500 rounded-lg",children:[l.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-l-4 border-t-4 border-white rounded-tl"}),l.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-r-4 border-t-4 border-white rounded-tr"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-l-4 border-b-4 border-white rounded-bl"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-r-4 border-b-4 border-white rounded-br"}),l.jsx("div",{className:"absolute top-1/2 left-4 right-4 h-0.5 bg-primary-400 opacity-80 animate-pulse"})]}),!w&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-white text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),l.jsx("p",{className:"text-sm",children:" ..."})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"   QR-"}),l.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:[" ",w?" ":"..."]}),l.jsx("button",{onClick:C,className:"w-full btn-outline py-2",children:" "})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-full aspect-square max-w-64 mx-auto bg-gray-100 dark:bg-dark-700 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-dark-600",children:y?l.jsxs("div",{className:"text-center p-4",children:[l.jsx(Nd,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),l.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 max-w-48",children:y})]}):l.jsxs("div",{className:"text-center",children:[l.jsx(uc,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-xs text-gray-500",children:" ZXing Ready"})]})}),l.jsx("button",{onClick:L,disabled:c,className:"w-full btn-primary disabled:opacity-50 py-3 text-lg font-medium",children:c?" ...":"  "})]}),l.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"  :"}),l.jsx("textarea",{placeholder:" JSON  QR-...",className:"w-full p-2 border border-gray-300 dark:border-dark-600 rounded text-xs font-mono resize-none",rows:2,onChange:N}),l.jsxs("div",{className:"mt-2 space-y-1",children:[l.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"  :"}),l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded text-xs font-mono",children:["{",'"type":"user_attendance","userId":"test","qrToken":"test123","userName":" ","userEmail":"test@test.com","timestamp":1703025600000',"}"]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-xs font-mono",children:["{",'"type":"event_registration","registrationId":"test-reg","eventId":"test-event","fullName":" ","email":"test@test.com","adultTickets":2,"childTickets":1,"totalAmount":500,"paymentStatus":"paid"',"}"]})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-base font-semibold mb-2 flex items-center gap-2",children:[l.jsx(Vt,{className:"h-4 w-4"}),"  "]}),d.length>0?l.jsx("div",{className:"space-y-2",children:d.map(O=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-dark-700 rounded text-sm",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"font-medium truncate",children:O.profiles.name}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(O.scanned_at).toLocaleString("ru-RU",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l.jsx(dc,{className:"h-4 w-4 text-green-500 flex-shrink-0"})]},O.id))}):l.jsx("p",{className:"text-gray-500 text-center py-3 text-sm",children:" "})]})]})})]})}):null},oQ=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),lQ=()=>{const t=Ra();zi();const[e,r]=_.useState(!1),[n,a]=_.useState(!1),[i,s]=_.useState(!1),[o,c]=_.useState(!1);_.useEffect(()=>{const m=()=>{const g=window.innerWidth<768;s(g),g&&a(!0)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const u=[{to:"/admin",icon:HM,label:" ",shortLabel:"",end:!0},{to:"/admin/events",icon:Oe,label:"",shortLabel:""},{to:"/admin/speakers",icon:Vt,label:"",shortLabel:""},{to:"/admin/attendance",icon:Vt,label:"",shortLabel:""},{to:"/admin/rent",icon:DM,label:"",shortLabel:""},{to:"/admin/coworking",icon:OM,label:"",shortLabel:""},{to:"/admin/about",icon:zp,label:" ",shortLabel:" "},{to:"/admin/navigation",icon:Kx,label:"",shortLabel:"."},{to:"/admin/calendar",icon:Oe,label:"",shortLabel:"."},{to:"/admin/event-statistics",icon:Co,label:" ",shortLabel:". ."},{to:"/admin/export",icon:Zd,label:" ",shortLabel:""}],d=async()=>{try{const{error:m}=await oQ.auth.signOut();if(m)throw m;t("/"),K.success("    ")}catch(m){console.error("Logout error:",m),K.error("    ")}},f=()=>{a(!n)},h=()=>{r(!1)},p=()=>{c(!0),i&&h()};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900",children:[e&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:h}),i&&l.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700 z-30 h-14 flex items-center justify-between px-4",children:[l.jsx("button",{onClick:()=>r(!e),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700",children:l.jsx(Kx,{className:"h-5 w-5"})}),l.jsx("h1",{className:"text-lg font-semibold",children:" "}),l.jsx("button",{onClick:p,className:"p-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white",title:"QR ",children:l.jsx(Xl,{className:"h-5 w-5"})})]}),l.jsxs("aside",{className:`
        fixed top-0 left-0 h-full bg-white dark:bg-dark-800 border-r border-gray-200 dark:border-dark-700 z-50
        transition-all duration-300 ease-in-out
        ${i?`${e?"translate-x-0":"-translate-x-full"} w-64`:`${n?"w-16":"w-64"}`}
      `,children:[l.jsxs("div",{className:`
          h-12 flex items-center border-b border-gray-200 dark:border-dark-700
          ${n&&!i?"justify-center px-2":"justify-between px-4"}
        `,children:[(!n||i)&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:l.jsx(Sd,{className:"h-5 w-5 text-white"})}),l.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:" "})]}),!i&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:p,className:"p-1.5 rounded-lg bg-primary-500 hover:bg-primary-600 text-white transition-colors",title:"QR ",children:l.jsx(Xl,{className:"h-4 w-4"})}),l.jsx("button",{onClick:f,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:n?l.jsx(Yd,{className:"h-4 w-4"}):l.jsx(qd,{className:"h-4 w-4"})})]}),i&&l.jsx("button",{onClick:h,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700",children:l.jsx(Bt,{className:"h-4 w-4"})})]}),(!n||i)&&l.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-dark-700",children:l.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 px-3 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors font-medium",children:[l.jsx(Xl,{className:"h-5 w-5"}),l.jsx("span",{children:"QR "})]})}),l.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:l.jsx("div",{className:"space-y-1 px-2",children:u.map(m=>{const g=m.icon;return l.jsxs(TR,{to:m.to,end:m.end,onClick:i?h:void 0,className:({isActive:y})=>`
                    group relative flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200
                    ${y?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-700"}
                    ${n&&!i?"justify-center":""}
                  `,title:n&&!i?m.label:"",children:[l.jsx(g,{className:"h-5 w-5 flex-shrink-0"}),(!n||i)&&l.jsx("span",{className:"text-sm font-medium",children:m.label}),n&&!i&&l.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:m.label})]},m.to)})})}),l.jsx("div",{className:"border-t border-gray-200 dark:border-dark-700 p-2",children:l.jsxs("button",{onClick:d,className:`
              group relative w-full flex items-center gap-3 px-3 py-2.5 rounded-lg
              text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20
              transition-all duration-200
              ${n&&!i?"justify-center":""}
            `,title:n&&!i?"":"",children:[l.jsx(Pj,{className:"h-4 w-4 flex-shrink-0"}),(!n||i)&&l.jsx("span",{className:"text-sm",children:""}),n&&!i&&l.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:""})]})})]}),l.jsx("main",{className:`
        transition-all duration-300 ease-in-out
        ${i?"ml-0 pt-14":`${n?"ml-16":"ml-64"} pt-12`}
        p-3 md:p-4
      `,children:l.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm p-3 md:p-6 min-h-[calc(100vh-5rem)] md:min-h-[calc(100vh-4rem)]",children:l.jsx(vR,{})})}),o&&l.jsx(tT,{isOpen:o,onClose:()=>c(!1)})]})},lu=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),cu={style:"centered",centered:{title:"ScienceHub",subtitle:"   ",logoLight:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_science_hub%20no_title.png",logoDark:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_white_science_hub%20no_title.png"},slideshow:{slides:[],settings:{autoplaySpeed:5e3,transition:"fade"}}},xv={enabled:!0,title:"   ScienceHub",description:"     ,   .     ,   .",image:"https://wummwcsqsznyyaajcxww.supabase.co/storage/v1/object/public/images/logo/logo_science_hub%20no_title.png",order:1},yv={enabled:!0,title:" ",description:"       ,    .",image:"https://example.com/rent-image.jpg",order:2},bv={enabled:!0,title:" ",description:"            ScienceHub.",image:"https://example.com/coworking-image.jpg",order:3},wv={events_count:3,show_title:!0,show_date:!0,show_time:!0,show_language:!0,show_type:!0,show_age:!0,show_image:!0,show_price:!0},cQ=()=>{const[t,e]=_.useState(null),[r,n]=_.useState(cu),[a,i]=_.useState(xv),[s,o]=_.useState(yv),[c,u]=_.useState(bv),[d,f]=_.useState(wv),[h,p]=_.useState(!1),[m,g]=_.useState(!1),y=_.useRef(null);_.useEffect(()=>{w()},[]);const x=async k=>new Promise(T=>{const L=new FileReader;L.onload=C=>{var N;const A=new Image;A.src=(N=C.target)==null?void 0:N.result,A.onload=()=>{const O=document.createElement("canvas"),$=O.getContext("2d");let D=A.width,R=A.height;if(D>1e3){const M=1e3/D;D=1e3,R=R*M}O.width=D,O.height=R,$?($.drawImage(A,0,0,D,R),O.toBlob(M=>{if(M&&M.size>1e6)O.toBlob(F=>{if(F){const B=new File([F],k.name,{type:"image/jpeg",lastModified:Date.now()});T(B)}else T(k)},"image/jpeg",.5);else if(M){const F=new File([M],k.name,{type:"image/jpeg",lastModified:Date.now()});T(F)}else T(k)},"image/jpeg",.7)):T(k)}},L.readAsDataURL(k)}),v=async(k,T)=>{try{const L=await x(k);await b(L,T),K.success("  ")}catch(L){console.error("Error uploading image:",L),K.error("   ")}},b=async(k,T)=>{try{const L=Date.now(),C=k.name.split(".").pop(),N=`images/${`${T}_${L}.${C}`}`,{error:O}=await lu.storage.from("images").upload(N,k);if(O)throw O;const $=`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${N}`;T==="slide"?n(D=>({...D,slideshow:{...D.slideshow,slides:[...D.slideshow.slides,{id:crypto.randomUUID(),image:$,title:" ",subtitle:" "}]}})):T==="info"?i(D=>({...D,image:$})):T==="rent"?o(D=>({...D,image:$})):T==="coworking"?u(D=>({...D,image:$})):T==="logo-light"?n(D=>({...D,centered:{...D.centered,logoLight:$}})):T==="logo-dark"&&n(D=>({...D,centered:{...D.centered,logoDark:$}}))}catch(L){throw console.error("Error uploading image:",L),L}},w=async()=>{var k;try{p(!0);const{data:T,error:L}=await lu.from("site_settings").select("*").single();if(L){if(L.code==="PGRST116"){const{data:C,error:A}=await lu.from("site_settings").insert([{header_settings:cu,info_section:xv,rent_selection:yv,coworking_selection:bv,homepage_settings:wv}]).select().single();if(A)throw A;if(C){e(C.id);return}}throw L}T&&(e(T.id),T.header_settings&&n({...cu,...T.header_settings,slideshow:{...cu.slideshow,...T.header_settings.slideshow,settings:{...cu.slideshow.settings,...(k=T.header_settings.slideshow)==null?void 0:k.settings}}}),T.info_section&&i({...xv,...T.info_section}),T.rent_selection&&o({...yv,...T.rent_selection}),T.coworking_selection&&u({...bv,...T.coworking_selection}),T.homepage_settings&&f({...wv,...T.homepage_settings}))}catch(T){console.error("Error fetching settings:",T),K.error("   ")}finally{p(!1)}},S=async()=>{if(!t){K.error("ID   ");return}try{g(!0);const{error:k}=await lu.from("site_settings").update({header_settings:r,info_section:a,rent_selection:s,coworking_selection:c,homepage_settings:d}).eq("id",t);if(k)throw k;K.success("  ")}catch(k){console.error("Error saving settings:",k),K.error("   ")}finally{g(!1)}},E=()=>{const k={id:Date.now().toString(),image:"",title:"",subtitle:""};n(T=>({...T,slideshow:{...T.slideshow,slides:[...T.slideshow.slides,k]}}))},j=(k,T)=>{const L=[...r.slideshow.slides],C=L.findIndex(O=>O.id===k);if(C===-1)return;const A=T==="up"?C-1:C+1;if(A<0||A>=L.length)return;const[N]=L.splice(C,1);L.splice(A,0,N),n(O=>({...O,slideshow:{...O.slideshow,slides:L}}))},I=k=>{n(T=>({...T,slideshow:{...T.slideshow,slides:T.slideshow.slides.filter(L=>L.id!==k)}}))};return h?l.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsx("div",{className:"min-h-[calc(100vh-200px)] bg-gray-50 dark:bg-dark-900 py-8 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:"  "}),l.jsx("p",{className:"text-dark-600 dark:text-dark-400 mt-1",children:" ,    "})]}),l.jsxs("button",{onClick:S,disabled:m,className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg flex items-center gap-2 transition-colors disabled:opacity-70",children:[l.jsx(Ia,{className:"w-5 h-5"}),m?"...":" "]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white mb-6",children:" "}),l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("button",{onClick:()=>n(k=>({...k,style:"centered"})),className:`flex-1 min-w-[200px] p-4 rounded-lg border-2 flex flex-col items-center transition-colors ${r.style==="centered"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-dark-200 dark:border-dark-600 hover:border-dark-300 dark:hover:border-dark-500"}`,children:[l.jsx("div",{className:"w-16 h-16 bg-dark-100 dark:bg-dark-700 rounded-full mb-3 flex items-center justify-center",children:l.jsx(Hh,{className:"w-8 h-8 text-dark-500"})}),l.jsx("span",{className:"font-medium",children:" "})]}),l.jsxs("button",{onClick:()=>n(k=>({...k,style:"slideshow"})),className:`flex-1 min-w-[200px] p-4 rounded-lg border-2 flex flex-col items-center transition-colors ${r.style==="slideshow"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-dark-200 dark:border-dark-600 hover:border-dark-300 dark:hover:border-dark-500"}`,children:[l.jsx("div",{className:"w-16 h-16 bg-dark-100 dark:bg-dark-700 rounded-lg mb-3 flex items-center justify-center",children:l.jsx(Xa,{className:"w-8 h-8 text-dark-500"})}),l.jsx("span",{className:"font-medium",children:""})]})]})]}),r.style==="centered"&&l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white mb-6",children:"  "}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsx("input",{type:"text",id:"title",value:r.centered.title,onChange:k=>n(T=>({...T,centered:{...T.centered,title:k.target.value}})),className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"subtitle",className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsx("input",{type:"text",id:"subtitle",value:r.centered.subtitle,onChange:k=>n(T=>({...T,centered:{...T.centered,subtitle:k.target.value}})),className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:" "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:" ( )"}),l.jsxs("div",{className:"p-4 border border-dark-300 dark:border-dark-600 rounded-lg bg-white flex flex-col items-center",children:[l.jsx("img",{src:r.centered.logoLight,alt:"Light Logo Preview",className:"h-20 w-auto object-contain mb-3"}),l.jsxs("button",{onClick:()=>{const k=document.createElement("input");k.type="file",k.accept="image/*",k.onchange=async T=>{var C;const L=(C=T.target.files)==null?void 0:C[0];L&&await v(L,"logo-light")},k.click()},className:"px-3 py-1.5 text-sm bg-dark-100 hover:bg-dark-200 text-dark-800 rounded-lg flex items-center gap-1",children:[l.jsx(Qa,{className:"w-4 h-4"}),""]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:" ( )"}),l.jsxs("div",{className:"p-4 border border-dark-300 dark:border-dark-600 rounded-lg bg-dark-900 flex flex-col items-center",children:[l.jsx("img",{src:r.centered.logoDark,alt:"Dark Logo Preview",className:"h-20 w-auto object-contain mb-3"}),l.jsxs("button",{onClick:()=>{const k=document.createElement("input");k.type="file",k.accept="image/*",k.onchange=async T=>{var C;const L=(C=T.target.files)==null?void 0:C[0];L&&await v(L,"logo-dark")},k.click()},className:"px-3 py-1.5 text-sm bg-dark-700 hover:bg-dark-600 text-white rounded-lg flex items-center gap-1",children:[l.jsx(Qa,{className:"w-4 h-4"}),""]})]})]})]})]})]}),r.style==="slideshow"&&l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:" "}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:()=>{const k=document.createElement("input");k.type="file",k.accept="image/*",k.onchange=async T=>{var C;const L=(C=T.target.files)==null?void 0:C[0];L&&await v(L,"slide")},k.click()},className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[l.jsx(jo,{className:"w-4 h-4"})," "]}),l.jsxs("button",{onClick:E,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[l.jsx(ha,{className:"w-4 h-4"})," "]})]})]}),l.jsx("div",{className:"space-y-6",children:r.slideshow.slides.length>0?l.jsx("div",{className:"space-y-4",children:r.slideshow.slides.map((k,T)=>l.jsx("div",{className:"border border-dark-300 dark:border-dark-600 rounded-lg p-4",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx("div",{className:"w-full md:w-32 h-20 bg-dark-100 dark:bg-dark-700 rounded-lg flex items-center justify-center overflow-hidden relative group",children:k.image?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:k.image,alt:"Slide preview",className:"w-full h-full object-cover"}),l.jsx("button",{onClick:()=>{const L=document.createElement("input");L.type="file",L.accept="image/*",L.onchange=async C=>{var N;const A=(N=C.target.files)==null?void 0:N[0];if(A){const O=await x(A),$=Date.now(),D=A.name.split(".").pop(),M=`images/${`slide_${$}.${D}`}`,{error:F}=await lu.storage.from("images").upload(M,O);if(!F){const B=`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${M}`,U=r.slideshow.slides.map(q=>q.id===k.id?{...q,image:B}:q);n(q=>({...q,slideshow:{...q.slideshow,slides:U}})),K.success(" ")}}},L.click()},className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-white",children:l.jsx(Qa,{className:"w-5 h-5"})})]}):l.jsx(Xa,{className:"w-8 h-8 text-dark-400"})}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsx("div",{children:l.jsx("input",{type:"text",value:k.title,onChange:L=>{const C=r.slideshow.slides.map(A=>A.id===k.id?{...A,title:L.target.value}:A);n(A=>({...A,slideshow:{...A.slideshow,slides:C}}))},className:"w-full p-2 border border-dark-300 dark:border-dark-600 rounded-md dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"  "})}),l.jsx("div",{children:l.jsx("input",{type:"text",value:k.subtitle,onChange:L=>{const C=r.slideshow.slides.map(A=>A.id===k.id?{...A,subtitle:L.target.value}:A);n(A=>({...A,slideshow:{...A.slideshow,slides:C}}))},className:"w-full p-2 border border-dark-300 dark:border-dark-600 rounded-md dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:" "})})]}),l.jsxs("div",{className:"flex gap-2 self-center md:self-start",children:[l.jsx("button",{onClick:()=>j(k.id,"up"),disabled:T===0,className:"p-2 hover:bg-dark-200 dark:hover:bg-dark-600 rounded-md disabled:opacity-50",title:" ",children:l.jsx(Tj,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>j(k.id,"down"),disabled:T===r.slideshow.slides.length-1,className:"p-2 hover:bg-dark-200 dark:hover:bg-dark-600 rounded-md disabled:opacity-50",title:" ",children:l.jsx(jj,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>I(k.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 text-red-500 rounded-md",title:" ",children:l.jsx(Pn,{className:"w-5 h-5"})})]})]})},k.id))}):l.jsxs("div",{className:"text-center py-12 bg-dark-50 dark:bg-dark-700 rounded-lg border-2 border-dashed border-dark-300 dark:border-dark-600",children:[l.jsx(Xa,{className:"mx-auto h-12 w-12 text-dark-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-dark-900 dark:text-white",children:"  "}),l.jsx("p",{className:"mt-1 text-sm text-dark-500 dark:text-dark-400",children:'  " "  '})]})})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:l.jsx(Hh,{className:"w-5 h-5"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:'  " "'})]}),l.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:a.enabled,onChange:k=>i(T=>({...T,enabled:k.target.checked})),className:"sr-only peer"}),l.jsx("div",{className:"relative w-11 h-6 bg-dark-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-dark-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-dark-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-dark-600 peer-checked:bg-primary-600"}),l.jsx("span",{className:"ms-3 text-sm font-medium text-dark-700 dark:text-dark-300",children:a.enabled?"":""})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsx("input",{type:"text",value:a.title,onChange:k=>i(T=>({...T,title:k.target.value})),className:"w-full p-3 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsx("textarea",{value:a.description,onChange:k=>i(T=>({...T,description:k.target.value})),rows:4,className:"w-full p-3 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-20 border border-dark-300 dark:border-dark-600 rounded-lg overflow-hidden",children:l.jsx("img",{src:a.image,alt:"Info section preview",className:"w-full h-full object-cover"})}),l.jsxs("button",{onClick:()=>{const k=document.createElement("input");k.type="file",k.accept="image/*",k.onchange=async T=>{var C;const L=(C=T.target.files)==null?void 0:C[0];L&&await v(L,"info")},k.click()},className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[l.jsx(jo,{className:"w-4 h-4"})," "]})]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-6",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:l.jsx(Oe,{className:"w-5 h-5"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:'  ""'})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"  "}),l.jsxs("select",{value:d.events_count,onChange:k=>f(T=>({...T,events_count:parseInt(k.target.value)})),className:"w-full p-3 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500",children:[l.jsx("option",{value:1,children:"1 "}),l.jsx("option",{value:2,children:"2 "}),l.jsx("option",{value:3,children:"3 "}),l.jsx("option",{value:4,children:"4 "}),l.jsx("option",{value:6,children:"6 "}),l.jsx("option",{value:8,children:"8 "})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-dark-900 dark:text-white mb-4",children:" "}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"show_title",label:""},{key:"show_date",label:""},{key:"show_time",label:""},{key:"show_language",label:""},{key:"show_type",label:" "},{key:"show_age",label:" "},{key:"show_image",label:""},{key:"show_price",label:""}].map(k=>l.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:d[k.key],onChange:T=>f(L=>({...L,[k.key]:T.target.checked})),className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),l.jsx("span",{className:"text-sm text-dark-700 dark:text-dark-300",children:k.label})]},k.key))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-dark-900 dark:text-white mb-4",children:" "}),l.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-4 border-2 border-dashed border-gray-300 dark:border-dark-600",children:l.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[l.jsx(Oe,{className:"w-8 h-8 mx-auto mb-2"}),l.jsxs("p",{children:["  ",d.events_count," "]}),l.jsxs("p",{className:"text-xs mt-1",children:[" : ",[d.show_title&&"",d.show_date&&"",d.show_time&&"",d.show_image&&"",d.show_price&&""].filter(Boolean).join(", ")]})]})})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:l.jsx(Hh,{className:"w-5 h-5"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:'  ""'})]}),l.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:s.enabled,onChange:k=>o(T=>({...T,enabled:k.target.checked})),className:"sr-only peer"}),l.jsx("div",{className:"relative w-11 h-6 bg-dark-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-dark-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-dark-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-dark-600 peer-checked:bg-primary-600"}),l.jsx("span",{className:"ms-3 text-sm font-medium text-dark-700 dark:text-dark-300",children:s.enabled?"":""})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsx("input",{type:"text",value:s.title,onChange:k=>o(T=>({...T,title:k.target.value})),className:"w-full p-3 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsx("textarea",{value:s.description,onChange:k=>o(T=>({...T,description:k.target.value})),rows:4,className:"w-full p-3 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-20 border border-dark-300 dark:border-dark-600 rounded-lg overflow-hidden",children:l.jsx("img",{src:s.image,alt:"Rent section preview",className:"w-full h-full object-cover"})}),l.jsxs("button",{onClick:()=>{const k=document.createElement("input");k.type="file",k.accept="image/*",k.onchange=async T=>{var C;const L=(C=T.target.files)==null?void 0:C[0];L&&await v(L,"rent")},k.click()},className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[l.jsx(jo,{className:"w-4 h-4"})," "]})]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:l.jsx(Vt,{className:"w-5 h-5"})}),l.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:'  ""'})]}),l.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:c.enabled,onChange:k=>u(T=>({...T,enabled:k.target.checked})),className:"sr-only peer"}),l.jsx("div",{className:"relative w-11 h-6 bg-dark-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-dark-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-dark-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-dark-600 peer-checked:bg-primary-600"}),l.jsx("span",{className:"ms-3 text-sm font-medium text-dark-700 dark:text-dark-300",children:c.enabled?"":""})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsx("input",{type:"text",value:c.title,onChange:k=>u(T=>({...T,title:k.target.value})),className:"w-full p-3 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsx("textarea",{value:c.description,onChange:k=>u(T=>({...T,description:k.target.value})),rows:4,className:"w-full p-3 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-32 h-20 border border-dark-300 dark:border-dark-600 rounded-lg overflow-hidden",children:l.jsx("img",{src:c.image,alt:"Coworking section preview",className:"w-full h-full object-cover"})}),l.jsxs("button",{onClick:()=>{const k=document.createElement("input");k.type="file",k.accept="image/*",k.onchange=async T=>{var C;const L=(C=T.target.files)==null?void 0:C[0];L&&await v(L,"coworking")},k.click()},className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg flex items-center gap-2 transition-colors",children:[l.jsx(jo,{className:"w-4 h-4"})," "]})]})]})]})]}),l.jsx("input",{ref:y,type:"file",accept:"image/*",className:"hidden"})]})})},uQ=({isOpen:t,onClose:e,event:r})=>{const n=Ra(),[a,i]=_.useState(null),[s,o]=_.useState({}),[c,u]=_.useState(r),[d,f]=_.useState(!1),[h,p]=_.useState(!1);_.useEffect(()=>{u(r)},[r]);const m=()=>{if(ei(r.start_at))try{return lt(Ci(r.start_at),"d MMMM yyyy",{locale:ra})}catch(I){console.error("Error formatting start_at:",r.start_at,I)}if(ei(r.start_time))try{return lt(Ci(r.start_time),"d MMMM yyyy",{locale:ra})}catch(I){console.error("Error formatting start_time:",r.start_time,I)}if(ei(r.date))try{return lt(Ci(r.date),"d MMMM yyyy",{locale:ra})}catch(I){console.error("Error formatting date:",r.date,I)}return"  "},g=()=>{var I;return(I=c.registrations)!=null&&I.reg_list?c.registrations.reg_list:c.registrations_list||[]},y=()=>{var I;return((I=c.registrations)==null?void 0:I.max_regs)!==void 0?c.registrations.max_regs:c.max_registrations||null},x=()=>{var I;return((I=c.registrations)==null?void 0:I.current)!==void 0?c.registrations.current:c.current_registration_count||0},v=I=>{i(I.id),o(I)},b=async I=>{try{if(f(!0),!s.full_name||!s.email){K.error("  email   ");return}const{data:k,error:T}=await ue.from("events").select("registrations, registrations_list").eq("id",r.id).single();if(T)throw T;let L;if(k.registrations){const N=[...k.registrations.reg_list].map(O=>O.id===I?{...O,...s}:O);L={...k.registrations,reg_list:N}}else{const N=(k.registrations_list||[]).map(O=>O.id===I?{...O,...s}:O);L={max_regs:c.max_registrations||null,current:0,current_adults:0,current_children:0,reg_list:N}}const{error:C}=await ue.from("events").update({registrations:L}).eq("id",r.id);if(C)throw C;u(A=>({...A,registrations:L})),i(null),o({}),K.success("  ")}catch(k){console.error("Error updating registration:",k),K.error("   ")}finally{f(!1)}},w=async I=>{if(confirm(" ,     ?"))try{p(!0);const{data:k,error:T}=await ue.from("events").select("registrations, registrations_list").eq("id",r.id).single();if(T)throw T;let L;if(k.registrations){const N=[...k.registrations.reg_list].filter(O=>O.id!==I);L={...k.registrations,reg_list:N}}else{const N=(k.registrations_list||[]).filter(O=>O.id!==I);L={max_regs:c.max_registrations||null,current:0,current_adults:0,current_children:0,reg_list:N}}const{error:C}=await ue.from("events").update({registrations:L}).eq("id",r.id);if(C)throw C;u(A=>({...A,registrations:L})),K.success(" ")}catch(k){console.error("Error deleting registration:",k),K.error("   ")}finally{p(!1)}},S=g(),E=y(),j=x();return l.jsx(Rc,{isOpen:t,onClose:e,title:" ",size:"xl",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:" "}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-dark-600 dark:text-dark-300",children:[l.jsx(Oe,{className:"h-5 w-5"}),l.jsx("span",{children:m()})]}),l.jsxs("div",{className:"flex items-center gap-2 text-dark-600 dark:text-dark-300",children:[l.jsx(vr,{className:"h-5 w-5"}),l.jsx("span",{children:r.location})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:""}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:" :"}),l.jsx("span",{className:"font-medium",children:E||" "})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:":"}),l.jsx("span",{className:"font-medium",children:j})]}),r.payment_link&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:"   :"}),l.jsx("span",{className:"font-medium",children:r.payment_link_clicks||0})]}),E&&E>0&&l.jsx("div",{className:"h-2 bg-gray-200 dark:bg-dark-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary-600 rounded-full transition-all",style:{width:`${j/E*100}%`}})})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-4",children:" "}),(S==null?void 0:S.length)>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 dark:bg-dark-700",children:[l.jsx("th",{className:"px-4 py-3 text-left",children:""}),l.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),l.jsx("th",{className:"px-4 py-3 text-center",children:""}),l.jsx("th",{className:"px-4 py-3 text-center",children:""}),l.jsx("th",{className:"px-4 py-3 text-right",children:""}),l.jsx("th",{className:"px-4 py-3 text-center",children:""}),l.jsx("th",{className:"px-4 py-3 text-center",children:""})]})}),l.jsx("tbody",{children:S.map(I=>l.jsx("tr",{className:"border-t border-gray-200 dark:border-dark-700",children:a===I.id?l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"text",value:s.full_name||"",onChange:k=>o({...s,full_name:k.target.value}),className:"w-full px-2 py-1 border rounded"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("input",{type:"email",value:s.email||"",onChange:k=>o({...s,email:k.target.value}),className:"w-full px-2 py-1 border rounded"})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("input",{type:"number",value:s.adult_tickets||0,onChange:k=>o({...s,adult_tickets:parseInt(k.target.value)}),className:"w-20 px-2 py-1 border rounded text-center",min:"0"})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("input",{type:"number",value:s.child_tickets||0,onChange:k=>o({...s,child_tickets:parseInt(k.target.value)}),className:"w-20 px-2 py-1 border rounded text-center",min:"0"})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx("input",{type:"number",value:s.total_amount||0,onChange:k=>o({...s,total_amount:parseInt(k.target.value)}),className:"w-24 px-2 py-1 border rounded text-right",min:"0"})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsxs("select",{value:s.status?"true":"false",onChange:k=>o({...s,status:k.target.value==="true"}),className:"px-2 py-1 border rounded",children:[l.jsx("option",{value:"true",children:""}),l.jsx("option",{value:"false",children:""})]})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsxs("div",{className:"flex justify-center gap-2",children:[l.jsx("button",{onClick:()=>b(I.id),disabled:d,className:"p-1 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded",children:d?l.jsx(mr,{className:"h-4 w-4 animate-spin"}):l.jsx($p,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>i(null),className:"p-1 text-gray-600 hover:bg-gray-100 dark:hover:bg-dark-700 rounded",children:l.jsx(Bt,{className:"h-4 w-4"})})]})})]}):l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"px-4 py-3",children:I.full_name}),l.jsx("td",{className:"px-4 py-3",children:I.email}),l.jsx("td",{className:"px-4 py-3 text-center",children:I.adult_tickets}),l.jsx("td",{className:"px-4 py-3 text-center",children:I.child_tickets}),l.jsx("td",{className:"px-4 py-3 text-right",children:I.total_amount}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${I.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:I.status?"":""})}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsxs("div",{className:"flex justify-center gap-2",children:[l.jsx("button",{onClick:()=>v(I),className:"p-1 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:l.jsx(Qa,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>w(I.id),disabled:h,className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:h?l.jsx(mr,{className:"h-4 w-4 animate-spin"}):l.jsx(Pn,{className:"h-4 w-4"})})]})})]})},I.id))})]})}):l.jsx("p",{className:"text-center py-4 text-dark-500 dark:text-dark-400",children:"  "})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-8 pt-6 border-t border-gray-200 dark:border-dark-700",children:[l.jsx("button",{onClick:e,className:"btn-outline",children:""}),l.jsx("button",{onClick:()=>{e(),n(`/admin/events/${r.id}/edit`)},className:"btn-primary",children:""})]})]})})},pS=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),mS={active:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 dark:from-green-900/30 dark:to-green-800/30 dark:text-green-400",draft:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 dark:from-yellow-900/30 dark:to-yellow-800/30 dark:text-yellow-400",past:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 dark:from-gray-900/30 dark:to-gray-800/30 dark:text-gray-400"},dQ=t=>{if(t.length<=50){const n=t.split(" ");if(n.length<=2)return{line1:n[0]||" ",line2:n[1]||" "};const a=Math.ceil(n.length/2);return{line1:n.slice(0,a).join(" "),line2:n.slice(a).join(" ")}}return{line1:t.substring(0,30),line2:t.substring(30,47)+"..."}},fQ=()=>{Ra();const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(""),[s,o]=_.useState("chronological"),[c,u]=_.useState("active"),[d,f]=_.useState([]),[h,p]=_.useState(null),[m,g]=_.useState(!1);_.useEffect(()=>{y()},[s,c]);const y=async()=>{try{n(!0);let C=pS.from("events").select(`
          *,
          time_slot:time_slots_table!fk_time_slots_event(
            id,
            start_at,
            end_at
          )
        `);c==="past"?C=C.or("status.eq.past,status.eq.active"):c!=="all"&&(C=C.eq("status",c));const{data:A,error:N}=await C;if(N)throw N;const O=(A||[]).map(D=>{var R,M,F,B;return{...D,start_at:((M=(R=D.time_slot)==null?void 0:R[0])==null?void 0:M.start_at)||D.start_at,end_at:((B=(F=D.time_slot)==null?void 0:F[0])==null?void 0:B.end_at)||D.end_at}});let $=O;switch(c==="past"?$=O.filter(D=>D.status==="past"||D.end_at&&ds(D.end_at)):c==="active"&&($=O.filter(D=>D.status==="active"&&(!D.end_at||!ds(D.end_at)))),s){case"chronological":c==="active"?$.sort((D,R)=>{const M=new Date(D.start_at||0),F=new Date(R.start_at||0);return M.getTime()-F.getTime()}):$.sort((D,R)=>{const M=new Date(D.created_at||0);return new Date(R.created_at||0).getTime()-M.getTime()});break;case"date-asc":$.sort((D,R)=>{const M=new Date(D.start_at||0),F=new Date(R.start_at||0);return M.getTime()-F.getTime()});break;case"date-desc":$.sort((D,R)=>{const M=new Date(D.start_at||0);return new Date(R.start_at||0).getTime()-M.getTime()});break;case"title-asc":$.sort((D,R)=>D.title.localeCompare(R.title));break;case"title-desc":$.sort((D,R)=>R.title.localeCompare(D.title));break}e($),f([])}catch(C){console.error("Error fetching events:",C),K.error("   ")}finally{n(!1)}},x=async()=>{if(d.length===0)return;const C=d.length;if(confirm(` ,    ${C} ${C===1?"":""}?`))try{const{error:A}=await pS.from("events").delete().in("id",d);if(A)throw A;K.success(`  ${C} ${C===1?"":""}`),f([]),y()}catch(A){console.error("Error deleting events:",A),K.error("   ")}},v=(C,A)=>{A.stopPropagation(),f(N=>N.includes(C)?N.filter(O=>O!==C):[...N,C])},b=C=>{C.stopPropagation(),d.length===w.length?f([]):f(w.map(A=>A.id))},w=t.filter(C=>{var N,O;return C.title.toLowerCase().includes(a.toLowerCase())||((N=C.description)==null?void 0:N.toLowerCase().includes(a.toLowerCase()))||((O=C.location)==null?void 0:O.toLowerCase().includes(a.toLowerCase()))}),S=C=>{var A;return((A=C.registrations)==null?void 0:A.current)!==void 0?C.registrations.current:C.current_registration_count||0},E=C=>{var A;return((A=C.registrations)==null?void 0:A.max_regs)!==void 0?C.registrations.max_regs:C.max_registrations||null},j=C=>{const A=C.payment_type,N=C.price;return A==="free"?"":A==="donation"?"":A==="cost"&&N!==null&&N!==void 0?N===0?"":`${N} ${C.currency||"RUB"}`:""},I=C=>{const A=S(C),N=E(C);return A>0||N!==null||C.payment_type!=="free"||C.status==="active"},k=C=>!!(C.registrations||C.registrations_list||C.current_registration_count!==void 0),T=C=>{if(!C.start_at)return"  ";const A=en(C.start_at),N=C.end_at?Ja(C.start_at,C.end_at):Mi(C.start_at);return`${A}  ${N}`},L=[{id:"active",label:"",count:t.filter(C=>C.status==="active"&&(!C.end_at||!ds(C.end_at))).length},{id:"past",label:"",count:t.filter(C=>C.status==="past"||C.end_at&&ds(C.end_at)).length},{id:"draft",label:"",count:t.filter(C=>C.status==="draft").length}];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-12 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-4 font-heading",children:" "}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:",     "})]}),l.jsx("div",{className:"flex justify-center mb-10",children:l.jsxs(Be,{to:"/admin/events/new",className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg font-heading",children:[l.jsx(ha,{className:"w-5 h-5"})," "]})}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg mb-8 border border-gray-100 dark:border-gray-700",children:[l.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx(ai,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"   ,   ...",value:a,onChange:C=>i(C.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200"})]}),l.jsx("div",{className:"flex gap-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(j0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsxs("select",{value:s,onChange:C=>o(C.target.value),className:"pl-10 pr-8 py-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",children:[l.jsx("option",{value:"chronological",children:""}),l.jsx("option",{value:"date-desc",children:" "}),l.jsx("option",{value:"date-asc",children:" "}),l.jsx("option",{value:"title-asc",children:"  (-)"}),l.jsx("option",{value:"title-desc",children:"  (-)"})]})]})})]})}),l.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-xl mx-6 my-4",children:L.map(C=>l.jsxs("button",{onClick:()=>u(C.id),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-300 font-heading ${c===C.id?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-white dark:hover:bg-gray-600"}`,children:[C.label,C.count>0&&l.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-bold ${c===C.id?"bg-white/20 text-white":"bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400"}`,children:C.count})]},C.id))})})})]}),t.length>0&&l.jsxs("div",{className:"mb-8 flex items-center gap-4 p-4 bg-white dark:bg-dark-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700",children:[l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:d.length>0&&d.length===w.length,onChange:b,onClick:b,className:"form-checkbox h-5 w-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 dark:border-dark-600 dark:bg-dark-700 dark:checked:bg-primary-600"}),l.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:" "})]}),d.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"text-gray-600 dark:text-gray-400 px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-sm",children:[": ",d.length]}),l.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:[l.jsx(Pn,{className:"h-4 w-4"})," "]})]})]}),r?l.jsxs("div",{className:"text-center py-16",children:[l.jsxs("div",{className:"relative inline-block",children:[l.jsx(mr,{className:"w-12 h-12 animate-spin text-primary-500"}),l.jsx("div",{className:"absolute inset-0 w-12 h-12 border-2 border-primary-200 dark:border-primary-800 rounded-full"})]}),l.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300 font-medium",children:" ..."})]}):w.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Oe,{className:"w-12 h-12 text-primary-500"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2 font-heading",children:"  "}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:a?"       ":"  ,    "}),l.jsxs(Be,{to:"/admin/events/new",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg font-heading",children:[l.jsx(ha,{className:"h-5 w-5"})," "]})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map(C=>{const{line1:A,line2:N}=dQ(C.title),O=E(C),$=S(C),D=O?$/O*100:0,R=C.end_at?ds(C.end_at):!1;return l.jsxs("div",{className:"group relative bg-white dark:bg-dark-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700 hover:border-primary-200 dark:hover:border-primary-600 cursor-pointer",onClick:()=>{p(C),g(!0)},children:[l.jsx("div",{className:"absolute top-4 left-4 z-10",children:l.jsx("input",{type:"checkbox",checked:d.includes(C.id),onChange:M=>M.stopPropagation(),onClick:M=>v(C.id,M),className:"form-checkbox h-5 w-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 dark:border-dark-600 dark:bg-dark-700 dark:checked:bg-primary-600 shadow-lg"})}),l.jsxs("div",{className:"h-48 bg-cover bg-center relative",style:{backgroundImage:C.bg_image?`url(https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${C.bg_image})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-400 via-primary-500 to-primary-600"}),l.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[l.jsx(Be,{to:`/events/${C.id}`,className:"p-2 bg-white/90 hover:bg-white dark:bg-dark-700/90 dark:hover:bg-dark-600 rounded-full shadow-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110",title:" ",onClick:M=>M.stopPropagation(),children:l.jsx(Qd,{className:"h-4 w-4 text-gray-700 dark:text-gray-300"})}),l.jsx(Be,{to:`/admin/events/${C.id}/edit`,className:"p-2 bg-white/90 hover:bg-white dark:bg-dark-700/90 dark:hover:bg-dark-600 rounded-full shadow-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110",title:"",onClick:M=>M.stopPropagation(),children:l.jsx(Qa,{className:"h-4 w-4 text-gray-700 dark:text-gray-300"})})]}),l.jsx("div",{className:"absolute bottom-4 left-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold shadow-lg ${R?mS.past:mS[C.status]}`,children:R?"":C.status==="active"?"":C.status==="draft"?"":""})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"h-[4rem] mb-4 overflow-hidden",children:l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white font-heading group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:[A,N&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),N]})]})}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 text-sm",children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3",children:l.jsx(Oe,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),l.jsx("span",{className:"truncate font-medium",children:T(C)})]}),C.location&&l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 text-sm",children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3",children:l.jsx(vr,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),l.jsx("span",{className:"truncate font-medium",children:C.location})]}),I(C)&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3",children:l.jsx(Vt,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),l.jsx("span",{className:"font-medium",children:k(C)?"":""})]}),l.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[$,O&&O>0?`/${O}`:""]})]}),O&&O>0&&l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:"h-2 bg-gradient-to-r from-primary-400 to-primary-600 rounded-full transition-all duration-500",style:{width:`${Math.min(D,100)}%`}})}),(!O||O===0)&&$>0&&l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:" "}),!k(C)&&l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"  "})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:":"}),l.jsx("span",{className:"font-bold text-lg text-primary-600 dark:text-primary-400",children:j(C)})]})]})]},C.id)})}),h&&l.jsx(uQ,{isOpen:m,onClose:()=>{g(!1),p(null)},event:h})]})})},hQ=["Lecture","Workshop","Movie Discussion","Conversation Club","Festival","Stand-up","Concert","Excursion","Discussion","Swap","Quiz"],pQ=["cost","free","donation"],mQ=["","",""],gQ=["0+","12+","18+"],vQ=["RSD","EUR","RUB"],xQ=["draft","active","past"],gS=70,vS=150,xS=800,yQ=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),bQ=({selectedSpeakerIds:t,hideSpeakersGallery:e,onSpeakerToggle:r,onHideGalleryChange:n})=>{const[a,i]=_.useState([]),[s,o]=_.useState([]),[c,u]=_.useState(!1),[d,f]=_.useState(null),[h,p]=_.useState(""),[m,g]=_.useState(!1),y=_.useRef(null);_.useEffect(()=>{x()},[]),_.useEffect(()=>{if(t&&t.length>0&&a.length>0){const j=a.filter(I=>t.includes(I.id));o(j)}else o([])},[t,a]),_.useEffect(()=>{const j=I=>{y.current&&!y.current.contains(I.target)&&g(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const x=async()=>{try{u(!0),f(null);const{data:j,error:I}=await yQ.from("speakers").select("*").order("name");if(I)throw I;i(j||[])}catch(j){console.error("Error fetching speakers:",j),f("   ")}finally{u(!1)}},v=j=>{r(j.id)},b=j=>{p(j),g(j.length>0)},w=j=>{t.includes(j.id)||v(j),p(""),g(!1)},S=a.filter(j=>h.length>0&&(j.name.toLowerCase().includes(h.toLowerCase())||j.field_of_expertise.toLowerCase().includes(h.toLowerCase()))),E=a.filter(j=>!t.includes(j.id));return l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl mr-4",children:l.jsx(Cn,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:""}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})]})]}),l.jsx("div",{className:"flex items-center",children:l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"checkbox",checked:e,onChange:j=>n(j.target.checked),className:"sr-only"}),l.jsx("div",{className:`w-11 h-6 rounded-full shadow-inner transition-colors duration-200 ${e?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}`,children:l.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow transform transition-transform duration-200 ${e?"translate-x-6":"translate-x-1"} mt-1`})})]}),l.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"  "})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"relative",ref:y,children:[l.jsx("input",{type:"text",placeholder:"   ...",value:h,onChange:j=>b(j.target.value),onFocus:()=>h.length>0&&g(!0),className:"w-full p-4 pl-12 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200"}),l.jsx(ai,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m&&S.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto",children:S.map(j=>{var I,k;return l.jsx("div",{onClick:()=>w(j),className:`p-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-150 ${t.includes(j.id)?"opacity-50 cursor-not-allowed":""}`,children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3 flex-shrink-0",children:(k=(I=j.photos)==null?void 0:I[0])!=null&&k.url?l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${j.photos[0].url}`,alt:j.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Cn,{className:"w-5 h-5 text-gray-400"})})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:j.name}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:j.field_of_expertise})]}),t.includes(j.id)&&l.jsx("span",{className:"text-xs text-primary-600 dark:text-primary-400 ml-2",children:""})]})},j.id)})}),m&&h.length>0&&S.length===0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-lg z-50 p-4 text-center text-gray-500 dark:text-gray-400",children:"  "})]}),s.length>0&&l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[l.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:["  (",s.length,"):"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(j=>{var I,k;return l.jsxs("div",{className:"flex items-center gap-2 bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-300 px-3 py-2 rounded-full border border-primary-200 dark:border-primary-700",children:[l.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden bg-primary-200 dark:bg-primary-800 flex-shrink-0",children:(k=(I=j.photos)==null?void 0:I[0])!=null&&k.url?l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${j.photos[0].url}`,alt:j.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Cn,{className:"w-3 h-3 text-primary-600 dark:text-primary-400"})})}),l.jsx("span",{className:"text-sm font-medium",children:j.name}),l.jsx("button",{type:"button",onClick:T=>{T.stopPropagation(),v(j)},className:"text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200 hover:bg-primary-200 dark:hover:bg-primary-800 rounded-full p-0.5 transition-colors duration-150",children:l.jsx(Bt,{className:"h-3 w-3"})})]},j.id)})})]}),!e&&l.jsx(l.Fragment,{children:c?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:" ..."})]}):d?l.jsx("div",{className:"text-center py-8 text-red-500",children:d}):l.jsxs("div",{children:[l.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:["  (",E.length," )"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:E.map(j=>{var I,k;return l.jsx("div",{onClick:()=>v(j),className:"p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500 hover:shadow-md",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-2 flex-shrink-0",children:(k=(I=j.photos)==null?void 0:I[0])!=null&&k.url?l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${j.photos[0].url}`,alt:j.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Cn,{className:"w-5 h-5 text-gray-400"})})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:j.name}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:j.field_of_expertise})]})]})},j.id)})})]})})]})]})},wQ=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),_Q=({eventType:t,festivalProgram:e=[],allSpeakers:r,onFestivalProgramChange:n})=>{const[a,i]=_.useState(null),[s,o]=_.useState(!1),[c,u]=_.useState({title:"",description:"",image_url:"",start_time:"",end_time:"",lecturer_id:""}),[d,f]=_.useState(null),h=_.useRef(null);if(t!=="Festival")return null;const p=()=>{if(!c.title||!c.start_time||!c.end_time){K.error("   ");return}const v=[...e||[]];a!==null?v[a]=c:v.push(c),n(v),u({title:"",description:"",image_url:"",start_time:"",end_time:"",lecturer_id:""}),i(null),o(!1),f(null)},m=v=>{e&&(u(e[v]),i(v),o(!0),e[v].image_url?f(`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${e[v].image_url}`):f(null))},g=v=>{const b=[...e||[]];b.splice(v,1),n(b)},y=async v=>{try{const b=Date.now(),w=v.name.split(".").pop()||"jpg",S=`program-images/${b}.${w}`,{error:E}=await wQ.storage.from("images").upload(S,v);if(E)throw E;u(j=>({...j,image_url:S})),f(`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${S}`),K.success("  ")}catch(b){console.error("Error uploading program image:",b),K.error("   ")}},x=v=>{var w;const b=(w=v.target.files)==null?void 0:w[0];b&&y(b)};return l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-pink-100 to-pink-200 dark:from-pink-900/30 dark:to-pink-800/30 rounded-xl mr-4",children:l.jsx(Oe,{className:"w-6 h-6 text-pink-600 dark:text-pink-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})]})]}),l.jsxs("button",{type:"button",onClick:()=>{u({title:"",description:"",image_url:"",start_time:"",end_time:"",lecturer_id:""}),i(null),o(!0),f(null)},className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[l.jsx(ha,{className:"h-5 w-5"})," "]})]}),s?l.jsxs("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-xl p-6 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a!==null?"  ":"  "}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[" ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:c.title,onChange:v=>u({...c,title:v.target.value}),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"  "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"time",value:c.start_time,onChange:v=>u({...c,start_time:v.target.value}),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"time",value:c.end_time,onChange:v=>u({...c,end_time:v.target.value}),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("textarea",{value:c.description,onChange:v=>u({...c,description:v.target.value}),rows:3,className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsxs("select",{value:c.lecturer_id,onChange:v=>u({...c,lecturer_id:v.target.value}),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",children:[l.jsx("option",{value:"",children:" "}),r.map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),d?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:d,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),l.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{var v;return(v=h.current)==null?void 0:v.click()},className:"p-2 bg-white/90 hover:bg-white text-dark-800 rounded-full shadow-lg",title:" ",children:l.jsx(Qa,{className:"h-5 w-5"})}),l.jsx("button",{type:"button",onClick:()=>{u({...c,image_url:""}),f(null)},className:"p-2 bg-red-600/90 hover:bg-red-600 text-white rounded-full shadow-lg",title:" ",children:l.jsx(Pn,{className:"h-5 w-5"})})]})]}):l.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-dark-600 rounded-lg p-6 text-center",children:[l.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:x,className:"hidden"}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"mb-3 p-2 bg-gray-100 dark:bg-dark-700 rounded-full",children:l.jsx(Xa,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),l.jsx("button",{type:"button",onClick:()=>{var v;return(v=h.current)==null?void 0:v.click()},className:"px-3 py-1.5 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors text-sm",children:" "}),l.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:" : 800x600px"})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>{o(!1),u({title:"",description:"",image_url:"",start_time:"",end_time:"",lecturer_id:""}),f(null)},className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:""}),l.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:a!==null?" ":" "})]})]})]}):null,e&&e.length>0?l.jsx("div",{className:"space-y-4",children:e.map((v,b)=>{const w=r.find(S=>S.id===v.lecturer_id);return l.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-xl p-4 border border-gray-200 dark:border-dark-600",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[v.image_url&&l.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${v.image_url}`,alt:v.title,className:"w-full h-full object-cover"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:v.title}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mt-1",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(bn,{className:"h-4 w-4 mr-1"}),l.jsxs("span",{children:[v.start_time," - ",v.end_time]})]}),w&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Vt,{className:"h-4 w-4 mr-1"}),l.jsx("span",{children:w.name})]})]}),v.description&&l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2 line-clamp-2",children:v.description})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>m(b),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:l.jsx(Qa,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",onClick:()=>g(b),className:"p-1.5 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:l.jsx(Pn,{className:"h-4 w-4"})})]})]})},b)})}):l.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-dark-700 rounded-xl",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-dark-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Oe,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:" ,    "}),l.jsxs("button",{type:"button",onClick:()=>{u({title:"",description:"",image_url:"",start_time:"",end_time:"",lecturer_id:""}),i(null),o(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[l.jsx(ha,{className:"h-5 w-5"}),"  "]})]})]})},_v=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),yS=()=>{const{id:t}=iw(),e=Ra(),[r,n]=_.useState(!1),[a,i]=_.useState(!1),[s,o]=_.useState([]),[c,u]=_.useState(!1),[d,f]=_.useState(0),h=_.useRef(null),[p,m]=_.useState(!1),[g,y]=_.useState({id:"",title:"",short_description:"",description:"",event_type:"Lecture",bg_image:"",original_bg_image:"",start_at:"",end_at:"",location:"",age_category:"0+",price:"",currency:"RSD",status:"draft",payment_type:"cost",payment_link:"",payment_widget_id:"",widget_chooser:!1,languages:[""],speakers:[],hide_speakers_gallery:!0,couple_discount:"",child_half_price:!1,festival_program:[],video_url:"",photo_gallery:[]}),[x,v]=_.useState({title:!1,start_at:!1,end_at:!1,location:!1,price:!1,payment_link:!1});_.useEffect(()=>{if(b(),t)w(t);else{const D=new Date,R=new Date(D);R.setHours(18,0,0,0);const M=new Date(D);M.setHours(20,0,0,0),y(F=>({...F,id:crypto.randomUUID(),start_at:R.toISOString(),end_at:M.toISOString()}))}},[t]);const b=async()=>{try{const{data:D,error:R}=await _v.from("speakers").select("*").eq("active",!0);if(R)throw R;o(D||[])}catch(D){console.error("Error fetching speakers:",D),K.error("   ")}},w=async D=>{try{n(!0);const{data:R,error:M}=await _v.from("events").select("*").eq("id",D).single();if(M)throw M;let F=R.photo_gallery||[];if(typeof F=="string")try{F=JSON.parse(F)}catch(q){console.error("Error parsing photo_gallery:",q),F=[]}Array.isArray(F)||(F=[]);let B=R.start_at||"",U=R.end_at||"";!B&&R.start_time&&(B=R.start_time),!U&&R.end_time&&(U=R.end_time),!B&&R.date&&R.start_time&&(B=t3(Ci(R.date),R.start_time)),!U&&R.date&&R.end_time&&(U=t3(Ci(R.date),R.end_time)),y({...R,price:R.price!==null?String(R.price):"",couple_discount:R.couple_discount||"",languages:R.languages||[""],speakers:R.speakers||[],hide_speakers_gallery:R.hide_speakers_gallery!==!1,festival_program:R.festival_program||[],video_url:R.video_url||"",photo_gallery:F,start_at:B,end_at:U})}catch(R){console.error("Error fetching event:",R),K.error("   ")}finally{n(!1)}},S=()=>{const D={title:!g.title.trim(),start_at:!g.start_at,end_at:!g.end_at,location:!g.location.trim(),price:!1,payment_link:!1};if(g.start_at&&g.end_at){const R=new Date(g.start_at);new Date(g.end_at)<=R&&(D.end_at=!0,K.error("      "))}return g.status==="active"&&g.payment_type==="cost"&&!g.price&&!g.payment_link&&(D.price=!0,D.payment_link=!0,K.error("      ,    ")),v(D),!Object.values(D).some(Boolean)},E=D=>{const{name:R,value:M}=D.target;R==="title"&&M.length>gS||R==="short_description"&&M.length>vS||R==="description"&&M.length>xS||(y(F=>({...F,[R]:M})),R in x&&v(F=>({...F,[R]:!1})))},j=(D,R)=>{if(!R)return;const M=new Date(R).toISOString();y(F=>({...F,[D]:M})),v(F=>({...F,[D]:!1}))},I=D=>{const{name:R,checked:M}=D.target;y(F=>({...F,[R]:M}))},k=D=>{const{value:R,checked:M}=D.target;y(M?F=>({...F,languages:[...F.languages,R]}):F=>({...F,languages:F.languages.filter(B=>B!==R)}))},T=D=>{y(R=>{const M=[...R.speakers];return M.includes(D)?{...R,speakers:M.filter(F=>F!==D)}:{...R,speakers:[...M,D]}})},L=D=>{y(R=>({...R,hide_speakers_gallery:D}))},C=D=>{y(R=>({...R,festival_program:D}))},A=D=>{if(!D)return"";try{const R=new Date(D);return new Date(R.getTime()-R.getTimezoneOffset()*6e4).toISOString().slice(0,16)}catch(R){return console.error("Error formatting datetime for input:",R),""}},N=async D=>{var M;const R=(M=D.target.files)==null?void 0:M[0];if(R)try{u(!0),f(0);const F=Date.now(),B=R.name.split(".").pop(),q=`events/${`${F}.${B}`}`,{data:ee,error:V}=await _v.storage.from("images").upload(q,R,{cacheControl:"3600",upsert:!1,onUploadProgress:re=>{const oe=Math.round(re.loaded/re.total*100);f(oe)}});if(V)throw V;y(re=>({...re,bg_image:q,original_bg_image:re.bg_image||null})),K.success("  ")}catch(F){console.error("Error uploading file:",F),K.error("   ")}finally{u(!1),f(0),h.current&&(h.current.value="")}},O=async D=>{if(D.preventDefault(),!S()){K.error(",    ");return}try{i(!0);const R={...g,price:g.price?parseFloat(g.price):null,couple_discount:g.couple_discount?parseFloat(g.couple_discount):null,photo_gallery:Array.isArray(g.photo_gallery)?g.photo_gallery:[],date:void 0,start_time:void 0,end_time:void 0};Object.keys(R).forEach(U=>{R[U]===void 0&&delete R[U]});const M=!t,F=await fetch("https://jfvinriqydjtwsmayxix.supabase.co/functions/v1/save-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"},body:JSON.stringify({eventData:R,isNew:M})}),B=await F.json();if(!F.ok)if(B.code==="PG_NET_EXTENSION_MISSING")console.warn("Database notification extension (pg_net) is not enabled. Notifications will not be sent.");else throw new Error(B.error||"Error saving event");K.success(M?" ":" "),e("/admin/events")}catch(R){console.error("Error saving event:",R),K.error(`   : ${R.message}`)}finally{i(!1)}},$=async()=>{if(t)try{n(!0);const D=await fetch("https://jfvinriqydjtwsmayxix.supabase.co/functions/v1/save-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"},body:JSON.stringify({eventData:{id:t},action:"delete"})}),R=await D.json();if(!D.ok)throw new Error(R.error||"Error deleting event");K.success(" "),e("/admin/events")}catch(D){console.error("Error deleting event:",D),K.error("   ")}finally{n(!1),m(!1)}};return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:t?" ":" "}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[t&&l.jsxs("button",{type:"button",onClick:()=>m(!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Pn,{className:"h-5 w-5"}),""]}),l.jsx("button",{type:"button",onClick:O,disabled:a,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:a?l.jsxs(l.Fragment,{children:[l.jsx(mr,{className:"h-5 w-5 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ia,{className:"h-5 w-5"}),""]})})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 p-6 mb-6",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[l.jsx(Lj,{className:"h-5 w-5 text-primary-600"})," "]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:xQ.map(D=>l.jsxs("button",{type:"button",onClick:()=>y(R=>({...R,status:D})),className:`p-4 rounded-xl border-2 text-center transition-all duration-200 ${g.status===D?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-dark-500"}`,children:[l.jsx("div",{className:"font-semibold text-lg mb-1",children:D==="active"?" ":D==="draft"?" ":" "}),l.jsx("div",{className:"text-sm opacity-75",children:D==="active"?" ":D==="draft"?"  ":" "})]},D))})]}),l.jsxs("form",{onSubmit:O,className:"space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 p-6",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[l.jsx(zp,{className:"h-5 w-5 text-primary-600"})," "]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{htmlFor:"title",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"title",name:"title",value:g.title,onChange:E,className:`w-full px-4 py-3 rounded-lg border transition-colors ${x.title?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`,placeholder:"  "}),l.jsxs("div",{className:"flex justify-between mt-2",children:[x.title&&l.jsx("p",{className:"text-red-500 text-sm",children:" "}),l.jsxs("p",{className:"text-gray-500 text-sm text-right ml-auto",children:[g.title.length,"/",gS]})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"short_description",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:" "}),l.jsx("input",{type:"text",id:"short_description",name:"short_description",value:g.short_description,onChange:E,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",placeholder:"    "}),l.jsxs("p",{className:"text-gray-500 text-sm text-right mt-2",children:[g.short_description.length,"/",vS]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"description",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:" "}),l.jsx("textarea",{id:"description",name:"description",value:g.description,onChange:E,rows:6,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors resize-vertical",placeholder:"  "}),l.jsxs("p",{className:"text-gray-500 text-sm text-right mt-2",children:[g.description.length,"/",xS]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"event_type",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:" "}),l.jsx("select",{id:"event_type",name:"event_type",value:g.event_type,onChange:E,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",children:hQ.map(D=>l.jsx("option",{value:D,children:D},D))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"age_category",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:" "}),l.jsx("select",{id:"age_category",name:"age_category",value:g.age_category,onChange:E,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",children:gQ.map(D=>l.jsx("option",{value:D,children:D},D))})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-3 text-gray-700 dark:text-gray-300",children:""}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:mQ.map(D=>l.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700 cursor-pointer transition-colors",children:[l.jsx("input",{type:"checkbox",value:D,checked:g.languages.includes(D),onChange:k,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 transition-colors"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:D})]},D))})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 p-6",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[l.jsx(Oe,{className:"h-5 w-5 text-primary-600"}),"   "]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{htmlFor:"start_at",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:["    ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"datetime-local",id:"start_at",name:"start_at",value:A(g.start_at),onChange:D=>j("start_at",D.target.value),className:`w-full px-4 py-3 rounded-lg border transition-colors ${x.start_at?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`}),x.start_at&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:" "})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{htmlFor:"end_at",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:["    ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"datetime-local",id:"end_at",name:"end_at",value:A(g.end_at),onChange:D=>j("end_at",D.target.value),className:`w-full px-4 py-3 rounded-lg border transition-colors ${x.end_at?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`}),x.end_at&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:x.end_at===!0?"      ":" "})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{htmlFor:"location",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:["  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"location",name:"location",value:g.location,onChange:E,className:`w-full px-4 py-3 rounded-lg border transition-colors ${x.location?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`,placeholder:"   "}),x.location&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:" "})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 p-6",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[l.jsx(uc,{className:"h-5 w-5 text-primary-600"})," "]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-3 text-gray-700 dark:text-gray-300",children:"  "}),g.bg_image?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${g.bg_image}`,alt:"Event preview",className:"w-full h-64 object-cover rounded-lg",onError:D=>{const R=D.target;R.src="https://via.placeholder.com/800x400?text=Image+not+found"}}),l.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{var D;return(D=h.current)==null?void 0:D.click()},className:"p-2 bg-white/90 hover:bg-white text-dark-800 rounded-full shadow-lg transition-colors",title:" ",children:l.jsx(jo,{className:"h-5 w-5"})}),l.jsx("button",{type:"button",onClick:()=>y(D=>({...D,bg_image:""})),className:"p-2 bg-red-600/90 hover:bg-red-600 text-white rounded-full shadow-lg transition-colors",title:" ",children:l.jsx(Bt,{className:"h-5 w-5"})})]})]}):l.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-dark-600 rounded-lg p-8 text-center",children:[l.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:N,className:"hidden"}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"mb-4 p-3 bg-gray-100 dark:bg-dark-700 rounded-full",children:l.jsx(Xa,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})}),l.jsx("button",{type:"button",onClick:()=>{var D;return(D=h.current)==null?void 0:D.click()},className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",disabled:c,children:c?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mr,{className:"h-5 w-5 animate-spin"}),l.jsxs("span",{children:["... ",d,"%"]})]}):l.jsx("span",{children:" "})}),l.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:" : 1200x600px"})]})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{htmlFor:"video_url",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:[l.jsx(n7,{className:"h-5 w-5 inline mr-2"}),"  "]}),l.jsx("input",{type:"url",id:"video_url",name:"video_url",value:g.video_url,onChange:E,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",placeholder:"https://youtube.com/watch?v=..."})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:[l.jsx(uc,{className:"h-5 w-5 inline mr-2"})," "]}),l.jsxs("div",{className:"space-y-2",children:[Array.isArray(g.photo_gallery)&&g.photo_gallery.filter(D=>typeof D=="string"&&D.trim()!=="").map((D,R)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[l.jsx("input",{type:"url",value:D,onChange:M=>{const F=[...g.photo_gallery];F[R]=M.target.value,y(B=>({...B,photo_gallery:F}))},className:"flex-1 px-3 py-2 rounded border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500",placeholder:"URL "}),l.jsx("button",{type:"button",onClick:()=>{const M=g.photo_gallery.filter((F,B)=>B!==R);y(F=>({...F,photo_gallery:M}))},className:"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:" ",children:l.jsx(Bt,{className:"h-4 w-4"})})]},R)),l.jsxs("button",{type:"button",onClick:()=>{y(D=>({...D,photo_gallery:[...Array.isArray(D.photo_gallery)?D.photo_gallery:[],""]}))},className:"flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 dark:border-dark-600 rounded-lg text-gray-600 dark:text-gray-400 hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 transition-colors w-full",children:[l.jsx(ha,{className:"h-4 w-4"})," "]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"     (,   )"}),Array.isArray(g.photo_gallery)&&g.photo_gallery.length>0&&l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mt-3",children:g.photo_gallery.filter(D=>typeof D=="string"&&D.trim()!=="").map((D,R)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:D,alt:`Preview ${R+1}`,className:"w-full h-32 object-cover rounded-lg",onError:M=>{const F=M.target;F.src="https://via.placeholder.com/300x200?text=Image+not+found"}}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity rounded-lg",children:l.jsx("button",{type:"button",onClick:()=>{const M=g.photo_gallery.filter((F,B)=>B!==R);y(F=>({...F,photo_gallery:M}))},className:"p-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",title:"",children:l.jsx(Pn,{className:"h-4 w-4"})})})]},R))})]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 p-6",children:[l.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[l.jsx(zu,{className:"h-5 w-5 text-primary-600"}),"  "]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-3 text-gray-700 dark:text-gray-300",children:" "}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:pQ.map(D=>l.jsxs("button",{type:"button",onClick:()=>y(R=>({...R,payment_type:D})),className:`p-4 rounded-xl border-2 text-center transition-all duration-200 ${g.payment_type===D?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-dark-500"}`,children:[l.jsx("div",{className:"font-semibold text-lg mb-1",children:D==="cost"?" ":D==="free"?" ":" "}),l.jsx("div",{className:"text-sm opacity-75",children:D==="cost"?" ":D==="free"?" ":" "})]},D))})]}),g.payment_type==="cost"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"price",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",id:"price",name:"price",value:g.price,onChange:E,className:`w-full px-4 py-3 pr-16 rounded-lg border transition-colors ${x.price?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`,placeholder:"     ",min:"0",step:"100"}),l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:l.jsx("span",{className:"text-gray-500 font-medium",children:g.currency})})]}),x.price&&x.payment_link&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:"      ,    "}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"     "})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"currency",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),l.jsx("select",{id:"currency",name:"currency",value:g.currency,onChange:E,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",children:vQ.map(D=>l.jsx("option",{value:D,children:D},D))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"couple_discount",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"   (%)"}),l.jsx("input",{type:"number",id:"couple_discount",name:"couple_discount",value:g.couple_discount,onChange:E,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",placeholder:": 10",min:"0",max:"100"})]}),l.jsx("div",{className:"form-group flex items-end",children:l.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg border border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700 cursor-pointer transition-colors w-full",children:[l.jsx("input",{type:"checkbox",name:"child_half_price",checked:g.child_half_price,onChange:I,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 transition-colors"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"   "})]})})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{htmlFor:"payment_link",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:[l.jsx(VM,{className:"h-4 w-4 inline mr-2"}),"  "]}),l.jsx("input",{type:"url",id:"payment_link",name:"payment_link",value:g.payment_link,onChange:E,className:`w-full px-4 py-3 rounded-lg border transition-colors ${x.payment_link?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`,placeholder:"https://..."}),x.price&&x.payment_link&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:"      ,    "})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"payment_widget_id",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"ID  "}),l.jsx("textarea",{id:"payment_widget_id",name:"payment_widget_id",value:g.payment_widget_id,onChange:E,rows:3,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors resize-vertical",placeholder:"ID   HTML-"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-3 text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:()=>y(D=>({...D,widget_chooser:!1})),className:`p-4 rounded-xl border-2 text-center transition-all duration-200 ${g.widget_chooser?"border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-dark-500":"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300"}`,children:[l.jsx("div",{className:"font-semibold text-lg mb-1",children:" "}),l.jsx("div",{className:"text-sm opacity-75",children:"  "})]}),l.jsxs("button",{type:"button",onClick:()=>y(D=>({...D,widget_chooser:!0})),className:`p-4 rounded-xl border-2 text-center transition-all duration-200 ${g.widget_chooser?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-dark-500"}`,children:[l.jsx("div",{className:"font-semibold text-lg mb-1",children:" "}),l.jsx("div",{className:"text-sm opacity-75",children:" "})]})]})]})]})]}),l.jsx(bQ,{selectedSpeakerIds:g.speakers,hideSpeakersGallery:g.hide_speakers_gallery,onSpeakerToggle:T,onHideGalleryChange:L,allSpeakers:s}),l.jsx(_Q,{eventType:g.event_type,festivalProgram:g.festival_program,allSpeakers:s,onFestivalProgramChange:C}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-200 dark:border-dark-600",children:[l.jsx("button",{type:"button",onClick:()=>e("/admin/events"),className:"px-6 py-3 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:""}),l.jsx("button",{type:"submit",disabled:a,className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:a?l.jsxs(l.Fragment,{children:[l.jsx(mr,{className:"h-5 w-5 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ia,{className:"h-5 w-5"}),""]})})]})]}),p&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-md w-full p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[l.jsx(jM,{className:"h-6 w-6"}),l.jsx("h3",{className:"text-lg font-semibold",children:" "})]}),l.jsx("p",{className:"mb-6 text-gray-700 dark:text-gray-300",children:" ,     ?    ."}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:""}),l.jsx("button",{type:"button",onClick:$,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:""})]})]})})]})};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function bS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(r),!0).forEach(function(n){EQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kQ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nT(t){var e=kQ(t,"string");return typeof e=="symbol"?e:e+""}function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function NQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nT(n.key),n)}}function SQ(t,e,r){return e&&wS(t.prototype,e),r&&wS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EQ(t,e,r){return e=nT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aT(t){return CQ(t)||jQ(t)||AQ(t)||TQ()}function CQ(t){if(Array.isArray(t))return Ry(t)}function jQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AQ(t,e){if(t){if(typeof t=="string")return Ry(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ry(t,e)}}function Ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mm=typeof window<"u"&&typeof window.document<"u",si=mm?window:{},Jw=mm&&si.document.documentElement?"ontouchstart"in si.document.documentElement:!1,e2=mm?"PointerEvent"in si:!1,Ct="cropper",t2="all",iT="crop",sT="move",oT="zoom",no="e",ao="w",gl="s",Zi="n",uu="ne",du="nw",fu="se",hu="sw",My="".concat(Ct,"-crop"),_S="".concat(Ct,"-disabled"),fn="".concat(Ct,"-hidden"),kS="".concat(Ct,"-hide"),IQ="".concat(Ct,"-invisible"),np="".concat(Ct,"-modal"),Ly="".concat(Ct,"-move"),Pd="".concat(Ct,"Action"),hh="".concat(Ct,"Preview"),r2="crop",lT="move",cT="none",By="crop",Fy="cropend",$y="cropmove",Uy="cropstart",NS="dblclick",OQ=Jw?"touchstart":"mousedown",DQ=Jw?"touchmove":"mousemove",PQ=Jw?"touchend touchcancel":"mouseup",SS=e2?"pointerdown":OQ,ES=e2?"pointermove":DQ,CS=e2?"pointerup pointercancel":PQ,jS="ready",AS="resize",TS="wheel",zy="zoom",IS="image/jpeg",RQ=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,MQ=/^data:/,LQ=/^data:image\/jpeg;base64,/,BQ=/^img|canvas$/i,uT=200,dT=100,OS={viewMode:0,dragMode:r2,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:uT,minContainerHeight:dT,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},FQ='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',$Q=Number.isNaN||si.isNaN;function He(t){return typeof t=="number"&&!$Q(t)}var DS=function(e){return e>0&&e<1/0};function kv(t){return typeof t>"u"}function Xo(t){return Py(t)==="object"&&t!==null}var UQ=Object.prototype.hasOwnProperty;function Fl(t){if(!Xo(t))return!1;try{var e=t.constructor,r=e.prototype;return e&&r&&UQ.call(r,"isPrototypeOf")}catch{return!1}}function dn(t){return typeof t=="function"}var zQ=Array.prototype.slice;function fT(t){return Array.from?Array.from(t):zQ.call(t)}function Yt(t,e){return t&&dn(e)&&(Array.isArray(t)||He(t.length)?fT(t).forEach(function(r,n){e.call(t,r,n,t)}):Xo(t)&&Object.keys(t).forEach(function(r){e.call(t,t[r],r,t)})),t}var At=Object.assign||function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Xo(e)&&n.length>0&&n.forEach(function(i){Xo(i)&&Object.keys(i).forEach(function(s){e[s]=i[s]})}),e},HQ=/\.\d*(?:0|9){12}\d*$/;function Jl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return HQ.test(t)?Math.round(t*e)/e:t}var WQ=/^width|height|left|top|marginLeft|marginTop$/;function gs(t,e){var r=t.style;Yt(e,function(n,a){WQ.test(a)&&He(n)&&(n="".concat(n,"px")),r[a]=n})}function VQ(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function ur(t,e){if(e){if(He(t.length)){Yt(t,function(n){ur(n,e)});return}if(t.classList){t.classList.add(e);return}var r=t.className.trim();r?r.indexOf(e)<0&&(t.className="".concat(r," ").concat(e)):t.className=e}}function ri(t,e){if(e){if(He(t.length)){Yt(t,function(r){ri(r,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function $l(t,e,r){if(e){if(He(t.length)){Yt(t,function(n){$l(n,e,r)});return}r?ur(t,e):ri(t,e)}}var GQ=/([a-z\d])([A-Z])/g;function n2(t){return t.replace(GQ,"$1-$2").toLowerCase()}function Hy(t,e){return Xo(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(n2(e)))}function Rd(t,e,r){Xo(r)?t[e]=r:t.dataset?t.dataset[e]=r:t.setAttribute("data-".concat(n2(e)),r)}function XQ(t,e){if(Xo(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(n2(e)))}var hT=/\s\s*/,pT=function(){var t=!1;if(mm){var e=!1,r=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});si.addEventListener("test",r,n),si.removeEventListener("test",r,n)}return t}();function va(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r;e.trim().split(hT).forEach(function(i){if(!pT){var s=t.listeners;s&&s[i]&&s[i][r]&&(a=s[i][r],delete s[i][r],Object.keys(s[i]).length===0&&delete s[i],Object.keys(s).length===0&&delete t.listeners)}t.removeEventListener(i,a,n)})}function Zn(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r;e.trim().split(hT).forEach(function(i){if(n.once&&!pT){var s=t.listeners,o=s===void 0?{}:s;a=function(){delete o[i][r],t.removeEventListener(i,a,n);for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];r.apply(t,d)},o[i]||(o[i]={}),o[i][r]&&t.removeEventListener(i,o[i][r],n),o[i][r]=a,t.listeners=o}t.addEventListener(i,a,n)})}function ec(t,e,r){var n;return dn(Event)&&dn(CustomEvent)?n=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,r)),t.dispatchEvent(n)}function mT(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Nv=si.location,qQ=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function PS(t){var e=t.match(qQ);return e!==null&&(e[1]!==Nv.protocol||e[2]!==Nv.hostname||e[3]!==Nv.port)}function RS(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function ed(t){var e=t.rotate,r=t.scaleX,n=t.scaleY,a=t.translateX,i=t.translateY,s=[];He(a)&&a!==0&&s.push("translateX(".concat(a,"px)")),He(i)&&i!==0&&s.push("translateY(".concat(i,"px)")),He(e)&&e!==0&&s.push("rotate(".concat(e,"deg)")),He(r)&&r!==1&&s.push("scaleX(".concat(r,")")),He(n)&&n!==1&&s.push("scaleY(".concat(n,")"));var o=s.length?s.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function YQ(t){var e=rT({},t),r=0;return Yt(t,function(n,a){delete e[a],Yt(e,function(i){var s=Math.abs(n.startX-i.startX),o=Math.abs(n.startY-i.startY),c=Math.abs(n.endX-i.endX),u=Math.abs(n.endY-i.endY),d=Math.sqrt(s*s+o*o),f=Math.sqrt(c*c+u*u),h=(f-d)/d;Math.abs(h)>Math.abs(r)&&(r=h)})}),r}function ph(t,e){var r=t.pageX,n=t.pageY,a={endX:r,endY:n};return e?a:rT({startX:r,startY:n},a)}function KQ(t){var e=0,r=0,n=0;return Yt(t,function(a){var i=a.startX,s=a.startY;e+=i,r+=s,n+=1}),e/=n,r/=n,{pageX:e,pageY:r}}function vs(t){var e=t.aspectRatio,r=t.height,n=t.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=DS(n),s=DS(r);if(i&&s){var o=r*e;a==="contain"&&o>n||a==="cover"&&o<n?r=n/e:n=r*e}else i?r=n/e:s&&(n=r*e);return{width:n,height:r}}function ZQ(t){var e=t.width,r=t.height,n=t.degree;if(n=Math.abs(n)%180,n===90)return{width:r,height:e};var a=n%90*Math.PI/180,i=Math.sin(a),s=Math.cos(a),o=e*s+r*i,c=e*i+r*s;return n>90?{width:c,height:o}:{width:o,height:c}}function QQ(t,e,r,n){var a=e.aspectRatio,i=e.naturalWidth,s=e.naturalHeight,o=e.rotate,c=o===void 0?0:o,u=e.scaleX,d=u===void 0?1:u,f=e.scaleY,h=f===void 0?1:f,p=r.aspectRatio,m=r.naturalWidth,g=r.naturalHeight,y=n.fillColor,x=y===void 0?"transparent":y,v=n.imageSmoothingEnabled,b=v===void 0?!0:v,w=n.imageSmoothingQuality,S=w===void 0?"low":w,E=n.maxWidth,j=E===void 0?1/0:E,I=n.maxHeight,k=I===void 0?1/0:I,T=n.minWidth,L=T===void 0?0:T,C=n.minHeight,A=C===void 0?0:C,N=document.createElement("canvas"),O=N.getContext("2d"),$=vs({aspectRatio:p,width:j,height:k}),D=vs({aspectRatio:p,width:L,height:A},"cover"),R=Math.min($.width,Math.max(D.width,m)),M=Math.min($.height,Math.max(D.height,g)),F=vs({aspectRatio:a,width:j,height:k}),B=vs({aspectRatio:a,width:L,height:A},"cover"),U=Math.min(F.width,Math.max(B.width,i)),q=Math.min(F.height,Math.max(B.height,s)),ee=[-U/2,-q/2,U,q];return N.width=Jl(R),N.height=Jl(M),O.fillStyle=x,O.fillRect(0,0,R,M),O.save(),O.translate(R/2,M/2),O.rotate(c*Math.PI/180),O.scale(d,h),O.imageSmoothingEnabled=b,O.imageSmoothingQuality=S,O.drawImage.apply(O,[t].concat(aT(ee.map(function(V){return Math.floor(Jl(V))})))),O.restore(),N}var gT=String.fromCharCode;function JQ(t,e,r){var n="";r+=e;for(var a=e;a<r;a+=1)n+=gT(t.getUint8(a));return n}var eJ=/^data:.*,/;function tJ(t){var e=t.replace(eJ,""),r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n);return Yt(a,function(i,s){a[s]=r.charCodeAt(s)}),n}function rJ(t,e){for(var r=[],n=8192,a=new Uint8Array(t);a.length>0;)r.push(gT.apply(null,fT(a.subarray(0,n)))),a=a.subarray(n);return"data:".concat(e,";base64,").concat(btoa(r.join("")))}function nJ(t){var e=new DataView(t),r;try{var n,a,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var s=e.byteLength,o=2;o+1<s;){if(e.getUint8(o)===255&&e.getUint8(o+1)===225){a=o;break}o+=1}if(a){var c=a+4,u=a+10;if(JQ(e,c,4)==="Exif"){var d=e.getUint16(u);if(n=d===18761,(n||d===19789)&&e.getUint16(u+2,n)===42){var f=e.getUint32(u+4,n);f>=8&&(i=u+f)}}}if(i){var h=e.getUint16(i,n),p,m;for(m=0;m<h;m+=1)if(p=i+m*12+2,e.getUint16(p,n)===274){p+=8,r=e.getUint16(p,n),e.setUint16(p,1,n);break}}}catch{r=1}return r}function aJ(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}var iJ={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,r=this.options,n=this.container,a=this.cropper,i=Number(r.minContainerWidth),s=Number(r.minContainerHeight);ur(a,fn),ri(e,fn);var o={width:Math.max(n.offsetWidth,i>=0?i:uT),height:Math.max(n.offsetHeight,s>=0?s:dT)};this.containerData=o,gs(a,{width:o.width,height:o.height}),ur(e,fn),ri(a,fn)},initCanvas:function(){var e=this.containerData,r=this.imageData,n=this.options.viewMode,a=Math.abs(r.rotate)%180===90,i=a?r.naturalHeight:r.naturalWidth,s=a?r.naturalWidth:r.naturalHeight,o=i/s,c=e.width,u=e.height;e.height*o>e.width?n===3?c=e.height*o:u=e.width/o:n===3?u=e.width/o:c=e.height*o;var d={aspectRatio:o,naturalWidth:i,naturalHeight:s,width:c,height:u};this.canvasData=d,this.limited=n===1||n===2,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=At({},d)},limitCanvas:function(e,r){var n=this.options,a=this.containerData,i=this.canvasData,s=this.cropBoxData,o=n.viewMode,c=i.aspectRatio,u=this.cropped&&s;if(e){var d=Number(n.minCanvasWidth)||0,f=Number(n.minCanvasHeight)||0;o>1?(d=Math.max(d,a.width),f=Math.max(f,a.height),o===3&&(f*c>d?d=f*c:f=d/c)):o>0&&(d?d=Math.max(d,u?s.width:0):f?f=Math.max(f,u?s.height:0):u&&(d=s.width,f=s.height,f*c>d?d=f*c:f=d/c));var h=vs({aspectRatio:c,width:d,height:f});d=h.width,f=h.height,i.minWidth=d,i.minHeight=f,i.maxWidth=1/0,i.maxHeight=1/0}if(r)if(o>(u?0:1)){var p=a.width-i.width,m=a.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,m),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,m),u&&this.limited&&(i.minLeft=Math.min(s.left,s.left+(s.width-i.width)),i.minTop=Math.min(s.top,s.top+(s.height-i.height)),i.maxLeft=s.left,i.maxTop=s.top,o===2&&(i.width>=a.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=a.height&&(i.minTop=Math.min(0,m),i.maxTop=Math.max(0,m))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=a.width,i.maxTop=a.height},renderCanvas:function(e,r){var n=this.canvasData,a=this.imageData;if(r){var i=ZQ({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),s=i.width,o=i.height,c=n.width*(s/n.naturalWidth),u=n.height*(o/n.naturalHeight);n.left-=(c-n.width)/2,n.top-=(u-n.height)/2,n.width=c,n.height=u,n.aspectRatio=s/o,n.naturalWidth=s,n.naturalHeight=o,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,gs(this.canvas,At({width:n.width,height:n.height},ed({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var r=this.canvasData,n=this.imageData,a=n.naturalWidth*(r.width/r.naturalWidth),i=n.naturalHeight*(r.height/r.naturalHeight);At(n,{width:a,height:i,left:(r.width-a)/2,top:(r.height-i)/2}),gs(this.image,At({width:n.width,height:n.height},ed(At({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,r=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,a=Number(e.autoCropArea)||.8,i={width:r.width,height:r.height};n&&(r.height*n>r.width?i.height=i.width/n:i.width=i.height*n),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*a),i.height=Math.max(i.minHeight,i.height*a),i.left=r.left+(r.width-i.width)/2,i.top=r.top+(r.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=At({},i)},limitCropBox:function(e,r){var n=this.options,a=this.containerData,i=this.canvasData,s=this.cropBoxData,o=this.limited,c=n.aspectRatio;if(e){var u=Number(n.minCropBoxWidth)||0,d=Number(n.minCropBoxHeight)||0,f=o?Math.min(a.width,i.width,i.width+i.left,a.width-i.left):a.width,h=o?Math.min(a.height,i.height,i.height+i.top,a.height-i.top):a.height;u=Math.min(u,a.width),d=Math.min(d,a.height),c&&(u&&d?d*c>u?d=u/c:u=d*c:u?d=u/c:d&&(u=d*c),h*c>f?h=f/c:f=h*c),s.minWidth=Math.min(u,f),s.minHeight=Math.min(d,h),s.maxWidth=f,s.maxHeight=h}r&&(o?(s.minLeft=Math.max(0,i.left),s.minTop=Math.max(0,i.top),s.maxLeft=Math.min(a.width,i.left+i.width)-s.width,s.maxTop=Math.min(a.height,i.top+i.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=a.width-s.width,s.maxTop=a.height-s.height))},renderCropBox:function(){var e=this.options,r=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&Rd(this.face,Pd,n.width>=r.width&&n.height>=r.height?sT:t2),gs(this.cropBox,At({width:n.width,height:n.height},ed({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ec(this.element,By,this.getData())}},sJ={initPreview:function(){var e=this.element,r=this.crossOrigin,n=this.options.preview,a=r?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",s=document.createElement("img");if(r&&(s.crossOrigin=r),s.src=a,s.alt=i,this.viewBox.appendChild(s),this.viewBoxImage=s,!!n){var o=n;typeof n=="string"?o=e.ownerDocument.querySelectorAll(n):n.querySelector&&(o=[n]),this.previews=o,Yt(o,function(c){var u=document.createElement("img");Rd(c,hh,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),r&&(u.crossOrigin=r),u.src=a,u.alt=i,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(u)})}},resetPreview:function(){Yt(this.previews,function(e){var r=Hy(e,hh);gs(e,{width:r.width,height:r.height}),e.innerHTML=r.html,XQ(e,hh)})},preview:function(){var e=this.imageData,r=this.canvasData,n=this.cropBoxData,a=n.width,i=n.height,s=e.width,o=e.height,c=n.left-r.left-e.left,u=n.top-r.top-e.top;!this.cropped||this.disabled||(gs(this.viewBoxImage,At({width:s,height:o},ed(At({translateX:-c,translateY:-u},e)))),Yt(this.previews,function(d){var f=Hy(d,hh),h=f.width,p=f.height,m=h,g=p,y=1;a&&(y=h/a,g=i*y),i&&g>p&&(y=p/i,m=a*y,g=p),gs(d,{width:m,height:g}),gs(d.getElementsByTagName("img")[0],At({width:s*y,height:o*y},ed(At({translateX:-c*y,translateY:-u*y},e))))}))}},oJ={bind:function(){var e=this.element,r=this.options,n=this.cropper;dn(r.cropstart)&&Zn(e,Uy,r.cropstart),dn(r.cropmove)&&Zn(e,$y,r.cropmove),dn(r.cropend)&&Zn(e,Fy,r.cropend),dn(r.crop)&&Zn(e,By,r.crop),dn(r.zoom)&&Zn(e,zy,r.zoom),Zn(n,SS,this.onCropStart=this.cropStart.bind(this)),r.zoomable&&r.zoomOnWheel&&Zn(n,TS,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&Zn(n,NS,this.onDblclick=this.dblclick.bind(this)),Zn(e.ownerDocument,ES,this.onCropMove=this.cropMove.bind(this)),Zn(e.ownerDocument,CS,this.onCropEnd=this.cropEnd.bind(this)),r.responsive&&Zn(window,AS,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,r=this.options,n=this.cropper;dn(r.cropstart)&&va(e,Uy,r.cropstart),dn(r.cropmove)&&va(e,$y,r.cropmove),dn(r.cropend)&&va(e,Fy,r.cropend),dn(r.crop)&&va(e,By,r.crop),dn(r.zoom)&&va(e,zy,r.zoom),va(n,SS,this.onCropStart),r.zoomable&&r.zoomOnWheel&&va(n,TS,this.onWheel,{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&va(n,NS,this.onDblclick),va(e.ownerDocument,ES,this.onCropMove),va(e.ownerDocument,CS,this.onCropEnd),r.responsive&&va(window,AS,this.onResize)}},lJ={resize:function(){if(!this.disabled){var e=this.options,r=this.container,n=this.containerData,a=r.offsetWidth/n.width,i=r.offsetHeight/n.height,s=Math.abs(a-1)>Math.abs(i-1)?a:i;if(s!==1){var o,c;e.restore&&(o=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Yt(o,function(u,d){o[d]=u*s})),this.setCropBoxData(Yt(c,function(u,d){c[d]=u*s})))}}},dblclick:function(){this.disabled||this.options.dragMode===cT||this.setDragMode(VQ(this.dragBox,My)?lT:r2)},wheel:function(e){var r=this,n=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),e.deltaY?a=e.deltaY>0?1:-1:e.wheelDelta?a=-e.wheelDelta/120:e.detail&&(a=e.detail>0?1:-1),this.zoom(-a*n,e)))},cropStart:function(e){var r=e.buttons,n=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(He(r)&&r!==1||He(n)&&n!==0||e.ctrlKey))){var a=this.options,i=this.pointers,s;e.changedTouches?Yt(e.changedTouches,function(o){i[o.identifier]=ph(o)}):i[e.pointerId||0]=ph(e),Object.keys(i).length>1&&a.zoomable&&a.zoomOnTouch?s=oT:s=Hy(e.target,Pd),RQ.test(s)&&ec(this.element,Uy,{originalEvent:e,action:s})!==!1&&(e.preventDefault(),this.action=s,this.cropping=!1,s===iT&&(this.cropping=!0,ur(this.dragBox,np)))}},cropMove:function(e){var r=this.action;if(!(this.disabled||!r)){var n=this.pointers;e.preventDefault(),ec(this.element,$y,{originalEvent:e,action:r})!==!1&&(e.changedTouches?Yt(e.changedTouches,function(a){At(n[a.identifier]||{},ph(a,!0))}):At(n[e.pointerId||0]||{},ph(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var r=this.action,n=this.pointers;e.changedTouches?Yt(e.changedTouches,function(a){delete n[a.identifier]}):delete n[e.pointerId||0],r&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,$l(this.dragBox,np,this.cropped&&this.options.modal)),ec(this.element,Fy,{originalEvent:e,action:r}))}}},cJ={change:function(e){var r=this.options,n=this.canvasData,a=this.containerData,i=this.cropBoxData,s=this.pointers,o=this.action,c=r.aspectRatio,u=i.left,d=i.top,f=i.width,h=i.height,p=u+f,m=d+h,g=0,y=0,x=a.width,v=a.height,b=!0,w;!c&&e.shiftKey&&(c=f&&h?f/h:1),this.limited&&(g=i.minLeft,y=i.minTop,x=g+Math.min(a.width,n.width,n.left+n.width),v=y+Math.min(a.height,n.height,n.top+n.height));var S=s[Object.keys(s)[0]],E={x:S.endX-S.startX,y:S.endY-S.startY},j=function(k){switch(k){case no:p+E.x>x&&(E.x=x-p);break;case ao:u+E.x<g&&(E.x=g-u);break;case Zi:d+E.y<y&&(E.y=y-d);break;case gl:m+E.y>v&&(E.y=v-m);break}};switch(o){case t2:u+=E.x,d+=E.y;break;case no:if(E.x>=0&&(p>=x||c&&(d<=y||m>=v))){b=!1;break}j(no),f+=E.x,f<0&&(o=ao,f=-f,u-=f),c&&(h=f/c,d+=(i.height-h)/2);break;case Zi:if(E.y<=0&&(d<=y||c&&(u<=g||p>=x))){b=!1;break}j(Zi),h-=E.y,d+=E.y,h<0&&(o=gl,h=-h,d-=h),c&&(f=h*c,u+=(i.width-f)/2);break;case ao:if(E.x<=0&&(u<=g||c&&(d<=y||m>=v))){b=!1;break}j(ao),f-=E.x,u+=E.x,f<0&&(o=no,f=-f,u-=f),c&&(h=f/c,d+=(i.height-h)/2);break;case gl:if(E.y>=0&&(m>=v||c&&(u<=g||p>=x))){b=!1;break}j(gl),h+=E.y,h<0&&(o=Zi,h=-h,d-=h),c&&(f=h*c,u+=(i.width-f)/2);break;case uu:if(c){if(E.y<=0&&(d<=y||p>=x)){b=!1;break}j(Zi),h-=E.y,d+=E.y,f=h*c}else j(Zi),j(no),E.x>=0?p<x?f+=E.x:E.y<=0&&d<=y&&(b=!1):f+=E.x,E.y<=0?d>y&&(h-=E.y,d+=E.y):(h-=E.y,d+=E.y);f<0&&h<0?(o=hu,h=-h,f=-f,d-=h,u-=f):f<0?(o=du,f=-f,u-=f):h<0&&(o=fu,h=-h,d-=h);break;case du:if(c){if(E.y<=0&&(d<=y||u<=g)){b=!1;break}j(Zi),h-=E.y,d+=E.y,f=h*c,u+=i.width-f}else j(Zi),j(ao),E.x<=0?u>g?(f-=E.x,u+=E.x):E.y<=0&&d<=y&&(b=!1):(f-=E.x,u+=E.x),E.y<=0?d>y&&(h-=E.y,d+=E.y):(h-=E.y,d+=E.y);f<0&&h<0?(o=fu,h=-h,f=-f,d-=h,u-=f):f<0?(o=uu,f=-f,u-=f):h<0&&(o=hu,h=-h,d-=h);break;case hu:if(c){if(E.x<=0&&(u<=g||m>=v)){b=!1;break}j(ao),f-=E.x,u+=E.x,h=f/c}else j(gl),j(ao),E.x<=0?u>g?(f-=E.x,u+=E.x):E.y>=0&&m>=v&&(b=!1):(f-=E.x,u+=E.x),E.y>=0?m<v&&(h+=E.y):h+=E.y;f<0&&h<0?(o=uu,h=-h,f=-f,d-=h,u-=f):f<0?(o=fu,f=-f,u-=f):h<0&&(o=du,h=-h,d-=h);break;case fu:if(c){if(E.x>=0&&(p>=x||m>=v)){b=!1;break}j(no),f+=E.x,h=f/c}else j(gl),j(no),E.x>=0?p<x?f+=E.x:E.y>=0&&m>=v&&(b=!1):f+=E.x,E.y>=0?m<v&&(h+=E.y):h+=E.y;f<0&&h<0?(o=du,h=-h,f=-f,d-=h,u-=f):f<0?(o=hu,f=-f,u-=f):h<0&&(o=uu,h=-h,d-=h);break;case sT:this.move(E.x,E.y),b=!1;break;case oT:this.zoom(YQ(s),e),b=!1;break;case iT:if(!E.x||!E.y){b=!1;break}w=mT(this.cropper),u=S.startX-w.left,d=S.startY-w.top,f=i.minWidth,h=i.minHeight,E.x>0?o=E.y>0?fu:uu:E.x<0&&(u-=f,o=E.y>0?hu:du),E.y<0&&(d-=h),this.cropped||(ri(this.cropBox,fn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}b&&(i.width=f,i.height=h,i.left=u,i.top=d,this.action=o,this.renderCropBox()),Yt(s,function(I){I.startX=I.endX,I.startY=I.endY})}},uJ={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ur(this.dragBox,np),ri(this.cropBox,fn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=At({},this.initialImageData),this.canvasData=At({},this.initialCanvasData),this.cropBoxData=At({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(At(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ri(this.dragBox,np),ur(this.cropBox,fn)),this},replace:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),r?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Yt(this.previews,function(n){n.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ri(this.cropper,_S)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ur(this.cropper,_S)),this},destroy:function(){var e=this.element;return e[Ct]?(e[Ct]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.canvasData,a=n.left,i=n.top;return this.moveTo(kv(e)?e:a+Number(e),kv(r)?r:i+Number(r))},moveTo:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.canvasData,a=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.movable&&(He(e)&&(n.left=e,a=!0),He(r)&&(n.top=r,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(e,r){var n=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(n.width*e/n.naturalWidth,null,r)},zoomTo:function(e,r,n){var a=this.options,i=this.canvasData,s=i.width,o=i.height,c=i.naturalWidth,u=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&a.zoomable){var d=c*e,f=u*e;if(ec(this.element,zy,{ratio:e,oldRatio:s/c,originalEvent:n})===!1)return this;if(n){var h=this.pointers,p=mT(this.cropper),m=h&&Object.keys(h).length?KQ(h):{pageX:n.pageX,pageY:n.pageY};i.left-=(d-s)*((m.pageX-p.left-i.left)/s),i.top-=(f-o)*((m.pageY-p.top-i.top)/o)}else Fl(r)&&He(r.x)&&He(r.y)?(i.left-=(d-s)*((r.x-i.left)/s),i.top-=(f-o)*((r.y-i.top)/o)):(i.left-=(d-s)/2,i.top-=(f-o)/2);i.width=d,i.height=f,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),He(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var r=this.imageData.scaleY;return this.scale(e,He(r)?r:1)},scaleY:function(e){var r=this.imageData.scaleX;return this.scale(He(r)?r:1,e)},scale:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.imageData,a=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.scalable&&(He(e)&&(n.scaleX=e,a=!0),He(r)&&(n.scaleY=r,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.options,n=this.imageData,a=this.canvasData,i=this.cropBoxData,s;if(this.ready&&this.cropped){s={x:i.left-a.left,y:i.top-a.top,width:i.width,height:i.height};var o=n.width/n.naturalWidth;if(Yt(s,function(d,f){s[f]=d/o}),e){var c=Math.round(s.y+s.height),u=Math.round(s.x+s.width);s.x=Math.round(s.x),s.y=Math.round(s.y),s.width=u-s.x,s.height=c-s.y}}else s={x:0,y:0,width:0,height:0};return r.rotatable&&(s.rotate=n.rotate||0),r.scalable&&(s.scaleX=n.scaleX||1,s.scaleY=n.scaleY||1),s},setData:function(e){var r=this.options,n=this.imageData,a=this.canvasData,i={};if(this.ready&&!this.disabled&&Fl(e)){var s=!1;r.rotatable&&He(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,s=!0),r.scalable&&(He(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,s=!0),He(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var o=n.width/n.naturalWidth;He(e.x)&&(i.left=e.x*o+a.left),He(e.y)&&(i.top=e.y*o+a.top),He(e.width)&&(i.width=e.width*o),He(e.height)&&(i.height=e.height*o),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?At({},this.containerData):{}},getImageData:function(){return this.sized?At({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,r={};return this.ready&&Yt(["left","top","width","height","naturalWidth","naturalHeight"],function(n){r[n]=e[n]}),r},setCanvasData:function(e){var r=this.canvasData,n=r.aspectRatio;return this.ready&&!this.disabled&&Fl(e)&&(He(e.left)&&(r.left=e.left),He(e.top)&&(r.top=e.top),He(e.width)?(r.width=e.width,r.height=e.width/n):He(e.height)&&(r.height=e.height,r.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,r;return this.ready&&this.cropped&&(r={left:e.left,top:e.top,width:e.width,height:e.height}),r||{}},setCropBoxData:function(e){var r=this.cropBoxData,n=this.options.aspectRatio,a,i;return this.ready&&this.cropped&&!this.disabled&&Fl(e)&&(He(e.left)&&(r.left=e.left),He(e.top)&&(r.top=e.top),He(e.width)&&e.width!==r.width&&(a=!0,r.width=e.width),He(e.height)&&e.height!==r.height&&(i=!0,r.height=e.height),n&&(a?r.height=r.width/n:i&&(r.width=r.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var r=this.canvasData,n=QQ(this.image,this.imageData,r,e);if(!this.cropped)return n;var a=this.getData(e.rounded),i=a.x,s=a.y,o=a.width,c=a.height,u=n.width/Math.floor(r.naturalWidth);u!==1&&(i*=u,s*=u,o*=u,c*=u);var d=o/c,f=vs({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),h=vs({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=vs({aspectRatio:d,width:e.width||(u!==1?n.width:o),height:e.height||(u!==1?n.height:c)}),m=p.width,g=p.height;m=Math.min(f.width,Math.max(h.width,m)),g=Math.min(f.height,Math.max(h.height,g));var y=document.createElement("canvas"),x=y.getContext("2d");y.width=Jl(m),y.height=Jl(g),x.fillStyle=e.fillColor||"transparent",x.fillRect(0,0,m,g);var v=e.imageSmoothingEnabled,b=v===void 0?!0:v,w=e.imageSmoothingQuality;x.imageSmoothingEnabled=b,w&&(x.imageSmoothingQuality=w);var S=n.width,E=n.height,j=i,I=s,k,T,L,C,A,N;j<=-o||j>S?(j=0,k=0,L=0,A=0):j<=0?(L=-j,j=0,k=Math.min(S,o+j),A=k):j<=S&&(L=0,k=Math.min(o,S-j),A=k),k<=0||I<=-c||I>E?(I=0,T=0,C=0,N=0):I<=0?(C=-I,I=0,T=Math.min(E,c+I),N=T):I<=E&&(C=0,T=Math.min(c,E-I),N=T);var O=[j,I,k,T];if(A>0&&N>0){var $=m/o;O.push(L*$,C*$,A*$,N*$)}return x.drawImage.apply(x,[n].concat(aT(O.map(function(D){return Math.floor(Jl(D))})))),y},setAspectRatio:function(e){var r=this.options;return!this.disabled&&!kv(e)&&(r.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var r=this.options,n=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var i=e===r2,s=r.movable&&e===lT;e=i||s?e:cT,r.dragMode=e,Rd(n,Pd,e),$l(n,My,i),$l(n,Ly,s),r.cropBoxMovable||(Rd(a,Pd,e),$l(a,My,i),$l(a,Ly,s))}return this}},dJ=si.Cropper,vT=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(NQ(this,t),!e||!BQ.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=At({},OS,Fl(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return SQ(t,[{key:"init",value:function(){var r=this.element,n=r.tagName.toLowerCase(),a;if(!r[Ct]){if(r[Ct]=this,n==="img"){if(this.isImg=!0,a=r.getAttribute("src")||"",this.originalUrl=a,!a)return;a=r.src}else n==="canvas"&&window.HTMLCanvasElement&&(a=r.toDataURL());this.load(a)}}},{key:"load",value:function(r){var n=this;if(r){this.url=r,this.imageData={};var a=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(MQ.test(r)){LQ.test(r)?this.read(tJ(r)):this.clone();return}var s=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=o,s.onerror=o,s.ontimeout=o,s.onprogress=function(){s.getResponseHeader("content-type")!==IS&&s.abort()},s.onload=function(){n.read(s.response)},s.onloadend=function(){n.reloading=!1,n.xhr=null},i.checkCrossOrigin&&PS(r)&&a.crossOrigin&&(r=RS(r)),s.open("GET",r,!0),s.responseType="arraybuffer",s.withCredentials=a.crossOrigin==="use-credentials",s.send()}}},{key:"read",value:function(r){var n=this.options,a=this.imageData,i=nJ(r),s=0,o=1,c=1;if(i>1){this.url=rJ(r,IS);var u=aJ(i);s=u.rotate,o=u.scaleX,c=u.scaleY}n.rotatable&&(a.rotate=s),n.scalable&&(a.scaleX=o,a.scaleY=c),this.clone()}},{key:"clone",value:function(){var r=this.element,n=this.url,a=r.crossOrigin,i=n;this.options.checkCrossOrigin&&PS(n)&&(a||(a="anonymous"),i=RS(n)),this.crossOrigin=a,this.crossOriginUrl=i;var s=document.createElement("img");a&&(s.crossOrigin=a),s.src=i||n,s.alt=r.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),ur(s,kS),r.parentNode.insertBefore(s,r.nextSibling)}},{key:"start",value:function(){var r=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var a=si.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(si.navigator.userAgent),i=function(u,d){At(r.imageData,{naturalWidth:u,naturalHeight:d,aspectRatio:u/d}),r.initialImageData=At({},r.imageData),r.sizing=!1,r.sized=!0,r.build()};if(n.naturalWidth&&!a){i(n.naturalWidth,n.naturalHeight);return}var s=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){i(s.width,s.height),a||o.removeChild(s)},s.src=n.src,a||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(s))}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var r=this.element,n=this.options,a=this.image,i=r.parentNode,s=document.createElement("div");s.innerHTML=FQ;var o=s.querySelector(".".concat(Ct,"-container")),c=o.querySelector(".".concat(Ct,"-canvas")),u=o.querySelector(".".concat(Ct,"-drag-box")),d=o.querySelector(".".concat(Ct,"-crop-box")),f=d.querySelector(".".concat(Ct,"-face"));this.container=i,this.cropper=o,this.canvas=c,this.dragBox=u,this.cropBox=d,this.viewBox=o.querySelector(".".concat(Ct,"-view-box")),this.face=f,c.appendChild(a),ur(r,fn),i.insertBefore(o,r.nextSibling),ri(a,kS),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,ur(d,fn),n.guides||ur(d.getElementsByClassName("".concat(Ct,"-dashed")),fn),n.center||ur(d.getElementsByClassName("".concat(Ct,"-center")),fn),n.background&&ur(o,"".concat(Ct,"-bg")),n.highlight||ur(f,IQ),n.cropBoxMovable&&(ur(f,Ly),Rd(f,Pd,t2)),n.cropBoxResizable||(ur(d.getElementsByClassName("".concat(Ct,"-line")),fn),ur(d.getElementsByClassName("".concat(Ct,"-point")),fn)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),dn(n.ready)&&Zn(r,jS,n.ready,{once:!0}),ec(r,jS)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var r=this.cropper.parentNode;r&&r.removeChild(this.cropper),ri(this.element,fn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=dJ,t}},{key:"setDefaults",value:function(r){At(OS,Fl(r)&&r)}}])}();At(vT.prototype,iJ,sJ,oJ,lJ,cJ,uJ);var yo=function(){return yo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},yo.apply(this,arguments)};function Sv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]])}return r}var fJ=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],hJ={opacity:0,maxWidth:"100%"},a2=ne.forwardRef(function(t,e){var r=Sv(t,[]),n=r.dragMode,a=n===void 0?"crop":n,i=r.src,s=r.style,o=r.className,c=r.crossOrigin,u=r.scaleX,d=r.scaleY,f=r.enable,h=r.zoomTo,p=r.rotateTo,m=r.alt,g=m===void 0?"picture":m,y=r.ready,x=r.onInitialized,v=Sv(r,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),b={scaleY:d,scaleX:u,enable:f,zoomTo:h,rotateTo:p},w=function(){for(var E=[],j=0;j<arguments.length;j++)E[j]=arguments[j];var I=_.useRef(null);return ne.useEffect(function(){E.forEach(function(k){k&&(typeof k=="function"?k(I.current):k.current=I.current)})},[E]),I}(e,_.useRef(null));_.useEffect(function(){var E;!((E=w.current)===null||E===void 0)&&E.cropper&&typeof h=="number"&&w.current.cropper.zoomTo(h)},[r.zoomTo]),_.useEffect(function(){var E;!((E=w.current)===null||E===void 0)&&E.cropper&&i!==void 0&&w.current.cropper.reset().clear().replace(i)},[i]),_.useEffect(function(){if(w.current!==null){var E=new vT(w.current,yo(yo({dragMode:a},v),{ready:function(j){j.currentTarget!==null&&function(I,k){k===void 0&&(k={});var T=k.enable,L=T===void 0||T,C=k.scaleX,A=C===void 0?1:C,N=k.scaleY,O=N===void 0?1:N,$=k.zoomTo,D=$===void 0?0:$,R=k.rotateTo;L?I.enable():I.disable(),I.scaleX(A),I.scaleY(O),R!==void 0&&I.rotateTo(R),D>0&&I.zoomTo(D)}(j.currentTarget.cropper,b),y&&y(j)}}));x&&x(E)}return function(){var j,I;(I=(j=w.current)===null||j===void 0?void 0:j.cropper)===null||I===void 0||I.destroy()}},[w]);var S=function(E){return fJ.reduce(function(j,I){var k=j,T=I;return k[T],Sv(k,[typeof T=="symbol"?T:T+""])},E)}(yo(yo({},v),{crossOrigin:c,src:i,alt:g}));return ne.createElement("div",{style:s,className:o},ne.createElement("img",yo({},S,{style:hJ,ref:w})))});const MS=({aspectRatio:t=1,targetWidth:e=800,targetHeight:r=800,storageBucket:n="images",storagePathPrefix:a,onUploadSuccess:i,initialImageUrl:s,onRemoveImage:o,recommendedText:c=" : 800x800px",className:u="",buttonText:d=" "})=>{const[f,h]=_.useState(null),[p,m]=_.useState(null),[g,y]=_.useState(!1),[x,v]=_.useState(!1),[b,w]=_.useState(0),S=_.useRef(null),E=async k=>{var L;const T=(L=k.target.files)==null?void 0:L[0];if(T)try{const C=await jL(T,{maxWidthOrHeight:2e3,maxSizeMB:2,useWebWorker:!0});h(C),y(!0)}catch(C){console.error("Error processing image:",C),alert("   ")}},j=async()=>{if(!(!p||!f))try{v(!0),w(0);const k=p.getCroppedCanvas({width:e,height:r,fillColor:"#fff",imageSmoothingEnabled:!0,imageSmoothingQuality:"high"}),T=await new Promise(O=>{k.toBlob($=>{if($)O($);else throw new Error("Failed to create blob")},"image/jpeg",.9)}),L=AL(f,a),{data:C,error:A}=await ue.storage.from(n).upload(L,T,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg",onUploadProgress:O=>{const $=Math.round(O.loaded/O.total*100);w($)}});if(A)throw A;const{data:N}=ue.storage.from(n).getPublicUrl(L);i(N.publicUrl,L),y(!1),h(null),w(0)}catch(k){console.error("Error uploading image:",k),alert("   ")}finally{v(!1)}},I=()=>{y(!1),h(null),S.current&&(S.current.value="")};return l.jsxs("div",{className:`image-upload-container ${u}`,children:[l.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:E,className:"hidden"}),g&&f?l.jsxs("div",{className:"space-y-4",children:[l.jsx(a2,{src:URL.createObjectURL(f),style:{height:400,width:"100%"},aspectRatio:t,guides:!0,viewMode:1,dragMode:"move",scalable:!0,cropBoxMovable:!0,cropBoxResizable:!0,onInitialized:k=>m(k),className:"max-w-full"}),x&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium",children:""}),l.jsxs("span",{className:"text-sm font-medium",children:[b,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-dark-700 rounded-full h-2.5",children:l.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsxs("button",{type:"button",onClick:I,disabled:x,className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors disabled:opacity-50",children:[l.jsx(Bt,{className:"h-4 w-4 mr-2 inline-block"}),""]}),l.jsx("button",{type:"button",onClick:j,disabled:x,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:opacity-50",children:x?l.jsx(l.Fragment,{children:l.jsx("span",{className:"animate-pulse",children:"..."})}):l.jsxs(l.Fragment,{children:[l.jsx($p,{className:"h-4 w-4 mr-2 inline-block"}),""]})})]})]}):s?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:s,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),l.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{var k;return(k=S.current)==null?void 0:k.click()},className:"p-2 bg-white/90 hover:bg-white text-dark-800 rounded-full shadow-lg",title:" ",children:l.jsx(jo,{className:"h-5 w-5"})}),o&&l.jsx("button",{type:"button",onClick:o,className:"p-2 bg-red-600/90 hover:bg-red-600 text-white rounded-full shadow-lg",title:" ",children:l.jsx(Bt,{className:"h-5 w-5"})})]})]}):l.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-dark-600 rounded-lg p-8 text-center",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"mb-4 p-3 bg-gray-100 dark:bg-dark-700 rounded-full",children:l.jsx(Xa,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})}),l.jsx("button",{type:"button",onClick:()=>{var k;return(k=S.current)==null?void 0:k.click()},className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors",children:d}),l.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:c})]})})]})},xT=({speakerId:t,photos:e=[],onPhotosUpdate:r,onImageSelect:n})=>{const[a,i]=_.useState(null),[s,o]=_.useState(!1),[c,u]=_.useState(null),[d,f]=_.useState(!1),h=async y=>{o(!0);try{const x=(Array.isArray(e)?e:[]).map(b=>({...b,isMain:b.url===y})),{error:v}=await ue.from("speakers").update({photos:x}).eq("id",t);if(v)throw v;r(x),K.success("  "),n&&n(zt(y))}catch(x){console.error("Error updating main photo:",x),K.error("   ")}finally{o(!1)}},p=async y=>{var x,v;if(confirm(" ,     ?")){o(!0);try{const{error:b}=await ue.storage.from("images").remove([y]);if(b)throw b;const w=Array.isArray(e)?e:[],S=w.filter(j=>j.url!==y);S.length>0&&((x=w.find(j=>j.url===y))!=null&&x.isMain)&&(S[0].isMain=!0);const{error:E}=await ue.from("speakers").update({photos:S}).eq("id",t);if(E)throw E;r(S),n&&((v=w.find(j=>j.url===y))!=null&&v.isMain)&&n(S.length>0?zt(S[0].url):null),K.success(" ")}catch(b){console.error("Error deleting photo:",b),K.error("   ")}finally{o(!1)}}},m=(y,x)=>{const v=Array.isArray(e)?e:[],b={url:x};v.length===0&&(b.isMain=!0);const w=[...v,b];ue.from("speakers").update({photos:w}).eq("id",t).then(({error:S})=>{if(S){console.error("Error updating speaker photos:",S),K.error("   ");return}r(w),b.isMain&&n&&n(y),K.success("  ")})},g=Array.isArray(e)?e:[];return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:g.map((y,x)=>l.jsxs("div",{className:`relative group aspect-square rounded-lg overflow-hidden border-2 ${y.isMain?"border-primary-600":"border-transparent"}`,children:[l.jsx("img",{src:zt(y.url),alt:` ${x+1}`,className:"w-full h-full object-cover",onError:v=>{const b=v.target;b.src="https://via.placeholder.com/300?text=Error+loading+image"}}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[l.jsx("button",{onClick:()=>h(y.url),disabled:s||y.isMain,className:`p-2 rounded-full ${y.isMain?"bg-primary-600 text-white":"bg-white/90 hover:bg-white text-gray-900"}`,title:y.isMain?" ":" ",children:y.isMain?l.jsx(Mj,{className:"h-5 w-5"}):l.jsx(t7,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>{u(y.url),f(!0)},className:"p-2 rounded-full bg-white/90 hover:bg-white text-gray-900",title:"",children:l.jsx(MM,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>i(y.url),className:"p-2 rounded-full bg-white/90 hover:bg-white text-gray-900",title:"",children:l.jsx(FM,{className:"h-5 w-5"})}),!y.isMain&&l.jsx("button",{onClick:()=>p(y.url),className:"p-2 rounded-full bg-red-500/90 hover:bg-red-500 text-white",title:"",children:l.jsx(Bt,{className:"h-5 w-5"})})]}),y.isMain&&l.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-primary-600 text-white text-xs rounded-full",children:""})]},x))}),l.jsx("div",{className:"mt-4",children:l.jsx(MS,{aspectRatio:1,targetWidth:800,targetHeight:800,storagePathPrefix:`speakers/${t}/`,onUploadSuccess:m,buttonText:" ",recommendedText:" : 800x800px"})}),d&&c&&l.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg p-6 max-w-4xl w-full",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:" "}),l.jsx("button",{onClick:()=>{f(!1),u(null)},className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full",children:l.jsx(Bt,{className:"h-5 w-5"})})]}),l.jsx(MS,{aspectRatio:1,targetWidth:800,targetHeight:800,storagePathPrefix:`speakers/${t}/`,initialImageUrl:zt(c),onUploadSuccess:(y,x)=>{const v=g.map(b=>b.url===c?{...b,url:x}:b);r(v),ue.from("speakers").update({photos:v}).eq("id",t).then(({error:b})=>{var w;if(b){console.error("Error updating speaker photos:",b),K.error("   ");return}(w=g.find(S=>S.url===c))!=null&&w.isMain&&n&&n(y),K.success("  "),f(!1),u(null)})}})]})}),a&&l.jsxs("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",children:[l.jsx("button",{onClick:()=>i(null),className:"absolute top-4 right-4 p-2 text-white hover:bg-white/10 rounded-full",children:l.jsx(Bt,{className:"h-6 w-6"})}),l.jsx("img",{src:zt(a),alt:" ",className:"max-w-full max-h-[90vh] object-contain"})]})]})},pJ=({isOpen:t,onClose:e,onSuccess:r})=>{const[n,a]=_.useState(!1),[i,s]=_.useState([]),[o]=_.useState(()=>crypto.randomUUID()),[c,u]=_.useState(null),[d,f]=_.useState({id:o,name:"",field_of_expertise:"",description:"",date_of_birth:"",active:!0}),h=async p=>{p.preventDefault(),a(!0);try{const{error:m}=await ue.from("speakers").insert([{...d,photos:i,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(m)throw m;K.success("  "),r(),e()}catch(m){console.error("Error creating speaker:",m),K.error("   ")}finally{a(!1)}};return l.jsx(Rc,{isOpen:t,onClose:e,title:" ",size:"lg",children:l.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-2",children:""}),c&&l.jsx("div",{className:"mb-4",children:l.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 object-cover rounded-full mx-auto"})}),l.jsx(xT,{speakerId:o,photos:i,onPhotosUpdate:s,onImageSelect:u})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"name",className:"block font-medium mb-2",children:""}),l.jsx("input",{type:"text",id:"name",value:d.name,onChange:p=>f({...d,name:p.target.value}),className:"w-full px-4 py-2 rounded-md border border-gray-300 dark:border-dark-600",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"field_of_expertise",className:"block font-medium mb-2",children:""}),l.jsx("input",{type:"text",id:"field_of_expertise",value:d.field_of_expertise,onChange:p=>f({...d,field_of_expertise:p.target.value}),className:"w-full px-4 py-2 rounded-md border border-gray-300 dark:border-dark-600",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"description",className:"block font-medium mb-2",children:""}),l.jsx("textarea",{id:"description",value:d.description,onChange:p=>f({...d,description:p.target.value}),className:"w-full px-4 py-2 rounded-md border border-gray-300 dark:border-dark-600",rows:4})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"date_of_birth",className:"block font-medium mb-2",children:"  ()"}),l.jsx("input",{type:"date",id:"date_of_birth",value:d.date_of_birth,onChange:p=>f({...d,date_of_birth:p.target.value}),className:"w-full px-4 py-2 rounded-md border border-gray-300 dark:border-dark-600"})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:d.active,onChange:p=>f({...d,active:p.target.checked}),className:"form-checkbox"}),l.jsx("span",{className:"font-medium",children:" "})]})}),l.jsxs("div",{className:"flex justify-end gap-4 pb-2",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700",children:""}),l.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:n?"...":""})]})]})})},mh=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),mJ=()=>{var v,b;const[t,e]=_.useState(""),[r,n]=_.useState([]),[a,i]=_.useState(null),[s,o]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState({}),[h,p]=_.useState(!1);_.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:w,error:S}=await mh.from("speakers").select("*").order("name");if(S)throw S;n(w||[])}catch(w){console.error("Error fetching speakers:",w),K.error("Failed to load speakers")}},g=async()=>{try{const{error:w}=await mh.from("speakers").update(d).eq("id",a==null?void 0:a.id);if(w)throw w;K.success("Speaker updated successfully"),m(),u(!1)}catch(w){console.error("Error updating speaker:",w),K.error("Failed to update speaker")}},y=r.filter(w=>w.name.toLowerCase().includes(t.toLowerCase())||w.field_of_expertise.toLowerCase().includes(t.toLowerCase())),x=async w=>{if(confirm(" ,     ?    ."))try{const S=r.find(I=>I.id===w),E=Array.isArray(S==null?void 0:S.photos)?S.photos:[];if(E.length){const{error:I}=await mh.storage.from("images").remove(E.map(k=>k.url));if(I)throw I}const{error:j}=await mh.from("speakers").delete().eq("id",w);if(j)throw j;K.success("  "),m()}catch(S){console.error("Error deleting speaker:",S),K.error("   ")}};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:" "}),l.jsxs("button",{className:"btn-primary flex items-center gap-2",onClick:()=>p(!0),children:[l.jsx(ha,{className:"h-5 w-5"})," "]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:" ...",value:t,onChange:w=>e(w.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map(w=>{var S,E;return l.jsxs("div",{className:"card hover:shadow-lg",children:[l.jsx("div",{className:"relative aspect-square",children:(E=(S=w.photos)==null?void 0:S[0])!=null&&E.url?l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${w.photos[0].url}`,alt:w.name,className:"w-full h-full object-cover",onError:j=>{const I=j.target;I.src="https://via.placeholder.com/300?text=No+image"}}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-dark-700",children:l.jsx(Cn,{className:"w-16 h-16 text-gray-400"})})}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-lg mb-1",children:w.name}),l.jsx("p",{className:"text-primary-600 dark:text-primary-400 text-sm mb-4",children:w.field_of_expertise}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>{i(w),o(!0),u(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full",children:l.jsx(Qd,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>{i(w),f(w),o(!0),u(!0)},className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full",children:l.jsx(Qa,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>x(w.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-full text-red-600",title:"",children:l.jsx(Pn,{className:"h-5 w-5"})})]})]})]},w.id)})}),l.jsx(pJ,{isOpen:h,onClose:()=>p(!1),onSuccess:m}),s&&a&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold",children:c?" ":"  "}),l.jsx("button",{onClick:()=>{o(!1),i(null),u(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full",children:l.jsx(Bt,{className:"h-5 w-5"})})]}),c?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-2",children:""}),l.jsx(xT,{speakerId:a.id,photos:a.photos||[],onPhotosUpdate:w=>{i({...a,photos:w}),f({...d,photos:w})}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-2",children:""}),l.jsx("input",{type:"text",value:d.name||"",onChange:w=>f({...d,name:w.target.value}),className:"form-input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-2",children:""}),l.jsx("input",{type:"text",value:d.field_of_expertise||"",onChange:w=>f({...d,field_of_expertise:w.target.value}),className:"form-input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-2",children:""}),l.jsx("textarea",{value:d.description||"",onChange:w=>f({...d,description:w.target.value}),rows:4,className:"form-input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-2",children:" "}),l.jsx("input",{type:"date",value:d.date_of_birth||"",onChange:w=>f({...d,date_of_birth:w.target.value}),className:"form-input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"block font-medium mb-2",children:"Google Drive"}),l.jsx("input",{type:"url",value:d.google_drive_link||"",onChange:w=>f({...d,google_drive_link:w.target.value}),className:"form-input"})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:d.active,onChange:w=>f({...d,active:w.target.checked}),className:"form-checkbox"}),l.jsx("span",{className:"font-medium",children:" "})]})}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{onClick:()=>{u(!1),f(a)},className:"btn-outline",children:""}),l.jsx("button",{onClick:g,className:"btn-primary",children:""})]})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-6",children:[l.jsx("div",{className:"w-32 h-32 flex-shrink-0",children:(b=(v=a.photos)==null?void 0:v[0])!=null&&b.url?l.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${a.photos[0].url}`,alt:a.name,className:"w-full h-full object-cover rounded-lg"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-dark-700 rounded-lg",children:l.jsx(Cn,{className:"w-12 h-12 text-gray-400"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-semibold mb-2",children:a.name}),l.jsx("p",{className:"text-primary-600 dark:text-primary-400 mb-4",children:a.field_of_expertise}),l.jsx("p",{className:"text-dark-600 dark:text-dark-300",children:a.description})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium mb-2",children:" "}),l.jsx("p",{children:a.date_of_birth||" "})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium mb-2",children:""}),l.jsx("p",{children:a.active?"":""})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>{u(!0),f(a)},className:"btn-primary",children:""})})]})]})})})]})},pu=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),gJ=()=>l.jsxs("div",{className:"flex justify-center items-center py-12",children:[l.jsxs("div",{className:"relative",children:[l.jsx(mr,{className:"w-8 h-8 animate-spin text-primary-500"}),l.jsx("div",{className:"absolute inset-0 w-8 h-8 border-2 border-primary-200 dark:border-primary-800 rounded-full"})]}),l.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300 font-medium",children:" ..."})]}),vJ=()=>{var $,D,R,M;const[t,e]=_.useState(null),[r,n]=_.useState(!0),[a,i]=_.useState(!1),[s,o]=_.useState({}),[c,u]=_.useState({name:"",price:0,duration:"hour",description:""}),[d,f]=_.useState(!1),[h,p]=_.useState(null),[m,g]=_.useState(null),[y,x]=_.useState(!1),v=_.useRef(null),b=_.useRef(null);_.useEffect(()=>{w()},[]);const w=async()=>{try{n(!0);const{data:F,error:B}=await pu.from("site_settings").select("rent_info_settings").select("*").single();if(B)throw B;e(F),o(F||{})}catch(F){console.error("Error fetching settings:",F),K.error("   ")}finally{n(!1)}},S=async()=>{try{i(!0);const{error:F}=await pu.from("site_settings").select("rent_info_settings").update(s).eq("id",t==null?void 0:t.id);if(F)throw F;await w(),K.success("  ")}catch(F){console.error("Error saving settings:",F),K.error("   ")}finally{i(!1)}},E=()=>{if(!c.name||c.price<=0)return;const F=[...s.pricelist||[],{...c,id:Date.now().toString()}];o(B=>({...B,pricelist:F})),u({name:"",price:0,duration:"hour",description:""})},j=F=>{const B=(s.pricelist||[]).filter(U=>U.id!==F);o(U=>({...U,pricelist:B}))},I=(F,B)=>{o(U=>({...U,[B]:F.target.value}))},k=(F,B)=>{o(U=>({...U,contacts:{...U.contacts||{},[B]:F.target.value}}))},T=(F,B)=>{u(U=>({...U,[B]:B==="price"?Number(F.target.value):F.target.value}))},L=async F=>{if(F.target.files&&F.target.files.length>0){const B=F.target.files[0];if(B.size>5*1024*1024){K.error("  .   5MB.");return}p(B),x(!0)}},C=()=>{if(v.current&&v.current.cropper){const F=v.current.cropper.getCroppedCanvas();g(F.toDataURL("image/jpeg",.8))}},A=async()=>{if(!(!m||!h))try{f(!0);const F=await fetch(m).then(se=>se.blob()),B=Date.now(),U=h.name.split(".").pop(),ee=`rent_photos/${`${B}.${U}`}`,{data:V,error:re}=await pu.storage.from("images").upload(ee,F,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(re)throw re;const{data:oe}=pu.storage.from("images").getPublicUrl(ee),ie=[...s.photos||[],oe.publicUrl];o(se=>({...se,photos:ie})),K.success("  "),O()}catch(F){console.error("Error uploading photo:",F),K.error("   ")}finally{f(!1)}},N=async F=>{try{const B=F.split("/"),q=`rent_photos/${B[B.length-1]}`,{error:ee}=await pu.storage.from("images").remove([q]);if(ee)throw ee;const V=(s.photos||[]).filter(re=>re!==F);o(re=>({...re,photos:V})),K.success("  ")}catch(B){console.error("Error deleting photo:",B),K.error("   ")}},O=()=>{p(null),g(null),x(!1),b.current&&(b.current.value="")};return r?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx(gJ,{})})}):t?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:[l.jsx("input",{type:"file",ref:b,onChange:L,accept:"image/*",className:"hidden"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-12 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-4 font-heading",children:" "}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"      "})]}),l.jsx("div",{className:"flex justify-center mb-10",children:l.jsx("button",{onClick:S,disabled:a,className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg font-heading",children:a?l.jsxs(l.Fragment,{children:[l.jsx(mr,{className:"w-5 h-5 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ia,{className:"w-5 h-5"})," "]})})}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/30 dark:to-primary-800/30 rounded-xl mr-4",children:l.jsx(zp,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"    "})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:s.title||"",onChange:F=>I(F,"title"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"   "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("textarea",{value:s.description||"",onChange:F=>I(F,"description"),rows:4,className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200 resize-none",placeholder:"    ..."})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl mr-4",children:l.jsx(Xa,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:""}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"   "})]})]}),l.jsx("div",{className:"mb-8",children:y?l.jsxs("div",{className:"space-y-6 p-6 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:" "}),l.jsx("div",{className:"h-64 w-full relative rounded-lg overflow-hidden",children:l.jsx(a2,{src:h?URL.createObjectURL(h):"",style:{height:"100%",width:"100%"},initialAspectRatio:16/9,guides:!0,ref:v,crop:C,viewMode:1,minCropBoxHeight:100,minCropBoxWidth:100,responsive:!0,autoCropArea:1,checkOrientation:!1})}),m&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:":"}),l.jsx("div",{className:"flex justify-center",children:l.jsx("img",{src:m,alt:"Cropped preview",className:"max-h-40 rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-lg"})})]}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-6 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200",children:[l.jsx(Bt,{className:"w-5 h-5"}),""]}),l.jsx("button",{onClick:A,disabled:d||!m,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 disabled:transform-none",children:d?l.jsxs(l.Fragment,{children:[l.jsx(mr,{className:"w-5 h-5 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ia,{className:"w-5 h-5"})," "]})})]})]}):l.jsx("div",{className:"p-8 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/30 dark:to-gray-600/30 hover:border-primary-400 dark:hover:border-primary-500 transition-all duration-200",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-4 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/30 dark:to-primary-800/30 rounded-full",children:l.jsx(Xa,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})})}),l.jsx("button",{onClick:()=>{var F;return(F=b.current)==null?void 0:F.click()},className:"text-primary-600 dark:text-primary-400 font-semibold hover:text-primary-700 dark:hover:text-primary-300 transition-colors duration-200",children:"   "}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"   "}),l.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"JPG, PNG ( 5MB)"})]})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:" "}),s.photos&&s.photos.length>0?l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:s.photos.map((F,B)=>l.jsxs("div",{className:"group relative",children:[l.jsx("div",{className:"aspect-square rounded-xl overflow-hidden border-2 border-gray-200 dark:border-gray-600 shadow-lg hover:shadow-xl transition-all duration-300",children:l.jsx("img",{src:F,alt:`Rent photo ${B+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),l.jsx("button",{onClick:()=>N(F),className:"absolute top-2 right-2 p-2 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 transform hover:scale-110 shadow-lg",title:" ",children:l.jsx(Pn,{className:"w-4 h-4"})})]},B))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Xa,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"   "})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 rounded-xl mr-4",children:l.jsx(zu,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"-"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"   "})]})]}),l.jsxs("button",{onClick:E,disabled:!c.name||c.price<=0,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg font-heading disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[l.jsx(ha,{className:"w-5 h-5"})," "]})]}),l.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"  "}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:c.name,onChange:F=>T(F,"name"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" ()"}),l.jsx("input",{type:"number",value:c.price,onChange:F=>T(F,"price"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"1000"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsxs("select",{value:c.duration,onChange:F=>T(F,"duration"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",children:[l.jsx("option",{value:"hour",children:""}),l.jsx("option",{value:"day",children:""}),l.jsx("option",{value:"week",children:""}),l.jsx("option",{value:"month",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:c.description||"",onChange:F=>T(F,"description"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:" "})]})]})]}),l.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 dark:border-gray-700",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:""}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:""}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:""}),l.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:""}),l.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:""})]})}),l.jsx("tbody",{className:"bg-white dark:bg-dark-800 divide-y divide-gray-200 dark:divide-gray-700",children:(s.pricelist||[]).length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[l.jsx(zu,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"    "})]})}):(s.pricelist||[]).map(F=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors duration-200",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:F.name})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:[F.price.toLocaleString("ru-RU")," "]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:{hour:"",day:"",week:"",month:""}[F.duration]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-xs",children:F.description||"-"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:l.jsx("button",{onClick:()=>j(F.id),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-all duration-200 transform hover:scale-110",title:"",children:l.jsx(Pn,{className:"w-4 h-4"})})})]},F.id))})]})})})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl mr-4",children:l.jsx(A0,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"   "})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[l.jsx(vr,{className:"w-4 h-4 text-orange-500"}),""]}),l.jsx("input",{type:"text",value:(($=s.contacts)==null?void 0:$.address)||"",onChange:F=>k(F,"address"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:". , . , . 1"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[l.jsx(A0,{className:"w-4 h-4 text-orange-500"}),""]}),l.jsx("input",{type:"tel",value:((D=s.contacts)==null?void 0:D.phone)||"",onChange:F=>k(F,"phone"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"+7 (999) 123-45-67"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[l.jsx(Jd,{className:"w-4 h-4 text-orange-500"}),"Email"]}),l.jsx("input",{type:"email",value:((R=s.contacts)==null?void 0:R.email)||"",onChange:F=>k(F,"email"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"example@mail.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[l.jsx(vr,{className:"w-4 h-4 text-orange-500"}),"  "]}),l.jsx("input",{type:"url",value:((M=s.contacts)==null?void 0:M.map_link)||"",onChange:F=>k(F,"map_link"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"https://yandex.ru/maps/..."})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:" "}),l.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:(s.photos||[]).length})]}),l.jsx("div",{className:"p-3 bg-blue-200 dark:bg-blue-800 rounded-xl",children:l.jsx(Xa,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})]})}),l.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-2xl p-6 border border-green-200 dark:border-green-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:" "}),l.jsx("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:(s.pricelist||[]).length})]}),l.jsx("div",{className:"p-3 bg-green-200 dark:bg-green-800 rounded-xl",children:l.jsx(zu,{className:"w-8 h-8 text-green-600 dark:text-green-400"})})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:". "}),l.jsx("p",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:(s.pricelist||[]).length>0?`${Math.min(...(s.pricelist||[]).map(F=>F.price)).toLocaleString("ru-RU")} `:""})]}),l.jsx("div",{className:"p-3 bg-purple-200 dark:bg-purple-800 rounded-xl",children:l.jsx(Hh,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})})]})})]})]}),l.jsx("div",{className:"fixed bottom-6 right-6 md:hidden",children:l.jsx("button",{onClick:S,disabled:a,className:"flex items-center gap-2 px-6 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white rounded-full shadow-2xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:a?l.jsx(mr,{className:"w-6 h-6 animate-spin"}):l.jsx(Ia,{className:"w-6 h-6"})})})]})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:"   .   ."})})})})},xJ=()=>{const[t,e]=_.useState(""),[r,n]=_.useState([]),[a,i]=_.useState({title:"",description:"",address:"",phone:"",working_hours:""}),[s,o]=_.useState(!0),[c,u]=_.useState(!1),[d,f]=_.useState(null),[h,p]=_.useState(null),[m,g]=_.useState({name:"",description:"",price:0,currency:"euro",period:"",active:!0,image_url:"",main_service:!0}),[y,x]=_.useState(!1);_.useEffect(()=>{v()},[]);const v=async()=>{try{o(!0);const{data:k,error:T}=await ue.from("coworking_info_table").select("*").order("order",{ascending:!0});if(T)throw T;n(k||[]);const{data:L,error:C}=await ue.from("site_settings").select("coworking_header_settings").single();if(C){if(console.error("Error fetching settings:",C),C.code==="PGRST116"){i({title:" ",description:"      ",address:", 48",phone:"+381",working_hours:"10:00-18:00"});return}throw C}const A=(L==null?void 0:L.coworking_header_settings)||{};i({title:A.title||"",description:A.description||"",address:A.address||"",phone:A.phone||"",working_hours:A.working_hours||""})}catch(k){console.error("Error fetching data:",k),f("   "),K.error("   ")}finally{o(!1)}},b=async()=>{try{u(!0);const{data:k,error:T}=await ue.from("site_settings").select("id").single();if(T)throw console.error("Error fetching site settings ID:",T),T;const{error:L}=await ue.from("site_settings").update({coworking_header_settings:a}).eq("id",k.id);if(L)throw L;K.success("  "),f(null)}catch(k){console.error("Error saving header:",k),f("   "),K.error("   ")}finally{u(!1)}},w=async()=>{try{if(!h)return;const{error:k}=await ue.from("coworking_info_table").update(h).eq("id",h.id);if(k)throw k;await v(),p(null),x(!1),K.success("  ")}catch(k){console.error("Error saving service:",k),K.error("  ")}},S=async()=>{try{if(!m.name||m.price<=0){K.error("   ");return}const k=r.reduce((C,A)=>A.order>C?A.order:C,0),T={...m,order:k+1},{error:L}=await ue.from("coworking_info_table").insert([T]);if(L)throw L;await v(),g({name:"",description:"",price:0,currency:"euro",period:"",active:!0,image_url:"",main_service:!0}),x(!1),K.success("  ")}catch(k){console.error("Error adding service:",k),K.error("  ")}},E=async k=>{if(confirm(" ?"))try{const{error:T}=await ue.from("coworking_info_table").delete().eq("id",k);if(T)throw T;await v(),K.success(" ")}catch(T){console.error("Error deleting service:",T),K.error("  ")}},j=async(k,T)=>{const L=r.findIndex(A=>A.id===k);if(L===-1)return;const C=T==="up"?L-1:L+1;if(!(C<0||C>=r.length))try{const A=[{id:r[L].id,order:r[C].order},{id:r[C].id,order:r[L].order}];for(const N of A){const{error:O}=await ue.from("coworking_info_table").update({order:N.order}).eq("id",N.id);if(O)throw O}await v()}catch(A){console.error("Error moving service:",A),K.error("  ")}},I=r.filter(k=>k.name.toLowerCase().includes(t.toLowerCase())||k.description.toLowerCase().includes(t.toLowerCase()));return s?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-12 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-4 font-heading",children:" "}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"      "})]}),d&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:l.jsx("p",{className:"text-red-600 dark:text-red-400",children:d})}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700 mb-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(qx,{className:"w-6 h-6 text-primary-600"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:" "})]}),l.jsx("button",{onClick:b,disabled:c,className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:c?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ia,{className:"w-4 h-4"})," "]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:a.title,onChange:k=>i({...a,title:k.target.value}),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:a.address||"",onChange:k=>i({...a,address:k.target.value}),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:a.phone||"",onChange:k=>i({...a,phone:k.target.value}),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"+381 XX XXX XXXX"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:a.working_hours||"",onChange:k=>i({...a,working_hours:k.target.value}),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"10:00-18:00"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("textarea",{value:a.description,onChange:k=>i({...a,description:k.target.value}),rows:4,className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white resize-none",placeholder:"  "})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:" "}),l.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:[l.jsx(ha,{className:"w-4 h-4"})," "]})]}),l.jsxs("div",{className:"relative mb-6",children:[l.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:" ...",value:t,onChange:k=>e(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),l.jsx("div",{className:"space-y-4",children:I.map((k,T)=>l.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:k.name}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k.active?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:k.active?"":""}),k.main_service&&l.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 rounded-full",children:""})]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:k.description}),l.jsxs("p",{className:"text-lg font-semibold text-primary-600",children:[k.price," ",k.currency," / ",k.period]})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx("button",{onClick:()=>j(k.id,"up"),disabled:T===0,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50",children:l.jsx(PM,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>j(k.id,"down"),disabled:T===r.length-1,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50",children:l.jsx(Ed,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>p(k),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:l.jsx(Qa,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>E(k.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:l.jsx(Pn,{className:"w-4 h-4"})})]})]}),k.image_url&&l.jsx("div",{className:"mt-4",children:l.jsx("img",{src:k.image_url,alt:k.name,className:"w-32 h-20 object-cover rounded-lg"})})]},k.id))})]}),(y||h)&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:h?" ":" "}),l.jsx("button",{onClick:()=>{x(!1),p(null)},className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Bt,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:h?h.name||"":m.name,onChange:k=>h?p({...h,name:k.target.value}):g({...m,name:k.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:":  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("textarea",{value:h?h.description||"":m.description,onChange:k=>h?p({...h,description:k.target.value}):g({...m,description:k.target.value}),rows:3,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:" "})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("input",{type:"number",value:h?h.price||0:m.price,onChange:k=>h?p({...h,price:Number(k.target.value)}):g({...m,price:Number(k.target.value)}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsxs("select",{value:h?h.currency||"euro":m.currency,onChange:k=>h?p({...h,currency:k.target.value}):g({...m,currency:k.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"euro",children:""}),l.jsx("option",{value:"RSD",children:"RSD"}),l.jsx("option",{value:"",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsxs("select",{value:h?h.period||"":m.period,onChange:k=>h?p({...h,period:k.target.value}):g({...m,period:k.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:""}),l.jsx("option",{value:"",children:" "})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:h?h.active??!0:m.active,onChange:k=>h?p({...h,active:k.target.checked}):g({...m,active:k.target.checked}),className:"mr-2"})," "]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:h?h.main_service??!0:m.main_service,onChange:k=>h?p({...h,main_service:k.target.checked}):g({...m,main_service:k.target.checked}),className:"mr-2"})," "]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[l.jsx("button",{onClick:()=>{x(!1),p(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:""}),l.jsx("button",{onClick:h?w:S,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:h?" ":" "})]})]})})]})})},yJ=()=>{var O,$,D,R;const[t,e]=_.useState(null),[r,n]=_.useState({}),[a,i]=_.useState(!0),[s,o]=_.useState(!1),[c,u]=_.useState(null),[d,f]=_.useState({name:"",price:0,duration:"hour",description:""}),[h,p]=_.useState(!1),[m,g]=_.useState(null),[y,x]=_.useState(!1),v=_.useRef(null),b=_.useRef(null);_.useEffect(()=>{w()},[]);const w=async()=>{try{i(!0);const{data:M,error:F}=await ue.from("site_settings").select("rent_info_settings").single();if(F){if(console.error("Error fetching settings:",F),F.code==="PGRST116"){const U={title:" ",description:"  ",contacts:{email:"rent@sciencehub.rs",phone:"+381 XX XXX XXXX",address:"",workingHours:"9:00 - 18:00"},pricelist:[],photos:[]};e(U),n(U);return}throw F}const B=(M==null?void 0:M.rent_info_settings)||{};e(B),n(B)}catch(M){console.error("Error fetching settings:",M),K.error("   ")}finally{i(!1)}},S=async()=>{try{o(!0);const{data:M,error:F}=await ue.from("site_settings").select("id").single();if(F)throw console.error("Error fetching site settings ID:",F),F;const{error:B}=await ue.from("site_settings").update({rent_info_settings:r}).eq("id",M.id);if(B)throw B;e(r),K.success("  ")}catch(M){console.error("Error saving settings:",M),K.error("   ")}finally{o(!1)}},E=()=>{if(!d.name||d.price<=0){K.error("   ");return}const M=[...r.pricelist||[],{...d,id:Date.now().toString()}];n(F=>({...F,pricelist:M})),f({name:"",price:0,duration:"hour",description:""})},j=M=>{const F=(r.pricelist||[]).filter(B=>B.id!==M);n(B=>({...B,pricelist:F}))},I=(M,F)=>{n(B=>({...B,[F]:M.target.value}))},k=(M,F)=>{n(B=>({...B,contacts:{...B.contacts||{},[F]:M.target.value}}))},T=(M,F)=>{f(B=>({...B,[F]:F==="price"?Number(M.target.value):M.target.value}))},L=async M=>{if(M.target.files&&M.target.files.length>0){const F=M.target.files[0];if(F.size>5*1024*1024){K.error("  .   5MB.");return}u(F),x(!0)}},C=()=>{if(v.current&&v.current.cropper){const M=v.current.cropper.getCroppedCanvas();g(M.toDataURL("image/jpeg",.8))}},A=async()=>{if(!(!m||!c))try{p(!0);const M=await fetch(m).then(ie=>ie.blob()),F=Date.now(),B=c.name.split(".").pop(),U=`rent-${F}.${B}`,{data:q,error:ee}=await ue.storage.from("images").upload(`rent/${U}`,M,{contentType:"image/jpeg",upsert:!1});if(ee)throw ee;const{data:V}=ue.storage.from("images").getPublicUrl(`rent/${U}`),re=V.publicUrl,oe=[...r.photos||[],re];n(ie=>({...ie,photos:oe})),x(!1),g(null),u(null),K.success("  ")}catch(M){console.error("Error uploading photo:",M),K.error("   ")}finally{p(!1)}},N=M=>{const F=(r.photos||[]).filter(B=>B!==M);n(B=>({...B,photos:F}))};return a?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:[l.jsx("input",{type:"file",ref:b,onChange:L,accept:"image/*",className:"hidden"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-12 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-4 font-heading",children:" "}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"      "})]}),l.jsx("div",{className:"flex justify-center mb-10",children:l.jsx("button",{onClick:S,disabled:s,className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg font-heading",children:s?l.jsxs(l.Fragment,{children:[l.jsx(mr,{className:"w-5 h-5 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ia,{className:"w-5 h-5"})," "]})})}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/30 dark:to-primary-800/30 rounded-xl mr-4",children:l.jsx(zp,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"    "})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:r.title||"",onChange:M=>I(M,"title"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"   "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("textarea",{value:r.description||"",onChange:M=>I(M,"description"),rows:4,className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200 resize-none",placeholder:"    ..."})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading mb-6",children:" "}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:((O=r.contacts)==null?void 0:O.email)||"",onChange:M=>k(M,"email"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"contact@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("input",{type:"tel",value:(($=r.contacts)==null?void 0:$.phone)||"",onChange:M=>k(M,"phone"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"+381 XX XXX XXXX"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:((D=r.contacts)==null?void 0:D.address)||"",onChange:M=>k(M,"address"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:((R=r.contacts)==null?void 0:R.workingHours)||"",onChange:M=>k(M,"workingHours"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"-: 9:00-18:00"})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading mb-6",children:"-"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[l.jsx("input",{type:"text",placeholder:" ",value:d.name,onChange:M=>T(M,"name"),className:"p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),l.jsx("input",{type:"number",placeholder:"",value:d.price,onChange:M=>T(M,"price"),className:"p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),l.jsxs("select",{value:d.duration,onChange:M=>T(M,"duration"),className:"p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"hour",children:" "}),l.jsx("option",{value:"day",children:" "}),l.jsx("option",{value:"week",children:" "}),l.jsx("option",{value:"month",children:" "})]}),l.jsx("input",{type:"text",placeholder:" ()",value:d.description,onChange:M=>T(M,"description"),className:"p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),l.jsx("button",{onClick:E,className:"p-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center justify-center",children:l.jsx(ha,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"space-y-3",children:(r.pricelist||[]).map(M=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:M.name}),l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[M.price," RSD ",M.duration," ",M.description&&` ${M.description}`]})]}),l.jsx("button",{onClick:()=>j(M.id),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:l.jsx(Pn,{className:"w-4 h-4"})})]},M.id))})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading mb-6",children:""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(r.photos||[]).map((M,F)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:M,alt:`Rent photo ${F+1}`,className:"w-full h-48 object-cover rounded-xl"}),l.jsx("button",{onClick:()=>N(M),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Bt,{className:"w-4 h-4"})})]},F)),l.jsxs("button",{onClick:()=>{var M;return(M=b.current)==null?void 0:M.click()},className:"h-48 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-600 dark:text-gray-400 hover:border-primary-500 hover:text-primary-500 transition-colors",children:[l.jsx(jo,{className:"w-8 h-8 mb-2"}),l.jsx("span",{children:" "})]})]})]})]})]}),y&&c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl max-w-2xl w-full mx-4",children:[l.jsx("h3",{className:"text-lg font-bold mb-4",children:" "}),l.jsx("div",{className:"mb-4",children:l.jsx(a2,{ref:v,src:URL.createObjectURL(c),style:{height:400,width:"100%"},aspectRatio:16/9,preview:".img-preview",guides:!1,onInitialized:C,onCrop:C})}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:""}),l.jsx("button",{onClick:A,disabled:h,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:h?"...":""})]})]})})]})};function yT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,l1(t,e)}function Ce(){return Ce=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ce.apply(null,arguments)}function LS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(r),!0).forEach(function(n){zB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function un(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var FS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),$S=function(){return Math.random().toString(36).substring(7).split("").join(".")},US={INIT:"@@redux/INIT"+$S(),REPLACE:"@@redux/REPLACE"+$S()};function bJ(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function bT(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(un(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(un(1));return r(bT)(t,e)}if(typeof t!="function")throw new Error(un(2));var a=t,i=e,s=[],o=s,c=!1;function u(){o===s&&(o=s.slice())}function d(){if(c)throw new Error(un(3));return i}function f(g){if(typeof g!="function")throw new Error(un(4));if(c)throw new Error(un(5));var y=!0;return u(),o.push(g),function(){if(y){if(c)throw new Error(un(6));y=!1,u();var v=o.indexOf(g);o.splice(v,1),s=null}}}function h(g){if(!bJ(g))throw new Error(un(7));if(typeof g.type>"u")throw new Error(un(8));if(c)throw new Error(un(9));try{c=!0,i=a(i,g)}finally{c=!1}for(var y=s=o,x=0;x<y.length;x++){var v=y[x];v()}return g}function p(g){if(typeof g!="function")throw new Error(un(10));a=g,h({type:US.REPLACE})}function m(){var g,y=f;return g={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(un(11));function b(){v.next&&v.next(d())}b();var w=y(b);return{unsubscribe:w}}},g[FS]=function(){return this},g}return h({type:US.INIT}),n={dispatch:h,subscribe:f,getState:d,replaceReducer:p},n[FS]=m,n}function zS(t,e){return function(){return e(t.apply(this,arguments))}}function HS(t,e){if(typeof t=="function")return zS(t,e);if(typeof t!="object"||t===null)throw new Error(un(16));var r={};for(var n in t){var a=t[n];typeof a=="function"&&(r[n]=zS(a,e))}return r}function wT(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function wJ(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),i=function(){throw new Error(un(15))},s={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=e.map(function(c){return c(s)});return i=wT.apply(void 0,o)(a.dispatch),BS(BS({},a),{},{dispatch:i})}}}var _T={exports:{}},_J="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kJ=_J,NJ=kJ;function kT(){}function NT(){}NT.resetWarningCache=kT;var SJ=function(){function t(n,a,i,s,o,c){if(c!==NJ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:NT,resetWarningCache:kT};return r.PropTypes=r,r};_T.exports=SJ();var ST=_T.exports,ET=ne.createContext(null);function EJ(t){t()}var CT=EJ,CJ=function(e){return CT=e},jJ=function(){return CT};function AJ(){var t=jJ(),e=null,r=null;return{clear:function(){e=null,r=null},notify:function(){t(function(){for(var a=e;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=e;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,s=r={callback:a,next:null,prev:r};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var WS={notify:function(){},get:function(){return[]}};function jT(t,e){var r,n=WS;function a(f){return c(),n.subscribe(f)}function i(){n.notify()}function s(){d.onStateChange&&d.onStateChange()}function o(){return!!r}function c(){r||(r=e?e.addNestedSub(s):t.subscribe(s),n=AJ())}function u(){r&&(r(),r=void 0,n.clear(),n=WS)}var d={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:s,isSubscribed:o,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return d}var AT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect;function TJ(t){var e=t.store,r=t.context,n=t.children,a=_.useMemo(function(){var o=jT(e);return{store:e,subscription:o}},[e]),i=_.useMemo(function(){return e.getState()},[e]);AT(function(){var o=a.subscription;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),i!==e.getState()&&o.notifyNestedSubs(),function(){o.tryUnsubscribe(),o.onStateChange=null}},[a,i]);var s=r||ET;return ne.createElement(s.Provider,{value:a},n)}function ap(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var TT={exports:{}},ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yr=typeof Symbol=="function"&&Symbol.for,i2=yr?Symbol.for("react.element"):60103,s2=yr?Symbol.for("react.portal"):60106,gm=yr?Symbol.for("react.fragment"):60107,vm=yr?Symbol.for("react.strict_mode"):60108,xm=yr?Symbol.for("react.profiler"):60114,ym=yr?Symbol.for("react.provider"):60109,bm=yr?Symbol.for("react.context"):60110,o2=yr?Symbol.for("react.async_mode"):60111,wm=yr?Symbol.for("react.concurrent_mode"):60111,_m=yr?Symbol.for("react.forward_ref"):60112,km=yr?Symbol.for("react.suspense"):60113,IJ=yr?Symbol.for("react.suspense_list"):60120,Nm=yr?Symbol.for("react.memo"):60115,Sm=yr?Symbol.for("react.lazy"):60116,OJ=yr?Symbol.for("react.block"):60121,DJ=yr?Symbol.for("react.fundamental"):60117,PJ=yr?Symbol.for("react.responder"):60118,RJ=yr?Symbol.for("react.scope"):60119;function Bn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case i2:switch(t=t.type,t){case o2:case wm:case gm:case xm:case vm:case km:return t;default:switch(t=t&&t.$$typeof,t){case bm:case _m:case Sm:case Nm:case ym:return t;default:return e}}case s2:return e}}}function IT(t){return Bn(t)===wm}ut.AsyncMode=o2;ut.ConcurrentMode=wm;ut.ContextConsumer=bm;ut.ContextProvider=ym;ut.Element=i2;ut.ForwardRef=_m;ut.Fragment=gm;ut.Lazy=Sm;ut.Memo=Nm;ut.Portal=s2;ut.Profiler=xm;ut.StrictMode=vm;ut.Suspense=km;ut.isAsyncMode=function(t){return IT(t)||Bn(t)===o2};ut.isConcurrentMode=IT;ut.isContextConsumer=function(t){return Bn(t)===bm};ut.isContextProvider=function(t){return Bn(t)===ym};ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===i2};ut.isForwardRef=function(t){return Bn(t)===_m};ut.isFragment=function(t){return Bn(t)===gm};ut.isLazy=function(t){return Bn(t)===Sm};ut.isMemo=function(t){return Bn(t)===Nm};ut.isPortal=function(t){return Bn(t)===s2};ut.isProfiler=function(t){return Bn(t)===xm};ut.isStrictMode=function(t){return Bn(t)===vm};ut.isSuspense=function(t){return Bn(t)===km};ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===gm||t===wm||t===xm||t===vm||t===km||t===IJ||typeof t=="object"&&t!==null&&(t.$$typeof===Sm||t.$$typeof===Nm||t.$$typeof===ym||t.$$typeof===bm||t.$$typeof===_m||t.$$typeof===DJ||t.$$typeof===PJ||t.$$typeof===RJ||t.$$typeof===OJ)};ut.typeOf=Bn;TT.exports=ut;var MJ=TT.exports,l2=MJ,LJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},BJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c2={};c2[l2.ForwardRef]=FJ;c2[l2.Memo]=OT;function VS(t){return l2.isMemo(t)?OT:c2[t.$$typeof]||LJ}var $J=Object.defineProperty,UJ=Object.getOwnPropertyNames,GS=Object.getOwnPropertySymbols,zJ=Object.getOwnPropertyDescriptor,HJ=Object.getPrototypeOf,XS=Object.prototype;function DT(t,e,r){if(typeof e!="string"){if(XS){var n=HJ(e);n&&n!==XS&&DT(t,n,r)}var a=UJ(e);GS&&(a=a.concat(GS(e)));for(var i=VS(t),s=VS(e),o=0;o<a.length;++o){var c=a[o];if(!BJ[c]&&!(r&&r[c])&&!(s&&s[c])&&!(i&&i[c])){var u=zJ(e,c);try{$J(t,c,u)}catch{}}}}return t}var WJ=DT;const qS=li(WJ);var PT={exports:{}},mt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=60103,Cm=60106,pf=60107,mf=60108,gf=60114,vf=60109,xf=60110,yf=60112,bf=60113,u2=60120,wf=60115,_f=60116,RT=60121,MT=60122,LT=60117,BT=60129,FT=60131;if(typeof Symbol=="function"&&Symbol.for){var br=Symbol.for;Em=br("react.element"),Cm=br("react.portal"),pf=br("react.fragment"),mf=br("react.strict_mode"),gf=br("react.profiler"),vf=br("react.provider"),xf=br("react.context"),yf=br("react.forward_ref"),bf=br("react.suspense"),u2=br("react.suspense_list"),wf=br("react.memo"),_f=br("react.lazy"),RT=br("react.block"),MT=br("react.server.block"),LT=br("react.fundamental"),BT=br("react.debug_trace_mode"),FT=br("react.legacy_hidden")}function Ma(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Em:switch(t=t.type,t){case pf:case gf:case mf:case bf:case u2:return t;default:switch(t=t&&t.$$typeof,t){case xf:case yf:case _f:case wf:case vf:return t;default:return e}}case Cm:return e}}}var VJ=vf,GJ=Em,XJ=yf,qJ=pf,YJ=_f,KJ=wf,ZJ=Cm,QJ=gf,JJ=mf,eee=bf;mt.ContextConsumer=xf;mt.ContextProvider=VJ;mt.Element=GJ;mt.ForwardRef=XJ;mt.Fragment=qJ;mt.Lazy=YJ;mt.Memo=KJ;mt.Portal=ZJ;mt.Profiler=QJ;mt.StrictMode=JJ;mt.Suspense=eee;mt.isAsyncMode=function(){return!1};mt.isConcurrentMode=function(){return!1};mt.isContextConsumer=function(t){return Ma(t)===xf};mt.isContextProvider=function(t){return Ma(t)===vf};mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Em};mt.isForwardRef=function(t){return Ma(t)===yf};mt.isFragment=function(t){return Ma(t)===pf};mt.isLazy=function(t){return Ma(t)===_f};mt.isMemo=function(t){return Ma(t)===wf};mt.isPortal=function(t){return Ma(t)===Cm};mt.isProfiler=function(t){return Ma(t)===gf};mt.isStrictMode=function(t){return Ma(t)===mf};mt.isSuspense=function(t){return Ma(t)===bf};mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pf||t===gf||t===BT||t===mf||t===bf||t===u2||t===FT||typeof t=="object"&&t!==null&&(t.$$typeof===_f||t.$$typeof===wf||t.$$typeof===vf||t.$$typeof===xf||t.$$typeof===yf||t.$$typeof===LT||t.$$typeof===RT||t[0]===MT)};mt.typeOf=Ma;PT.exports=mt;var tee=PT.exports,ree=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],nee=["reactReduxForwardedRef"],aee=[],iee=[null,null];function see(t,e){var r=t[1];return[e.payload,r+1]}function YS(t,e,r){AT(function(){return t.apply(void 0,e)},r)}function oee(t,e,r,n,a,i,s){t.current=n,e.current=a,r.current=!1,i.current&&(i.current=null,s())}function lee(t,e,r,n,a,i,s,o,c,u){if(t){var d=!1,f=null,h=function(){if(!d){var g=e.getState(),y,x;try{y=n(g,a.current)}catch(v){x=v,f=v}x||(f=null),y===i.current?s.current||c():(i.current=y,o.current=y,s.current=!0,u({type:"STORE_UPDATED",payload:{error:x}}))}};r.onStateChange=h,r.trySubscribe(),h();var p=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return p}}var cee=function(){return[null,0]};function uee(t,e){e===void 0&&(e={});var r=e,n=r.getDisplayName,a=n===void 0?function(b){return"ConnectAdvanced("+b+")"}:n,i=r.methodName,s=i===void 0?"connectAdvanced":i,o=r.renderCountProp,c=o===void 0?void 0:o,u=r.shouldHandleStateChanges,d=u===void 0?!0:u,f=r.storeKey,h=f===void 0?"store":f;r.withRef;var p=r.forwardRef,m=p===void 0?!1:p,g=r.context,y=g===void 0?ET:g,x=ap(r,ree),v=y;return function(w){var S=w.displayName||w.name||"Component",E=a(S),j=Ce({},x,{getDisplayName:a,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:h,displayName:E,wrappedComponentName:S,WrappedComponent:w}),I=x.pure;function k(N){return t(N.dispatch,j)}var T=I?_.useMemo:function(N){return N()};function L(N){var O=_.useMemo(function(){var G=N.reactReduxForwardedRef,J=ap(N,nee);return[N.context,G,J]},[N]),$=O[0],D=O[1],R=O[2],M=_.useMemo(function(){return $&&$.Consumer&&tee.isContextConsumer(ne.createElement($.Consumer,null))?$:v},[$,v]),F=_.useContext(M),B=!!N.store&&!!N.store.getState&&!!N.store.dispatch;F&&F.store;var U=B?N.store:F.store,q=_.useMemo(function(){return k(U)},[U]),ee=_.useMemo(function(){if(!d)return iee;var G=jT(U,B?null:F.subscription),J=G.notifyNestedSubs.bind(G);return[G,J]},[U,B,F]),V=ee[0],re=ee[1],oe=_.useMemo(function(){return B?F:Ce({},F,{subscription:V})},[B,F,V]),ie=_.useReducer(see,aee,cee),se=ie[0],ye=se[0],ve=ie[1];if(ye&&ye.error)throw ye.error;var Ge=_.useRef(),_e=_.useRef(R),P=_.useRef(),Q=_.useRef(!1),X=T(function(){return P.current&&R===_e.current?P.current:q(U.getState(),R)},[U,ye,R]);YS(oee,[_e,Ge,Q,R,X,P,re]),YS(lee,[d,U,V,q,_e,Ge,Q,P,re,ve],[U,V,q]);var W=_.useMemo(function(){return ne.createElement(w,Ce({},X,{ref:D}))},[D,w,X]),H=_.useMemo(function(){return d?ne.createElement(M.Provider,{value:oe},W):W},[M,W,oe]);return H}var C=I?ne.memo(L):L;if(C.WrappedComponent=w,C.displayName=L.displayName=E,m){var A=ne.forwardRef(function(O,$){return ne.createElement(C,Ce({},O,{reactReduxForwardedRef:$}))});return A.displayName=E,A.WrappedComponent=w,qS(A,w)}return qS(C,w)}}function KS(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Ev(t,e){if(KS(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(e,r[a])||!KS(t[r[a]],e[r[a]]))return!1;return!0}function dee(t,e){var r={},n=function(s){var o=t[s];typeof o=="function"&&(r[s]=function(){return e(o.apply(void 0,arguments))})};for(var a in t)n(a);return r}function d2(t){return function(r,n){var a=t(r,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function ZS(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function $T(t,e){return function(n,a){a.displayName;var i=function(o,c){return i.dependsOnOwnProps?i.mapToProps(o,c):i.mapToProps(o)};return i.dependsOnOwnProps=!0,i.mapToProps=function(o,c){i.mapToProps=t,i.dependsOnOwnProps=ZS(t);var u=i(o,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=ZS(u),u=i(o,c)),u},i}}function fee(t){return typeof t=="function"?$T(t):void 0}function hee(t){return t?void 0:d2(function(e){return{dispatch:e}})}function pee(t){return t&&typeof t=="object"?d2(function(e){return dee(t,e)}):void 0}const mee=[fee,hee,pee];function gee(t){return typeof t=="function"?$T(t):void 0}function vee(t){return t?void 0:d2(function(){return{}})}const xee=[gee,vee];function yee(t,e,r){return Ce({},r,t,e)}function bee(t){return function(r,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,s=!1,o;return function(u,d,f){var h=t(u,d,f);return s?(!a||!i(h,o))&&(o=h):(s=!0,o=h),o}}}function wee(t){return typeof t=="function"?bee(t):void 0}function _ee(t){return t?void 0:function(){return yee}}const kee=[wee,_ee];var Nee=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function See(t,e,r,n){return function(i,s){return r(t(i,s),e(n,s),s)}}function Eee(t,e,r,n,a){var i=a.areStatesEqual,s=a.areOwnPropsEqual,o=a.areStatePropsEqual,c=!1,u,d,f,h,p;function m(b,w){return u=b,d=w,f=t(u,d),h=e(n,d),p=r(f,h,d),c=!0,p}function g(){return f=t(u,d),e.dependsOnOwnProps&&(h=e(n,d)),p=r(f,h,d),p}function y(){return t.dependsOnOwnProps&&(f=t(u,d)),e.dependsOnOwnProps&&(h=e(n,d)),p=r(f,h,d),p}function x(){var b=t(u,d),w=!o(b,f);return f=b,w&&(p=r(f,h,d)),p}function v(b,w){var S=!s(w,d),E=!i(b,u,w,d);return u=b,d=w,S&&E?g():S?y():E?x():p}return function(w,S){return c?v(w,S):m(w,S)}}function Cee(t,e){var r=e.initMapStateToProps,n=e.initMapDispatchToProps,a=e.initMergeProps,i=ap(e,Nee),s=r(t,i),o=n(t,i),c=a(t,i),u=i.pure?Eee:See;return u(s,o,c,t,i)}var jee=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Cv(t,e,r){for(var n=e.length-1;n>=0;n--){var a=e[n](t);if(a)return a}return function(i,s){throw new Error("Invalid value of type "+typeof t+" for "+r+" argument when connecting component "+s.wrappedComponentName+".")}}function Aee(t,e){return t===e}function Tee(t){var e=t===void 0?{}:t,r=e.connectHOC,n=r===void 0?uee:r,a=e.mapStateToPropsFactories,i=a===void 0?xee:a,s=e.mapDispatchToPropsFactories,o=s===void 0?mee:s,c=e.mergePropsFactories,u=c===void 0?kee:c,d=e.selectorFactory,f=d===void 0?Cee:d;return function(p,m,g,y){y===void 0&&(y={});var x=y,v=x.pure,b=v===void 0?!0:v,w=x.areStatesEqual,S=w===void 0?Aee:w,E=x.areOwnPropsEqual,j=E===void 0?Ev:E,I=x.areStatePropsEqual,k=I===void 0?Ev:I,T=x.areMergedPropsEqual,L=T===void 0?Ev:T,C=ap(x,jee),A=Cv(p,i,"mapStateToProps"),N=Cv(m,o,"mapDispatchToProps"),O=Cv(g,u,"mergeProps");return n(f,Ce({methodName:"connect",getDisplayName:function(D){return"Connect("+D+")"},shouldHandleStateChanges:!!p,initMapStateToProps:A,initMapDispatchToProps:N,initMergeProps:O,pure:b,areStatesEqual:S,areOwnPropsEqual:j,areStatePropsEqual:k,areMergedPropsEqual:L},C))}}const UT=Tee();CJ(Rp.unstable_batchedUpdates);function Iee(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function zT(t,e){var r=_.useState(function(){return{inputs:e,result:t()}})[0],n=_.useRef(!0),a=_.useRef(r),i=n.current||!!(e&&a.current.inputs&&Iee(e,a.current.inputs)),s=i?a.current:{inputs:e,result:t()};return _.useEffect(function(){n.current=!1,a.current=s},[s]),s.result}function Oee(t,e){return zT(function(){return t},e)}var Ke=zT,Ne=Oee,Dee="Invariant failed";function Pee(t,e){throw new Error(Dee)}var Ca=function(e){var r=e.top,n=e.right,a=e.bottom,i=e.left,s=n-i,o=a-r,c={top:r,right:n,bottom:a,left:i,width:s,height:o,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return c},f2=function(e,r){return{top:e.top-r.top,left:e.left-r.left,bottom:e.bottom+r.bottom,right:e.right+r.right}},QS=function(e,r){return{top:e.top+r.top,left:e.left+r.left,bottom:e.bottom-r.bottom,right:e.right-r.right}},Ree=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},jv={top:0,right:0,bottom:0,left:0},h2=function(e){var r=e.borderBox,n=e.margin,a=n===void 0?jv:n,i=e.border,s=i===void 0?jv:i,o=e.padding,c=o===void 0?jv:o,u=Ca(f2(r,a)),d=Ca(QS(r,s)),f=Ca(QS(d,c));return{marginBox:u,borderBox:Ca(r),paddingBox:d,contentBox:f,margin:a,border:s,padding:c}},Gn=function(e){var r=e.slice(0,-2),n=e.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&Pee(),a},Mee=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ip=function(e,r){var n=e.borderBox,a=e.border,i=e.margin,s=e.padding,o=Ree(n,r);return h2({borderBox:o,border:a,margin:i,padding:s})},sp=function(e,r){return r===void 0&&(r=Mee()),ip(e,r)},HT=function(e,r){var n={top:Gn(r.marginTop),right:Gn(r.marginRight),bottom:Gn(r.marginBottom),left:Gn(r.marginLeft)},a={top:Gn(r.paddingTop),right:Gn(r.paddingRight),bottom:Gn(r.paddingBottom),left:Gn(r.paddingLeft)},i={top:Gn(r.borderTopWidth),right:Gn(r.borderRightWidth),bottom:Gn(r.borderBottomWidth),left:Gn(r.borderLeftWidth)};return h2({borderBox:e,margin:n,padding:a,border:i})},WT=function(e){var r=e.getBoundingClientRect(),n=window.getComputedStyle(e);return HT(r,n)},JS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Lee(t,e){return!!(t===e||JS(t)&&JS(e))}function Bee(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Lee(t[r],e[r]))return!1;return!0}function gr(t,e){e===void 0&&(e=Bee);var r,n=[],a,i=!1;function s(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return i&&r===this&&e(o,n)||(a=t.apply(this,o),i=!0,r=this,n=o),a}return s}var Md=function(e){var r=[],n=null,a=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];r=o,!n&&(n=requestAnimationFrame(function(){n=null,e.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function VT(t,e){}VT.bind(null,"warn");VT.bind(null,"error");function Ds(){}function Fee(t,e){return Ce({},t,{},e)}function sa(t,e,r){var n=e.map(function(a){var i=Fee(r,a.options);return t.addEventListener(a.eventName,a.fn,i),function(){t.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var $ee="Invariant failed";function op(t){this.message=t}op.prototype.toString=function(){return this.message};function he(t,e){throw new op($ee)}var Uee=function(t){yT(e,t);function e(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=t.call.apply(t,[this].concat(i))||this,n.callbacks=null,n.unbind=Ds,n.onWindowError=function(o){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=o.error;u instanceof op&&o.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(o){n.callbacks=o},n}var r=e.prototype;return r.componentDidMount=function(){this.unbind=sa(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof op){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},e}(ne.Component),zee=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,lp=function(e){return e+1},Hee=function(e){return`
  You have lifted an item in position `+lp(e.source.index)+`
`},GT=function(e,r){var n=e.droppableId===r.droppableId,a=lp(e.index),i=lp(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+e.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},XT=function(e,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+e+`
      has been combined with `+n.draggableId:`
      The item `+e+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Wee=function(e){var r=e.destination;if(r)return GT(e.source,r);var n=e.combine;return n?XT(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},e4=function(e){return`
  The item has returned to its starting position
  of `+lp(e.index)+`
`},Vee=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+e4(e.source)+`
    `;var r=e.destination,n=e.combine;return r?`
      You have dropped the item.
      `+GT(e.source,r)+`
    `:n?`
      You have dropped the item.
      `+XT(e.draggableId,e.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+e4(e.source)+`
  `},Qh={dragHandleUsageInstructions:zee,onDragStart:Hee,onDragUpdate:Wee,onDragEnd:Vee},xr={x:0,y:0},Cr=function(e,r){return{x:e.x+r.x,y:e.y+r.y}},jn=function(e,r){return{x:e.x-r.x,y:e.y-r.y}},Ps=function(e,r){return e.x===r.x&&e.y===r.y},Bc=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},qo=function(e,r,n){var a;return n===void 0&&(n=0),a={},a[e]=r,a[e==="x"?"y":"x"]=n,a},Ld=function(e,r){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))},t4=function(e,r){return Math.min.apply(Math,r.map(function(n){return Ld(e,n)}))},qT=function(e){return function(r){return{x:e(r.x),y:e(r.y)}}},Gee=function(t,e){var r=Ca({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return r.width<=0||r.height<=0?null:r},kf=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},r4=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Xee={top:0,right:0,bottom:0,left:0},qee=function(e,r){return r?kf(e,r.scroll.diff.displacement):e},Yee=function(e,r,n){if(n&&n.increasedBy){var a;return Ce({},e,(a={},a[r.end]=e[r.end]+n.increasedBy[r.line],a))}return e},Kee=function(e,r){return r&&r.shouldClipSubject?Gee(r.pageMarginBox,e):Ca(e)},_c=function(t){var e=t.page,r=t.withPlaceholder,n=t.axis,a=t.frame,i=qee(e.marginBox,a),s=Yee(i,n,r),o=Kee(s,a);return{page:e,withPlaceholder:r,active:o}},p2=function(t,e){t.frame||he();var r=t.frame,n=jn(e,r.scroll.initial),a=Bc(n),i=Ce({},r,{scroll:{initial:r.scroll.initial,current:e,diff:{value:n,displacement:a},max:r.scroll.max}}),s=_c({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:i}),o=Ce({},t,{frame:i,subject:s});return o};function cp(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function m2(t,e){if(t.findIndex)return t.findIndex(e);for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function Ys(t,e){if(t.find)return t.find(e);var r=m2(t,e);if(r!==-1)return t[r]}function YT(t){return Array.prototype.slice.call(t)}var KT=gr(function(t){return t.reduce(function(e,r){return e[r.descriptor.id]=r,e},{})}),ZT=gr(function(t){return t.reduce(function(e,r){return e[r.descriptor.id]=r,e},{})}),jm=gr(function(t){return cp(t)}),Zee=gr(function(t){return cp(t)}),Fc=gr(function(t,e){var r=Zee(e).filter(function(n){return t===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function g2(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Am(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Tm=gr(function(t,e){return e.filter(function(r){return r.descriptor.id!==t.descriptor.id})}),Qee=function(t){var e=t.isMovingForward,r=t.draggable,n=t.destination,a=t.insideDestination,i=t.previousImpact;if(!n.isCombineEnabled)return null;var s=g2(i);if(!s)return null;function o(g){var y={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return Ce({},i,{at:y})}var c=i.displaced.all,u=c.length?c[0]:null;if(e)return u?o(u):null;var d=Tm(r,a);if(!u){if(!d.length)return null;var f=d[d.length-1];return o(f.descriptor.id)}var h=m2(d,function(g){return g.descriptor.id===u});h===-1&&he();var p=h-1;if(p<0)return null;var m=d[p];return o(m.descriptor.id)},$c=function(t,e){return t.descriptor.droppableId===e.descriptor.id},QT={point:xr,value:0},Bd={invisible:{},visible:{},all:[]},Jee={displaced:Bd,displacedBy:QT,at:null},ca=function(t,e){return function(r){return t<=r&&r<=e}},JT=function(t){var e=ca(t.top,t.bottom),r=ca(t.left,t.right);return function(n){var a=e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var i=e(n.top)||e(n.bottom),s=r(n.left)||r(n.right),o=i&&s;if(o)return!0;var c=n.top<t.top&&n.bottom>t.bottom,u=n.left<t.left&&n.right>t.right,d=c&&u;if(d)return!0;var f=c&&s||u&&i;return f}},ete=function(t){var e=ca(t.top,t.bottom),r=ca(t.left,t.right);return function(n){var a=e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right);return a}},v2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},e8={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},tte=function(t){return function(e){var r=ca(e.top,e.bottom),n=ca(e.left,e.right);return function(a){return t===v2?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},rte=function(e,r){var n=r.frame?r.frame.scroll.diff.displacement:xr;return kf(e,n)},nte=function(e,r,n){return r.subject.active?n(r.subject.active)(e):!1},ate=function(e,r,n){return n(r)(e)},x2=function(e){var r=e.target,n=e.destination,a=e.viewport,i=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,o=i?rte(r,n):r;return nte(o,n,s)&&ate(o,a,s)},ite=function(e){return x2(Ce({},e,{isVisibleThroughFrameFn:JT}))},t8=function(e){return x2(Ce({},e,{isVisibleThroughFrameFn:ete}))},ste=function(e){return x2(Ce({},e,{isVisibleThroughFrameFn:tte(e.destination.axis)}))},ote=function(e,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[e])return!1;var s=i[e];return s?s.shouldAnimate:!0};function lte(t,e){var r=t.page.marginBox,n={top:e.point.y,right:0,bottom:0,left:e.point.x};return Ca(f2(r,n))}function Fd(t){var e=t.afterDragging,r=t.destination,n=t.displacedBy,a=t.viewport,i=t.forceShouldAnimate,s=t.last;return e.reduce(function(c,u){var d=lte(u,n),f=u.descriptor.id;c.all.push(f);var h=ite({target:d,destination:r,viewport:a,withDroppableDisplacement:!0});if(!h)return c.invisible[u.descriptor.id]=!0,c;var p=ote(f,s,i),m={draggableId:f,shouldAnimate:p};return c.visible[f]=m,c},{all:[],visible:{},invisible:{}})}function cte(t,e){if(!t.length)return 0;var r=t[t.length-1].descriptor.index;return e.inHomeList?r:r+1}function n4(t){var e=t.insideDestination,r=t.inHomeList,n=t.displacedBy,a=t.destination,i=cte(e,{inHomeList:r});return{displaced:Bd,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function up(t){var e=t.draggable,r=t.insideDestination,n=t.destination,a=t.viewport,i=t.displacedBy,s=t.last,o=t.index,c=t.forceShouldAnimate,u=$c(e,n);if(o==null)return n4({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var d=Ys(r,function(g){return g.descriptor.index===o});if(!d)return n4({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var f=Tm(e,r),h=r.indexOf(d),p=f.slice(h),m=Fd({afterDragging:p,destination:n,displacedBy:i,last:s,viewport:a.frame,forceShouldAnimate:c});return{displaced:m,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Us(t,e){return!!e.effected[t]}var ute=function(t){var e=t.isMovingForward,r=t.destination,n=t.draggables,a=t.combine,i=t.afterCritical;if(!r.isCombineEnabled)return null;var s=a.draggableId,o=n[s],c=o.descriptor.index,u=Us(s,i);return u?e?c:c-1:e?c+1:c},dte=function(t){var e=t.isMovingForward,r=t.isInHomeList,n=t.insideDestination,a=t.location;if(!n.length)return null;var i=a.index,s=e?i+1:i-1,o=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return s<o||s>u?null:s},fte=function(t){var e=t.isMovingForward,r=t.isInHomeList,n=t.draggable,a=t.draggables,i=t.destination,s=t.insideDestination,o=t.previousImpact,c=t.viewport,u=t.afterCritical,d=o.at;if(d||he(),d.type==="REORDER"){var f=dte({isMovingForward:e,isInHomeList:r,location:d.destination,insideDestination:s});return f==null?null:up({draggable:n,insideDestination:s,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:f})}var h=ute({isMovingForward:e,destination:i,displaced:o.displaced,draggables:a,combine:d.combine,afterCritical:u});return h==null?null:up({draggable:n,insideDestination:s,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:h})},hte=function(t){var e=t.displaced,r=t.afterCritical,n=t.combineWith,a=t.displacedBy,i=!!(e.visible[n]||e.invisible[n]);return Us(n,r)?i?xr:Bc(a.point):i?a.point:xr},pte=function(t){var e=t.afterCritical,r=t.impact,n=t.draggables,a=Am(r);a||he();var i=a.draggableId,s=n[i].page.borderBox.center,o=hte({displaced:r.displaced,afterCritical:e,combineWith:i,displacedBy:r.displacedBy});return Cr(s,o)},r8=function(e,r){return r.margin[e.start]+r.borderBox[e.size]/2},mte=function(e,r){return r.margin[e.end]+r.borderBox[e.size]/2},y2=function(e,r,n){return r[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},a4=function(e){var r=e.axis,n=e.moveRelativeTo,a=e.isMoving;return qo(r.line,n.marginBox[r.end]+r8(r,a),y2(r,n.marginBox,a))},i4=function(e){var r=e.axis,n=e.moveRelativeTo,a=e.isMoving;return qo(r.line,n.marginBox[r.start]-mte(r,a),y2(r,n.marginBox,a))},gte=function(e){var r=e.axis,n=e.moveInto,a=e.isMoving;return qo(r.line,n.contentBox[r.start]+r8(r,a),y2(r,n.contentBox,a))},vte=function(t){var e=t.impact,r=t.draggable,n=t.draggables,a=t.droppable,i=t.afterCritical,s=Fc(a.descriptor.id,n),o=r.page,c=a.axis;if(!s.length)return gte({axis:c,moveInto:a.page,isMoving:o});var u=e.displaced,d=e.displacedBy,f=u.all[0];if(f){var h=n[f];if(Us(f,i))return i4({axis:c,moveRelativeTo:h.page,isMoving:o});var p=ip(h.page,d.point);return i4({axis:c,moveRelativeTo:p,isMoving:o})}var m=s[s.length-1];if(m.descriptor.id===r.descriptor.id)return o.borderBox.center;if(Us(m.descriptor.id,i)){var g=ip(m.page,Bc(i.displacedBy.point));return a4({axis:c,moveRelativeTo:g,isMoving:o})}return a4({axis:c,moveRelativeTo:m.page,isMoving:o})},Wy=function(t,e){var r=t.frame;return r?Cr(e,r.scroll.diff.displacement):e},xte=function(e){var r=e.impact,n=e.draggable,a=e.droppable,i=e.draggables,s=e.afterCritical,o=n.page.borderBox.center,c=r.at;return!a||!c?o:c.type==="REORDER"?vte({impact:r,draggable:n,draggables:i,droppable:a,afterCritical:s}):pte({impact:r,draggables:i,afterCritical:s})},Im=function(t){var e=xte(t),r=t.droppable,n=r?Wy(r,e):e;return n},n8=function(t,e){var r=jn(e,t.scroll.initial),n=Bc(r),a=Ca({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),i={frame:a,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:r,displacement:n}}};return i};function s4(t,e){return t.map(function(r){return e[r]})}function yte(t,e){for(var r=0;r<e.length;r++){var n=e[r].visible[t];if(n)return n}return null}var bte=function(t){var e=t.impact,r=t.viewport,n=t.destination,a=t.draggables,i=t.maxScrollChange,s=n8(r,Cr(r.scroll.current,i)),o=n.frame?p2(n,Cr(n.frame.scroll.current,i)):n,c=e.displaced,u=Fd({afterDragging:s4(c.all,a),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:c,forceShouldAnimate:!1}),d=Fd({afterDragging:s4(c.all,a),destination:o,displacedBy:e.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},h={},p=[c,u,d];c.all.forEach(function(g){var y=yte(g,p);if(y){h[g]=y;return}f[g]=!0});var m=Ce({},e,{displaced:{all:c.all,invisible:f,visible:h}});return m},wte=function(t,e){return Cr(t.scroll.diff.displacement,e)},b2=function(t){var e=t.pageBorderBoxCenter,r=t.draggable,n=t.viewport,a=wte(n,e),i=jn(a,r.page.borderBox.center);return Cr(r.client.borderBox.center,i)},a8=function(t){var e=t.draggable,r=t.destination,n=t.newPageBorderBoxCenter,a=t.viewport,i=t.withDroppableDisplacement,s=t.onlyOnMainAxis,o=s===void 0?!1:s,c=jn(n,e.page.borderBox.center),u=kf(e.page.borderBox,c),d={target:u,destination:r,withDroppableDisplacement:i,viewport:a};return o?ste(d):t8(d)},_te=function(t){var e=t.isMovingForward,r=t.draggable,n=t.destination,a=t.draggables,i=t.previousImpact,s=t.viewport,o=t.previousPageBorderBoxCenter,c=t.previousClientSelection,u=t.afterCritical;if(!n.isEnabled)return null;var d=Fc(n.descriptor.id,a),f=$c(r,n),h=Qee({isMovingForward:e,draggable:r,destination:n,insideDestination:d,previousImpact:i})||fte({isMovingForward:e,isInHomeList:f,draggable:r,draggables:a,destination:n,insideDestination:d,previousImpact:i,viewport:s,afterCritical:u});if(!h)return null;var p=Im({impact:h,draggable:r,droppable:n,draggables:a,afterCritical:u}),m=a8({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(m){var g=b2({pageBorderBoxCenter:p,draggable:r,viewport:s});return{clientSelection:g,impact:h,scrollJumpRequest:null}}var y=jn(p,o),x=bte({impact:h,viewport:s,destination:n,draggables:a,maxScrollChange:y});return{clientSelection:c,impact:x,scrollJumpRequest:y}},Gr=function(e){var r=e.subject.active;return r||he(),r},kte=function(t){var e=t.isMovingForward,r=t.pageBorderBoxCenter,n=t.source,a=t.droppables,i=t.viewport,s=n.subject.active;if(!s)return null;var o=n.axis,c=ca(s[o.start],s[o.end]),u=jm(a).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return JT(i.frame)(Gr(f))}).filter(function(f){var h=Gr(f);return e?s[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<s[o.crossAxisStart]}).filter(function(f){var h=Gr(f),p=ca(h[o.start],h[o.end]);return c(h[o.start])||c(h[o.end])||p(s[o.start])||p(s[o.end])}).sort(function(f,h){var p=Gr(f)[o.crossAxisStart],m=Gr(h)[o.crossAxisStart];return e?p-m:m-p}).filter(function(f,h,p){return Gr(f)[o.crossAxisStart]===Gr(p[0])[o.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var h=ca(Gr(f)[o.start],Gr(f)[o.end]);return h(r[o.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,h){return Gr(f)[o.start]-Gr(h)[o.start]})[0]:u.sort(function(f,h){var p=t4(r,r4(Gr(f))),m=t4(r,r4(Gr(h)));return p!==m?p-m:Gr(f)[o.start]-Gr(h)[o.start]})[0]},o4=function(e,r){var n=e.page.borderBox.center;return Us(e.descriptor.id,r)?jn(n,r.displacedBy.point):n},Nte=function(e,r){var n=e.page.borderBox;return Us(e.descriptor.id,r)?kf(n,Bc(r.displacedBy.point)):n},Ste=function(t){var e=t.pageBorderBoxCenter,r=t.viewport,n=t.destination,a=t.insideDestination,i=t.afterCritical,s=a.filter(function(o){return t8({target:Nte(o,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(o,c){var u=Ld(e,Wy(n,o4(o,i))),d=Ld(e,Wy(n,o4(c,i)));return u<d?-1:d<u?1:o.descriptor.index-c.descriptor.index});return s[0]||null},Nf=gr(function(e,r){var n=r[e.line];return{value:n,point:qo(e.line,n)}}),Ete=function(e,r,n){var a=e.axis;if(e.descriptor.mode==="virtual")return qo(a.line,r[a.line]);var i=e.subject.page.contentBox[a.size],s=Fc(e.descriptor.id,n),o=s.reduce(function(d,f){return d+f.client.marginBox[a.size]},0),c=o+r[a.line],u=c-i;return u<=0?null:qo(a.line,u)},i8=function(e,r){return Ce({},e,{scroll:Ce({},e.scroll,{max:r})})},s8=function(e,r,n){var a=e.frame;$c(r,e)&&he(),e.subject.withPlaceholder&&he();var i=Nf(e.axis,r.displaceBy).point,s=Ete(e,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a){var c=_c({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return Ce({},e,{subject:c})}var u=s?Cr(a.scroll.max,s):a.scroll.max,d=i8(a,u),f=_c({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:d});return Ce({},e,{subject:f,frame:d})},Cte=function(e){var r=e.subject.withPlaceholder;r||he();var n=e.frame;if(!n){var a=_c({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Ce({},e,{subject:a})}var i=r.oldFrameMaxScroll;i||he();var s=i8(n,i),o=_c({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return Ce({},e,{subject:o,frame:s})},jte=function(t){var e=t.previousPageBorderBoxCenter,r=t.moveRelativeTo,n=t.insideDestination,a=t.draggable,i=t.draggables,s=t.destination,o=t.viewport,c=t.afterCritical;if(!r){if(n.length)return null;var u={displaced:Bd,displacedBy:QT,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=Im({impact:u,draggable:a,droppable:s,draggables:i,afterCritical:c}),f=$c(a,s)?s:s8(s,a,i),h=a8({draggable:a,destination:f,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?u:null}var p=e[s.axis.line]<=r.page.borderBox.center[s.axis.line],m=function(){var y=r.descriptor.index;return r.descriptor.id===a.descriptor.id||p?y:y+1}(),g=Nf(s.axis,a.displaceBy);return up({draggable:a,insideDestination:n,destination:s,viewport:o,displacedBy:g,last:Bd,index:m})},Ate=function(t){var e=t.isMovingForward,r=t.previousPageBorderBoxCenter,n=t.draggable,a=t.isOver,i=t.draggables,s=t.droppables,o=t.viewport,c=t.afterCritical,u=kte({isMovingForward:e,pageBorderBoxCenter:r,source:a,droppables:s,viewport:o});if(!u)return null;var d=Fc(u.descriptor.id,i),f=Ste({pageBorderBoxCenter:r,viewport:o,destination:u,insideDestination:d,afterCritical:c}),h=jte({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:d,viewport:o,afterCritical:c});if(!h)return null;var p=Im({impact:h,draggable:n,droppable:u,draggables:i,afterCritical:c}),m=b2({pageBorderBoxCenter:p,draggable:n,viewport:o});return{clientSelection:m,impact:h,scrollJumpRequest:null}},Tn=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},Tte=function(e,r){var n=Tn(e);return n?r[n]:null},Ite=function(t){var e=t.state,r=t.type,n=Tte(e.impact,e.dimensions.droppables),a=!!n,i=e.dimensions.droppables[e.critical.droppable.id],s=n||i,o=s.axis.direction,c=o==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||o==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!a)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,h=e.dimensions,p=h.draggables,m=h.droppables;return c?_te({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:s,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Ate({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:s,draggables:p,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function go(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function o8(t){var e=ca(t.top,t.bottom),r=ca(t.left,t.right);return function(a){return e(a.y)&&r(a.x)}}function Ote(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function Dte(t){var e=t.pageBorderBox,r=t.draggable,n=t.candidates,a=r.page.borderBox.center,i=n.map(function(s){var o=s.axis,c=qo(s.axis.line,e.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:Ld(a,c)}}).sort(function(s,o){return o.distance-s.distance});return i[0]?i[0].id:null}function Pte(t){var e=t.pageBorderBox,r=t.draggable,n=t.droppables,a=jm(n).filter(function(i){if(!i.isEnabled)return!1;var s=i.subject.active;if(!s||!Ote(e,s))return!1;if(o8(s)(e.center))return!0;var o=i.axis,c=s.center[o.crossAxisLine],u=e[o.crossAxisStart],d=e[o.crossAxisEnd],f=ca(s[o.crossAxisStart],s[o.crossAxisEnd]),h=f(u),p=f(d);return!h&&!p?!0:h?u<c:d>c});return a.length?a.length===1?a[0].descriptor.id:Dte({pageBorderBox:e,draggable:r,candidates:a}):null}var l8=function(e,r){return Ca(kf(e,r))},Rte=function(t,e){var r=t.frame;return r?l8(e,r.scroll.diff.value):e};function c8(t){var e=t.displaced,r=t.id;return!!(e.visible[r]||e.invisible[r])}function Mte(t){var e=t.draggable,r=t.closest,n=t.inHomeList;return r?n&&r.descriptor.index>e.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Lte=function(t){var e=t.pageBorderBoxWithDroppableScroll,r=t.draggable,n=t.destination,a=t.insideDestination,i=t.last,s=t.viewport,o=t.afterCritical,c=n.axis,u=Nf(n.axis,r.displaceBy),d=u.value,f=e[c.start],h=e[c.end],p=Tm(r,a),m=Ys(p,function(y){var x=y.descriptor.id,v=y.page.borderBox.center[c.line],b=Us(x,o),w=c8({displaced:i,id:x});return b?w?h<=v:f<v-d:w?h<=v+d:f<v}),g=Mte({draggable:r,closest:m,inHomeList:$c(r,n)});return up({draggable:r,insideDestination:a,destination:n,viewport:s,last:i,displacedBy:u,index:g})},Bte=4,Fte=function(t){var e=t.draggable,r=t.pageBorderBoxWithDroppableScroll,n=t.previousImpact,a=t.destination,i=t.insideDestination,s=t.afterCritical;if(!a.isCombineEnabled)return null;var o=a.axis,c=Nf(a.axis,e.displaceBy),u=c.value,d=r[o.start],f=r[o.end],h=Tm(e,i),p=Ys(h,function(g){var y=g.descriptor.id,x=g.page.borderBox,v=x[o.size],b=v/Bte,w=Us(y,s),S=c8({displaced:n.displaced,id:y});return w?S?f>x[o.start]+b&&f<x[o.end]-b:d>x[o.start]-u+b&&d<x[o.end]-u-b:S?f>x[o.start]+u+b&&f<x[o.end]+u-b:d>x[o.start]+b&&d<x[o.end]-b});if(!p)return null;var m={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:a.descriptor.id}}};return m},u8=function(t){var e=t.pageOffset,r=t.draggable,n=t.draggables,a=t.droppables,i=t.previousImpact,s=t.viewport,o=t.afterCritical,c=l8(r.page.borderBox,e),u=Pte({pageBorderBox:c,draggable:r,droppables:a});if(!u)return Jee;var d=a[u],f=Fc(d.descriptor.id,n),h=Rte(d,c);return Fte({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:i,destination:d,insideDestination:f,afterCritical:o})||Lte({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:d,insideDestination:f,last:i.displaced,viewport:s,afterCritical:o})},w2=function(t,e){var r;return Ce({},t,(r={},r[e.descriptor.id]=e,r))},$te=function(e){var r=e.previousImpact,n=e.impact,a=e.droppables,i=Tn(r),s=Tn(n);if(!i||i===s)return a;var o=a[i];if(!o.subject.withPlaceholder)return a;var c=Cte(o);return w2(a,c)},Ute=function(t){var e=t.draggable,r=t.draggables,n=t.droppables,a=t.previousImpact,i=t.impact,s=$te({previousImpact:a,impact:i,droppables:n}),o=Tn(i);if(!o)return s;var c=n[o];if($c(e,c)||c.subject.withPlaceholder)return s;var u=s8(c,e,r);return w2(s,u)},td=function(t){var e=t.state,r=t.clientSelection,n=t.dimensions,a=t.viewport,i=t.impact,s=t.scrollJumpRequest,o=a||e.viewport,c=n||e.dimensions,u=r||e.current.client.selection,d=jn(u,e.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:Cr(e.initial.client.borderBoxCenter,d)},h={selection:Cr(f.selection,o.scroll.current),borderBoxCenter:Cr(f.borderBoxCenter,o.scroll.current),offset:Cr(f.offset,o.scroll.diff.value)},p={client:f,page:h};if(e.phase==="COLLECTING")return Ce({phase:"COLLECTING"},e,{dimensions:c,viewport:o,current:p});var m=c.draggables[e.critical.draggable.id],g=i||u8({pageOffset:h.offset,draggable:m,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),y=Ute({draggable:m,impact:g,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables}),x=Ce({},e,{current:p,dimensions:{draggables:c.draggables,droppables:y},impact:g,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return x};function zte(t,e){return t.map(function(r){return e[r]})}var d8=function(t){var e=t.impact,r=t.viewport,n=t.draggables,a=t.destination,i=t.forceShouldAnimate,s=e.displaced,o=zte(s.all,n),c=Fd({afterDragging:o,destination:a,displacedBy:e.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:s});return Ce({},e,{displaced:c})},f8=function(t){var e=t.impact,r=t.draggable,n=t.droppable,a=t.draggables,i=t.viewport,s=t.afterCritical,o=Im({impact:e,draggable:r,draggables:a,droppable:n,afterCritical:s});return b2({pageBorderBoxCenter:o,draggable:r,viewport:i})},h8=function(t){var e=t.state,r=t.dimensions,n=t.viewport;e.movementMode!=="SNAP"&&he();var a=e.impact,i=n||e.viewport,s=r||e.dimensions,o=s.draggables,c=s.droppables,u=o[e.critical.draggable.id],d=Tn(a);d||he();var f=c[d],h=d8({impact:a,viewport:i,destination:f,draggables:o}),p=f8({impact:h,draggable:u,droppable:f,draggables:o,viewport:i,afterCritical:e.afterCritical});return td({impact:h,clientSelection:p,state:e,dimensions:s,viewport:i})},Hte=function(t){return{index:t.index,droppableId:t.droppableId}},p8=function(t){var e=t.draggable,r=t.home,n=t.draggables,a=t.viewport,i=Nf(r.axis,e.displaceBy),s=Fc(r.descriptor.id,n),o=s.indexOf(e);o===-1&&he();var c=s.slice(o+1),u=c.reduce(function(p,m){return p[m.descriptor.id]=!0,p},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:u},f=Fd({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:i,at:{type:"REORDER",destination:Hte(e.descriptor)}};return{impact:h,afterCritical:d}},Wte=function(t,e){return{draggables:t.draggables,droppables:w2(t.droppables,e)}},Vte=function(t){var e=t.draggable,r=t.offset,n=t.initialWindowScroll,a=ip(e.client,r),i=sp(a,n),s=Ce({},e,{placeholder:Ce({},e.placeholder,{client:a}),client:a,page:i});return s},Gte=function(t){var e=t.frame;return e||he(),e},Xte=function(t){var e=t.additions,r=t.updatedDroppables,n=t.viewport,a=n.scroll.diff.value;return e.map(function(i){var s=i.descriptor.droppableId,o=r[s],c=Gte(o),u=c.scroll.diff.value,d=Cr(a,u),f=Vte({draggable:i,offset:d,initialWindowScroll:n.scroll.initial});return f})},qte=function(t){var e=t.state,r=t.published,n=r.modified.map(function(b){var w=e.dimensions.droppables[b.droppableId],S=p2(w,b.scroll);return S}),a=Ce({},e.dimensions.droppables,{},KT(n)),i=ZT(Xte({additions:r.additions,updatedDroppables:a,viewport:e.viewport})),s=Ce({},e.dimensions.draggables,{},i);r.removals.forEach(function(b){delete s[b]});var o={droppables:a,draggables:s},c=Tn(e.impact),u=c?o.droppables[c]:null,d=o.draggables[e.critical.draggable.id],f=o.droppables[e.critical.droppable.id],h=p8({draggable:d,home:f,draggables:s,viewport:e.viewport}),p=h.impact,m=h.afterCritical,g=u&&u.isCombineEnabled?e.impact:p,y=u8({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:g,viewport:e.viewport,afterCritical:m}),x=Ce({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:y,onLiftImpact:p,dimensions:o,afterCritical:m,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return x;var v=Ce({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return v},Vy=function(e){return e.movementMode==="SNAP"},Av=function(e,r,n){var a=Wte(e.dimensions,r);return!Vy(e)||n?td({state:e,dimensions:a}):h8({state:e,dimensions:a})};function Tv(t){return t.isDragging&&t.movementMode==="SNAP"?Ce({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var l4={phase:"IDLE",completed:null,shouldFlush:!1},Yte=function(t,e){if(t===void 0&&(t=l4),e.type==="FLUSH")return Ce({},l4,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&he();var r=e.payload,n=r.critical,a=r.clientSelection,i=r.viewport,s=r.dimensions,o=r.movementMode,c=s.draggables[n.draggable.id],u=s.droppables[n.droppable.id],d={selection:a,borderBoxCenter:c.client.borderBox.center,offset:xr},f={client:d,page:{selection:Cr(d.selection,i.scroll.initial),borderBoxCenter:Cr(d.selection,i.scroll.initial),offset:Cr(d.selection,i.scroll.diff.value)}},h=jm(s.droppables).every(function(ve){return!ve.isFixedOnPage}),p=p8({draggable:c,home:u,draggables:s.draggables,viewport:i}),m=p.impact,g=p.afterCritical,y={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:f,current:f,isWindowScrollAllowed:h,impact:m,afterCritical:g,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return y}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&he();var x=Ce({phase:"COLLECTING"},t,{phase:"COLLECTING"});return x}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||he(),qte({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;go(t)||he();var v=e.payload.client;return Ps(v,t.current.client.selection)?t:td({state:t,clientSelection:v,impact:Vy(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Tv(t);go(t)||he();var b=e.payload,w=b.id,S=b.newScroll,E=t.dimensions.droppables[w];if(!E)return t;var j=p2(E,S);return Av(t,j,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;go(t)||he();var I=e.payload,k=I.id,T=I.isEnabled,L=t.dimensions.droppables[k];L||he(),L.isEnabled===T&&he();var C=Ce({},L,{isEnabled:T});return Av(t,C,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;go(t)||he();var A=e.payload,N=A.id,O=A.isCombineEnabled,$=t.dimensions.droppables[N];$||he(),$.isCombineEnabled===O&&he();var D=Ce({},$,{isCombineEnabled:O});return Av(t,D,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;go(t)||he(),t.isWindowScrollAllowed||he();var R=e.payload.newScroll;if(Ps(t.viewport.scroll.current,R))return Tv(t);var M=n8(t.viewport,R);return Vy(t)?h8({state:t,viewport:M}):td({state:t,viewport:M})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!go(t))return t;var F=e.payload.maxScroll;if(Ps(F,t.viewport.scroll.max))return t;var B=Ce({},t.viewport,{scroll:Ce({},t.viewport.scroll,{max:F})});return Ce({phase:"DRAGGING"},t,{viewport:B})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&he();var U=Ite({state:t,type:e.type});return U?td({state:t,impact:U.impact,clientSelection:U.clientSelection,scrollJumpRequest:U.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var q=e.payload.reason;t.phase!=="COLLECTING"&&he();var ee=Ce({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:q});return ee}if(e.type==="DROP_ANIMATE"){var V=e.payload,re=V.completed,oe=V.dropDuration,ie=V.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||he();var se={phase:"DROP_ANIMATING",completed:re,dropDuration:oe,newHomeClientOffset:ie,dimensions:t.dimensions};return se}if(e.type==="DROP_COMPLETE"){var ye=e.payload.completed;return{phase:"IDLE",completed:ye,shouldFlush:!1}}return t},Kte=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},Zte=function(e){return{type:"LIFT",payload:e}},Qte=function(e){return{type:"INITIAL_PUBLISH",payload:e}},Jte=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},ere=function(){return{type:"COLLECTION_STARTING",payload:null}},tre=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},rre=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},nre=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},m8=function(e){return{type:"MOVE",payload:e}},are=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},ire=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},sre=function(){return{type:"MOVE_UP",payload:null}},ore=function(){return{type:"MOVE_DOWN",payload:null}},lre=function(){return{type:"MOVE_RIGHT",payload:null}},cre=function(){return{type:"MOVE_LEFT",payload:null}},_2=function(){return{type:"FLUSH",payload:null}},ure=function(e){return{type:"DROP_ANIMATE",payload:e}},k2=function(e){return{type:"DROP_COMPLETE",payload:e}},g8=function(e){return{type:"DROP",payload:e}},dre=function(e){return{type:"DROP_PENDING",payload:e}},v8=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},fre=function(t){return function(e){var r=e.getState,n=e.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var s=i.payload,o=s.id,c=s.clientSelection,u=s.movementMode,d=r();d.phase==="DROP_ANIMATING"&&n(k2({completed:d.completed})),r().phase!=="IDLE"&&he(),n(_2()),n(Kte({draggableId:o,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},h={draggableId:o,scrollOptions:f},p=t.startPublishing(h),m=p.critical,g=p.dimensions,y=p.viewport;n(Qte({critical:m,dimensions:g,clientSelection:c,movementMode:u,viewport:y}))}}}},hre=function(t){return function(){return function(e){return function(r){r.type==="INITIAL_PUBLISH"&&t.dragging(),r.type==="DROP_ANIMATE"&&t.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&t.resting(),e(r)}}}},N2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},$d={opacity:{drop:0,combining:.7},scale:{drop:.75}},S2={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},io=S2.outOfTheWay+"s "+N2.outOfTheWay,rd={fluid:"opacity "+io,snap:"transform "+io+", opacity "+io,drop:function(e){var r=e+"s "+N2.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+io,placeholder:"height "+io+", width "+io+", margin "+io},c4=function(e){return Ps(e,xr)?null:"translate("+e.x+"px, "+e.y+"px)"},Gy={moveTo:c4,drop:function(e,r){var n=c4(e);return n?r?n+" scale("+$d.scale.drop+")":n:null}},Xy=S2.minDropTime,x8=S2.maxDropTime,pre=x8-Xy,u4=1500,mre=.6,gre=function(t){var e=t.current,r=t.destination,n=t.reason,a=Ld(e,r);if(a<=0)return Xy;if(a>=u4)return x8;var i=a/u4,s=Xy+pre*i,o=n==="CANCEL"?s*mre:s;return Number(o.toFixed(2))},vre=function(t){var e=t.impact,r=t.draggable,n=t.dimensions,a=t.viewport,i=t.afterCritical,s=n.draggables,o=n.droppables,c=Tn(e),u=c?o[c]:null,d=o[r.descriptor.droppableId],f=f8({impact:e,draggable:r,draggables:s,afterCritical:i,droppable:u||d,viewport:a}),h=jn(f,r.client.borderBox.center);return h},xre=function(t){var e=t.draggables,r=t.reason,n=t.lastImpact,a=t.home,i=t.viewport,s=t.onLiftImpact;if(!n.at||r!=="DROP"){var o=d8({draggables:e,impact:s,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:o,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=Ce({},n,{displaced:Bd});return{impact:c,didDropInsideDroppable:!0}},yre=function(t){var e=t.getState,r=t.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=e(),s=a.payload.reason;if(i.phase==="COLLECTING"){r(dre({reason:s}));return}if(i.phase!=="IDLE"){var o=i.phase==="DROP_PENDING"&&i.isWaiting;o&&he(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||he();var c=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],f=xre({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),h=f.impact,p=f.didDropInsideDroppable,m=p?g2(h):null,g=p?Am(h):null,y={index:c.draggable.index,droppableId:c.droppable.id},x={draggableId:d.descriptor.id,type:d.descriptor.type,source:y,reason:s,mode:i.movementMode,destination:m,combine:g},v=vre({impact:h,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),b={critical:i.critical,afterCritical:i.afterCritical,result:x,impact:h},w=!Ps(i.current.client.offset,v)||!!x.combine;if(!w){r(k2({completed:b}));return}var S=gre({current:i.current.client.offset,destination:v,reason:s}),E={newHomeClientOffset:v,dropDuration:S,completed:b};r(ure(E))}}}},y8=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function bre(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||t()}}}function wre(t){var e=t.onWindowScroll;function r(){e(y8())}var n=Md(r),a=bre(n),i=Ds;function s(){return i!==Ds}function o(){s()&&he(),i=sa(window,[a])}function c(){s()||he(),n.cancel(),i(),i=Ds}return{start:o,stop:c,isActive:s}}var _re=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},kre=function(t){var e=wre({onWindowScroll:function(n){t.dispatch(are({newScroll:n}))}});return function(r){return function(n){!e.isActive()&&n.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&_re(n)&&e.stop(),r(n)}}},Nre=function(t){var e=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(s){e||r||(e=!0,t(s),clearTimeout(n))};return a.wasCalled=function(){return e},a},Sre=function(){var t=[],e=function(i){var s=m2(t,function(u){return u.timerId===i});s===-1&&he();var o=t.splice(s,1),c=o[0];c.callback()},r=function(i){var s=setTimeout(function(){return e(s)}),o={timerId:s,callback:i};t.push(o)},n=function(){if(t.length){var i=[].concat(t);t.length=0,i.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:r,flush:n}},Ere=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.droppableId===r.droppableId&&e.index===r.index},Cre=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.draggableId===r.draggableId&&e.droppableId===r.droppableId},jre=function(e,r){if(e===r)return!0;var n=e.draggable.id===r.draggable.id&&e.draggable.droppableId===r.draggable.droppableId&&e.draggable.type===r.draggable.type&&e.draggable.index===r.draggable.index,a=e.droppable.id===r.droppable.id&&e.droppable.type===r.droppable.type;return n&&a},mu=function(e,r){r()},gh=function(e,r){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:r}},Iv=function(e,r,n,a){if(!e){n(a(r));return}var i=Nre(n),s={announce:i};e(r,s),i.wasCalled()||n(a(r))},Are=function(t,e){var r=Sre(),n=null,a=function(h,p){n&&he(),mu("onBeforeCapture",function(){var m=t().onBeforeCapture;if(m){var g={draggableId:h,mode:p};m(g)}})},i=function(h,p){n&&he(),mu("onBeforeDragStart",function(){var m=t().onBeforeDragStart;m&&m(gh(h,p))})},s=function(h,p){n&&he();var m=gh(h,p);n={mode:p,lastCritical:h,lastLocation:m.source,lastCombine:null},r.add(function(){mu("onDragStart",function(){return Iv(t().onDragStart,m,e,Qh.onDragStart)})})},o=function(h,p){var m=g2(p),g=Am(p);n||he();var y=!jre(h,n.lastCritical);y&&(n.lastCritical=h);var x=!Ere(n.lastLocation,m);x&&(n.lastLocation=m);var v=!Cre(n.lastCombine,g);if(v&&(n.lastCombine=g),!(!y&&!x&&!v)){var b=Ce({},gh(h,n.mode),{combine:g,destination:m});r.add(function(){mu("onDragUpdate",function(){return Iv(t().onDragUpdate,b,e,Qh.onDragUpdate)})})}},c=function(){n||he(),r.flush()},u=function(h){n||he(),n=null,mu("onDragEnd",function(){return Iv(t().onDragEnd,h,e,Qh.onDragEnd)})},d=function(){if(n){var h=Ce({},gh(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(h)}};return{beforeCapture:a,beforeStart:i,start:s,update:o,flush:c,drop:u,abort:d}},Tre=function(t,e){var r=Are(t,e);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var s=i.payload.critical;r.beforeStart(s,i.payload.movementMode),a(i),r.start(s,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var o=i.payload.completed.result;r.flush(),a(i),r.drop(o);return}if(a(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},Ire=function(t){return function(e){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){e(r);return}var n=t.getState();n.phase!=="DROP_ANIMATING"&&he(),t.dispatch(k2({completed:n.completed}))}}},Ore=function(t){var e=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),e&&(e(),e=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=t.getState();c.phase==="DROP_ANIMATING"&&t.dispatch(v8())}};r=requestAnimationFrame(function(){r=null,e=sa(window,[s])})}}}},Dre=function(t){return function(){return function(e){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&t.stopPublishing(),e(r)}}}},Pre=function(t){var e=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(n.payload.critical.draggable.id),r(n),t.tryRestoreFocusRecorded();return}if(r(n),!!e){if(n.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){e=!1;var a=n.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},Rre=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},Mre=function(t){return function(e){return function(r){return function(n){if(Rre(n)){t.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=e.getState();a.phase!=="DRAGGING"&&he(),t.start(a);return}r(n),t.scroll(e.getState())}}}},Lre=function(t){return function(e){return function(r){if(e(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=t.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||t.dispatch(g8({reason:n.reason})))}}}},Bre=wT,Fre=function(t){var e=t.dimensionMarshal,r=t.focusMarshal,n=t.styleMarshal,a=t.getResponders,i=t.announce,s=t.autoScroller;return bT(Yte,Bre(wJ(hre(n),Dre(e),fre(e),yre,Ire,Ore,Lre,Mre(s),kre,Pre(r),Tre(a,i))))},Ov=function(){return{additions:{},removals:{},modified:{}}};function $re(t){var e=t.registry,r=t.callbacks,n=Ov(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var d=n,f=d.additions,h=d.removals,p=d.modified,m=Object.keys(f).map(function(x){return e.draggable.getById(x).getDimension(xr)}).sort(function(x,v){return x.descriptor.index-v.descriptor.index}),g=Object.keys(p).map(function(x){var v=e.droppable.getById(x),b=v.callbacks.getScrollWhileDragging();return{droppableId:x,scroll:b}}),y={additions:m,removals:Object.keys(h),modified:g};n=Ov(),r.publish(y)}))},s=function(d){var f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},o=function(d){var f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,n=Ov())};return{add:s,remove:o,stop:c}}var b8=function(t){var e=t.scrollHeight,r=t.scrollWidth,n=t.height,a=t.width,i=jn({x:r,y:e},{x:a,y:n}),s={x:Math.max(0,i.x),y:Math.max(0,i.y)};return s},w8=function(){var t=document.documentElement;return t||he(),t},_8=function(){var t=w8(),e=b8({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},Ure=function(){var t=y8(),e=_8(),r=t.y,n=t.x,a=w8(),i=a.clientWidth,s=a.clientHeight,o=n+i,c=r+s,u=Ca({top:r,left:n,right:o,bottom:c}),d={frame:u,scroll:{initial:t,current:t,max:e,diff:{value:xr,displacement:xr}}};return d},zre=function(t){var e=t.critical,r=t.scrollOptions,n=t.registry,a=Ure(),i=a.scroll.current,s=e.droppable,o=n.droppable.getAllByType(s.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(e.draggable.type).map(function(f){return f.getDimension(i)}),u={draggables:ZT(c),droppables:KT(o)},d={dimensions:u,critical:e,viewport:a};return d};function d4(t,e,r){if(r.descriptor.id===e.id||r.descriptor.type!==e.type)return!1;var n=t.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var Hre=function(t,e){var r=null,n=$re({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),a=function(p,m){t.droppable.exists(p)||he(),r&&e.updateDroppableIsEnabled({id:p,isEnabled:m})},i=function(p,m){r&&(t.droppable.exists(p)||he(),e.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},s=function(p,m){r&&(t.droppable.exists(p)||he(),e.updateDroppableScroll({id:p,newScroll:m}))},o=function(p,m){r&&t.droppable.getById(p).callbacks.scroll(m)},c=function(){if(r){n.stop();var p=r.critical.droppable;t.droppable.getAllByType(p.type).forEach(function(m){return m.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(p){r||he();var m=r.critical.draggable;p.type==="ADDITION"&&d4(t,m,p.value)&&n.add(p.value),p.type==="REMOVAL"&&d4(t,m,p.value)&&n.remove(p.value)},d=function(p){r&&he();var m=t.draggable.getById(p.draggableId),g=t.droppable.getById(m.descriptor.droppableId),y={draggable:m.descriptor,droppable:g.descriptor},x=t.subscribe(u);return r={critical:y,unsubscribe:x},zre({critical:y,registry:t,scrollOptions:p.scrollOptions})},f={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:o,updateDroppableScroll:s,startPublishing:d,stopPublishing:c};return f},k8=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},Wre=function(t){window.scrollBy(t.x,t.y)},Vre=gr(function(t){return jm(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),Gre=function(e,r){var n=Ys(Vre(r),function(a){return a.frame||he(),o8(a.frame.pageMarginBox)(e)});return n},Xre=function(t){var e=t.center,r=t.destination,n=t.droppables;if(r){var a=n[r];return a.frame?a:null}var i=Gre(e,n);return i},Rs={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},qre=function(t,e){var r=t[e.size]*Rs.startFromPercentage,n=t[e.size]*Rs.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},N8=function(t){var e=t.startOfRange,r=t.endOfRange,n=t.current,a=r-e;if(a===0)return 0;var i=n-e,s=i/a;return s},E2=1,Yre=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Rs.maxPixelScroll;if(t===e.startScrollingFrom)return E2;var r=N8({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),n=1-r,a=Rs.maxPixelScroll*Rs.ease(n);return Math.ceil(a)},f4=Rs.durationDampening.accelerateAt,h4=Rs.durationDampening.stopDampeningAt,Kre=function(t,e){var r=e,n=h4,a=Date.now(),i=a-r;if(i>=h4)return t;if(i<f4)return E2;var s=N8({startOfRange:f4,endOfRange:n,current:i}),o=t*Rs.ease(s);return Math.ceil(o)},p4=function(t){var e=t.distanceToEdge,r=t.thresholds,n=t.dragStartTime,a=t.shouldUseTimeDampening,i=Yre(e,r);return i===0?0:a?Math.max(Kre(i,n),E2):i},m4=function(t){var e=t.container,r=t.distanceToEdges,n=t.dragStartTime,a=t.axis,i=t.shouldUseTimeDampening,s=qre(e,a),o=r[a.end]<r[a.start];return o?p4({distanceToEdge:r[a.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i}):-1*p4({distanceToEdge:r[a.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i})},Zre=function(t){var e=t.container,r=t.subject,n=t.proposedScroll,a=r.height>e.height,i=r.width>e.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},Qre=qT(function(t){return t===0?0:t}),S8=function(t){var e=t.dragStartTime,r=t.container,n=t.subject,a=t.center,i=t.shouldUseTimeDampening,s={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},o=m4({container:r,distanceToEdges:s,dragStartTime:e,axis:v2,shouldUseTimeDampening:i}),c=m4({container:r,distanceToEdges:s,dragStartTime:e,axis:e8,shouldUseTimeDampening:i}),u=Qre({x:c,y:o});if(Ps(u,xr))return null;var d=Zre({container:r,subject:n,proposedScroll:u});return d?Ps(d,xr)?null:d:null},Jre=qT(function(t){return t===0?0:t>0?1:-1}),C2=function(){var t=function(r,n){return r<0?r:r>n?r-n:0};return function(e){var r=e.current,n=e.max,a=e.change,i=Cr(r,a),s={x:t(i.x,n.x),y:t(i.y,n.y)};return Ps(s,xr)?null:s}}(),E8=function(e){var r=e.max,n=e.current,a=e.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},s=Jre(a),o=C2({max:i,current:n,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},j2=function(e,r){return E8({current:e.scroll.current,max:e.scroll.max,change:r})},ene=function(e,r){if(!j2(e,r))return null;var n=e.scroll.max,a=e.scroll.current;return C2({current:a,max:n,change:r})},A2=function(e,r){var n=e.frame;return n?E8({current:n.scroll.current,max:n.scroll.max,change:r}):!1},tne=function(e,r){var n=e.frame;return!n||!A2(e,r)?null:C2({current:n.scroll.current,max:n.scroll.max,change:r})},rne=function(t){var e=t.viewport,r=t.subject,n=t.center,a=t.dragStartTime,i=t.shouldUseTimeDampening,s=S8({dragStartTime:a,container:e.frame,subject:r,center:n,shouldUseTimeDampening:i});return s&&j2(e,s)?s:null},nne=function(t){var e=t.droppable,r=t.subject,n=t.center,a=t.dragStartTime,i=t.shouldUseTimeDampening,s=e.frame;if(!s)return null;var o=S8({dragStartTime:a,container:s.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return o&&A2(e,o)?o:null},g4=function(t){var e=t.state,r=t.dragStartTime,n=t.shouldUseTimeDampening,a=t.scrollWindow,i=t.scrollDroppable,s=e.current.page.borderBoxCenter,o=e.dimensions.draggables[e.critical.draggable.id],c=o.page.marginBox;if(e.isWindowScrollAllowed){var u=e.viewport,d=rne({dragStartTime:r,viewport:u,subject:c,center:s,shouldUseTimeDampening:n});if(d){a(d);return}}var f=Xre({center:s,destination:Tn(e.impact),droppables:e.dimensions.droppables});if(f){var h=nne({dragStartTime:r,droppable:f,subject:c,center:s,shouldUseTimeDampening:n});h&&i(f.descriptor.id,h)}},ane=function(t){var e=t.scrollWindow,r=t.scrollDroppable,n=Md(e),a=Md(r),i=null,s=function(d){i||he();var f=i,h=f.shouldUseTimeDampening,p=f.dragStartTime;g4({state:d,scrollWindow:n,scrollDroppable:a,dragStartTime:p,shouldUseTimeDampening:h})},o=function(d){i&&he();var f=Date.now(),h=!1,p=function(){h=!0};g4({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),i={dragStartTime:f,shouldUseTimeDampening:h},h&&s(d)},c=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:o,stop:c,scroll:s}},ine=function(t){var e=t.move,r=t.scrollDroppable,n=t.scrollWindow,a=function(u,d){var f=Cr(u.current.client.selection,d);e({client:f})},i=function(u,d){if(!A2(u,d))return d;var f=tne(u,d);if(!f)return r(u.descriptor.id,d),null;var h=jn(d,f);r(u.descriptor.id,h);var p=jn(d,h);return p},s=function(u,d,f){if(!u||!j2(d,f))return f;var h=ene(d,f);if(!h)return n(f),null;var p=jn(f,h);n(p);var m=jn(f,p);return m},o=function(u){var d=u.scrollJumpRequest;if(d){var f=Tn(u.impact);f||he();var h=i(u.dimensions.droppables[f],d);if(h){var p=u.viewport,m=s(u.isWindowScrollAllowed,p,h);m&&a(u,m)}}};return o},sne=function(t){var e=t.scrollDroppable,r=t.scrollWindow,n=t.move,a=ane({scrollWindow:r,scrollDroppable:e}),i=ine({move:n,scrollWindow:r,scrollDroppable:e}),s=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){a.scroll(u);return}u.scrollJumpRequest&&i(u)}},o={scroll:s,start:a.start,stop:a.stop};return o},kc="data-rbd",Nc=function(){var t=kc+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),qy=function(){var t=kc+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),one=function(){var t=kc+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),v4={contextId:kc+"-scroll-container-context-id"},lne=function(e){return function(r){return"["+r+'="'+e+'"]'}},gu=function(e,r){return e.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},cne="pointer-events: none;",une=function(t){var e=lne(t),r=function(){var o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Nc.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:cne,dropAnimating:o}}}(),n=function(){var o=`
      transition: `+rd.outOfTheWay+`;
    `;return{selector:e(qy.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}}(),a={selector:e(one.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[n,r,a,i];return{always:gu(s,"always"),resting:gu(s,"resting"),dragging:gu(s,"dragging"),dropAnimating:gu(s,"dropAnimating"),userCancel:gu(s,"userCancel")}},In=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect,Dv=function(){var e=document.querySelector("head");return e||he(),e},x4=function(e){var r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.type="text/css",r};function dne(t,e){var r=Ke(function(){return une(t)},[t]),n=_.useRef(null),a=_.useRef(null),i=Ne(gr(function(f){var h=a.current;h||he(),h.textContent=f}),[]),s=Ne(function(f){var h=n.current;h||he(),h.textContent=f},[]);In(function(){!n.current&&!a.current||he();var f=x4(e),h=x4(e);return n.current=f,a.current=h,f.setAttribute(kc+"-always",t),h.setAttribute(kc+"-dynamic",t),Dv().appendChild(f),Dv().appendChild(h),s(r.always),i(r.resting),function(){var p=function(g){var y=g.current;y||he(),Dv().removeChild(y),g.current=null};p(n),p(a)}},[e,s,i,r.always,r.resting,t]);var o=Ne(function(){return i(r.dragging)},[i,r.dragging]),c=Ne(function(f){if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),u=Ne(function(){a.current&&i(r.resting)},[i,r.resting]),d=Ke(function(){return{dragging:o,dropping:c,resting:u}},[o,c,u]);return d}var C8=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Om(t){return t instanceof C8(t).HTMLElement}function fne(t,e){var r="["+Nc.contextId+'="'+t+'"]',n=YT(document.querySelectorAll(r));if(!n.length)return null;var a=Ys(n,function(i){return i.getAttribute(Nc.draggableId)===e});return!a||!Om(a)?null:a}function hne(t){var e=_.useRef({}),r=_.useRef(null),n=_.useRef(null),a=_.useRef(!1),i=Ne(function(h,p){var m={id:h,focus:p};return e.current[h]=m,function(){var y=e.current,x=y[h];x!==m&&delete y[h]}},[]),s=Ne(function(h){var p=fne(t,h);p&&p!==document.activeElement&&p.focus()},[t]),o=Ne(function(h,p){r.current===h&&(r.current=p)},[]),c=Ne(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var h=r.current;h&&s(h)}))},[s]),u=Ne(function(h){r.current=null;var p=document.activeElement;p&&p.getAttribute(Nc.draggableId)===h&&(r.current=h)},[]);In(function(){return a.current=!0,function(){a.current=!1;var h=n.current;h&&cancelAnimationFrame(h)}},[]);var d=Ke(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:o}},[i,u,c,o]);return d}function pne(){var t={draggables:{},droppables:{}},e=[];function r(f){return e.push(f),function(){var p=e.indexOf(f);p!==-1&&e.splice(p,1)}}function n(f){e.length&&e.forEach(function(h){return h(f)})}function a(f){return t.draggables[f]||null}function i(f){var h=a(f);return h||he(),h}var s={register:function(h){t.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:function(h,p){var m=t.draggables[p.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete t.draggables[p.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:function(h){var p=h.descriptor.id,m=a(p);m&&h.uniqueId===m.uniqueId&&(delete t.draggables[p],n({type:"REMOVAL",value:h}))},getById:i,findById:a,exists:function(h){return!!a(h)},getAllByType:function(h){return cp(t.draggables).filter(function(p){return p.descriptor.type===h})}};function o(f){return t.droppables[f]||null}function c(f){var h=o(f);return h||he(),h}var u={register:function(h){t.droppables[h.descriptor.id]=h},unregister:function(h){var p=o(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete t.droppables[h.descriptor.id]},getById:c,findById:o,exists:function(h){return!!o(h)},getAllByType:function(h){return cp(t.droppables).filter(function(p){return p.descriptor.type===h})}};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:u,subscribe:r,clean:d}}function mne(){var t=Ke(pne,[]);return _.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var T2=ne.createContext(null),dp=function(){var t=document.body;return t||he(),t},gne={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},vne=function(e){return"rbd-announcement-"+e};function xne(t){var e=Ke(function(){return vne(t)},[t]),r=_.useRef(null);_.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=e,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Ce(i.style,gne),dp().appendChild(i),function(){setTimeout(function(){var c=dp();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[e]);var n=Ne(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return n}var yne=0,bne={separator:"::"};function I2(t,e){return e===void 0&&(e=bne),Ke(function(){return""+t+e.separator+yne++},[e.separator,t])}function wne(t){var e=t.contextId,r=t.uniqueId;return"rbd-hidden-text-"+e+"-"+r}function _ne(t){var e=t.contextId,r=t.text,n=I2("hidden-text",{separator:"-"}),a=Ke(function(){return wne({contextId:e,uniqueId:n})},[n,e]);return _.useEffect(function(){var s=document.createElement("div");return s.id=a,s.textContent=r,s.style.display="none",dp().appendChild(s),function(){var c=dp();c.contains(s)&&c.removeChild(s)}},[a,r]),a}var Dm=ne.createContext(null);function j8(t){var e=_.useRef(t);return _.useEffect(function(){e.current=t}),e}function kne(){var t=null;function e(){return!!t}function r(s){return s===t}function n(s){t&&he();var o={abandon:s};return t=o,o}function a(){t||he(),t=null}function i(){t&&(t.abandon(),a())}return{isClaimed:e,isActive:r,claim:n,release:a,tryAbandon:i}}var Nne=9,Sne=13,O2=27,A8=32,Ene=33,Cne=34,jne=35,Ane=36,Tne=37,Ine=38,One=39,Dne=40,vh,Pne=(vh={},vh[Sne]=!0,vh[Nne]=!0,vh),T8=function(t){Pne[t.keyCode]&&t.preventDefault()},Pm=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],r=Ys(e,function(n){return"on"+n in document});return r||t}(),I8=0,y4=5;function Rne(t,e){return Math.abs(e.x-t.x)>=y4||Math.abs(e.y-t.y)>=y4}var b4={type:"IDLE"};function Mne(t){var e=t.cancel,r=t.completed,n=t.getPhase,a=t.setPhase;return[{eventName:"mousemove",fn:function(s){var o=s.button,c=s.clientX,u=s.clientY;if(o===I8){var d={x:c,y:u},f=n();if(f.type==="DRAGGING"){s.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&he();var h=f.point;if(Rne(h,d)){s.preventDefault();var p=f.actions.fluidLift(d);a({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(s){var o=n();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(s){n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var o=n();if(o.type==="PENDING"){e();return}if(s.keyCode===O2){s.preventDefault(),e();return}T8(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var o=n();if(o.type==="IDLE"&&he(),o.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Pm,fn:e}]}function Lne(t){var e=_.useRef(b4),r=_.useRef(Ds),n=Ke(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===I8&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=t.findClosestDraggableId(f);if(h){var p=t.tryGetLock(h,s,{sourceEvent:f});if(p){f.preventDefault();var m={x:f.clientX,y:f.clientY};r.current(),u(p,m)}}}}}},[t]),a=Ke(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=t.findClosestDraggableId(f);if(h){var p=t.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||t.canGetLock(h)&&f.preventDefault())}}}}},[t]),i=Ne(function(){var f={passive:!1,capture:!0};r.current=sa(window,[a,n],f)},[a,n]),s=Ne(function(){var d=e.current;d.type!=="IDLE"&&(e.current=b4,r.current(),i())},[i]),o=Ne(function(){var d=e.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),c=Ne(function(){var f={capture:!0,passive:!1},h=Mne({cancel:o,completed:s,getPhase:function(){return e.current},setPhase:function(m){e.current=m}});r.current=sa(window,h,f)},[o,s]),u=Ne(function(f,h){e.current.type!=="IDLE"&&he(),e.current={type:"PENDING",point:h,actions:f},c()},[c]);In(function(){return i(),function(){r.current()}},[i])}var vl;function Bne(){}var Fne=(vl={},vl[Cne]=!0,vl[Ene]=!0,vl[Ane]=!0,vl[jne]=!0,vl);function $ne(t,e){function r(){e(),t.cancel()}function n(){e(),t.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===O2){i.preventDefault(),r();return}if(i.keyCode===A8){i.preventDefault(),n();return}if(i.keyCode===Dne){i.preventDefault(),t.moveDown();return}if(i.keyCode===Ine){i.preventDefault(),t.moveUp();return}if(i.keyCode===One){i.preventDefault(),t.moveRight();return}if(i.keyCode===Tne){i.preventDefault(),t.moveLeft();return}if(Fne[i.keyCode]){i.preventDefault();return}T8(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Pm,fn:r}]}function Une(t){var e=_.useRef(Bne),r=Ke(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==A8)return;var s=t.findClosestDraggableId(i);if(!s)return;var o=t.tryGetLock(s,d,{sourceEvent:i});if(!o)return;i.preventDefault();var c=!0,u=o.snapLift();e.current();function d(){c||he(),c=!1,e.current(),n()}e.current=sa(window,$ne(u,d),{capture:!0,passive:!1})}}},[t]),n=Ne(function(){var i={passive:!1,capture:!0};e.current=sa(window,[r],i)},[r]);In(function(){return n(),function(){e.current()}},[n])}var Pv={type:"IDLE"},zne=120,Hne=.15;function Wne(t){var e=t.cancel,r=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){e();return}a.keyCode===O2&&a.preventDefault(),e()}},{eventName:Pm,fn:e}]}function Vne(t){var e=t.cancel,r=t.completed,n=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var o=i.touches[0],c=o.clientX,u=o.clientY,d={x:c,y:u};i.preventDefault(),s.actions.move(d)}},{eventName:"touchend",fn:function(i){var s=n();if(s.type!=="DRAGGING"){e();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(i){var s=n();s.type==="IDLE"&&he();var o=i.touches[0];if(o){var c=o.force>=Hne;if(c){var u=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){u&&e();return}if(u){if(s.hasMoved){i.preventDefault();return}e();return}i.preventDefault()}}}},{eventName:Pm,fn:e}]}function Gne(t){var e=_.useRef(Pv),r=_.useRef(Ds),n=Ne(function(){return e.current},[]),a=Ne(function(p){e.current=p},[]),i=Ke(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var m=t.findClosestDraggableId(p);if(m){var g=t.tryGetLock(m,o,{sourceEvent:p});if(g){var y=p.touches[0],x=y.clientX,v=y.clientY,b={x,y:v};r.current(),f(g,b)}}}}}},[t]),s=Ne(function(){var p={capture:!0,passive:!1};r.current=sa(window,[i],p)},[i]),o=Ne(function(){var h=e.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),a(Pv),r.current(),s())},[s,a]),c=Ne(function(){var h=e.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=Ne(function(){var p={capture:!0,passive:!1},m={cancel:c,completed:o,getPhase:n},g=sa(window,Vne(m),p),y=sa(window,Wne(m),p);r.current=function(){g(),y()}},[c,n,o]),d=Ne(function(){var p=n();p.type!=="PENDING"&&he();var m=p.actions.fluidLift(p.point);a({type:"DRAGGING",actions:m,hasMoved:!1})},[n,a]),f=Ne(function(p,m){n().type!=="IDLE"&&he();var g=setTimeout(d,zne);a({type:"PENDING",point:m,actions:p,longPressTimerId:g}),u()},[u,n,a,d]);In(function(){return s(),function(){r.current();var m=n();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),a(Pv))}},[n,s,a]),In(function(){var p=sa(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var Xne={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function O8(t,e){if(e==null)return!1;var r=!!Xne[e.tagName.toLowerCase()];if(r)return!0;var n=e.getAttribute("contenteditable");return n==="true"||n===""?!0:e===t?!1:O8(t,e.parentElement)}function qne(t,e){var r=e.target;return Om(r)?O8(t,r):!1}var Yne=function(t){return Ca(t.getBoundingClientRect()).center};function Kne(t){return t instanceof C8(t).Element}var Zne=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],r=Ys(e,function(n){return n in Element.prototype});return r||t}();function D8(t,e){return t==null?null:t[Zne](e)?t:D8(t.parentElement,e)}function Qne(t,e){return t.closest?t.closest(e):D8(t,e)}function Jne(t){return"["+Nc.contextId+'="'+t+'"]'}function eae(t,e){var r=e.target;if(!Kne(r))return null;var n=Jne(t),a=Qne(r,n);return!a||!Om(a)?null:a}function tae(t,e){var r=eae(t,e);return r?r.getAttribute(Nc.draggableId):null}function rae(t,e){var r="["+qy.contextId+'="'+t+'"]',n=YT(document.querySelectorAll(r)),a=Ys(n,function(i){return i.getAttribute(qy.id)===e});return!a||!Om(a)?null:a}function nae(t){t.preventDefault()}function xh(t){var e=t.expected,r=t.phase,n=t.isLockActive;return t.shouldWarn,!(!n()||e!==r)}function P8(t){var e=t.lockAPI,r=t.store,n=t.registry,a=t.draggableId;if(e.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!k8(r.getState(),a))}function aae(t){var e=t.lockAPI,r=t.contextId,n=t.store,a=t.registry,i=t.draggableId,s=t.forceSensorStop,o=t.sourceEvent,c=P8({lockAPI:e,store:n,registry:a,draggableId:i});if(!c)return null;var u=a.draggable.getById(i),d=rae(r,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&qne(d,o))return null;var f=e.claim(s||Ds),h="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function m(){return e.isActive(f)}function g(E,j){xh({expected:E,phase:h,isLockActive:m,shouldWarn:!0})&&n.dispatch(j())}var y=g.bind(null,"DRAGGING");function x(E){function j(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(j(),h!=="PRE_DRAG"&&he()),n.dispatch(Zte(E.liftActionArgs)),h="DRAGGING";function I(k,T){if(T===void 0&&(T={shouldBlockNextClick:!1}),E.cleanup(),T.shouldBlockNextClick){var L=sa(window,[{eventName:"click",fn:nae,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(L)}j(),n.dispatch(g8({reason:k}))}return Ce({isActive:function(){return xh({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(T){return I("DROP",T)},cancel:function(T){return I("CANCEL",T)}},E.actions)}function v(E){var j=Md(function(k){y(function(){return m8({client:k})})}),I=x({liftActionArgs:{id:i,clientSelection:E,movementMode:"FLUID"},cleanup:function(){return j.cancel()},actions:{move:j}});return Ce({},I,{move:j})}function b(){var E={moveUp:function(){return y(sre)},moveRight:function(){return y(lre)},moveDown:function(){return y(ore)},moveLeft:function(){return y(cre)}};return x({liftActionArgs:{id:i,clientSelection:Yne(d),movementMode:"SNAP"},cleanup:Ds,actions:E})}function w(){var E=xh({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0});E&&e.release()}var S={isActive:function(){return xh({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:v,snapLift:b,abort:w};return S}var iae=[Lne,Une,Gne];function sae(t){var e=t.contextId,r=t.store,n=t.registry,a=t.customSensors,i=t.enableDefaultSensors,s=[].concat(i?iae:[],a||[]),o=_.useState(function(){return kne()})[0],c=Ne(function(v,b){v.isDragging&&!b.isDragging&&o.tryAbandon()},[o]);In(function(){var v=r.getState(),b=r.subscribe(function(){var w=r.getState();c(v,w),v=w});return b},[o,r,c]),In(function(){return o.tryAbandon},[o.tryAbandon]);for(var u=Ne(function(x){return P8({lockAPI:o,registry:n,store:r,draggableId:x})},[o,n,r]),d=Ne(function(x,v,b){return aae({lockAPI:o,registry:n,contextId:e,store:r,draggableId:x,forceSensorStop:v,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null})},[e,o,n,r]),f=Ne(function(x){return tae(e,x)},[e]),h=Ne(function(x){var v=n.draggable.findById(x);return v?v.options:null},[n.draggable]),p=Ne(function(){o.isClaimed()&&(o.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(_2()))},[o,r]),m=Ne(o.isClaimed,[o]),g=Ke(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:m}},[u,d,f,h,p,m]),y=0;y<s.length;y++)s[y](g)}var oae=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function vu(t){return t.current||he(),t.current}function lae(t){var e=t.contextId,r=t.setCallbacks,n=t.sensors,a=t.nonce,i=t.dragHandleUsageInstructions,s=_.useRef(null),o=j8(t),c=Ne(function(){return oae(o.current)},[o]),u=xne(e),d=_ne({contextId:e,text:i}),f=dne(e,a),h=Ne(function(k){vu(s).dispatch(k)},[]),p=Ke(function(){return HS({publishWhileDragging:Jte,updateDroppableScroll:tre,updateDroppableIsEnabled:rre,updateDroppableIsCombineEnabled:nre,collectionStarting:ere},h)},[h]),m=mne(),g=Ke(function(){return Hre(m,p)},[m,p]),y=Ke(function(){return sne(Ce({scrollWindow:Wre,scrollDroppable:g.scrollDroppable},HS({move:m8},h)))},[g.scrollDroppable,h]),x=hne(e),v=Ke(function(){return Fre({announce:u,autoScroller:y,dimensionMarshal:g,focusMarshal:x,getResponders:c,styleMarshal:f})},[u,y,g,x,c,f]);s.current=v;var b=Ne(function(){var k=vu(s),T=k.getState();T.phase!=="IDLE"&&k.dispatch(_2())},[]),w=Ne(function(){var k=vu(s).getState();return k.isDragging||k.phase==="DROP_ANIMATING"},[]),S=Ke(function(){return{isDragging:w,tryAbort:b}},[w,b]);r(S);var E=Ne(function(k){return k8(vu(s).getState(),k)},[]),j=Ne(function(){return go(vu(s).getState())},[]),I=Ke(function(){return{marshal:g,focus:x,contextId:e,canLift:E,isMovementAllowed:j,dragHandleUsageInstructionsId:d,registry:m}},[e,g,d,x,E,j,m]);return sae({contextId:e,store:v,registry:m,customSensors:n,enableDefaultSensors:t.enableDefaultSensors!==!1}),_.useEffect(function(){return b},[b]),ne.createElement(Dm.Provider,{value:I},ne.createElement(TJ,{context:T2,store:v},t.children))}var cae=0;function uae(){return Ke(function(){return""+cae++},[])}function dae(t){var e=uae(),r=t.dragHandleUsageInstructions||Qh.dragHandleUsageInstructions;return ne.createElement(Uee,null,function(n){return ne.createElement(lae,{nonce:t.nonce,contextId:e,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var R8=function(e){return function(r){return e===r}},fae=R8("scroll"),hae=R8("auto"),w4=function(e,r){return r(e.overflowX)||r(e.overflowY)},pae=function(e){var r=window.getComputedStyle(e),n={overflowX:r.overflowX,overflowY:r.overflowY};return w4(n,fae)||w4(n,hae)},mae=function(){return!1},gae=function t(e){return e==null?null:e===document.body?mae()?e:null:e===document.documentElement?null:pae(e)?e:t(e.parentElement)},Yy=function(t){return{x:t.scrollLeft,y:t.scrollTop}},vae=function t(e){if(!e)return!1;var r=window.getComputedStyle(e);return r.position==="fixed"?!0:t(e.parentElement)},xae=function(t){var e=gae(t),r=vae(t);return{closestScrollable:e,isFixedOnPage:r}},yae=function(t){var e=t.descriptor,r=t.isEnabled,n=t.isCombineEnabled,a=t.isFixedOnPage,i=t.direction,s=t.client,o=t.page,c=t.closest,u=function(){if(!c)return null;var p=c.scrollSize,m=c.client,g=b8({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:g,diff:{value:xr,displacement:xr}}}}(),d=i==="vertical"?v2:e8,f=_c({page:o,withPlaceholder:null,axis:d,frame:u}),h={descriptor:e,isCombineEnabled:n,isFixedOnPage:a,axis:d,isEnabled:r,client:s,page:o,frame:u,subject:f};return h},bae=function(e,r){var n=WT(e);if(!r||e!==r)return n;var a=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,s=a+r.scrollHeight,o=i+r.scrollWidth,c={top:a,right:o,bottom:s,left:i},u=f2(c,n.border),d=h2({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return d},wae=function(t){var e=t.ref,r=t.descriptor,n=t.env,a=t.windowScroll,i=t.direction,s=t.isDropDisabled,o=t.isCombineEnabled,c=t.shouldClipSubject,u=n.closestScrollable,d=bae(e,u),f=sp(d,a),h=function(){if(!u)return null;var m=WT(u),g={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:m,page:sp(m,a),scroll:Yy(u),scrollSize:g,shouldClipSubject:c}}(),p=yae({descriptor:r,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:f,closest:h});return p},_ae={passive:!1},kae={passive:!0},_4=function(t){return t.shouldPublishImmediately?_ae:kae};function fp(t){var e=_.useContext(t);return e||he(),e}var yh=function(e){return e&&e.env.closestScrollable||null};function Nae(t){var e=_.useRef(null),r=fp(Dm),n=I2("droppable"),a=r.registry,i=r.marshal,s=j8(t),o=Ke(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),c=_.useRef(o),u=Ke(function(){return gr(function(w,S){e.current||he();var E={x:w,y:S};i.updateDroppableScroll(o.id,E)})},[o.id,i]),d=Ne(function(){var w=e.current;return!w||!w.env.closestScrollable?xr:Yy(w.env.closestScrollable)},[]),f=Ne(function(){var w=d();u(w.x,w.y)},[d,u]),h=Ke(function(){return Md(f)},[f]),p=Ne(function(){var w=e.current,S=yh(w);w&&S||he();var E=w.scrollOptions;if(E.shouldPublishImmediately){f();return}h()},[h,f]),m=Ne(function(w,S){e.current&&he();var E=s.current,j=E.getDroppableRef();j||he();var I=xae(j),k={ref:j,descriptor:o,env:I,scrollOptions:S};e.current=k;var T=wae({ref:j,descriptor:o,env:I,windowScroll:w,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),L=I.closestScrollable;return L&&(L.setAttribute(v4.contextId,r.contextId),L.addEventListener("scroll",p,_4(k.scrollOptions))),T},[r.contextId,o,p,s]),g=Ne(function(){var w=e.current,S=yh(w);return w&&S||he(),Yy(S)},[]),y=Ne(function(){var w=e.current;w||he();var S=yh(w);e.current=null,S&&(h.cancel(),S.removeAttribute(v4.contextId),S.removeEventListener("scroll",p,_4(w.scrollOptions)))},[p,h]),x=Ne(function(w){var S=e.current;S||he();var E=yh(S);E||he(),E.scrollTop+=w.y,E.scrollLeft+=w.x},[]),v=Ke(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:y,scroll:x}},[y,m,g,x]),b=Ke(function(){return{uniqueId:n,descriptor:o,callbacks:v}},[v,o,n]);In(function(){return c.current=b.descriptor,a.droppable.register(b),function(){e.current&&y(),a.droppable.unregister(b)}},[v,o,y,b,i,a.droppable]),In(function(){e.current&&i.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,i]),In(function(){e.current&&i.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,i])}function Rv(){}var k4={width:0,height:0,margin:Xee},Sae=function(e){var r=e.isAnimatingOpenOnMount,n=e.placeholder,a=e.animate;return r||a==="close"?k4:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Eae=function(e){var r=e.isAnimatingOpenOnMount,n=e.placeholder,a=e.animate,i=Sae({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?rd.placeholder:null}};function Cae(t){var e=_.useRef(null),r=Ne(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),n=t.animate,a=t.onTransitionEnd,i=t.onClose,s=t.contextId,o=_.useState(t.animate==="open"),c=o[0],u=o[1];_.useEffect(function(){return c?n!=="open"?(r(),u(!1),Rv):e.current?Rv:(e.current=setTimeout(function(){e.current=null,u(!1)}),r):Rv},[n,c,r]);var d=Ne(function(h){h.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),f=Eae({isAnimatingOpenOnMount:c,animate:t.animate,placeholder:t.placeholder});return ne.createElement(t.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:t.innerRef})}var jae=ne.memo(Cae),D2=ne.createContext(null),Aae=function(t){yT(e,t);function e(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=t.call.apply(t,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}e.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=e.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},e}(ne.PureComponent),N4={dragging:5e3,dropAnimating:4500},Tae=function(e,r){return r?rd.drop(r.duration):e?rd.snap:rd.fluid},Iae=function(e,r){return e?r?$d.opacity.drop:$d.opacity.combining:null},Oae=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function Dae(t){var e=t.dimension,r=e.client,n=t.offset,a=t.combineWith,i=t.dropping,s=!!a,o=Oae(t),c=!!i,u=c?Gy.drop(n,s):Gy.moveTo(n),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Tae(o,i),transform:u,opacity:Iae(s,c),zIndex:c?N4.dropAnimating:N4.dragging,pointerEvents:"none"};return d}function Pae(t){return{transform:Gy.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function Rae(t){return t.type==="DRAGGING"?Dae(t):Pae(t)}function Mae(t,e,r){r===void 0&&(r=xr);var n=window.getComputedStyle(e),a=e.getBoundingClientRect(),i=HT(a,n),s=sp(i,r),o={client:i,tagName:e.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:t,placeholder:o,displaceBy:c,client:i,page:s};return u}function Lae(t){var e=I2("draggable"),r=t.descriptor,n=t.registry,a=t.getDraggableRef,i=t.canDragInteractiveElements,s=t.shouldRespectForcePress,o=t.isEnabled,c=Ke(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:o}},[i,o,s]),u=Ne(function(p){var m=a();return m||he(),Mae(r,m,p)},[r,a]),d=Ke(function(){return{uniqueId:e,descriptor:r,options:c,getDimension:u}},[r,u,c,e]),f=_.useRef(d),h=_.useRef(!0);In(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),In(function(){if(h.current){h.current=!1;return}var p=f.current;f.current=d,n.draggable.update(d,p)},[d,n.draggable])}function Bae(t){t.preventDefault()}function Fae(t){var e=_.useRef(null),r=Ne(function(k){e.current=k},[]),n=Ne(function(){return e.current},[]),a=fp(Dm),i=a.contextId,s=a.dragHandleUsageInstructionsId,o=a.registry,c=fp(D2),u=c.type,d=c.droppableId,f=Ke(function(){return{id:t.draggableId,index:t.index,type:u,droppableId:d}},[t.draggableId,t.index,u,d]),h=t.children,p=t.draggableId,m=t.isEnabled,g=t.shouldRespectForcePress,y=t.canDragInteractiveElements,x=t.isClone,v=t.mapped,b=t.dropAnimationFinished;if(!x){var w=Ke(function(){return{descriptor:f,registry:o,getDraggableRef:n,canDragInteractiveElements:y,shouldRespectForcePress:g,isEnabled:m}},[f,o,n,y,g,m]);Lae(w)}var S=Ke(function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Bae}:null},[i,s,p,m]),E=Ne(function(k){v.type==="DRAGGING"&&v.dropping&&k.propertyName==="transform"&&b()},[b,v]),j=Ke(function(){var k=Rae(v),T=v.type==="DRAGGING"&&v.dropping?E:null,L={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":p,style:k,onTransitionEnd:T},dragHandleProps:S};return L},[i,S,p,v,E,r]),I=Ke(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(j,v.snapshot,I)}var M8=function(t,e){return t===e},L8=function(t){var e=t.combine,r=t.destination;return r?r.droppableId:e?e.droppableId:null},$ae=function(e){return e.combine?e.combine.draggableId:null},Uae=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function zae(){var t=gr(function(a,i){return{x:a,y:i}}),e=gr(function(a,i,s,o,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:s,combineWith:o,combineTargetFor:null}}),r=gr(function(a,i,s,o,c,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:a,dimension:s,forceShouldAnimate:d,snapshot:e(i,o,c,u,null)}}}),n=function(i,s){if(i.isDragging){if(i.critical.draggable.id!==s.draggableId)return null;var o=i.current.client.offset,c=i.dimensions.draggables[s.draggableId],u=Tn(i.impact),d=Uae(i.impact),f=i.forceShouldAnimate;return r(t(o.x,o.y),i.movementMode,c,s.isClone,u,d,f)}if(i.phase==="DROP_ANIMATING"){var h=i.completed;if(h.result.draggableId!==s.draggableId)return null;var p=s.isClone,m=i.dimensions.draggables[s.draggableId],g=h.result,y=g.mode,x=L8(g),v=$ae(g),b=i.dropDuration,w={duration:b,curve:N2.drop,moveTo:i.newHomeClientOffset,opacity:v?$d.opacity.drop:null,scale:v?$d.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:m,dropping:w,draggingOver:x,combineWith:v,mode:y,forceShouldAnimate:null,snapshot:e(y,p,x,v,w)}}}return null};return n}function B8(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var Hae={mapped:{type:"SECONDARY",offset:xr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:B8(null)}};function Wae(){var t=gr(function(s,o){return{x:s,y:o}}),e=gr(B8),r=gr(function(s,o,c){return o===void 0&&(o=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:o,shouldAnimateDisplacement:c,snapshot:e(o)}}}),n=function(o){return o?r(xr,o,!0):null},a=function(o,c,u,d){var f=u.displaced.visible[o],h=!!(d.inVirtualList&&d.effected[o]),p=Am(u),m=p&&p.draggableId===o?c:null;if(!f){if(!h)return n(m);if(u.displaced.invisible[o])return null;var g=Bc(d.displacedBy.point),y=t(g.x,g.y);return r(y,m,!0)}if(h)return n(m);var x=u.displacedBy.point,v=t(x.x,x.y);return r(v,m,f.shouldAnimate)},i=function(o,c){if(o.isDragging)return o.critical.draggable.id===c.draggableId?null:a(c.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){var u=o.completed;return u.result.draggableId===c.draggableId?null:a(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var Vae=function(){var e=zae(),r=Wae(),n=function(i,s){return e(i,s)||r(i,s)||Hae};return n},Gae={dropAnimationFinished:v8},Xae=UT(Vae,Gae,null,{context:T2,pure:!0,areStatePropsEqual:M8})(Fae);function F8(t){var e=fp(D2),r=e.isUsingCloneFor;return r===t.draggableId&&!t.isClone?null:ne.createElement(Xae,t)}function qae(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,r=!!t.disableInteractiveElementBlocking,n=!!t.shouldRespectForcePress;return ne.createElement(F8,Ce({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function Yae(t){var e=_.useContext(Dm);e||he();var r=e.contextId,n=e.isMovementAllowed,a=_.useRef(null),i=_.useRef(null),s=t.children,o=t.droppableId,c=t.type,u=t.mode,d=t.direction,f=t.ignoreContainerClipping,h=t.isDropDisabled,p=t.isCombineEnabled,m=t.snapshot,g=t.useClone,y=t.updateViewportMaxScroll,x=t.getContainerForClone,v=Ne(function(){return a.current},[]),b=Ne(function(L){a.current=L},[]);Ne(function(){return i.current},[]);var w=Ne(function(L){i.current=L},[]),S=Ne(function(){n()&&y({maxScroll:_8()})},[n,y]);Nae({droppableId:o,type:c,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:v});var E=ne.createElement(Aae,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(L){var C=L.onClose,A=L.data,N=L.animate;return ne.createElement(jae,{placeholder:A,onClose:C,innerRef:w,animate:N,contextId:r,onTransitionEnd:S})}),j=Ke(function(){return{innerRef:b,placeholder:E,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":r}}},[r,o,E,b]),I=g?g.dragging.draggableId:null,k=Ke(function(){return{droppableId:o,type:c,isUsingCloneFor:I}},[o,I,c]);function T(){if(!g)return null;var L=g.dragging,C=g.render,A=ne.createElement(F8,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(N,O){return C(N,O,L)});return EP.createPortal(A,x())}return ne.createElement(D2.Provider,{value:k},s(j,m),T())}var Mv=function(e,r){return e===r.droppable.type},S4=function(e,r){return r.draggables[e.draggable.id]},Kae=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=Ce({},e,{shouldAnimatePlaceholder:!1}),n=gr(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),a=gr(function(s,o,c,u,d,f){var h=d.descriptor.id,p=d.descriptor.droppableId===s;if(p){var m=f?{render:f,dragging:n(d.descriptor)}:null,g={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:m}}if(!o)return r;if(!u)return e;var y={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}}),i=function(o,c){var u=c.droppableId,d=c.type,f=!c.isDropDisabled,h=c.renderClone;if(o.isDragging){var p=o.critical;if(!Mv(d,p))return r;var m=S4(p,o.dimensions),g=Tn(o.impact)===u;return a(u,f,g,g,m,h)}if(o.phase==="DROP_ANIMATING"){var y=o.completed;if(!Mv(d,y.critical))return r;var x=S4(y.critical,o.dimensions);return a(u,f,L8(y.result)===u,Tn(y.impact)===u,x,h)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){var v=o.completed;if(!Mv(d,v.critical))return r;var b=Tn(v.impact)===u,w=!!(v.impact.at&&v.impact.at.type==="COMBINE"),S=v.critical.droppable.id===u;return b?w?e:r:S?e:r}return r};return i},Zae={updateViewportMaxScroll:ire};function Qae(){return document.body||he(),document.body}var Jae={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Qae},$8=UT(Kae,Zae,null,{context:T2,pure:!0,areStatePropsEqual:M8})(Yae);$8.defaultProps=Jae;const Lv=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),eie=()=>{const[t,e]=_.useState([]),[r,n]=_.useState({email:"",phone:"",address:"",workingHours:"",socialLinks:{telegram:"",instagram:"",youtube:""}}),[a,i]=_.useState({alignment:"center",style:"classic",spacing:"normal",height:"compact",showBorder:!0,showShadow:!0,backgroundColor:"white",animation:"slide",mobileCollapse:!0,showIcons:!1,showBadges:!0,stickyHeader:!0,maxWidth:"container"}),[s,o]=_.useState(!0),[c,u]=_.useState(!1),[d,f]=_.useState(null),[h,p]=_.useState("navigation"),[m,g]=_.useState(null),[y,x]=_.useState({label:"",path:"",badge:""}),[v,b]=_.useState(!1);_.useEffect(()=>{w()},[]);const w=async()=>{try{o(!0);const{data:C,error:A}=await Lv.from("site_settings").select("*").limit(1).single();if(A&&A.code!=="PGRST116")throw console.error("Fetch error:",A),A;if(C){console.log("Loaded settings:",C),f(C.id);const N=(C.navigation_items||[]).map((O,$)=>({...O,order:O.order!==void 0?O.order:$})).sort((O,$)=>O.order-$.order);e(N),n({...r,...C.footer_settings||{}}),i({...a,...C.topbar_settings||{}})}else{console.log("Creating new settings record");const N={navigation_items:[],footer_settings:r,topbar_settings:a},{data:O,error:$}=await Lv.from("site_settings").insert([N]).select("*").single();if($)throw console.error("Insert error:",$),$;console.log("Created new settings:",O),f(O.id)}}catch(C){console.error("Error fetching settings:",C),K.error("   : "+C.message)}finally{o(!1)}},S=C=>{if(!C.destination)return;const A=Array.from(t),[N]=A.splice(C.source.index,1);A.splice(C.destination.index,0,N);const O=A.map(($,D)=>({...$,order:D}));e(O)},E=C=>{e(A=>A.map(N=>N.id===C?{...N,visible:!N.visible}:N))},j=(C,A,N)=>{e(O=>O.map($=>$.id===C?{...$,[A]:N}:$))},I=()=>{if(!y.label||!y.path){K.error("   ");return}const A={id:y.label.toLowerCase().replace(/\s+/g,"-"),label:y.label,path:y.path,visible:!0,order:t.length,badge:y.badge?parseInt(y.badge):void 0};e(N=>[...N,A]),x({label:"",path:"",badge:""}),b(!1),K.success("  ")},k=C=>{confirm("  ?")&&(e(A=>A.filter(N=>N.id!==C)),K.success("  "))},T=()=>{i({alignment:"center",style:"classic",spacing:"normal",height:"compact",showBorder:!0,showShadow:!0,backgroundColor:"white",animation:"slide",mobileCollapse:!0,showIcons:!1,showBadges:!0,stickyHeader:!0,maxWidth:"container"}),K.info("      ")},L=async()=>{try{if(!d){K.error("ID   ");return}u(!0),console.log("Saving settings...",{navigation_items:t,footer_settings:r,topbar_settings:a});const{data:C,error:A}=await Lv.from("site_settings").update({navigation_items:t,footer_settings:r,topbar_settings:a}).eq("id",d).select();if(A)throw console.error("Save error:",A),A;console.log("Settings saved successfully:",C),K.success(" ")}catch(C){console.error("Error saving settings:",C),K.error("  : "+C.message)}finally{u(!1)}};return s?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(mr,{className:"h-8 w-8 animate-spin text-primary-600"}),l.jsx("span",{className:"text-lg text-gray-900 dark:text-white",children:" ..."})]})}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:" "}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:" ,    "})]}),l.jsx("button",{onClick:L,disabled:c,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?l.jsxs(l.Fragment,{children:[l.jsx(mr,{className:"h-5 w-5 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ia,{className:"h-5 w-5"})," "]})})]}),l.jsx("div",{className:"border-b border-gray-200 dark:border-gray-600",children:l.jsx("nav",{className:"flex space-x-8",children:[{id:"navigation",label:"",icon:Ng},{id:"topbar",label:"",icon:Wu},{id:"footer",label:"",icon:xk}].map(C=>{const A=C.icon;return l.jsxs("button",{onClick:()=>p(C.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${h===C.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[l.jsx(A,{className:"h-4 w-4"}),C.label]},C.id)})})}),h==="navigation"&&l.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:" "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"    "})]}),l.jsxs("button",{onClick:()=>b(!v),className:"btn btn-outline flex items-center gap-2",children:[l.jsx(ha,{className:"h-4 w-4"})," "]})]}),v&&l.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-dark-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[l.jsx("h4",{className:"font-medium mb-3 text-gray-900 dark:text-white",children:"  "}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" *"}),l.jsx("input",{type:"text",placeholder:": ",value:y.label,onChange:C=>x(A=>({...A,label:C.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" *"}),l.jsx("input",{type:"text",placeholder:": /contacts",value:y.path,onChange:C=>x(A=>({...A,path:C.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" ()"}),l.jsx("input",{type:"number",placeholder:"5",value:y.badge,onChange:C=>x(A=>({...A,badge:C.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsx("button",{onClick:I,className:"btn-primary",children:""}),l.jsx("button",{onClick:()=>b(!1),className:"btn btn-outline",children:""})]})]}),t.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[l.jsx(Ng,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"   "}),l.jsx("p",{className:"text-sm",children:"   "})]}):l.jsx(dae,{onDragEnd:S,children:l.jsx($8,{droppableId:"nav-items",children:C=>l.jsxs("div",{...C.droppableProps,ref:C.innerRef,className:"space-y-3",children:[t.map((A,N)=>l.jsx(qae,{draggableId:A.id,index:N,children:(O,$)=>l.jsxs("div",{ref:O.innerRef,...O.draggableProps,className:`flex items-center justify-between p-4 bg-gray-50 dark:bg-dark-700 rounded-lg border transition-all ${$.isDragging?"border-primary-300 shadow-lg bg-white dark:bg-dark-600":"border-gray-200 dark:border-gray-600"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx("span",{...O.dragHandleProps,className:"cursor-grab active:cursor-grabbing",children:l.jsx(zM,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})}),l.jsx("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-3",children:m===A.id?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:A.label,onChange:D=>j(A.id,"label",D.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white text-sm",placeholder:""}),l.jsx("input",{type:"text",value:A.path,onChange:D=>j(A.id,"path",D.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white text-sm",placeholder:""}),l.jsx("input",{type:"number",value:A.badge||"",onChange:D=>j(A.id,"badge",D.target.value?parseInt(D.target.value):void 0),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white text-sm",placeholder:""})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:A.label}),!A.visible&&l.jsx("span",{className:"ml-2 text-xs text-gray-500 bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded",children:""})]}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:A.path}),l.jsxs("div",{className:"flex items-center gap-2",children:[A.badge&&l.jsxs("span",{className:"text-xs bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200 px-2 py-1 rounded-full",children:[": ",A.badge]}),l.jsxs("span",{className:"text-xs text-gray-400",children:["#",N+1]})]})]})})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[m===A.id?l.jsx("button",{onClick:()=>g(null),className:"p-2 text-primary-600 hover:bg-primary-100 dark:hover:bg-primary-900/20 rounded-md transition-colors",title:" ",children:l.jsx(Ia,{className:"h-4 w-4"})}):l.jsx("button",{onClick:()=>g(A.id),className:"p-2 text-primary-600 hover:bg-primary-100 dark:hover:bg-primary-900/20 rounded-md transition-colors",title:"",children:l.jsx(KM,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>E(A.id),className:`p-2 rounded-md transition-colors ${A.visible?"text-primary-600 hover:bg-primary-100 dark:hover:bg-primary-900/20":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600"}`,title:A.visible?" ":" ",children:A.visible?l.jsx(Qd,{className:"h-4 w-4"}):l.jsx($M,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>k(A.id),className:"p-2 text-primary-600 hover:bg-primary-100 dark:hover:bg-primary-900/20 rounded-md transition-colors",title:" ",children:l.jsx(Pn,{className:"h-4 w-4"})})]})]})},A.id)),C.placeholder]})})})]})}),h==="topbar"&&l.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:" "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"      "})]}),l.jsxs("button",{onClick:T,className:"btn btn-outline flex items-center gap-2",children:[l.jsx(ZM,{className:"h-4 w-4"}),""]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[l.jsx(Ng,{className:"h-5 w-5 text-primary-600"}),"  "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("select",{value:a.alignment,onChange:C=>i(A=>({...A,alignment:C.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"left",children:""}),l.jsx("option",{value:"center",children:" "}),l.jsx("option",{value:"right",children:""}),l.jsx("option",{value:"space-between",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("select",{value:a.style,onChange:C=>i(A=>({...A,style:C.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"classic",children:" ( )"}),l.jsx("option",{value:"modern",children:""}),l.jsx("option",{value:"minimal",children:""}),l.jsx("option",{value:"rounded",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),l.jsxs("select",{value:a.spacing,onChange:C=>i(A=>({...A,spacing:C.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"compact",children:""}),l.jsx("option",{value:"normal",children:""}),l.jsx("option",{value:"relaxed",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("select",{value:a.height,onChange:C=>i(A=>({...A,height:C.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"compact",children:""}),l.jsx("option",{value:"normal",children:""}),l.jsx("option",{value:"large",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("select",{value:a.maxWidth,onChange:C=>i(A=>({...A,maxWidth:C.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"container",children:" (1280px)"}),l.jsx("option",{value:"screen-xl",children:"  (1536px)"}),l.jsx("option",{value:"full",children:" "})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[l.jsx(YM,{className:"h-5 w-5 text-primary-600"})," "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("select",{value:a.backgroundColor,onChange:C=>i(A=>({...A,backgroundColor:C.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"white",children:""}),l.jsx("option",{value:"transparent",children:""}),l.jsx("option",{value:"blur",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),l.jsxs("select",{value:a.animation,onChange:C=>i(A=>({...A,animation:C.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"none",children:" "}),l.jsx("option",{value:"slide",children:""}),l.jsx("option",{value:"fade",children:""}),l.jsx("option",{value:"bounce",children:""})]})]}),l.jsx("div",{className:"space-y-3",children:[{key:"showBorder",label:" ",desc:"   "},{key:"showShadow",label:" ",desc:"   "},{key:"stickyHeader",label:" ",desc:"    "},{key:"showIcons",label:" ",desc:"    "},{key:"showBadges",label:" ",desc:"   "},{key:"mobileCollapse",label:"  ",desc:"-   "}].map(C=>l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:a[C.key],onChange:A=>i(N=>({...N,[C.key]:A.target.checked})),className:"mt-1"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-900 dark:text-white",children:C.label}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:C.desc})]})]},C.key))})]})]})]}),l.jsxs("div",{className:"mt-8 p-6 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-4 text-gray-900 dark:text-white",children:" "}),l.jsxs("div",{className:`
                border rounded-lg bg-white dark:bg-dark-800 transition-all
                ${a.showBorder?"border-gray-200 dark:border-gray-600":"border-transparent"}
                ${a.showShadow?"shadow-lg":""}
                ${a.backgroundColor==="blur"?"backdrop-blur-sm bg-white/80 dark:bg-dark-800/80":""}
                ${a.backgroundColor==="transparent"?"bg-transparent":""}
              `,children:[l.jsxs("div",{className:"flex items-center justify-between p-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"ScienceHub"}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]})]}),l.jsx("div",{className:`
                  flex items-center p-4
                  ${a.alignment==="left"?"justify-start":""}
                  ${a.alignment==="center"?"justify-center":""}
                  ${a.alignment==="right"?"justify-end":""}
                  ${a.alignment==="space-between"?"justify-between":""}
                  ${a.spacing==="compact"?"gap-2":""}
                  ${a.spacing==="normal"?"gap-4":""}
                  ${a.spacing==="relaxed"?"gap-6":""}
                `,children:t.filter(C=>C.visible).slice(0,4).map((C,A)=>l.jsx("div",{className:`
                        px-3 py-2 text-sm font-medium cursor-pointer transition-all duration-300 relative
                        ${a.style==="classic"?"hover:text-primary-600 border-b-2 border-transparent hover:border-primary-600":""}
                        ${a.style==="modern"?"hover:bg-primary-100 dark:hover:bg-primary-900/20 rounded-lg":""}
                        ${a.style==="minimal"?"hover:opacity-80":""}
                        ${a.style==="rounded"?"hover:bg-primary-100 dark:hover:bg-primary-900/20 rounded-full":""}
                        ${a.animation==="slide"?"hover:transform hover:-translate-y-0.5":""}
                        ${a.animation==="fade"?"hover:opacity-70":""}
                        ${a.animation==="bounce"?"hover:animate-pulse":""}
                        ${A===0&&a.style==="classic"?"text-primary-600 border-b-2 border-primary-600":""}
                      `,children:l.jsxs("div",{className:"flex items-center gap-2",children:[C.label,a.showBadges&&C.badge&&l.jsx("span",{className:"bg-primary-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[18px] h-4 flex items-center justify-center",children:C.badge})]})},C.id))})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"      .     ."})]})]})}),h==="footer"&&l.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:" "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"    "})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[l.jsx(xk,{className:"h-5 w-5 text-primary-600"})," "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Email"}),l.jsx("input",{type:"email",value:r.email,onChange:C=>n(A=>({...A,email:C.target.value})),placeholder:"sciencehubrs@gmail.com",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),l.jsx("input",{type:"tel",value:r.phone,onChange:C=>n(A=>({...A,phone:C.target.value})),placeholder:"+381 629434798",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:""}),l.jsx("input",{type:"text",value:r.address,onChange:C=>n(A=>({...A,address:C.target.value})),placeholder:"Sarajevska 48, Belgrade",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:" "}),l.jsx("input",{type:"text",value:r.workingHours,onChange:C=>n(A=>({...A,workingHours:C.target.value})),placeholder:"-: 9:00-22:00, -: 10:00-20:00",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[l.jsx(e7,{className:"h-5 w-5 text-primary-600"})," "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Telegram"}),l.jsx("input",{type:"url",placeholder:"https://t.me/sciencehub",value:r.socialLinks.telegram,onChange:C=>n(A=>({...A,socialLinks:{...A.socialLinks,telegram:C.target.value}})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Instagram"}),l.jsx("input",{type:"url",placeholder:"https://instagram.com/sciencehub",value:r.socialLinks.instagram,onChange:C=>n(A=>({...A,socialLinks:{...A.socialLinks,instagram:C.target.value}})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"YouTube"}),l.jsx("input",{type:"url",placeholder:"https://youtube.com/sciencehub",value:r.socialLinks.youtube,onChange:C=>n(A=>({...A,socialLinks:{...A.socialLinks,youtube:C.target.value}})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]})]}),l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[l.jsx("h5",{className:"font-medium mb-3 text-gray-900 dark:text-white",children:"  "}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(r.socialLinks).map(([C,A])=>{if(!A)return null;const N={telegram:"Telegram",instagram:"Instagram",youtube:"YouTube"};return l.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1 bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300 rounded-full text-sm hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors",children:[N[C],l.jsx("span",{className:"text-xs",children:""})]},C)})}),Object.values(r.socialLinks).every(C=>!C)&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]})]})]}),l.jsxs("div",{className:"mt-8 p-6 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-4 text-gray-900 dark:text-white",children:"  "}),l.jsx("div",{className:"bg-dark-900 text-white p-6 rounded-lg",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold mb-3",children:""}),l.jsxs("div",{className:"space-y-2 text-sm",children:[r.email&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:r.email})]}),r.phone&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:r.phone})]}),r.address&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:r.address})]}),r.workingHours&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:r.workingHours})]})]})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold mb-3",children:""}),l.jsx("div",{className:"space-y-1 text-sm",children:t.filter(C=>C.visible).slice(0,5).map(C=>l.jsx("div",{className:"hover:text-primary-400 cursor-pointer",children:C.label},C.id))})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold mb-3",children:"  "}),l.jsx("div",{className:"flex gap-3",children:Object.entries(r.socialLinks).map(([C,A])=>{if(!A)return null;const N={telegram:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/tg-logo-100x100.png",instagram:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/ist-logo-100x100.png",youtube:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/yt_100x100.png"};return l.jsx("img",{src:N[C],alt:C,className:"w-8 h-8 cursor-pointer hover:scale-110 transition-transform"},C)})})]})]})})]})]})})]})};function bh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var U8={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,a,i){function s(u,d){if(!a[u]){if(!n[u]){var f=typeof bh=="function"&&bh;if(!d&&f)return f(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var p=a[u]={exports:{}};n[u][0].call(p.exports,function(m){var g=n[u][1][m];return s(g||m)},p,p.exports,r,n,a,i)}return a[u].exports}for(var o=typeof bh=="function"&&bh,c=0;c<i.length;c++)s(i[c]);return s}({1:[function(r,n,a){var i=r("./utils"),s=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(c){for(var u,d,f,h,p,m,g,y=[],x=0,v=c.length,b=v,w=i.getTypeOf(c)!=="string";x<c.length;)b=v-x,f=w?(u=c[x++],d=x<v?c[x++]:0,x<v?c[x++]:0):(u=c.charCodeAt(x++),d=x<v?c.charCodeAt(x++):0,x<v?c.charCodeAt(x++):0),h=u>>2,p=(3&u)<<4|d>>4,m=1<b?(15&d)<<2|f>>6:64,g=2<b?63&f:64,y.push(o.charAt(h)+o.charAt(p)+o.charAt(m)+o.charAt(g));return y.join("")},a.decode=function(c){var u,d,f,h,p,m,g=0,y=0,x="data:";if(c.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var v,b=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&b--,c.charAt(c.length-2)===o.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|b):new Array(0|b);g<c.length;)u=o.indexOf(c.charAt(g++))<<2|(h=o.indexOf(c.charAt(g++)))>>4,d=(15&h)<<4|(p=o.indexOf(c.charAt(g++)))>>2,f=(3&p)<<6|(m=o.indexOf(c.charAt(g++))),v[y++]=u,p!==64&&(v[y++]=d),m!==64&&(v[y++]=f);return v}},{"./support":30,"./utils":32}],2:[function(r,n,a){var i=r("./external"),s=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function u(d,f,h,p,m){this.compressedSize=d,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=m}u.prototype={getContentWorker:function(){var d=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return d.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,f,h){return d.pipe(new o).pipe(new c("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,a){var i=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,a){var i=r("./utils"),s=function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c}();n.exports=function(o,c){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(u,d,f,h){var p=s,m=h+f;u^=-1;for(var g=h;g<m;g++)u=u>>>8^p[255&(u^d[g])];return-1^u}(0|c,o,o.length,0):function(u,d,f,h){var p=s,m=h+f;u^=-1;for(var g=h;g<m;g++)u=u>>>8^p[255&(u^d.charCodeAt(g))];return-1^u}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,n,a){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),o=r("./utils"),c=r("./stream/GenericWorker"),u=i?"uint8array":"array";function d(f,h){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}a.magic="\b\0",o.inherits(d,c),d.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},a.compressWorker=function(f){return new d("Deflate",f)},a.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,a){function i(p,m){var g,y="";for(g=0;g<m;g++)y+=String.fromCharCode(255&p),p>>>=8;return y}function s(p,m,g,y,x,v){var b,w,S=p.file,E=p.compression,j=v!==u.utf8encode,I=o.transformTo("string",v(S.name)),k=o.transformTo("string",u.utf8encode(S.name)),T=S.comment,L=o.transformTo("string",v(T)),C=o.transformTo("string",u.utf8encode(T)),A=k.length!==S.name.length,N=C.length!==T.length,O="",$="",D="",R=S.dir,M=S.date,F={crc32:0,compressedSize:0,uncompressedSize:0};m&&!g||(F.crc32=p.crc32,F.compressedSize=p.compressedSize,F.uncompressedSize=p.uncompressedSize);var B=0;m&&(B|=8),j||!A&&!N||(B|=2048);var U=0,q=0;R&&(U|=16),x==="UNIX"?(q=798,U|=function(V,re){var oe=V;return V||(oe=re?16893:33204),(65535&oe)<<16}(S.unixPermissions,R)):(q=20,U|=function(V){return 63&(V||0)}(S.dosPermissions)),b=M.getUTCHours(),b<<=6,b|=M.getUTCMinutes(),b<<=5,b|=M.getUTCSeconds()/2,w=M.getUTCFullYear()-1980,w<<=4,w|=M.getUTCMonth()+1,w<<=5,w|=M.getUTCDate(),A&&($=i(1,1)+i(d(I),4)+k,O+="up"+i($.length,2)+$),N&&(D=i(1,1)+i(d(L),4)+C,O+="uc"+i(D.length,2)+D);var ee="";return ee+=`
\0`,ee+=i(B,2),ee+=E.magic,ee+=i(b,2),ee+=i(w,2),ee+=i(F.crc32,4),ee+=i(F.compressedSize,4),ee+=i(F.uncompressedSize,4),ee+=i(I.length,2),ee+=i(O.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ee+I+O,dirRecord:f.CENTRAL_FILE_HEADER+i(q,2)+ee+i(L.length,2)+"\0\0\0\0"+i(U,4)+i(y,4)+I+O+L}}var o=r("../utils"),c=r("../stream/GenericWorker"),u=r("../utf8"),d=r("../crc32"),f=r("../signature");function h(p,m,g,y){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,c),h.prototype.push=function(p){var m=p.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(m+100*(g-y-1))/g:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var m=this.streamFiles&&!p.file.dir;if(m){var g=s(p,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var m=this.streamFiles&&!p.file.dir,g=s(p,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),m)this.push({data:function(y){return f.DATA_DESCRIPTOR+i(y.crc32,4)+i(y.compressedSize,4)+i(y.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var g=this.bytesWritten-p,y=function(x,v,b,w,S){var E=o.transformTo("string",S(w));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(x,2)+i(x,2)+i(v,4)+i(b,4)+i(E.length,2)+E}(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var m=this;return p.on("data",function(g){m.processChunk(g)}),p.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),p.on("error",function(g){m.error(g)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var m=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var g=0;g<m.length;g++)try{m[g].error(p)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,m=0;m<p.length;m++)p[m].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,a){var i=r("../compressions"),s=r("./ZipFileWorker");a.generateWorker=function(o,c,u){var d=new s(c.streamFiles,u,c.platform,c.encodeFileName),f=0;try{o.forEach(function(h,p){f++;var m=function(v,b){var w=v||b,S=i[w];if(!S)throw new Error(w+" is not a valid compression method !");return S}(p.options.compression,c.compression),g=p.options.compressionOptions||c.compressionOptions||{},y=p.dir,x=p.date;p._compressWorker(m,g).withStreamInfo("file",{name:h,dir:y,date:x,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=f}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(s,o){return new i().loadAsync(s,o)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,a){var i=r("./utils"),s=r("./external"),o=r("./utf8"),c=r("./zipEntries"),u=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function f(h){return new s.Promise(function(p,m){var g=h.decompressed.getContentWorker().pipe(new u);g.on("error",function(y){m(y)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(h,p){var m=this;return p=i.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(g){var y=new c(p);return y.load(g),y}).then(function(g){var y=[s.Promise.resolve(g)],x=g.files;if(p.checkCRC32)for(var v=0;v<x.length;v++)y.push(f(x[v]));return s.Promise.all(y)}).then(function(g){for(var y=g.shift(),x=y.files,v=0;v<x.length;v++){var b=x[v],w=b.fileNameStr,S=i.resolve(b.fileNameStr);m.file(S,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:p.createFolders}),b.dir||(m.file(S).unsafeOriginalName=w)}return y.zipComment.length&&(m.comment=y.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,a){var i=r("../utils"),s=r("../stream/GenericWorker");function o(c,u){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(o,s),o.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,a){var i=r("readable-stream").Readable;function s(o,c,u){i.call(this,c),this._helper=o;var d=this;o.on("data",function(f,h){d.push(f)||d._helper.pause(),u&&u(h)}).on("error",function(f){d.emit("error",f)}).on("end",function(){d.push(null)})}r("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,a){function i(S,E,j){var I,k=o.getTypeOf(E),T=o.extend(j||{},d);T.date=T.date||new Date,T.compression!==null&&(T.compression=T.compression.toUpperCase()),typeof T.unixPermissions=="string"&&(T.unixPermissions=parseInt(T.unixPermissions,8)),T.unixPermissions&&16384&T.unixPermissions&&(T.dir=!0),T.dosPermissions&&16&T.dosPermissions&&(T.dir=!0),T.dir&&(S=x(S)),T.createFolders&&(I=y(S))&&v.call(this,I,!0);var L=k==="string"&&T.binary===!1&&T.base64===!1;j&&j.binary!==void 0||(T.binary=!L),(E instanceof f&&E.uncompressedSize===0||T.dir||!E||E.length===0)&&(T.base64=!1,T.binary=!0,E="",T.compression="STORE",k="string");var C=null;C=E instanceof f||E instanceof c?E:m.isNode&&m.isStream(E)?new g(S,E):o.prepareContent(S,E,T.binary,T.optimizedBinaryString,T.base64);var A=new h(S,C,T);this.files[S]=A}var s=r("./utf8"),o=r("./utils"),c=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),d=r("./defaults"),f=r("./compressedObject"),h=r("./zipObject"),p=r("./generate"),m=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var E=S.lastIndexOf("/");return 0<E?S.substring(0,E):""},x=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},v=function(S,E){return E=E!==void 0?E:d.createFolders,S=x(S),this.files[S]||i.call(this,S,null,{dir:!0,createFolders:E}),this.files[S]};function b(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var E,j,I;for(E in this.files)I=this.files[E],(j=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&S(j,I)},filter:function(S){var E=[];return this.forEach(function(j,I){S(j,I)&&E.push(I)}),E},file:function(S,E,j){if(arguments.length!==1)return S=this.root+S,i.call(this,S,E,j),this;if(b(S)){var I=S;return this.filter(function(T,L){return!L.dir&&I.test(T)})}var k=this.files[this.root+S];return k&&!k.dir?k:null},folder:function(S){if(!S)return this;if(b(S))return this.filter(function(k,T){return T.dir&&S.test(k)});var E=this.root+S,j=v.call(this,E),I=this.clone();return I.root=j.name,I},remove:function(S){S=this.root+S;var E=this.files[S];if(E||(S.slice(-1)!=="/"&&(S+="/"),E=this.files[S]),E&&!E.dir)delete this.files[S];else for(var j=this.filter(function(k,T){return T.name.slice(0,S.length)===S}),I=0;I<j.length;I++)delete this.files[j[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var E,j={};try{if((j=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");o.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var I=j.comment||this.comment||"";E=p.generateWorker(this,j,I)}catch(k){(E=new c("error")).error(k)}return new u(E,j.type||"string",j.mimeType)},generateAsync:function(S,E){return this.generateInternalStream(S).accumulate(E)},generateNodeStream:function(S,E){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(E)}};n.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,a){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,a){var i=r("./DataReader");function s(o){i.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}r("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),f=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===u&&this.data[h+2]===d&&this.data[h+3]===f)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),f=o.charCodeAt(3),h=this.readData(4);return c===h[0]&&u===h[1]&&d===h[2]&&f===h[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,n,a){var i=r("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,u=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=o,u},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=s},{"../utils":32}],19:[function(r,n,a){var i=r("./Uint8ArrayReader");function s(o){i.call(this,o)}r("../utils").inherits(s,i),s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,a){var i=r("./DataReader");function s(o){i.call(this,o)}r("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,n,a){var i=r("./ArrayReader");function s(o){i.call(this,o)}r("../utils").inherits(s,i),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,a){var i=r("../utils"),s=r("../support"),o=r("./ArrayReader"),c=r("./StringReader"),u=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(f){var h=i.getTypeOf(f);return i.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new u(f):s.uint8array?new d(i.transformTo("uint8array",f)):new o(i.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,a){var i=r("./GenericWorker"),s=r("../utils");function o(c){i.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(o,i),o.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,a){var i=r("./GenericWorker"),s=r("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,i),o.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,a){var i=r("../utils"),s=r("./GenericWorker");function o(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(o,s),o.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}s.prototype.processChunk.call(this,c)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,a){var i=r("../utils"),s=r("./GenericWorker");function o(c){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=i.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}i.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,a){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(c){o.processChunk(c)}),s.on("end",function(){o.end()}),s.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=i},{}],29:[function(r,n,a){var i=r("../utils"),s=r("./ConvertWorker"),o=r("./GenericWorker"),c=r("../base64"),u=r("../support"),d=r("../external"),f=null;if(u.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(m,g){return new d.Promise(function(y,x){var v=[],b=m._internalType,w=m._outputType,S=m._mimeType;m.on("data",function(E,j){v.push(E),g&&g(j)}).on("error",function(E){v=[],x(E)}).on("end",function(){try{var E=function(j,I,k){switch(j){case"blob":return i.newBlob(i.transformTo("arraybuffer",I),k);case"base64":return c.encode(I);default:return i.transformTo(j,I)}}(w,function(j,I){var k,T=0,L=null,C=0;for(k=0;k<I.length;k++)C+=I[k].length;switch(j){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(L=new Uint8Array(C),k=0;k<I.length;k++)L.set(I[k],T),T+=I[k].length;return L;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+j+"'")}}(b,v),S);y(E)}catch(j){x(j)}v=[]}).resume()})}function p(m,g,y){var x=g;switch(g){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=g,this._mimeType=y,i.checkSupport(x),this._worker=m.pipe(new s(x)),m.lock()}catch(v){this._worker=new o("error"),this._worker.error(v)}}p.prototype={accumulate:function(m){return h(this,m)},on:function(m,g){var y=this;return m==="data"?this._worker.on(m,function(x){g.call(y,x.data,x.meta)}):this._worker.on(m,function(){i.delay(g,arguments,y)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},m)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,a){for(var i=r("./utils"),s=r("./support"),o=r("./nodejsUtils"),c=r("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}a.utf8encode=function(p){return s.nodebuffer?o.newBufferFrom(p,"utf-8"):function(m){var g,y,x,v,b,w=m.length,S=0;for(v=0;v<w;v++)(64512&(y=m.charCodeAt(v)))==55296&&v+1<w&&(64512&(x=m.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(x-56320),v++),S+=y<128?1:y<2048?2:y<65536?3:4;for(g=s.uint8array?new Uint8Array(S):new Array(S),v=b=0;b<S;v++)(64512&(y=m.charCodeAt(v)))==55296&&v+1<w&&(64512&(x=m.charCodeAt(v+1)))==56320&&(y=65536+(y-55296<<10)+(x-56320),v++),y<128?g[b++]=y:(y<2048?g[b++]=192|y>>>6:(y<65536?g[b++]=224|y>>>12:(g[b++]=240|y>>>18,g[b++]=128|y>>>12&63),g[b++]=128|y>>>6&63),g[b++]=128|63&y);return g}(p)},a.utf8decode=function(p){return s.nodebuffer?i.transformTo("nodebuffer",p).toString("utf-8"):function(m){var g,y,x,v,b=m.length,w=new Array(2*b);for(g=y=0;g<b;)if((x=m[g++])<128)w[y++]=x;else if(4<(v=u[x]))w[y++]=65533,g+=v-1;else{for(x&=v===2?31:v===3?15:7;1<v&&g<b;)x=x<<6|63&m[g++],v--;1<v?w[y++]=65533:x<65536?w[y++]=x:(x-=65536,w[y++]=55296|x>>10&1023,w[y++]=56320|1023&x)}return w.length!==y&&(w.subarray?w=w.subarray(0,y):w.length=y),i.applyFromCharCode(w)}(p=i.transformTo(s.uint8array?"uint8array":"array",p))},i.inherits(f,c),f.prototype.processChunk=function(p){var m=i.transformTo(s.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=m;(m=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),m.set(g,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var y=function(v,b){var w;for((b=b||v.length)>v.length&&(b=v.length),w=b-1;0<=w&&(192&v[w])==128;)w--;return w<0||w===0?b:w+u[v[w]]>b?w:b}(m),x=m;y!==m.length&&(s.uint8array?(x=m.subarray(0,y),this.leftOver=m.subarray(y,m.length)):(x=m.slice(0,y),this.leftOver=m.slice(y,m.length))),this.push({data:a.utf8decode(x),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=f,i.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:a.utf8encode(p.data),meta:p.meta})},a.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,a){var i=r("./support"),s=r("./base64"),o=r("./nodejsUtils"),c=r("./external");function u(g){return g}function d(g,y){for(var x=0;x<g.length;++x)y[x]=255&g.charCodeAt(x);return y}r("setimmediate"),a.newBlob=function(g,y){a.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(g),x.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,y,x){var v=[],b=0,w=g.length;if(w<=x)return String.fromCharCode.apply(null,g);for(;b<w;)y==="array"||y==="nodebuffer"?v.push(String.fromCharCode.apply(null,g.slice(b,Math.min(b+x,w)))):v.push(String.fromCharCode.apply(null,g.subarray(b,Math.min(b+x,w)))),b+=x;return v.join("")},stringifyByChar:function(g){for(var y="",x=0;x<g.length;x++)y+=String.fromCharCode(g[x]);return y},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function h(g){var y=65536,x=a.getTypeOf(g),v=!0;if(x==="uint8array"?v=f.applyCanBeUsed.uint8array:x==="nodebuffer"&&(v=f.applyCanBeUsed.nodebuffer),v)for(;1<y;)try{return f.stringifyByChunk(g,x,y)}catch{y=Math.floor(y/2)}return f.stringifyByChar(g)}function p(g,y){for(var x=0;x<g.length;x++)y[x]=g[x];return y}a.applyFromCharCode=h;var m={};m.string={string:u,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return m.string.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:function(g){return d(g,o.allocBuffer(g.length))}},m.array={string:h,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},m.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},m.uint8array={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return o.newBufferFrom(g)}},m.nodebuffer={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return m.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:u},a.transformTo=function(g,y){if(y=y||"",!g)return y;a.checkSupport(g);var x=a.getTypeOf(y);return m[x][g](y)},a.resolve=function(g){for(var y=g.split("/"),x=[],v=0;v<y.length;v++){var b=y[v];b==="."||b===""&&v!==0&&v!==y.length-1||(b===".."?x.pop():x.push(b))}return x.join("/")},a.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(g)?"nodebuffer":i.uint8array&&g instanceof Uint8Array?"uint8array":i.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(g){if(!i[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(g){var y,x,v="";for(x=0;x<(g||"").length;x++)v+="\\x"+((y=g.charCodeAt(x))<16?"0":"")+y.toString(16).toUpperCase();return v},a.delay=function(g,y,x){setImmediate(function(){g.apply(x||null,y||[])})},a.inherits=function(g,y){function x(){}x.prototype=y.prototype,g.prototype=new x},a.extend=function(){var g,y,x={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&x[y]===void 0&&(x[y]=arguments[g][y]);return x},a.prepareContent=function(g,y,x,v,b){return c.Promise.resolve(y).then(function(w){return i.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new c.Promise(function(S,E){var j=new FileReader;j.onload=function(I){S(I.target.result)},j.onerror=function(I){E(I.target.error)},j.readAsArrayBuffer(w)}):w}).then(function(w){var S=a.getTypeOf(w);return S?(S==="arraybuffer"?w=a.transformTo("uint8array",w):S==="string"&&(b?w=s.decode(w):x&&v!==!0&&(w=function(E){return d(E,i.uint8array?new Uint8Array(E.length):new Array(E.length))}(w))),w):c.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,a){var i=r("./reader/readerFor"),s=r("./utils"),o=r("./signature"),c=r("./zipEntry"),u=r("./support");function d(f){this.files=[],this.loadOptions=f}d.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var m=this.reader.readString(4)===h;return this.reader.setIndex(p),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",p=s.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,m=this.zip64EndOfCentralSize-44;0<m;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var m=h-p;if(0<m)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,a){var i=r("./reader/readerFor"),s=r("./utils"),o=r("./compressedObject"),c=r("./crc32"),u=r("./utf8"),d=r("./compressions"),f=r("./support");function h(p,m){this.options=p,this.loadOptions=m}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var m,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(y){for(var x in d)if(Object.prototype.hasOwnProperty.call(d,x)&&d[x].magic===y)return d[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,m,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var m=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(m),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var m,g,y,x=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<x;)m=p.readInt(2),g=p.readInt(2),y=p.readData(g),this.extraFields[m]={id:m,length:g,value:y};p.setIndex(x)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var g=s.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var x=s.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var m=i(p.value);return m.readInt(1)!==1||c(this.fileName)!==m.readInt(4)?null:u.utf8decode(m.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var m=i(p.value);return m.readInt(1)!==1||c(this.fileComment)!==m.readInt(4)?null:u.utf8decode(m.readData(p.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,a){function i(m,g,y){this.name=m,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var s=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),c=r("./utf8"),u=r("./compressedObject"),d=r("./stream/GenericWorker");i.prototype={internalStream:function(m){var g=null,y="string";try{if(!m)throw new Error("No output type specified.");var x=(y=m.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var v=!this._dataBinary;v&&!x&&(g=g.pipe(new c.Utf8EncodeWorker)),!v&&x&&(g=g.pipe(new c.Utf8DecodeWorker))}catch(b){(g=new d("error")).error(b)}return new s(g,y,"")},async:function(m,g){return this.internalStream(m).accumulate(g)},nodeStream:function(m,g){return this.internalStream(m||"nodebuffer").toNodejsStream(g)},_compressWorker:function(m,g){if(this._data instanceof u&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(y,m,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)i.prototype[f[p]]=h;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,a){(function(i){var s,o,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var u=0,d=new c(m),f=i.document.createTextNode("");d.observe(f,{characterData:!0}),s=function(){f.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var g=i.document.createElement("script");g.onreadystatechange=function(){m(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},i.document.documentElement.appendChild(g)}:function(){setTimeout(m,0)};else{var h=new i.MessageChannel;h.port1.onmessage=m,s=function(){h.port2.postMessage(0)}}var p=[];function m(){var g,y;o=!0;for(var x=p.length;x;){for(y=p,p=[],g=-1;++g<x;)y[g]();x=p.length}o=!1}n.exports=function(g){p.push(g)!==1||o||s()}}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,a){var i=r("immediate");function s(){}var o={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,x!==s&&g(this,x)}function h(x,v,b){this.promise=x,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function p(x,v,b){i(function(){var w;try{w=v(b)}catch(S){return o.reject(x,S)}w===x?o.reject(x,new TypeError("Cannot resolve promise with itself")):o.resolve(x,w)})}function m(x){var v=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof v=="function")return function(){v.apply(x,arguments)}}function g(x,v){var b=!1;function w(j){b||(b=!0,o.reject(x,j))}function S(j){b||(b=!0,o.resolve(x,j))}var E=y(function(){v(S,w)});E.status==="error"&&w(E.value)}function y(x,v){var b={};try{b.value=x(v),b.status="success"}catch(w){b.status="error",b.value=w}return b}(n.exports=f).prototype.finally=function(x){if(typeof x!="function")return this;var v=this.constructor;return this.then(function(b){return v.resolve(x()).then(function(){return b})},function(b){return v.resolve(x()).then(function(){throw b})})},f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,v){if(typeof x!="function"&&this.state===u||typeof v!="function"&&this.state===c)return this;var b=new this.constructor(s);return this.state!==d?p(b,this.state===u?x:v,this.outcome):this.queue.push(new h(b,x,v)),b},h.prototype.callFulfilled=function(x){o.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){o.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)},o.resolve=function(x,v){var b=y(m,v);if(b.status==="error")return o.reject(x,b.value);var w=b.value;if(w)g(x,w);else{x.state=u,x.outcome=v;for(var S=-1,E=x.queue.length;++S<E;)x.queue[S].callFulfilled(v)}return x},o.reject=function(x,v){x.state=c,x.outcome=v;for(var b=-1,w=x.queue.length;++b<w;)x.queue[b].callRejected(v);return x},f.resolve=function(x){return x instanceof this?x:o.resolve(new this(s),x)},f.reject=function(x){var v=new this(s);return o.reject(v,x)},f.all=function(x){var v=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=x.length,w=!1;if(!b)return this.resolve([]);for(var S=new Array(b),E=0,j=-1,I=new this(s);++j<b;)k(x[j],j);return I;function k(T,L){v.resolve(T).then(function(C){S[L]=C,++E!==b||w||(w=!0,o.resolve(I,S))},function(C){w||(w=!0,o.reject(I,C))})}},f.race=function(x){var v=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=x.length,w=!1;if(!b)return this.resolve([]);for(var S=-1,E=new this(s);++S<b;)j=x[S],v.resolve(j).then(function(I){w||(w=!0,o.resolve(E,I))},function(I){w||(w=!0,o.reject(E,I))});var j;return E}},{immediate:36}],38:[function(r,n,a){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,a){var i=r("./zlib/deflate"),s=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/messages"),u=r("./zlib/zstream"),d=Object.prototype.toString,f=0,h=-1,p=0,m=8;function g(x){if(!(this instanceof g))return new g(x);this.options=s.assign({level:h,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},x||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(b!==f)throw new Error(c[b]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var w;if(w=typeof v.dictionary=="string"?o.string2buf(v.dictionary):d.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(b=i.deflateSetDictionary(this.strm,w))!==f)throw new Error(c[b]);this._dict_set=!0}}function y(x,v){var b=new g(v);if(b.push(x,!0),b.err)throw b.msg||c[b.err];return b.result}g.prototype.push=function(x,v){var b,w,S=this.strm,E=this.options.chunkSize;if(this.ended)return!1;w=v===~~v?v:v===!0?4:0,typeof x=="string"?S.input=o.string2buf(x):d.call(x)==="[object ArrayBuffer]"?S.input=new Uint8Array(x):S.input=x,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new s.Buf8(E),S.next_out=0,S.avail_out=E),(b=i.deflate(S,w))!==1&&b!==f)return this.onEnd(b),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(S.output,S.next_out))):this.onData(s.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&b!==1);return w===4?(b=i.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===f):w!==2||(this.onEnd(f),!(S.avail_out=0))},g.prototype.onData=function(x){this.chunks.push(x)},g.prototype.onEnd=function(x){x===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},a.Deflate=g,a.deflate=y,a.deflateRaw=function(x,v){return(v=v||{}).raw=!0,y(x,v)},a.gzip=function(x,v){return(v=v||{}).gzip=!0,y(x,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,a){var i=r("./zlib/inflate"),s=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/constants"),u=r("./zlib/messages"),d=r("./zlib/zstream"),f=r("./zlib/gzheader"),h=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var x=i.inflateInit2(this.strm,y.windowBits);if(x!==c.Z_OK)throw new Error(u[x]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function m(g,y){var x=new p(y);if(x.push(g,!0),x.err)throw x.msg||u[x.err];return x.result}p.prototype.push=function(g,y){var x,v,b,w,S,E,j=this.strm,I=this.options.chunkSize,k=this.options.dictionary,T=!1;if(this.ended)return!1;v=y===~~y?y:y===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof g=="string"?j.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?j.input=new Uint8Array(g):j.input=g,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new s.Buf8(I),j.next_out=0,j.avail_out=I),(x=i.inflate(j,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&k&&(E=typeof k=="string"?o.string2buf(k):h.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,x=i.inflateSetDictionary(this.strm,E)),x===c.Z_BUF_ERROR&&T===!0&&(x=c.Z_OK,T=!1),x!==c.Z_STREAM_END&&x!==c.Z_OK)return this.onEnd(x),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&x!==c.Z_STREAM_END&&(j.avail_in!==0||v!==c.Z_FINISH&&v!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=o.utf8border(j.output,j.next_out),w=j.next_out-b,S=o.buf2string(j.output,b),j.next_out=w,j.avail_out=I-w,w&&s.arraySet(j.output,j.output,b,w,0),this.onData(S)):this.onData(s.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(T=!0)}while((0<j.avail_in||j.avail_out===0)&&x!==c.Z_STREAM_END);return x===c.Z_STREAM_END&&(v=c.Z_FINISH),v===c.Z_FINISH?(x=i.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===c.Z_OK):v!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(j.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},a.Inflate=p,a.inflate=m,a.inflateRaw=function(g,y){return(y=y||{}).raw=!0,m(g,y)},a.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])}}return c},a.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var s={arraySet:function(c,u,d,f,h){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+f),h);else for(var p=0;p<f;p++)c[h+p]=u[d+p]},flattenChunks:function(c){var u,d,f,h,p,m;for(u=f=0,d=c.length;u<d;u++)f+=c[u].length;for(m=new Uint8Array(f),u=h=0,d=c.length;u<d;u++)p=c[u],m.set(p,h),h+=p.length;return m}},o={arraySet:function(c,u,d,f,h){for(var p=0;p<f;p++)c[h+p]=u[d+p]},flattenChunks:function(c){return[].concat.apply([],c)}};a.setTyped=function(c){c?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(i)},{}],42:[function(r,n,a){var i=r("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(f,h){if(h<65537&&(f.subarray&&o||!f.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(f,h));for(var p="",m=0;m<h;m++)p+=String.fromCharCode(f[m]);return p}c[254]=c[254]=1,a.string2buf=function(f){var h,p,m,g,y,x=f.length,v=0;for(g=0;g<x;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<x&&(64512&(m=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),g++),v+=p<128?1:p<2048?2:p<65536?3:4;for(h=new i.Buf8(v),g=y=0;y<v;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<x&&(64512&(m=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),g++),p<128?h[y++]=p:(p<2048?h[y++]=192|p>>>6:(p<65536?h[y++]=224|p>>>12:(h[y++]=240|p>>>18,h[y++]=128|p>>>12&63),h[y++]=128|p>>>6&63),h[y++]=128|63&p);return h},a.buf2binstring=function(f){return d(f,f.length)},a.binstring2buf=function(f){for(var h=new i.Buf8(f.length),p=0,m=h.length;p<m;p++)h[p]=f.charCodeAt(p);return h},a.buf2string=function(f,h){var p,m,g,y,x=h||f.length,v=new Array(2*x);for(p=m=0;p<x;)if((g=f[p++])<128)v[m++]=g;else if(4<(y=c[g]))v[m++]=65533,p+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&p<x;)g=g<<6|63&f[p++],y--;1<y?v[m++]=65533:g<65536?v[m++]=g:(g-=65536,v[m++]=55296|g>>10&1023,v[m++]=56320|1023&g)}return d(v,m)},a.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+c[f[p]]>h?p:h}},{"./common":41}],43:[function(r,n,a){n.exports=function(i,s,o,c){for(var u=65535&i|0,d=i>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;d=d+(u=u+s[c++]|0)|0,--f;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(r,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,a){var i=function(){for(var s,o=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[c]=s}return o}();n.exports=function(s,o,c,u){var d=i,f=u+c;s^=-1;for(var h=u;h<f;h++)s=s>>>8^d[255&(s^o[h])];return-1^s}},{}],46:[function(r,n,a){var i,s=r("../utils/common"),o=r("./trees"),c=r("./adler32"),u=r("./crc32"),d=r("./messages"),f=0,h=4,p=0,m=-2,g=-1,y=4,x=2,v=8,b=9,w=286,S=30,E=19,j=2*w+1,I=15,k=3,T=258,L=T+k+1,C=42,A=113,N=1,O=2,$=3,D=4;function R(P,Q){return P.msg=d[Q],Q}function M(P){return(P<<1)-(4<P?9:0)}function F(P){for(var Q=P.length;0<=--Q;)P[Q]=0}function B(P){var Q=P.state,X=Q.pending;X>P.avail_out&&(X=P.avail_out),X!==0&&(s.arraySet(P.output,Q.pending_buf,Q.pending_out,X,P.next_out),P.next_out+=X,Q.pending_out+=X,P.total_out+=X,P.avail_out-=X,Q.pending-=X,Q.pending===0&&(Q.pending_out=0))}function U(P,Q){o._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,Q),P.block_start=P.strstart,B(P.strm)}function q(P,Q){P.pending_buf[P.pending++]=Q}function ee(P,Q){P.pending_buf[P.pending++]=Q>>>8&255,P.pending_buf[P.pending++]=255&Q}function V(P,Q){var X,W,H=P.max_chain_length,G=P.strstart,J=P.prev_length,ae=P.nice_match,Z=P.strstart>P.w_size-L?P.strstart-(P.w_size-L):0,ce=P.window,ge=P.w_mask,fe=P.prev,ke=P.strstart+T,We=ce[G+J-1],Re=ce[G+J];P.prev_length>=P.good_match&&(H>>=2),ae>P.lookahead&&(ae=P.lookahead);do if(ce[(X=Q)+J]===Re&&ce[X+J-1]===We&&ce[X]===ce[G]&&ce[++X]===ce[G+1]){G+=2,X++;do;while(ce[++G]===ce[++X]&&ce[++G]===ce[++X]&&ce[++G]===ce[++X]&&ce[++G]===ce[++X]&&ce[++G]===ce[++X]&&ce[++G]===ce[++X]&&ce[++G]===ce[++X]&&ce[++G]===ce[++X]&&G<ke);if(W=T-(ke-G),G=ke-T,J<W){if(P.match_start=Q,ae<=(J=W))break;We=ce[G+J-1],Re=ce[G+J]}}while((Q=fe[Q&ge])>Z&&--H!=0);return J<=P.lookahead?J:P.lookahead}function re(P){var Q,X,W,H,G,J,ae,Z,ce,ge,fe=P.w_size;do{if(H=P.window_size-P.lookahead-P.strstart,P.strstart>=fe+(fe-L)){for(s.arraySet(P.window,P.window,fe,fe,0),P.match_start-=fe,P.strstart-=fe,P.block_start-=fe,Q=X=P.hash_size;W=P.head[--Q],P.head[Q]=fe<=W?W-fe:0,--X;);for(Q=X=fe;W=P.prev[--Q],P.prev[Q]=fe<=W?W-fe:0,--X;);H+=fe}if(P.strm.avail_in===0)break;if(J=P.strm,ae=P.window,Z=P.strstart+P.lookahead,ce=H,ge=void 0,ge=J.avail_in,ce<ge&&(ge=ce),X=ge===0?0:(J.avail_in-=ge,s.arraySet(ae,J.input,J.next_in,ge,Z),J.state.wrap===1?J.adler=c(J.adler,ae,ge,Z):J.state.wrap===2&&(J.adler=u(J.adler,ae,ge,Z)),J.next_in+=ge,J.total_in+=ge,ge),P.lookahead+=X,P.lookahead+P.insert>=k)for(G=P.strstart-P.insert,P.ins_h=P.window[G],P.ins_h=(P.ins_h<<P.hash_shift^P.window[G+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[G+k-1])&P.hash_mask,P.prev[G&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=G,G++,P.insert--,!(P.lookahead+P.insert<k)););}while(P.lookahead<L&&P.strm.avail_in!==0)}function oe(P,Q){for(var X,W;;){if(P.lookahead<L){if(re(P),P.lookahead<L&&Q===f)return N;if(P.lookahead===0)break}if(X=0,P.lookahead>=k&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+k-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),X!==0&&P.strstart-X<=P.w_size-L&&(P.match_length=V(P,X)),P.match_length>=k)if(W=o._tr_tally(P,P.strstart-P.match_start,P.match_length-k),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=k){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+k-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else W=o._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(W&&(U(P,!1),P.strm.avail_out===0))return N}return P.insert=P.strstart<k-1?P.strstart:k-1,Q===h?(U(P,!0),P.strm.avail_out===0?$:D):P.last_lit&&(U(P,!1),P.strm.avail_out===0)?N:O}function ie(P,Q){for(var X,W,H;;){if(P.lookahead<L){if(re(P),P.lookahead<L&&Q===f)return N;if(P.lookahead===0)break}if(X=0,P.lookahead>=k&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+k-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=k-1,X!==0&&P.prev_length<P.max_lazy_match&&P.strstart-X<=P.w_size-L&&(P.match_length=V(P,X),P.match_length<=5&&(P.strategy===1||P.match_length===k&&4096<P.strstart-P.match_start)&&(P.match_length=k-1)),P.prev_length>=k&&P.match_length<=P.prev_length){for(H=P.strstart+P.lookahead-k,W=o._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-k),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=H&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+k-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=k-1,P.strstart++,W&&(U(P,!1),P.strm.avail_out===0))return N}else if(P.match_available){if((W=o._tr_tally(P,0,P.window[P.strstart-1]))&&U(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return N}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(W=o._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<k-1?P.strstart:k-1,Q===h?(U(P,!0),P.strm.avail_out===0?$:D):P.last_lit&&(U(P,!1),P.strm.avail_out===0)?N:O}function se(P,Q,X,W,H){this.good_length=P,this.max_lazy=Q,this.nice_length=X,this.max_chain=W,this.func=H}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*j),this.dyn_dtree=new s.Buf16(2*(2*S+1)),this.bl_tree=new s.Buf16(2*(2*E+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(I+1),this.heap=new s.Buf16(2*w+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*w+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(P){var Q;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=x,(Q=P.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?C:A,P.adler=Q.wrap===2?0:1,Q.last_flush=f,o._tr_init(Q),p):R(P,m)}function Ge(P){var Q=ve(P);return Q===p&&function(X){X.window_size=2*X.w_size,F(X.head),X.max_lazy_match=i[X.level].max_lazy,X.good_match=i[X.level].good_length,X.nice_match=i[X.level].nice_length,X.max_chain_length=i[X.level].max_chain,X.strstart=0,X.block_start=0,X.lookahead=0,X.insert=0,X.match_length=X.prev_length=k-1,X.match_available=0,X.ins_h=0}(P.state),Q}function _e(P,Q,X,W,H,G){if(!P)return m;var J=1;if(Q===g&&(Q=6),W<0?(J=0,W=-W):15<W&&(J=2,W-=16),H<1||b<H||X!==v||W<8||15<W||Q<0||9<Q||G<0||y<G)return R(P,m);W===8&&(W=9);var ae=new ye;return(P.state=ae).strm=P,ae.wrap=J,ae.gzhead=null,ae.w_bits=W,ae.w_size=1<<ae.w_bits,ae.w_mask=ae.w_size-1,ae.hash_bits=H+7,ae.hash_size=1<<ae.hash_bits,ae.hash_mask=ae.hash_size-1,ae.hash_shift=~~((ae.hash_bits+k-1)/k),ae.window=new s.Buf8(2*ae.w_size),ae.head=new s.Buf16(ae.hash_size),ae.prev=new s.Buf16(ae.w_size),ae.lit_bufsize=1<<H+6,ae.pending_buf_size=4*ae.lit_bufsize,ae.pending_buf=new s.Buf8(ae.pending_buf_size),ae.d_buf=1*ae.lit_bufsize,ae.l_buf=3*ae.lit_bufsize,ae.level=Q,ae.strategy=G,ae.method=X,Ge(P)}i=[new se(0,0,0,0,function(P,Q){var X=65535;for(X>P.pending_buf_size-5&&(X=P.pending_buf_size-5);;){if(P.lookahead<=1){if(re(P),P.lookahead===0&&Q===f)return N;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var W=P.block_start+X;if((P.strstart===0||P.strstart>=W)&&(P.lookahead=P.strstart-W,P.strstart=W,U(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-L&&(U(P,!1),P.strm.avail_out===0))return N}return P.insert=0,Q===h?(U(P,!0),P.strm.avail_out===0?$:D):(P.strstart>P.block_start&&(U(P,!1),P.strm.avail_out),N)}),new se(4,4,8,4,oe),new se(4,5,16,8,oe),new se(4,6,32,32,oe),new se(4,4,16,16,ie),new se(8,16,32,32,ie),new se(8,16,128,128,ie),new se(8,32,128,256,ie),new se(32,128,258,1024,ie),new se(32,258,258,4096,ie)],a.deflateInit=function(P,Q){return _e(P,Q,v,15,8,0)},a.deflateInit2=_e,a.deflateReset=Ge,a.deflateResetKeep=ve,a.deflateSetHeader=function(P,Q){return P&&P.state?P.state.wrap!==2?m:(P.state.gzhead=Q,p):m},a.deflate=function(P,Q){var X,W,H,G;if(!P||!P.state||5<Q||Q<0)return P?R(P,m):m;if(W=P.state,!P.output||!P.input&&P.avail_in!==0||W.status===666&&Q!==h)return R(P,P.avail_out===0?-5:m);if(W.strm=P,X=W.last_flush,W.last_flush=Q,W.status===C)if(W.wrap===2)P.adler=0,q(W,31),q(W,139),q(W,8),W.gzhead?(q(W,(W.gzhead.text?1:0)+(W.gzhead.hcrc?2:0)+(W.gzhead.extra?4:0)+(W.gzhead.name?8:0)+(W.gzhead.comment?16:0)),q(W,255&W.gzhead.time),q(W,W.gzhead.time>>8&255),q(W,W.gzhead.time>>16&255),q(W,W.gzhead.time>>24&255),q(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),q(W,255&W.gzhead.os),W.gzhead.extra&&W.gzhead.extra.length&&(q(W,255&W.gzhead.extra.length),q(W,W.gzhead.extra.length>>8&255)),W.gzhead.hcrc&&(P.adler=u(P.adler,W.pending_buf,W.pending,0)),W.gzindex=0,W.status=69):(q(W,0),q(W,0),q(W,0),q(W,0),q(W,0),q(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),q(W,3),W.status=A);else{var J=v+(W.w_bits-8<<4)<<8;J|=(2<=W.strategy||W.level<2?0:W.level<6?1:W.level===6?2:3)<<6,W.strstart!==0&&(J|=32),J+=31-J%31,W.status=A,ee(W,J),W.strstart!==0&&(ee(W,P.adler>>>16),ee(W,65535&P.adler)),P.adler=1}if(W.status===69)if(W.gzhead.extra){for(H=W.pending;W.gzindex<(65535&W.gzhead.extra.length)&&(W.pending!==W.pending_buf_size||(W.gzhead.hcrc&&W.pending>H&&(P.adler=u(P.adler,W.pending_buf,W.pending-H,H)),B(P),H=W.pending,W.pending!==W.pending_buf_size));)q(W,255&W.gzhead.extra[W.gzindex]),W.gzindex++;W.gzhead.hcrc&&W.pending>H&&(P.adler=u(P.adler,W.pending_buf,W.pending-H,H)),W.gzindex===W.gzhead.extra.length&&(W.gzindex=0,W.status=73)}else W.status=73;if(W.status===73)if(W.gzhead.name){H=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>H&&(P.adler=u(P.adler,W.pending_buf,W.pending-H,H)),B(P),H=W.pending,W.pending===W.pending_buf_size)){G=1;break}G=W.gzindex<W.gzhead.name.length?255&W.gzhead.name.charCodeAt(W.gzindex++):0,q(W,G)}while(G!==0);W.gzhead.hcrc&&W.pending>H&&(P.adler=u(P.adler,W.pending_buf,W.pending-H,H)),G===0&&(W.gzindex=0,W.status=91)}else W.status=91;if(W.status===91)if(W.gzhead.comment){H=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>H&&(P.adler=u(P.adler,W.pending_buf,W.pending-H,H)),B(P),H=W.pending,W.pending===W.pending_buf_size)){G=1;break}G=W.gzindex<W.gzhead.comment.length?255&W.gzhead.comment.charCodeAt(W.gzindex++):0,q(W,G)}while(G!==0);W.gzhead.hcrc&&W.pending>H&&(P.adler=u(P.adler,W.pending_buf,W.pending-H,H)),G===0&&(W.status=103)}else W.status=103;if(W.status===103&&(W.gzhead.hcrc?(W.pending+2>W.pending_buf_size&&B(P),W.pending+2<=W.pending_buf_size&&(q(W,255&P.adler),q(W,P.adler>>8&255),P.adler=0,W.status=A)):W.status=A),W.pending!==0){if(B(P),P.avail_out===0)return W.last_flush=-1,p}else if(P.avail_in===0&&M(Q)<=M(X)&&Q!==h)return R(P,-5);if(W.status===666&&P.avail_in!==0)return R(P,-5);if(P.avail_in!==0||W.lookahead!==0||Q!==f&&W.status!==666){var ae=W.strategy===2?function(Z,ce){for(var ge;;){if(Z.lookahead===0&&(re(Z),Z.lookahead===0)){if(ce===f)return N;break}if(Z.match_length=0,ge=o._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,ge&&(U(Z,!1),Z.strm.avail_out===0))return N}return Z.insert=0,ce===h?(U(Z,!0),Z.strm.avail_out===0?$:D):Z.last_lit&&(U(Z,!1),Z.strm.avail_out===0)?N:O}(W,Q):W.strategy===3?function(Z,ce){for(var ge,fe,ke,We,Re=Z.window;;){if(Z.lookahead<=T){if(re(Z),Z.lookahead<=T&&ce===f)return N;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=k&&0<Z.strstart&&(fe=Re[ke=Z.strstart-1])===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]){We=Z.strstart+T;do;while(fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&fe===Re[++ke]&&ke<We);Z.match_length=T-(We-ke),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=k?(ge=o._tr_tally(Z,1,Z.match_length-k),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(ge=o._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),ge&&(U(Z,!1),Z.strm.avail_out===0))return N}return Z.insert=0,ce===h?(U(Z,!0),Z.strm.avail_out===0?$:D):Z.last_lit&&(U(Z,!1),Z.strm.avail_out===0)?N:O}(W,Q):i[W.level].func(W,Q);if(ae!==$&&ae!==D||(W.status=666),ae===N||ae===$)return P.avail_out===0&&(W.last_flush=-1),p;if(ae===O&&(Q===1?o._tr_align(W):Q!==5&&(o._tr_stored_block(W,0,0,!1),Q===3&&(F(W.head),W.lookahead===0&&(W.strstart=0,W.block_start=0,W.insert=0))),B(P),P.avail_out===0))return W.last_flush=-1,p}return Q!==h?p:W.wrap<=0?1:(W.wrap===2?(q(W,255&P.adler),q(W,P.adler>>8&255),q(W,P.adler>>16&255),q(W,P.adler>>24&255),q(W,255&P.total_in),q(W,P.total_in>>8&255),q(W,P.total_in>>16&255),q(W,P.total_in>>24&255)):(ee(W,P.adler>>>16),ee(W,65535&P.adler)),B(P),0<W.wrap&&(W.wrap=-W.wrap),W.pending!==0?p:1)},a.deflateEnd=function(P){var Q;return P&&P.state?(Q=P.state.status)!==C&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==A&&Q!==666?R(P,m):(P.state=null,Q===A?R(P,-3):p):m},a.deflateSetDictionary=function(P,Q){var X,W,H,G,J,ae,Z,ce,ge=Q.length;if(!P||!P.state||(G=(X=P.state).wrap)===2||G===1&&X.status!==C||X.lookahead)return m;for(G===1&&(P.adler=c(P.adler,Q,ge,0)),X.wrap=0,ge>=X.w_size&&(G===0&&(F(X.head),X.strstart=0,X.block_start=0,X.insert=0),ce=new s.Buf8(X.w_size),s.arraySet(ce,Q,ge-X.w_size,X.w_size,0),Q=ce,ge=X.w_size),J=P.avail_in,ae=P.next_in,Z=P.input,P.avail_in=ge,P.next_in=0,P.input=Q,re(X);X.lookahead>=k;){for(W=X.strstart,H=X.lookahead-(k-1);X.ins_h=(X.ins_h<<X.hash_shift^X.window[W+k-1])&X.hash_mask,X.prev[W&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=W,W++,--H;);X.strstart=W,X.lookahead=k-1,re(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=k-1,X.match_available=0,P.next_in=ae,P.input=Z,P.avail_in=J,X.wrap=G,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,a){n.exports=function(i,s){var o,c,u,d,f,h,p,m,g,y,x,v,b,w,S,E,j,I,k,T,L,C,A,N,O;o=i.state,c=i.next_in,N=i.input,u=c+(i.avail_in-5),d=i.next_out,O=i.output,f=d-(s-i.avail_out),h=d+(i.avail_out-257),p=o.dmax,m=o.wsize,g=o.whave,y=o.wnext,x=o.window,v=o.hold,b=o.bits,w=o.lencode,S=o.distcode,E=(1<<o.lenbits)-1,j=(1<<o.distbits)-1;e:do{b<15&&(v+=N[c++]<<b,b+=8,v+=N[c++]<<b,b+=8),I=w[v&E];t:for(;;){if(v>>>=k=I>>>24,b-=k,(k=I>>>16&255)===0)O[d++]=65535&I;else{if(!(16&k)){if(!(64&k)){I=w[(65535&I)+(v&(1<<k)-1)];continue t}if(32&k){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}T=65535&I,(k&=15)&&(b<k&&(v+=N[c++]<<b,b+=8),T+=v&(1<<k)-1,v>>>=k,b-=k),b<15&&(v+=N[c++]<<b,b+=8,v+=N[c++]<<b,b+=8),I=S[v&j];r:for(;;){if(v>>>=k=I>>>24,b-=k,!(16&(k=I>>>16&255))){if(!(64&k)){I=S[(65535&I)+(v&(1<<k)-1)];continue r}i.msg="invalid distance code",o.mode=30;break e}if(L=65535&I,b<(k&=15)&&(v+=N[c++]<<b,(b+=8)<k&&(v+=N[c++]<<b,b+=8)),p<(L+=v&(1<<k)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(v>>>=k,b-=k,(k=d-f)<L){if(g<(k=L-k)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(A=x,(C=0)===y){if(C+=m-k,k<T){for(T-=k;O[d++]=x[C++],--k;);C=d-L,A=O}}else if(y<k){if(C+=m+y-k,(k-=y)<T){for(T-=k;O[d++]=x[C++],--k;);if(C=0,y<T){for(T-=k=y;O[d++]=x[C++],--k;);C=d-L,A=O}}}else if(C+=y-k,k<T){for(T-=k;O[d++]=x[C++],--k;);C=d-L,A=O}for(;2<T;)O[d++]=A[C++],O[d++]=A[C++],O[d++]=A[C++],T-=3;T&&(O[d++]=A[C++],1<T&&(O[d++]=A[C++]))}else{for(C=d-L;O[d++]=O[C++],O[d++]=O[C++],O[d++]=O[C++],2<(T-=3););T&&(O[d++]=O[C++],1<T&&(O[d++]=O[C++]))}break}}break}}while(c<u&&d<h);c-=T=b>>3,v&=(1<<(b-=T<<3))-1,i.next_in=c,i.next_out=d,i.avail_in=c<u?u-c+5:5-(c-u),i.avail_out=d<h?h-d+257:257-(d-h),o.hold=v,o.bits=b}},{}],49:[function(r,n,a){var i=r("../utils/common"),s=r("./adler32"),o=r("./crc32"),c=r("./inffast"),u=r("./inftrees"),d=1,f=2,h=0,p=-2,m=1,g=852,y=592;function x(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(C){var A;return C&&C.state?(A=C.state,C.total_in=C.total_out=A.total=0,C.msg="",A.wrap&&(C.adler=1&A.wrap),A.mode=m,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new i.Buf32(g),A.distcode=A.distdyn=new i.Buf32(y),A.sane=1,A.back=-1,h):p}function w(C){var A;return C&&C.state?((A=C.state).wsize=0,A.whave=0,A.wnext=0,b(C)):p}function S(C,A){var N,O;return C&&C.state?(O=C.state,A<0?(N=0,A=-A):(N=1+(A>>4),A<48&&(A&=15)),A&&(A<8||15<A)?p:(O.window!==null&&O.wbits!==A&&(O.window=null),O.wrap=N,O.wbits=A,w(C))):p}function E(C,A){var N,O;return C?(O=new v,(C.state=O).window=null,(N=S(C,A))!==h&&(C.state=null),N):p}var j,I,k=!0;function T(C){if(k){var A;for(j=new i.Buf32(512),I=new i.Buf32(32),A=0;A<144;)C.lens[A++]=8;for(;A<256;)C.lens[A++]=9;for(;A<280;)C.lens[A++]=7;for(;A<288;)C.lens[A++]=8;for(u(d,C.lens,0,288,j,0,C.work,{bits:9}),A=0;A<32;)C.lens[A++]=5;u(f,C.lens,0,32,I,0,C.work,{bits:5}),k=!1}C.lencode=j,C.lenbits=9,C.distcode=I,C.distbits=5}function L(C,A,N,O){var $,D=C.state;return D.window===null&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=new i.Buf8(D.wsize)),O>=D.wsize?(i.arraySet(D.window,A,N-D.wsize,D.wsize,0),D.wnext=0,D.whave=D.wsize):(O<($=D.wsize-D.wnext)&&($=O),i.arraySet(D.window,A,N-O,$,D.wnext),(O-=$)?(i.arraySet(D.window,A,N-O,O,0),D.wnext=O,D.whave=D.wsize):(D.wnext+=$,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=$))),0}a.inflateReset=w,a.inflateReset2=S,a.inflateResetKeep=b,a.inflateInit=function(C){return E(C,15)},a.inflateInit2=E,a.inflate=function(C,A){var N,O,$,D,R,M,F,B,U,q,ee,V,re,oe,ie,se,ye,ve,Ge,_e,P,Q,X,W,H=0,G=new i.Buf8(4),J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return p;(N=C.state).mode===12&&(N.mode=13),R=C.next_out,$=C.output,F=C.avail_out,D=C.next_in,O=C.input,M=C.avail_in,B=N.hold,U=N.bits,q=M,ee=F,Q=h;e:for(;;)switch(N.mode){case m:if(N.wrap===0){N.mode=13;break}for(;U<16;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}if(2&N.wrap&&B===35615){G[N.check=0]=255&B,G[1]=B>>>8&255,N.check=o(N.check,G,2,0),U=B=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&B)<<8)+(B>>8))%31){C.msg="incorrect header check",N.mode=30;break}if((15&B)!=8){C.msg="unknown compression method",N.mode=30;break}if(U-=4,P=8+(15&(B>>>=4)),N.wbits===0)N.wbits=P;else if(P>N.wbits){C.msg="invalid window size",N.mode=30;break}N.dmax=1<<P,C.adler=N.check=1,N.mode=512&B?10:12,U=B=0;break;case 2:for(;U<16;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}if(N.flags=B,(255&N.flags)!=8){C.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){C.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=B>>8&1),512&N.flags&&(G[0]=255&B,G[1]=B>>>8&255,N.check=o(N.check,G,2,0)),U=B=0,N.mode=3;case 3:for(;U<32;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}N.head&&(N.head.time=B),512&N.flags&&(G[0]=255&B,G[1]=B>>>8&255,G[2]=B>>>16&255,G[3]=B>>>24&255,N.check=o(N.check,G,4,0)),U=B=0,N.mode=4;case 4:for(;U<16;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}N.head&&(N.head.xflags=255&B,N.head.os=B>>8),512&N.flags&&(G[0]=255&B,G[1]=B>>>8&255,N.check=o(N.check,G,2,0)),U=B=0,N.mode=5;case 5:if(1024&N.flags){for(;U<16;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}N.length=B,N.head&&(N.head.extra_len=B),512&N.flags&&(G[0]=255&B,G[1]=B>>>8&255,N.check=o(N.check,G,2,0)),U=B=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(M<(V=N.length)&&(V=M),V&&(N.head&&(P=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),i.arraySet(N.head.extra,O,D,V,P)),512&N.flags&&(N.check=o(N.check,O,V,D)),M-=V,D+=V,N.length-=V),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(M===0)break e;for(V=0;P=O[D+V++],N.head&&P&&N.length<65536&&(N.head.name+=String.fromCharCode(P)),P&&V<M;);if(512&N.flags&&(N.check=o(N.check,O,V,D)),M-=V,D+=V,P)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(M===0)break e;for(V=0;P=O[D+V++],N.head&&P&&N.length<65536&&(N.head.comment+=String.fromCharCode(P)),P&&V<M;);if(512&N.flags&&(N.check=o(N.check,O,V,D)),M-=V,D+=V,P)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;U<16;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}if(B!==(65535&N.check)){C.msg="header crc mismatch",N.mode=30;break}U=B=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),C.adler=N.check=0,N.mode=12;break;case 10:for(;U<32;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}C.adler=N.check=x(B),U=B=0,N.mode=11;case 11:if(N.havedict===0)return C.next_out=R,C.avail_out=F,C.next_in=D,C.avail_in=M,N.hold=B,N.bits=U,2;C.adler=N.check=1,N.mode=12;case 12:if(A===5||A===6)break e;case 13:if(N.last){B>>>=7&U,U-=7&U,N.mode=27;break}for(;U<3;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}switch(N.last=1&B,U-=1,3&(B>>>=1)){case 0:N.mode=14;break;case 1:if(T(N),N.mode=20,A!==6)break;B>>>=2,U-=2;break e;case 2:N.mode=17;break;case 3:C.msg="invalid block type",N.mode=30}B>>>=2,U-=2;break;case 14:for(B>>>=7&U,U-=7&U;U<32;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}if((65535&B)!=(B>>>16^65535)){C.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&B,U=B=0,N.mode=15,A===6)break e;case 15:N.mode=16;case 16:if(V=N.length){if(M<V&&(V=M),F<V&&(V=F),V===0)break e;i.arraySet($,O,D,V,R),M-=V,D+=V,F-=V,R+=V,N.length-=V;break}N.mode=12;break;case 17:for(;U<14;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}if(N.nlen=257+(31&B),B>>>=5,U-=5,N.ndist=1+(31&B),B>>>=5,U-=5,N.ncode=4+(15&B),B>>>=4,U-=4,286<N.nlen||30<N.ndist){C.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;U<3;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}N.lens[J[N.have++]]=7&B,B>>>=3,U-=3}for(;N.have<19;)N.lens[J[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,X={bits:N.lenbits},Q=u(0,N.lens,0,19,N.lencode,0,N.work,X),N.lenbits=X.bits,Q){C.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;se=(H=N.lencode[B&(1<<N.lenbits)-1])>>>16&255,ye=65535&H,!((ie=H>>>24)<=U);){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}if(ye<16)B>>>=ie,U-=ie,N.lens[N.have++]=ye;else{if(ye===16){for(W=ie+2;U<W;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}if(B>>>=ie,U-=ie,N.have===0){C.msg="invalid bit length repeat",N.mode=30;break}P=N.lens[N.have-1],V=3+(3&B),B>>>=2,U-=2}else if(ye===17){for(W=ie+3;U<W;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}U-=ie,P=0,V=3+(7&(B>>>=ie)),B>>>=3,U-=3}else{for(W=ie+7;U<W;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}U-=ie,P=0,V=11+(127&(B>>>=ie)),B>>>=7,U-=7}if(N.have+V>N.nlen+N.ndist){C.msg="invalid bit length repeat",N.mode=30;break}for(;V--;)N.lens[N.have++]=P}}if(N.mode===30)break;if(N.lens[256]===0){C.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,X={bits:N.lenbits},Q=u(d,N.lens,0,N.nlen,N.lencode,0,N.work,X),N.lenbits=X.bits,Q){C.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,X={bits:N.distbits},Q=u(f,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,X),N.distbits=X.bits,Q){C.msg="invalid distances set",N.mode=30;break}if(N.mode=20,A===6)break e;case 20:N.mode=21;case 21:if(6<=M&&258<=F){C.next_out=R,C.avail_out=F,C.next_in=D,C.avail_in=M,N.hold=B,N.bits=U,c(C,ee),R=C.next_out,$=C.output,F=C.avail_out,D=C.next_in,O=C.input,M=C.avail_in,B=N.hold,U=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;se=(H=N.lencode[B&(1<<N.lenbits)-1])>>>16&255,ye=65535&H,!((ie=H>>>24)<=U);){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}if(se&&!(240&se)){for(ve=ie,Ge=se,_e=ye;se=(H=N.lencode[_e+((B&(1<<ve+Ge)-1)>>ve)])>>>16&255,ye=65535&H,!(ve+(ie=H>>>24)<=U);){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}B>>>=ve,U-=ve,N.back+=ve}if(B>>>=ie,U-=ie,N.back+=ie,N.length=ye,se===0){N.mode=26;break}if(32&se){N.back=-1,N.mode=12;break}if(64&se){C.msg="invalid literal/length code",N.mode=30;break}N.extra=15&se,N.mode=22;case 22:if(N.extra){for(W=N.extra;U<W;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}N.length+=B&(1<<N.extra)-1,B>>>=N.extra,U-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;se=(H=N.distcode[B&(1<<N.distbits)-1])>>>16&255,ye=65535&H,!((ie=H>>>24)<=U);){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}if(!(240&se)){for(ve=ie,Ge=se,_e=ye;se=(H=N.distcode[_e+((B&(1<<ve+Ge)-1)>>ve)])>>>16&255,ye=65535&H,!(ve+(ie=H>>>24)<=U);){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}B>>>=ve,U-=ve,N.back+=ve}if(B>>>=ie,U-=ie,N.back+=ie,64&se){C.msg="invalid distance code",N.mode=30;break}N.offset=ye,N.extra=15&se,N.mode=24;case 24:if(N.extra){for(W=N.extra;U<W;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}N.offset+=B&(1<<N.extra)-1,B>>>=N.extra,U-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){C.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(F===0)break e;if(V=ee-F,N.offset>V){if((V=N.offset-V)>N.whave&&N.sane){C.msg="invalid distance too far back",N.mode=30;break}re=V>N.wnext?(V-=N.wnext,N.wsize-V):N.wnext-V,V>N.length&&(V=N.length),oe=N.window}else oe=$,re=R-N.offset,V=N.length;for(F<V&&(V=F),F-=V,N.length-=V;$[R++]=oe[re++],--V;);N.length===0&&(N.mode=21);break;case 26:if(F===0)break e;$[R++]=N.length,F--,N.mode=21;break;case 27:if(N.wrap){for(;U<32;){if(M===0)break e;M--,B|=O[D++]<<U,U+=8}if(ee-=F,C.total_out+=ee,N.total+=ee,ee&&(C.adler=N.check=N.flags?o(N.check,$,ee,R-ee):s(N.check,$,ee,R-ee)),ee=F,(N.flags?B:x(B))!==N.check){C.msg="incorrect data check",N.mode=30;break}U=B=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;U<32;){if(M===0)break e;M--,B+=O[D++]<<U,U+=8}if(B!==(4294967295&N.total)){C.msg="incorrect length check",N.mode=30;break}U=B=0}N.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return p}return C.next_out=R,C.avail_out=F,C.next_in=D,C.avail_in=M,N.hold=B,N.bits=U,(N.wsize||ee!==C.avail_out&&N.mode<30&&(N.mode<27||A!==4))&&L(C,C.output,C.next_out,ee-C.avail_out)?(N.mode=31,-4):(q-=C.avail_in,ee-=C.avail_out,C.total_in+=q,C.total_out+=ee,N.total+=ee,N.wrap&&ee&&(C.adler=N.check=N.flags?o(N.check,$,ee,C.next_out-ee):s(N.check,$,ee,C.next_out-ee)),C.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(q==0&&ee===0||A===4)&&Q===h&&(Q=-5),Q)},a.inflateEnd=function(C){if(!C||!C.state)return p;var A=C.state;return A.window&&(A.window=null),C.state=null,h},a.inflateGetHeader=function(C,A){var N;return C&&C.state&&2&(N=C.state).wrap?((N.head=A).done=!1,h):p},a.inflateSetDictionary=function(C,A){var N,O=A.length;return C&&C.state?(N=C.state).wrap!==0&&N.mode!==11?p:N.mode===11&&s(1,A,O,0)!==N.check?-3:L(C,A,O,O)?(N.mode=31,-4):(N.havedict=1,h):p},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,a){var i=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,f,h,p,m,g,y,x){var v,b,w,S,E,j,I,k,T,L=x.bits,C=0,A=0,N=0,O=0,$=0,D=0,R=0,M=0,F=0,B=0,U=null,q=0,ee=new i.Buf16(16),V=new i.Buf16(16),re=null,oe=0;for(C=0;C<=15;C++)ee[C]=0;for(A=0;A<p;A++)ee[f[h+A]]++;for($=L,O=15;1<=O&&ee[O]===0;O--);if(O<$&&($=O),O===0)return m[g++]=20971520,m[g++]=20971520,x.bits=1,0;for(N=1;N<O&&ee[N]===0;N++);for($<N&&($=N),C=M=1;C<=15;C++)if(M<<=1,(M-=ee[C])<0)return-1;if(0<M&&(d===0||O!==1))return-1;for(V[1]=0,C=1;C<15;C++)V[C+1]=V[C]+ee[C];for(A=0;A<p;A++)f[h+A]!==0&&(y[V[f[h+A]]++]=A);if(j=d===0?(U=re=y,19):d===1?(U=s,q-=257,re=o,oe-=257,256):(U=c,re=u,-1),C=N,E=g,R=A=B=0,w=-1,S=(F=1<<(D=$))-1,d===1&&852<F||d===2&&592<F)return 1;for(;;){for(I=C-R,T=y[A]<j?(k=0,y[A]):y[A]>j?(k=re[oe+y[A]],U[q+y[A]]):(k=96,0),v=1<<C-R,N=b=1<<D;m[E+(B>>R)+(b-=v)]=I<<24|k<<16|T|0,b!==0;);for(v=1<<C-1;B&v;)v>>=1;if(v!==0?(B&=v-1,B+=v):B=0,A++,--ee[C]==0){if(C===O)break;C=f[h+y[A]]}if($<C&&(B&S)!==w){for(R===0&&(R=$),E+=N,M=1<<(D=C-R);D+R<O&&!((M-=ee[D+R])<=0);)D++,M<<=1;if(F+=1<<D,d===1&&852<F||d===2&&592<F)return 1;m[w=B&S]=$<<24|D<<16|E-g|0}}return B!==0&&(m[E+B]=C-R<<24|64<<16|0),x.bits=$,0}},{"../utils/common":41}],51:[function(r,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,a){var i=r("../utils/common"),s=0,o=1;function c(H){for(var G=H.length;0<=--G;)H[G]=0}var u=0,d=29,f=256,h=f+1+d,p=30,m=19,g=2*h+1,y=15,x=16,v=7,b=256,w=16,S=17,E=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(h+2));c(L);var C=new Array(2*p);c(C);var A=new Array(512);c(A);var N=new Array(256);c(N);var O=new Array(d);c(O);var $,D,R,M=new Array(p);function F(H,G,J,ae,Z){this.static_tree=H,this.extra_bits=G,this.extra_base=J,this.elems=ae,this.max_length=Z,this.has_stree=H&&H.length}function B(H,G){this.dyn_tree=H,this.max_code=0,this.stat_desc=G}function U(H){return H<256?A[H]:A[256+(H>>>7)]}function q(H,G){H.pending_buf[H.pending++]=255&G,H.pending_buf[H.pending++]=G>>>8&255}function ee(H,G,J){H.bi_valid>x-J?(H.bi_buf|=G<<H.bi_valid&65535,q(H,H.bi_buf),H.bi_buf=G>>x-H.bi_valid,H.bi_valid+=J-x):(H.bi_buf|=G<<H.bi_valid&65535,H.bi_valid+=J)}function V(H,G,J){ee(H,J[2*G],J[2*G+1])}function re(H,G){for(var J=0;J|=1&H,H>>>=1,J<<=1,0<--G;);return J>>>1}function oe(H,G,J){var ae,Z,ce=new Array(y+1),ge=0;for(ae=1;ae<=y;ae++)ce[ae]=ge=ge+J[ae-1]<<1;for(Z=0;Z<=G;Z++){var fe=H[2*Z+1];fe!==0&&(H[2*Z]=re(ce[fe]++,fe))}}function ie(H){var G;for(G=0;G<h;G++)H.dyn_ltree[2*G]=0;for(G=0;G<p;G++)H.dyn_dtree[2*G]=0;for(G=0;G<m;G++)H.bl_tree[2*G]=0;H.dyn_ltree[2*b]=1,H.opt_len=H.static_len=0,H.last_lit=H.matches=0}function se(H){8<H.bi_valid?q(H,H.bi_buf):0<H.bi_valid&&(H.pending_buf[H.pending++]=H.bi_buf),H.bi_buf=0,H.bi_valid=0}function ye(H,G,J,ae){var Z=2*G,ce=2*J;return H[Z]<H[ce]||H[Z]===H[ce]&&ae[G]<=ae[J]}function ve(H,G,J){for(var ae=H.heap[J],Z=J<<1;Z<=H.heap_len&&(Z<H.heap_len&&ye(G,H.heap[Z+1],H.heap[Z],H.depth)&&Z++,!ye(G,ae,H.heap[Z],H.depth));)H.heap[J]=H.heap[Z],J=Z,Z<<=1;H.heap[J]=ae}function Ge(H,G,J){var ae,Z,ce,ge,fe=0;if(H.last_lit!==0)for(;ae=H.pending_buf[H.d_buf+2*fe]<<8|H.pending_buf[H.d_buf+2*fe+1],Z=H.pending_buf[H.l_buf+fe],fe++,ae===0?V(H,Z,G):(V(H,(ce=N[Z])+f+1,G),(ge=j[ce])!==0&&ee(H,Z-=O[ce],ge),V(H,ce=U(--ae),J),(ge=I[ce])!==0&&ee(H,ae-=M[ce],ge)),fe<H.last_lit;);V(H,b,G)}function _e(H,G){var J,ae,Z,ce=G.dyn_tree,ge=G.stat_desc.static_tree,fe=G.stat_desc.has_stree,ke=G.stat_desc.elems,We=-1;for(H.heap_len=0,H.heap_max=g,J=0;J<ke;J++)ce[2*J]!==0?(H.heap[++H.heap_len]=We=J,H.depth[J]=0):ce[2*J+1]=0;for(;H.heap_len<2;)ce[2*(Z=H.heap[++H.heap_len]=We<2?++We:0)]=1,H.depth[Z]=0,H.opt_len--,fe&&(H.static_len-=ge[2*Z+1]);for(G.max_code=We,J=H.heap_len>>1;1<=J;J--)ve(H,ce,J);for(Z=ke;J=H.heap[1],H.heap[1]=H.heap[H.heap_len--],ve(H,ce,1),ae=H.heap[1],H.heap[--H.heap_max]=J,H.heap[--H.heap_max]=ae,ce[2*Z]=ce[2*J]+ce[2*ae],H.depth[Z]=(H.depth[J]>=H.depth[ae]?H.depth[J]:H.depth[ae])+1,ce[2*J+1]=ce[2*ae+1]=Z,H.heap[1]=Z++,ve(H,ce,1),2<=H.heap_len;);H.heap[--H.heap_max]=H.heap[1],function(Re,Gt){var $n,an,Un,nt,Tr,St,sn=Gt.dyn_tree,Wi=Gt.max_code,Vi=Gt.stat_desc.static_tree,Zs=Gt.stat_desc.has_stree,Gi=Gt.stat_desc.extra_bits,hi=Gt.stat_desc.extra_base,zn=Gt.stat_desc.max_length,La=0;for(nt=0;nt<=y;nt++)Re.bl_count[nt]=0;for(sn[2*Re.heap[Re.heap_max]+1]=0,$n=Re.heap_max+1;$n<g;$n++)zn<(nt=sn[2*sn[2*(an=Re.heap[$n])+1]+1]+1)&&(nt=zn,La++),sn[2*an+1]=nt,Wi<an||(Re.bl_count[nt]++,Tr=0,hi<=an&&(Tr=Gi[an-hi]),St=sn[2*an],Re.opt_len+=St*(nt+Tr),Zs&&(Re.static_len+=St*(Vi[2*an+1]+Tr)));if(La!==0){do{for(nt=zn-1;Re.bl_count[nt]===0;)nt--;Re.bl_count[nt]--,Re.bl_count[nt+1]+=2,Re.bl_count[zn]--,La-=2}while(0<La);for(nt=zn;nt!==0;nt--)for(an=Re.bl_count[nt];an!==0;)Wi<(Un=Re.heap[--$n])||(sn[2*Un+1]!==nt&&(Re.opt_len+=(nt-sn[2*Un+1])*sn[2*Un],sn[2*Un+1]=nt),an--)}}(H,G),oe(ce,We,H.bl_count)}function P(H,G,J){var ae,Z,ce=-1,ge=G[1],fe=0,ke=7,We=4;for(ge===0&&(ke=138,We=3),G[2*(J+1)+1]=65535,ae=0;ae<=J;ae++)Z=ge,ge=G[2*(ae+1)+1],++fe<ke&&Z===ge||(fe<We?H.bl_tree[2*Z]+=fe:Z!==0?(Z!==ce&&H.bl_tree[2*Z]++,H.bl_tree[2*w]++):fe<=10?H.bl_tree[2*S]++:H.bl_tree[2*E]++,ce=Z,We=(fe=0)===ge?(ke=138,3):Z===ge?(ke=6,3):(ke=7,4))}function Q(H,G,J){var ae,Z,ce=-1,ge=G[1],fe=0,ke=7,We=4;for(ge===0&&(ke=138,We=3),ae=0;ae<=J;ae++)if(Z=ge,ge=G[2*(ae+1)+1],!(++fe<ke&&Z===ge)){if(fe<We)for(;V(H,Z,H.bl_tree),--fe!=0;);else Z!==0?(Z!==ce&&(V(H,Z,H.bl_tree),fe--),V(H,w,H.bl_tree),ee(H,fe-3,2)):fe<=10?(V(H,S,H.bl_tree),ee(H,fe-3,3)):(V(H,E,H.bl_tree),ee(H,fe-11,7));ce=Z,We=(fe=0)===ge?(ke=138,3):Z===ge?(ke=6,3):(ke=7,4)}}c(M);var X=!1;function W(H,G,J,ae){ee(H,(u<<1)+(ae?1:0),3),function(Z,ce,ge,fe){se(Z),q(Z,ge),q(Z,~ge),i.arraySet(Z.pending_buf,Z.window,ce,ge,Z.pending),Z.pending+=ge}(H,G,J)}a._tr_init=function(H){X||(function(){var G,J,ae,Z,ce,ge=new Array(y+1);for(Z=ae=0;Z<d-1;Z++)for(O[Z]=ae,G=0;G<1<<j[Z];G++)N[ae++]=Z;for(N[ae-1]=Z,Z=ce=0;Z<16;Z++)for(M[Z]=ce,G=0;G<1<<I[Z];G++)A[ce++]=Z;for(ce>>=7;Z<p;Z++)for(M[Z]=ce<<7,G=0;G<1<<I[Z]-7;G++)A[256+ce++]=Z;for(J=0;J<=y;J++)ge[J]=0;for(G=0;G<=143;)L[2*G+1]=8,G++,ge[8]++;for(;G<=255;)L[2*G+1]=9,G++,ge[9]++;for(;G<=279;)L[2*G+1]=7,G++,ge[7]++;for(;G<=287;)L[2*G+1]=8,G++,ge[8]++;for(oe(L,h+1,ge),G=0;G<p;G++)C[2*G+1]=5,C[2*G]=re(G,5);$=new F(L,j,f+1,h,y),D=new F(C,I,0,p,y),R=new F(new Array(0),k,0,m,v)}(),X=!0),H.l_desc=new B(H.dyn_ltree,$),H.d_desc=new B(H.dyn_dtree,D),H.bl_desc=new B(H.bl_tree,R),H.bi_buf=0,H.bi_valid=0,ie(H)},a._tr_stored_block=W,a._tr_flush_block=function(H,G,J,ae){var Z,ce,ge=0;0<H.level?(H.strm.data_type===2&&(H.strm.data_type=function(fe){var ke,We=4093624447;for(ke=0;ke<=31;ke++,We>>>=1)if(1&We&&fe.dyn_ltree[2*ke]!==0)return s;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return o;for(ke=32;ke<f;ke++)if(fe.dyn_ltree[2*ke]!==0)return o;return s}(H)),_e(H,H.l_desc),_e(H,H.d_desc),ge=function(fe){var ke;for(P(fe,fe.dyn_ltree,fe.l_desc.max_code),P(fe,fe.dyn_dtree,fe.d_desc.max_code),_e(fe,fe.bl_desc),ke=m-1;3<=ke&&fe.bl_tree[2*T[ke]+1]===0;ke--);return fe.opt_len+=3*(ke+1)+5+5+4,ke}(H),Z=H.opt_len+3+7>>>3,(ce=H.static_len+3+7>>>3)<=Z&&(Z=ce)):Z=ce=J+5,J+4<=Z&&G!==-1?W(H,G,J,ae):H.strategy===4||ce===Z?(ee(H,2+(ae?1:0),3),Ge(H,L,C)):(ee(H,4+(ae?1:0),3),function(fe,ke,We,Re){var Gt;for(ee(fe,ke-257,5),ee(fe,We-1,5),ee(fe,Re-4,4),Gt=0;Gt<Re;Gt++)ee(fe,fe.bl_tree[2*T[Gt]+1],3);Q(fe,fe.dyn_ltree,ke-1),Q(fe,fe.dyn_dtree,We-1)}(H,H.l_desc.max_code+1,H.d_desc.max_code+1,ge+1),Ge(H,H.dyn_ltree,H.dyn_dtree)),ie(H),ae&&se(H)},a._tr_tally=function(H,G,J){return H.pending_buf[H.d_buf+2*H.last_lit]=G>>>8&255,H.pending_buf[H.d_buf+2*H.last_lit+1]=255&G,H.pending_buf[H.l_buf+H.last_lit]=255&J,H.last_lit++,G===0?H.dyn_ltree[2*J]++:(H.matches++,G--,H.dyn_ltree[2*(N[J]+f+1)]++,H.dyn_dtree[2*U(G)]++),H.last_lit===H.lit_bufsize-1},a._tr_align=function(H){ee(H,2,3),V(H,b,L),function(G){G.bi_valid===16?(q(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(H)}},{"../utils/common":41}],53:[function(r,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,a){(function(i){(function(s,o){if(!s.setImmediate){var c,u,d,f,h=1,p={},m=!1,g=s.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(s);y=y&&y.setTimeout?y:s,c={}.toString.call(s.process)==="[object process]"?function(w){process.nextTick(function(){v(w)})}:function(){if(s.postMessage&&!s.importScripts){var w=!0,S=s.onmessage;return s.onmessage=function(){w=!1},s.postMessage("","*"),s.onmessage=S,w}}()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",b,!1):s.attachEvent("onmessage",b),function(w){s.postMessage(f+w,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(w){v(w.data)},function(w){d.port2.postMessage(w)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(w){var S=g.createElement("script");S.onreadystatechange=function(){v(w),S.onreadystatechange=null,u.removeChild(S),S=null},u.appendChild(S)}):function(w){setTimeout(v,0,w)},y.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var S=new Array(arguments.length-1),E=0;E<S.length;E++)S[E]=arguments[E+1];var j={callback:w,args:S};return p[h]=j,c(h),h++},y.clearImmediate=x}function x(w){delete p[w]}function v(w){if(m)setTimeout(v,0,w);else{var S=p[w];if(S){m=!0;try{(function(E){var j=E.callback,I=E.args;switch(I.length){case 0:j();break;case 1:j(I[0]);break;case 2:j(I[0],I[1]);break;case 3:j(I[0],I[1],I[2]);break;default:j.apply(o,I)}})(S)}finally{x(w),m=!1}}}}function b(w){w.source===s&&typeof w.data=="string"&&w.data.indexOf(f)===0&&v(+w.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(U8);var tie=U8.exports;const rie=li(tie);var z8={exports:{}};(function(t,e){(function(r,n){n()})(kt,function(){function r(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,d,f){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){c(h.response,d,f)},h.onerror=function(){console.error("could not download file")},h.send()}function a(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof kt=="object"&&kt.global===kt?kt:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,d,f){var h=s.URL||s.webkitURL,p=document.createElement("a");d=d||u.name||"download",p.download=d,p.rel="noopener",typeof u=="string"?(p.href=u,p.origin===location.origin?i(p):a(p.href)?n(u,d,f):i(p,p.target="_blank")):(p.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){i(p)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,f){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,f),d);else if(a(u))n(u,d,f);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){i(h)})}}:function(u,d,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return n(u,d,f);var p=u.type==="application/octet-stream",m=/constructor/i.test(s.HTMLElement)||s.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&m||o)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var b=y.result;b=g?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=b:location=b,h=null},y.readAsDataURL(u)}else{var x=s.URL||s.webkitURL,v=x.createObjectURL(u);h?h.location=v:location.href=v,h=null,setTimeout(function(){x.revokeObjectURL(v)},4e4)}});s.saveAs=c.saveAs=c,t.exports=c})})(z8);var nie=z8.exports;const E4=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),aie=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(!1),[s,o]=_.useState(!1),[c,u]=_.useState(0),[d,f]=_.useState(0),[h,p]=_.useState(0),[m,g]=_.useState(""),[y,x]=_.useState({delimiter:",",encoding:"utf-8",dateFormat:"DD.MM.YYYY",includeHeaders:!0}),v=[{name:"profiles",displayName:"",description:"  ",icon:Vt,category:"users",color:"blue"},{name:"events",displayName:"",description:"  ",icon:Oe,category:"content",color:"green"},{name:"speakers",displayName:"",description:"",icon:Vt,category:"content",color:"purple"},{name:"user_attendance",displayName:"",description:"QR-",icon:Sd,category:"users",color:"orange"},{name:"user_favorite_events",displayName:"",description:" ",icon:aa,category:"users",color:"red"},{name:"user_favorite_speakers",displayName:" ",description:" ",icon:aa,category:"users",color:"pink"},{name:"user_event_registrations",displayName:"",description:"  ",icon:UM,category:"users",color:"indigo"},{name:"site_settings",displayName:"",description:" ",icon:Wu,category:"system",color:"gray"},{name:"coworking_info_table",displayName:"",description:" ",icon:qx,category:"content",color:"teal"},{name:"rent_info",displayName:"",description:"  ",icon:qx,category:"content",color:"cyan"}];_.useEffect(()=>{b()},[]);const b=async()=>{try{n(!0);const N=v.map(async D=>{try{const{count:R,error:M}=await E4.from(D.name).select("*",{count:"exact",head:!0});return M?(console.warn(`Table ${D.name} not accessible:`,M),null):{...D,count:R||0,selected:!1}}catch(R){return console.warn(`Error accessing table ${D.name}:`,R),null}}),$=(await Promise.all(N)).filter(Boolean);e($)}catch(N){console.error("Error fetching tables:",N),K.error("  ")}finally{n(!1)}},w=N=>{e(O=>O.map($=>$.name===N?{...$,selected:!$.selected}:$))},S=N=>{e(O=>O.map($=>$.category===N?{...$,selected:!0}:$))},E=()=>{e(N=>N.map(O=>({...O,selected:!0})))},j=()=>{e(N=>N.map(O=>({...O,selected:!1})))},I=async()=>{const N=t.filter(O=>O.selected);if(N.length===0){K.error("      ");return}try{i(!0),u(0),p(N.length),f(0);const O=new rie;for(let M=0;M<N.length;M++){const F=N[M];g(F.displayName),u(M/N.length*100);try{const{data:B,error:U}=await E4.from(F.name).select("*");if(U){console.error(`Error exporting ${F.name}:`,U);continue}if(B&&B.length>0){const q=k(B,F.name);O.file(`${F.name}.csv`,q)}f(M+1)}catch(B){console.error(`Error processing table ${F.name}:`,B)}}u(100),g(" ...");const $=T(N);O.file("README.txt",$);const D=await O.generateAsync({type:"blob"}),R=`science-hub-export-${new Date().toISOString().split("T")[0]}.zip`;nie.saveAs(D,R),K.success(` !  ${N.length} `)}catch(O){console.error("Export error:",O),K.error("   ")}finally{i(!1),u(0),f(0),g(""),o(!1)}},k=(N,O)=>{if(!N||N.length===0)return"";const $=y.delimiter,D=Object.keys(N[0]),R=[];return y.includeHeaders&&R.push(D.join($)),R.push(...N.map(M=>D.map(F=>{let B=M[F];if(B&&typeof B=="string"&&B.match(/^\d{4}-\d{2}-\d{2}T/)){const U=new Date(B);switch(y.dateFormat){case"DD.MM.YYYY":B=U.toLocaleDateString("ru-RU");break;case"MM/DD/YYYY":B=U.toLocaleDateString("en-US");break;default:B=U.toISOString()}}return B&&typeof B=="string"&&(B.includes($)||B.includes('"')||B.includes(`
`))&&(B=`"${B.replace(/"/g,'""')}"`),B??""}).join($))),R.join(`
`)},T=N=>`
SCIENCE HUB -  
===========================

 : ${new Date().toLocaleString("ru-RU")}
 : ${N.length}

 :
${N.map(O=>`
- ${O.name}.csv
  : ${O.displayName}
  : ${O.description}
  : ${O.count}
`).join("")}

 :
- : ${y.delimiter===","?"":y.delimiter===";"?"  ":""}
-  : ${y.dateFormat}
- : ${y.includeHeaders?"":" "}
- : ${y.encoding}

  Science Hub
    `.trim(),L=N=>{const O={blue:"text-blue-600",green:"text-green-600",purple:"text-purple-600",orange:"text-orange-600",red:"text-red-600",pink:"text-pink-600",indigo:"text-indigo-600",gray:"text-gray-600",teal:"text-teal-600",cyan:"text-cyan-600"};return O[N]||O.gray},C={users:t.filter(N=>N.category==="users"),content:t.filter(N=>N.category==="content"),system:t.filter(N=>N.category==="system")},A=t.filter(N=>N.selected).length;return r?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-3",children:[l.jsx(mr,{className:"h-8 w-8 animate-spin text-primary-600"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" ..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-2",children:" "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"     CSV "})]}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[l.jsxs("button",{onClick:E,className:"px-3 py-1.5 text-xs font-medium border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:[" (",t.length,")"]}),l.jsx("button",{onClick:j,className:"px-3 py-1.5 text-xs font-medium border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:""}),l.jsxs("button",{onClick:()=>S("users"),className:"px-3 py-1.5 text-xs font-medium border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:[" (",C.users.length,")"]}),l.jsxs("button",{onClick:()=>S("content"),className:"px-3 py-1.5 text-xs font-medium border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:[" (",C.content.length,")"]})]}),Object.entries(C).map(([N,O])=>{if(O.length===0)return null;const $={users:" ",content:" ",system:" "};return l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:$[N]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:O.map(D=>{const R=D.icon;return l.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-200 hover:shadow-sm ${D.selected?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-dark-600 hover:border-gray-300 dark:hover:border-dark-500"}`,onClick:()=>w(D.name),children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(R,{className:`h-4 w-4 ${L(D.color)}`}),l.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${D.selected?"border-primary-500 bg-primary-500":"border-gray-300 dark:border-gray-600"}`,children:D.selected&&l.jsx(dc,{className:"h-3 w-3 text-white"})})]}),l.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-white mb-1",children:D.displayName}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:D.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[D.count," "]}),l.jsx(LM,{className:"h-3 w-3 text-gray-400"})]})]},D.name)})})]},N)}),l.jsxs("div",{className:"flex flex-col items-center space-y-3 pt-4 border-t border-gray-200 dark:border-dark-600",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[": ",l.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:A}),"  ",t.length]}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[": ",t.filter(N=>N.selected).reduce((N,O)=>N+O.count,0)]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:()=>o(!0),disabled:A===0||a,className:"flex items-center gap-2 px-4 py-2 text-sm border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors disabled:opacity-50",children:[l.jsx(Wu,{className:"h-4 w-4"}),""]}),l.jsxs("button",{onClick:I,disabled:A===0||a,className:"flex items-center gap-2 px-4 py-2 text-sm bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors disabled:opacity-50",children:[a?l.jsx(mr,{className:"h-4 w-4 animate-spin"}):l.jsx(Zd,{className:"h-4 w-4"}),a?"...":""]})]})]}),a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl p-6 max-w-sm w-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(AM,{className:"h-12 w-12 text-primary-500 mx-auto mb-3"}),l.jsx("h3",{className:"text-lg font-semibold mb-1",children:" "}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:m}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"w-full bg-gray-200 dark:bg-dark-600 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-2 rounded-full transition-all duration-500",style:{width:`${c}%`}})}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400",children:[l.jsxs("span",{children:[Math.round(c),"%"]}),l.jsxs("span",{children:[d," / ",h]})]})]})]})})}),s&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl max-w-md w-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-dark-600",children:l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(Wu,{className:"h-4 w-4"})," "]})}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:" CSV"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:",",label:""},{value:";",label:"  "},{value:"	",label:""}].map(N=>l.jsx("button",{onClick:()=>x(O=>({...O,delimiter:N.value})),className:`p-2 text-xs rounded border transition-colors ${y.delimiter===N.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-dark-600 hover:border-gray-400"}`,children:N.label},N.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:" "}),l.jsx("div",{className:"space-y-1",children:[{value:"DD.MM.YYYY",label:".."},{value:"MM/DD/YYYY",label:"//"},{value:"ISO",label:"ISO "}].map(N=>l.jsx("button",{onClick:()=>x(O=>({...O,dateFormat:N.value})),className:`w-full p-2 text-xs text-left rounded border transition-colors ${y.dateFormat===N.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-dark-600 hover:border-gray-400"}`,children:N.label},N.value))})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:y.includeHeaders,onChange:N=>x(O=>({...O,includeHeaders:N.target.checked})),className:"w-4 h-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),l.jsx("span",{className:"text-sm",children:" "})]})})]}),l.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-dark-600 flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>o(!1),className:"px-3 py-1.5 text-sm border border-gray-300 dark:border-dark-600 rounded hover:bg-gray-50 dark:hover:bg-dark-700",children:""}),l.jsx("button",{onClick:I,className:"px-3 py-1.5 text-sm bg-primary-600 hover:bg-primary-700 text-white rounded",children:""})]})]})})]})};var iie=Object.defineProperty,sie=(t,e,r)=>e in t?iie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bv=(t,e,r)=>(sie(t,typeof e!="symbol"?e+"":e,r),r);let oie=class{constructor(){Bv(this,"current",this.detect()),Bv(this,"handoffState","pending"),Bv(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Lo=new oie;function Rm(t){var e,r;return Lo.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(r=(e=t.current)==null?void 0:e.ownerDocument)!=null?r:document:null:document}function Mm(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Hi(){let t=[],e={addEventListener(r,n,a,i){return r.addEventListener(n,a,i),e.add(()=>r.removeEventListener(n,a,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Mm(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=Hi();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function P2(){let[t]=_.useState(Hi);return _.useEffect(()=>()=>t.dispose(),[t]),t}let Lr=(t,e)=>{Lo.isServer?_.useEffect(t,e):_.useLayoutEffect(t,e)};function ol(t){let e=_.useRef(t);return Lr(()=>{e.current=t},[t]),e}let pt=function(t){let e=ol(t);return ne.useCallback((...r)=>e.current(...r),[e])},lie=_.createContext(void 0);function cie(){return _.useContext(lie)}function Ky(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Fi(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Fi),n}var hp=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(hp||{}),xs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(xs||{});function pa(){let t=die();return _.useCallback(e=>uie({mergeRefs:t,...e}),[t])}function uie({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:i=!0,name:s,mergeRefs:o}){o=o??fie;let c=H8(e,t);if(i)return wh(c,r,n,s,o);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return wh(f,r,n,s,o)}if(u&1){let{unmount:d=!0,...f}=c;return Fi(d?0:1,{0(){return null},1(){return wh({...f,hidden:!0,style:{display:"none"}},r,n,s,o)}})}return wh(c,r,n,s,o)}function wh(t,e={},r,n,a){let{as:i=r,children:s,refName:o="ref",...c}=Fv(t,["unmount","static"]),u=t.ref!==void 0?{[o]:t.ref}:{},d=typeof s=="function"?s(e):s;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(e){let h=!1,p=[];for(let[m,g]of Object.entries(e))typeof g=="boolean"&&(h=!0),g===!0&&p.push(m.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(h){f["data-headlessui-state"]=p.join(" ");for(let m of p)f[`data-${m}`]=""}}if(i===_.Fragment&&(Object.keys(vo(c)).length>0||Object.keys(vo(f)).length>0))if(!_.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(vo(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(vo(c)).concat(Object.keys(vo(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=d.props,p=h==null?void 0:h.className,m=typeof p=="function"?(...x)=>Ky(p(...x),c.className):Ky(p,c.className),g=m?{className:m}:{},y=H8(d.props,vo(Fv(c,["ref"])));for(let x in f)x in y&&delete f[x];return _.cloneElement(d,Object.assign({},y,f,u,{ref:a(hie(d),u.ref)},g))}return _.createElement(i,Object.assign({},Fv(c,["ref"]),i!==_.Fragment&&u,i!==_.Fragment&&f),d)}function die(){let t=_.useRef([]),e=_.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function fie(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function H8(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var i;return(i=a==null?void 0:a.preventDefault)==null?void 0:i.call(a)}]);for(let n in r)Object.assign(e,{[n](a,...i){let s=r[n];for(let o of s){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;o(a,...i)}}});return e}function kn(t){var e;return Object.assign(_.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function vo(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function Fv(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function hie(t){return ne.version.split(".")[0]>="19"?t.props.ref:t.ref}let pie="span";var pp=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(pp||{});function mie(t,e){var r;let{features:n=1,...a}=t,i={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return pa()({ourProps:i,theirProps:a,slot:{},defaultTag:pie,name:"Hidden"})}let Zy=kn(mie);function W8(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Ms(t){return W8(t)&&"tagName"in t}function Yo(t){return Ms(t)&&"accessKey"in t}function ys(t){return Ms(t)&&"tabIndex"in t}function gie(t){return Ms(t)&&"style"in t}function vie(t){return Yo(t)&&t.nodeName==="IFRAME"}function xie(t){return Yo(t)&&t.nodeName==="INPUT"}let V8=Symbol();function yie(t,e=!0){return Object.assign(t,{[V8]:e})}function di(...t){let e=_.useRef(t);_.useEffect(()=>{e.current=t},[t]);let r=pt(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[V8]))?void 0:r}let R2=_.createContext(null);R2.displayName="DescriptionContext";function G8(){let t=_.useContext(R2);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,G8),e}return t}function bie(){let[t,e]=_.useState([]);return[t.length>0?t.join(" "):void 0,_.useMemo(()=>function(r){let n=pt(i=>(e(s=>[...s,i]),()=>e(s=>{let o=s.slice(),c=o.indexOf(i);return c!==-1&&o.splice(c,1),o}))),a=_.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return ne.createElement(R2.Provider,{value:a},r.children)},[e])]}let wie="p";function _ie(t,e){let r=_.useId(),n=cie(),{id:a=`headlessui-description-${r}`,...i}=t,s=G8(),o=di(e);Lr(()=>s.register(a),[a,s.register]);let c=n||!1,u=_.useMemo(()=>({...s.slot,disabled:c}),[s.slot,c]),d={ref:o,...s.props,id:a};return pa()({ourProps:d,theirProps:i,slot:u,defaultTag:wie,name:s.name||"Description"})}let kie=kn(_ie),Nie=Object.assign(kie,{});var X8=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(X8||{});let Sie=_.createContext(()=>{});function Eie({value:t,children:e}){return ne.createElement(Sie.Provider,{value:t},e)}let q8=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var Cie=Object.defineProperty,jie=(t,e,r)=>e in t?Cie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Aie=(t,e,r)=>(jie(t,e+"",r),r),Y8=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Xn=(t,e,r)=>(Y8(t,e,"read from private field"),r?r.call(t):e.get(t)),$v=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},C4=(t,e,r,n)=>(Y8(t,e,"write to private field"),e.set(t,r),r),Ua,Au,Tu;let Tie=class{constructor(e){$v(this,Ua,{}),$v(this,Au,new q8(()=>new Set)),$v(this,Tu,new Set),Aie(this,"disposables",Hi()),C4(this,Ua,e)}dispose(){this.disposables.dispose()}get state(){return Xn(this,Ua)}subscribe(e,r){let n={selector:e,callback:r,current:e(Xn(this,Ua))};return Xn(this,Tu).add(n),this.disposables.add(()=>{Xn(this,Tu).delete(n)})}on(e,r){return Xn(this,Au).get(e).add(r),this.disposables.add(()=>{Xn(this,Au).get(e).delete(r)})}send(e){let r=this.reduce(Xn(this,Ua),e);if(r!==Xn(this,Ua)){C4(this,Ua,r);for(let n of Xn(this,Tu)){let a=n.selector(Xn(this,Ua));K8(n.current,a)||(n.current=a,n.callback(a))}for(let n of Xn(this,Au).get(e.type))n(Xn(this,Ua),e)}}};Ua=new WeakMap,Au=new WeakMap,Tu=new WeakMap;function K8(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Uv(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Uv(t.entries(),e.entries()):j4(t)&&j4(e)?Uv(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Uv(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function j4(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var Iie=Object.defineProperty,Oie=(t,e,r)=>e in t?Iie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,A4=(t,e,r)=>(Oie(t,typeof e!="symbol"?e+"":e,r),r),Die=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Die||{});let Pie={0(t,e){let r=e.id,n=t.stack,a=t.stack.indexOf(r);if(a!==-1){let i=t.stack.slice();return i.splice(a,1),i.push(r),n=i,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let a=t.stack.slice();return a.splice(n,1),{...t,stack:a}}},Rie=class Z8 extends Tie{constructor(){super(...arguments),A4(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),A4(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new Z8({stack:[]})}reduce(e,r){return Fi(r.type,Pie,e,r)}};const Q8=new q8(()=>Rie.new());var J8={exports:{}},eI={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf=_;function Mie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lie=typeof Object.is=="function"?Object.is:Mie,Bie=Sf.useSyncExternalStore,Fie=Sf.useRef,$ie=Sf.useEffect,Uie=Sf.useMemo,zie=Sf.useDebugValue;eI.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var i=Fie(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Uie(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var m=s.value;if(a(m,p))return f=m}return f=p}if(m=f,Lie(d,p))return m;var g=n(p);return a!==void 0&&a(m,g)?(d=p,m):(d=p,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,a]);var o=Bie(t,i[0],i[1]);return $ie(function(){s.hasValue=!0,s.value=o},[o]),zie(o),o};J8.exports=eI;var Hie=J8.exports;function tI(t,e,r=K8){return Hie.useSyncExternalStoreWithSelector(pt(n=>t.subscribe(Wie,n)),pt(()=>t.state),pt(()=>t.state),pt(e),r)}function Wie(t){return t}function Ef(t,e){let r=_.useId(),n=Q8.get(e),[a,i]=tI(n,_.useCallback(s=>[n.selectors.isTop(s,r),n.selectors.inStack(s,r)],[n,r]));return Lr(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?i?a:!0:!1}let Qy=new Map,nd=new Map;function T4(t){var e;let r=(e=nd.get(t))!=null?e:0;return nd.set(t,r+1),r!==0?()=>I4(t):(Qy.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>I4(t))}function I4(t){var e;let r=(e=nd.get(t))!=null?e:1;if(r===1?nd.delete(t):nd.set(t,r-1),r!==1)return;let n=Qy.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,Qy.delete(t))}function Vie(t,{allowed:e,disallowed:r}={}){let n=Ef(t,"inert-others");Lr(()=>{var a,i;if(!n)return;let s=Hi();for(let c of(a=r==null?void 0:r())!=null?a:[])c&&s.add(T4(c));let o=(i=e==null?void 0:e())!=null?i:[];for(let c of o){if(!c)continue;let u=Rm(c);if(!u)continue;let d=c.parentElement;for(;d&&d!==u.body;){for(let f of d.children)o.some(h=>f.contains(h))||s.add(T4(f));d=d.parentElement}}return s.dispose},[n,e,r])}function Gie(t,e,r){let n=ol(a=>{let i=a.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&r()});_.useEffect(()=>{if(!t)return;let a=e===null?null:Yo(e)?e:e.current;if(!a)return;let i=Hi();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>n.current(a));s.observe(a),i.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>n.current(a));s.observe(a),i.add(()=>s.disconnect())}return()=>i.dispose()},[e,n,t])}let mp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Xie=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var wi=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(wi||{}),Jy=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Jy||{}),qie=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(qie||{});function Yie(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(mp)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Kie(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Xie)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var rI=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(rI||{});function Zie(t,e=0){var r;return t===((r=Rm(t))==null?void 0:r.body)?!1:Fi(e,{0(){return t.matches(mp)},1(){let n=t;for(;n!==null;){if(n.matches(mp))return!0;n=n.parentElement}return!1}})}var Qie=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Qie||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ti(t){t==null||t.focus({preventScroll:!0})}let Jie=["textarea","input"].join(",");function ese(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Jie))!=null?r:!1}function tse(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),i=e(n);if(a===null||i===null)return 0;let s=a.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ad(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,s=Array.isArray(t)?r?tse(t):t:e&64?Kie(t):Yie(t);a.length>0&&s.length>1&&(s=s.filter(p=>!a.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),n=n??i.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(n))-1;if(e&4)return Math.max(0,s.indexOf(n))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=s.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=s[p],h==null||h.focus(u),d+=o}while(h!==i.activeElement);return e&6&&ese(h)&&h.select(),2}function nI(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function rse(){return/Android/gi.test(window.navigator.userAgent)}function O4(){return nI()||rse()}function _h(t,e,r,n){let a=ol(r);_.useEffect(()=>{if(!t)return;function i(s){a.current(s)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[t,e,n])}function aI(t,e,r,n){let a=ol(r);_.useEffect(()=>{if(!t)return;function i(s){a.current(s)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[t,e,n])}const D4=30;function nse(t,e,r){let n=ol(r),a=_.useCallback(function(o,c){if(o.defaultPrevented)return;let u=c(o);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function f(h){return typeof h=="function"?f(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let f of d)if(f!==null&&(f.contains(u)||o.composed&&o.composedPath().includes(f)))return;return!Zie(u,rI.Loose)&&u.tabIndex!==-1&&o.preventDefault(),n.current(o,u)},[n,e]),i=_.useRef(null);_h(t,"pointerdown",o=>{var c,u;O4()||(i.current=((u=(c=o.composedPath)==null?void 0:c.call(o))==null?void 0:u[0])||o.target)},!0),_h(t,"pointerup",o=>{if(O4()||!i.current)return;let c=i.current;return i.current=null,a(o,()=>c)},!0);let s=_.useRef({x:0,y:0});_h(t,"touchstart",o=>{s.current.x=o.touches[0].clientX,s.current.y=o.touches[0].clientY},!0),_h(t,"touchend",o=>{let c={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(c.x-s.current.x)>=D4||Math.abs(c.y-s.current.y)>=D4))return a(o,()=>ys(o.target)?o.target:null)},!0),aI(t,"blur",o=>a(o,()=>vie(window.document.activeElement)?window.document.activeElement:null),!0)}function Lm(...t){return _.useMemo(()=>Rm(...t),[...t])}function iI(t,e,r,n){let a=ol(r);_.useEffect(()=>{t=t??window;function i(s){a.current(s)}return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)},[t,e,n])}function ase(t){return _.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function ise(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...i){let s=e[a].call(r,...i);s&&(r=s,n.forEach(o=>o()))}}}function sse(){let t;return{before({doc:e}){var r;let n=e.documentElement,a=(r=e.defaultView)!=null?r:window;t=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),i=Math.max(0,t-a);r.style(n,"paddingRight",`${i}px`)}}}function ose(){return nI()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(i=>i()).some(i=>i.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=Hi();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let i=(a=window.scrollY)!=null?a:window.pageYOffset,s=null;e.addEventListener(t,"click",o=>{if(ys(o.target))try{let c=o.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);ys(d)&&!n(d)&&(s=d)}catch{}},!0),e.addEventListener(t,"touchstart",o=>{if(ys(o.target)&&gie(o.target))if(n(o.target)){let c=o.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(o.target,"touchAction","none")}),e.addEventListener(t,"touchmove",o=>{if(ys(o.target)){if(xie(o.target))return;if(n(o.target)){let c=o.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),e.add(()=>{var o;let c=(o=window.scrollY)!=null?o:window.pageYOffset;i!==c&&window.scrollTo(0,i),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function lse(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function cse(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Io=ise(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Hi(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:cse(r)},a=[ose(),sse(),lse()];a.forEach(({before:i})=>i==null?void 0:i(n)),a.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Io.subscribe(()=>{let t=Io.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Io.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Io.dispatch("TEARDOWN",r)}});function use(t,e,r=()=>({containers:[]})){let n=ase(Io),a=e?n.get(e):void 0,i=a?a.count>0:!1;return Lr(()=>{if(!(!e||!t))return Io.dispatch("PUSH",e,r),()=>Io.dispatch("POP",e,r)},[t,e]),i}function dse(t,e,r=()=>[document.body]){let n=Ef(t,"scroll-lock");use(n,e,a=>{var i;return{containers:[...(i=a.containers)!=null?i:[],r]}})}function fse(t=0){let[e,r]=_.useState(t),n=_.useCallback(c=>r(c),[e]),a=_.useCallback(c=>r(u=>u|c),[e]),i=_.useCallback(c=>(e&c)===c,[e]),s=_.useCallback(c=>r(u=>u&~c),[r]),o=_.useCallback(c=>r(u=>u^c),[r]);return{flags:e,setFlag:n,addFlag:a,hasFlag:i,removeFlag:s,toggleFlag:o}}var hse={},P4,R4;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((P4=process==null?void 0:hse)==null?void 0:P4.NODE_ENV)==="test"&&typeof((R4=Element==null?void 0:Element.prototype)==null?void 0:R4.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var pse=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(pse||{});function mse(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function gse(t,e,r,n){let[a,i]=_.useState(r),{hasFlag:s,addFlag:o,removeFlag:c}=fse(t&&a?3:0),u=_.useRef(!1),d=_.useRef(!1),f=P2();return Lr(()=>{var h;if(t){if(r&&i(!0),!e){r&&o(3);return}return(h=n==null?void 0:n.start)==null||h.call(n,r),vse(e,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(r?(o(3),c(4)):(o(4),c(2)))},run(){d.current?r?(c(3),o(4)):(c(4),o(3)):r?c(1):o(1)},done(){var p;d.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,c(7),r||i(!1),(p=n==null?void 0:n.end)==null||p.call(n,r))}})}},[t,r,e,f]),t?[a,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function vse(t,{prepare:e,run:r,done:n,inFlight:a}){let i=Hi();return yse(t,{prepare:e,inFlight:a}),i.nextFrame(()=>{r(),i.requestAnimationFrame(()=>{i.add(xse(t,n))})}),i.dispose}function xse(t,e){var r,n;let a=Hi();if(!t)return a.dispose;let i=!1;a.add(()=>{i=!0});let s=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(o=>o instanceof CSSTransition))!=null?n:[];return s.length===0?(e(),a.dispose):(Promise.allSettled(s.map(o=>o.finished)).then(()=>{i||e()}),a.dispose)}function yse(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function M2(t,e){let r=_.useRef([]),n=pt(t);_.useEffect(()=>{let a=[...r.current];for(let[i,s]of e.entries())if(r.current[i]!==s){let o=n(e,a);return r.current=e,o}},[n,...e])}function Bm(){return typeof window<"u"}function Uc(t){return sI(t)?(t.nodeName||"").toLowerCase():"#document"}function On(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fi(t){var e;return(e=(sI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sI(t){return Bm()?t instanceof Node||t instanceof On(t).Node:!1}function Da(t){return Bm()?t instanceof Element||t instanceof On(t).Element:!1}function oi(t){return Bm()?t instanceof HTMLElement||t instanceof On(t).HTMLElement:!1}function M4(t){return!Bm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof On(t).ShadowRoot}function Cf(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Pa(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function bse(t){return["table","td","th"].includes(Uc(t))}function Fm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function L2(t){const e=B2(),r=Da(t)?Pa(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function wse(t){let e=zs(t);for(;oi(e)&&!Sc(e);){if(L2(e))return e;if(Fm(e))return null;e=zs(e)}return null}function B2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sc(t){return["html","body","#document"].includes(Uc(t))}function Pa(t){return On(t).getComputedStyle(t)}function $m(t){return Da(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zs(t){if(Uc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||M4(t)&&t.host||fi(t);return M4(e)?e.host:e}function oI(t){const e=zs(t);return Sc(e)?t.ownerDocument?t.ownerDocument.body:t.body:oi(e)&&Cf(e)?e:oI(e)}function Ud(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=oI(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),s=On(a);if(i){const o=eb(s);return e.concat(s,s.visualViewport||[],Cf(a)?a:[],o&&r?Ud(o):[])}return e.concat(a,Ud(a,[],r))}function eb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Ec=Math.min,Bo=Math.max,gp=Math.round,kh=Math.floor,ni=t=>({x:t,y:t}),_se={left:"right",right:"left",bottom:"top",top:"bottom"},kse={start:"end",end:"start"};function tb(t,e,r){return Bo(t,Ec(e,r))}function jf(t,e){return typeof t=="function"?t(e):t}function Ko(t){return t.split("-")[0]}function Af(t){return t.split("-")[1]}function lI(t){return t==="x"?"y":"x"}function F2(t){return t==="y"?"height":"width"}function bs(t){return["top","bottom"].includes(Ko(t))?"y":"x"}function $2(t){return lI(bs(t))}function Nse(t,e,r){r===void 0&&(r=!1);const n=Af(t),a=$2(t),i=F2(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=vp(s)),[s,vp(s)]}function Sse(t){const e=vp(t);return[rb(t),e,rb(e)]}function rb(t){return t.replace(/start|end/g,e=>kse[e])}function Ese(t,e,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?a:n:e?n:a;case"left":case"right":return e?i:s;default:return[]}}function Cse(t,e,r,n){const a=Af(t);let i=Ese(Ko(t),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),e&&(i=i.concat(i.map(rb)))),i}function vp(t){return t.replace(/left|right|bottom|top/g,e=>_se[e])}function jse(t){return{top:0,right:0,bottom:0,left:0,...t}}function cI(t){return typeof t!="number"?jse(t):{top:t,right:t,bottom:t,left:t}}function xp(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function L4(t,e,r){let{reference:n,floating:a}=t;const i=bs(e),s=$2(e),o=F2(s),c=Ko(e),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Af(e)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const Ase=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,o=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:f}=L4(u,n,c),h=n,p={},m=0;for(let g=0;g<o.length;g++){const{name:y,fn:x}=o[g],{x:v,y:b,data:w,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:t,floating:e}});d=v??d,f=b??f,p={...p,[y]:{...p[y],...w}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:a}):S.rects),{x:d,y:f}=L4(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function uI(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:s,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=jf(e,t),m=cI(p),y=o[h?f==="floating"?"reference":"floating":f],x=xp(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),w=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=xp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:b,strategy:c}):v);return{top:(x.top-S.top+m.top)/w.y,bottom:(S.bottom-x.bottom+m.bottom)/w.y,left:(x.left-S.left+m.left)/w.x,right:(S.right-x.right+m.right)/w.x}}const Tse=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:s,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=jf(t,e)||{};if(u==null)return{};const f=cI(d),h={x:r,y:n},p=$2(a),m=F2(p),g=await s.getDimensions(u),y=p==="y",x=y?"top":"left",v=y?"bottom":"right",b=y?"clientHeight":"clientWidth",w=i.reference[m]+i.reference[p]-h[p]-i.floating[m],S=h[p]-i.reference[p],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let j=E?E[b]:0;(!j||!await(s.isElement==null?void 0:s.isElement(E)))&&(j=o.floating[b]||i.floating[m]);const I=w/2-S/2,k=j/2-g[m]/2-1,T=Ec(f[x],k),L=Ec(f[v],k),C=T,A=j-g[m]-L,N=j/2-g[m]/2+I,O=tb(C,N,A),$=!c.arrow&&Af(a)!=null&&N!==O&&i.reference[m]/2-(N<C?T:L)-g[m]/2<0,D=$?N<C?N-C:N-A:0;return{[p]:h[p]+D,data:{[p]:O,centerOffset:N-O-D,...$&&{alignmentOffset:D}},reset:$}}}),Ise=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=jf(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Ko(a),v=bs(o),b=Ko(o)===o,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!g?[vp(o)]:Sse(o)),E=m!=="none";!h&&E&&S.push(...Cse(o,g,m,w));const j=[o,...S],I=await uI(e,y),k=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&k.push(I[x]),f){const N=Nse(a,s,w);k.push(I[N[0]],I[N[1]])}if(T=[...T,{placement:a,overflows:k}],!k.every(N=>N<=0)){var L,C;const N=(((L=i.flip)==null?void 0:L.index)||0)+1,O=j[N];if(O&&(!(f==="alignment"?v!==bs(O):!1)||T.every(R=>R.overflows[0]>0&&bs(R.placement)===v)))return{data:{index:N,overflows:T},reset:{placement:O}};let $=(C=T.filter(D=>D.overflows[0]<=0).sort((D,R)=>D.overflows[1]-R.overflows[1])[0])==null?void 0:C.placement;if(!$)switch(p){case"bestFit":{var A;const D=(A=T.filter(R=>{if(E){const M=bs(R.placement);return M===v||M==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(M=>M>0).reduce((M,F)=>M+F,0)]).sort((R,M)=>R[1]-M[1])[0])==null?void 0:A[0];D&&($=D);break}case"initialPlacement":$=o;break}if(a!==$)return{reset:{placement:$}}}return{}}}};async function Ose(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=Ko(r),o=Af(r),c=bs(r)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=jf(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Dse=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:s,middlewareData:o}=e,c=await Ose(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},Pse=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:y=>{let{x,y:v}=y;return{x,y:v}}},...c}=jf(t,e),u={x:r,y:n},d=await uI(e,c),f=bs(Ko(a)),h=lI(f);let p=u[h],m=u[f];if(i){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=p+d[y],b=p-d[x];p=tb(v,p,b)}if(s){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=m+d[y],b=m-d[x];m=tb(v,m,b)}const g=o.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:s}}}}}};function dI(t){const e=Pa(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=oi(t),i=a?t.offsetWidth:r,s=a?t.offsetHeight:n,o=gp(r)!==i||gp(n)!==s;return o&&(r=i,n=s),{width:r,height:n,$:o}}function U2(t){return Da(t)?t:t.contextElement}function tc(t){const e=U2(t);if(!oi(e))return ni(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=dI(e);let s=(i?gp(r.width):r.width)/n,o=(i?gp(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Rse=ni(0);function fI(t){const e=On(t);return!B2()||!e.visualViewport?Rse:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Mse(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==On(t)?!1:e}function Zo(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=U2(t);let s=ni(1);e&&(n?Da(n)&&(s=tc(n)):s=tc(t));const o=Mse(i,r,n)?fI(i):ni(0);let c=(a.left+o.x)/s.x,u=(a.top+o.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const h=On(i),p=n&&Da(n)?On(n):n;let m=h,g=eb(m);for(;g&&n&&p!==m;){const y=tc(g),x=g.getBoundingClientRect(),v=Pa(g),b=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,w=x.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=w,m=On(g),g=eb(m)}}return xp({width:d,height:f,x:c,y:u})}function z2(t,e){const r=$m(t).scrollLeft;return e?e.left+r:Zo(fi(t)).left+r}function hI(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-(r?0:z2(t,n)),i=n.top+e.scrollTop;return{x:a,y:i}}function Lse(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",s=fi(n),o=e?Fm(e.floating):!1;if(n===s||o&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ni(1);const d=ni(0),f=oi(n);if((f||!f&&!i)&&((Uc(n)!=="body"||Cf(s))&&(c=$m(n)),oi(n))){const p=Zo(n);u=tc(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=s&&!f&&!i?hI(s,c,!0):ni(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Bse(t){return Array.from(t.getClientRects())}function Fse(t){const e=fi(t),r=$m(t),n=t.ownerDocument.body,a=Bo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Bo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+z2(t);const o=-r.scrollTop;return Pa(n).direction==="rtl"&&(s+=Bo(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:o}}function $se(t,e){const r=On(t),n=fi(t),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,c=0;if(a){i=a.width,s=a.height;const u=B2();(!u||u&&e==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:o,y:c}}function Use(t,e){const r=Zo(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=oi(t)?tc(t):ni(1),s=t.clientWidth*i.x,o=t.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:o,x:c,y:u}}function B4(t,e,r){let n;if(e==="viewport")n=$se(t,r);else if(e==="document")n=Fse(fi(t));else if(Da(e))n=Use(e,r);else{const a=fI(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return xp(n)}function pI(t,e){const r=zs(t);return r===e||!Da(r)||Sc(r)?!1:Pa(r).position==="fixed"||pI(r,e)}function zse(t,e){const r=e.get(t);if(r)return r;let n=Ud(t,[],!1).filter(o=>Da(o)&&Uc(o)!=="body"),a=null;const i=Pa(t).position==="fixed";let s=i?zs(t):t;for(;Da(s)&&!Sc(s);){const o=Pa(s),c=L2(s);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Cf(s)&&!c&&pI(t,s))?n=n.filter(d=>d!==s):a=o,s=zs(s)}return e.set(t,n),n}function Hse(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const s=[...r==="clippingAncestors"?Fm(e)?[]:zse(e,this._c):[].concat(r),n],o=s[0],c=s.reduce((u,d)=>{const f=B4(e,d,a);return u.top=Bo(f.top,u.top),u.right=Ec(f.right,u.right),u.bottom=Ec(f.bottom,u.bottom),u.left=Bo(f.left,u.left),u},B4(e,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Wse(t){const{width:e,height:r}=dI(t);return{width:e,height:r}}function Vse(t,e,r){const n=oi(e),a=fi(e),i=r==="fixed",s=Zo(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const c=ni(0);function u(){c.x=z2(a)}if(n||!n&&!i)if((Uc(e)!=="body"||Cf(a))&&(o=$m(e)),n){const p=Zo(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?hI(a,o):ni(0),f=s.left+o.scrollLeft-c.x-d.x,h=s.top+o.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function zv(t){return Pa(t).position==="static"}function F4(t,e){if(!oi(t)||Pa(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return fi(t)===r&&(r=r.ownerDocument.body),r}function mI(t,e){const r=On(t);if(Fm(t))return r;if(!oi(t)){let a=zs(t);for(;a&&!Sc(a);){if(Da(a)&&!zv(a))return a;a=zs(a)}return r}let n=F4(t,e);for(;n&&bse(n)&&zv(n);)n=F4(n,e);return n&&Sc(n)&&zv(n)&&!L2(n)?r:n||wse(t)||r}const Gse=async function(t){const e=this.getOffsetParent||mI,r=this.getDimensions,n=await r(t.floating);return{reference:Vse(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Xse(t){return Pa(t).direction==="rtl"}const qse={convertOffsetParentRelativeRectToViewportRelativeRect:Lse,getDocumentElement:fi,getClippingRect:Hse,getOffsetParent:mI,getElementRects:Gse,getClientRects:Bse,getDimensions:Wse,getScale:tc,isElement:Da,isRTL:Xse};function gI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Yse(t,e){let r=null,n;const a=fi(t);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||e(),!h||!p)return;const m=kh(f),g=kh(a.clientWidth-(d+h)),y=kh(a.clientHeight-(f+p)),x=kh(d),b={rootMargin:-m+"px "+-g+"px "+-y+"px "+-x+"px",threshold:Bo(0,Ec(1,c))||1};let w=!0;function S(E){const j=E[0].intersectionRatio;if(j!==c){if(!w)return s();j?s(!1,j):n=setTimeout(()=>{s(!1,1e-7)},1e3)}j===1&&!gI(u,t.getBoundingClientRect())&&s(),w=!1}try{r=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(t)}return s(!0),i}function Kse(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=U2(t),d=a||i?[...u?Ud(u):[],...Ud(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&o?Yse(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let m,g=c?Zo(t):null;c&&y();function y(){const x=Zo(t);g&&!gI(g,x)&&r(),g=x,m=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const Zse=Dse,Qse=Pse,Jse=Ise,eoe=Tse,$4=(t,e,r)=>{const n=new Map,a={platform:qse,...r},i={...a.platform,_c:n};return Ase(t,e,{...a,platform:i})};let Um=_.createContext(null);Um.displayName="OpenClosedContext";var ja=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ja||{});function zm(){return _.useContext(Um)}function toe({value:t,children:e}){return ne.createElement(Um.Provider,{value:t},e)}function roe({children:t}){return ne.createElement(Um.Provider,{value:null},t)}function noe(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let fs=[];noe(()=>{function t(e){if(!ys(e.target)||e.target===document.body||fs[0]===e.target)return;let r=e.target;r=r.closest(mp),fs.unshift(r??e.target),fs=fs.filter(n=>n!=null&&n.isConnected),fs.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function vI(t){let e=pt(t),r=_.useRef(!1);_.useEffect(()=>(r.current=!1,()=>{r.current=!0,Mm(()=>{r.current&&e()})}),[e])}function aoe(){let t=typeof document>"u";return"useSyncExternalStore"in Yv?(e=>e.useSyncExternalStore)(Yv)(()=>()=>{},()=>!1,()=>!t):!1}function Tf(){let t=aoe(),[e,r]=_.useState(Lo.isHandoffComplete);return e&&Lo.isHandoffComplete===!1&&r(!1),_.useEffect(()=>{e!==!0&&r(!0)},[e]),_.useEffect(()=>Lo.handoff(),[]),t?!1:e}let xI=_.createContext(!1);function ioe(){return _.useContext(xI)}function U4(t){return ne.createElement(xI.Provider,{value:t.force},t.children)}function soe(t){let e=ioe(),r=_.useContext(bI),[n,a]=_.useState(()=>{var i;if(!e&&r!==null)return(i=r.current)!=null?i:null;if(Lo.isServer)return null;let s=t==null?void 0:t.getElementById("headlessui-portal-root");if(s)return s;if(t===null)return null;let o=t.createElement("div");return o.setAttribute("id","headlessui-portal-root"),t.body.appendChild(o)});return _.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),_.useEffect(()=>{e||r!==null&&a(r.current)},[r,a,e]),n}let yI=_.Fragment,ooe=kn(function(t,e){let{ownerDocument:r=null,...n}=t,a=_.useRef(null),i=di(yie(p=>{a.current=p}),e),s=Lm(a),o=r??s,c=soe(o),[u]=_.useState(()=>{var p;return Lo.isServer?null:(p=o==null?void 0:o.createElement("div"))!=null?p:null}),d=_.useContext(nb),f=Tf();Lr(()=>{!c||!u||c.contains(u)||(u.setAttribute("data-headlessui-portal",""),c.appendChild(u))},[c,u]),Lr(()=>{if(u&&d)return d.register(u)},[d,u]),vI(()=>{var p;!c||!u||(W8(u)&&c.contains(u)&&c.removeChild(u),c.childNodes.length<=0&&((p=c.parentElement)==null||p.removeChild(c)))});let h=pa();return f?!c||!u?null:Rp.createPortal(h({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:yI,name:"Portal"}),u):null});function loe(t,e){let r=di(e),{enabled:n=!0,ownerDocument:a,...i}=t,s=pa();return n?ne.createElement(ooe,{...i,ownerDocument:a,ref:r}):s({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:yI,name:"Portal"})}let coe=_.Fragment,bI=_.createContext(null);function uoe(t,e){let{target:r,...n}=t,a={ref:di(e)},i=pa();return ne.createElement(bI.Provider,{value:r},i({ourProps:a,theirProps:n,defaultTag:coe,name:"Popover.Group"}))}let nb=_.createContext(null);function doe(){let t=_.useContext(nb),e=_.useRef([]),r=pt(i=>(e.current.push(i),t&&t.register(i),()=>n(i))),n=pt(i=>{let s=e.current.indexOf(i);s!==-1&&e.current.splice(s,1),t&&t.unregister(i)}),a=_.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,_.useMemo(()=>function({children:i}){return ne.createElement(nb.Provider,{value:a},i)},[a])]}let foe=kn(loe),wI=kn(uoe),hoe=Object.assign(foe,{Group:wI});function poe(t,e=typeof document<"u"?document.defaultView:null,r){let n=Ef(t,"escape");iI(e,"keydown",a=>{n&&(a.defaultPrevented||a.key===X8.Escape&&r(a))})}function moe(){var t;let[e]=_.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=_.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Lr(()=>{if(!e)return;function a(i){n(i.matches)}return e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[e]),r}function goe({defaultContainers:t=[],portals:e,mainTreeNode:r}={}){let n=Lm(r),a=pt(()=>{var i,s;let o=[];for(let c of t)c!==null&&(Ms(c)?o.push(c):"current"in c&&Ms(c.current)&&o.push(c.current));if(e!=null&&e.current)for(let c of e.current)o.push(c);for(let c of(i=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&Ms(c)&&c.id!=="headlessui-portal-root"&&(r&&(c.contains(r)||c.contains((s=r==null?void 0:r.getRootNode())==null?void 0:s.host))||o.some(u=>c.contains(u))||o.push(c));return o});return{resolveContainers:a,contains:pt(i=>a().some(s=>s.contains(i)))}}let _I=_.createContext(null);function z4({children:t,node:e}){let[r,n]=_.useState(null),a=kI(e??r);return ne.createElement(_I.Provider,{value:a},t,a===null&&ne.createElement(Zy,{features:pp.Hidden,ref:i=>{var s,o;if(i){for(let c of(o=(s=Rm(i))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])if(c!==document.body&&c!==document.head&&Ms(c)&&c!=null&&c.contains(i)){n(c);break}}}}))}function kI(t=null){var e;return(e=_.useContext(_I))!=null?e:t}function H2(){let t=_.useRef(!1);return Lr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Iu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Iu||{});function voe(){let t=_.useRef(0);return aI(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function NI(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)Ms(r.current)&&e.add(r.current);return e}let xoe="div";var bo=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(bo||{});function yoe(t,e){let r=_.useRef(null),n=di(r,e),{initialFocus:a,initialFocusFallback:i,containers:s,features:o=15,...c}=t;Tf()||(o=0);let u=Lm(r);koe(o,{ownerDocument:u});let d=Noe(o,{ownerDocument:u,container:r,initialFocus:a,initialFocusFallback:i});Soe(o,{ownerDocument:u,container:r,containers:s,previousActiveElement:d});let f=voe(),h=pt(v=>{if(!Yo(r.current))return;let b=r.current;(w=>w())(()=>{Fi(f.current,{[Iu.Forwards]:()=>{ad(b,wi.First,{skipElements:[v.relatedTarget,i]})},[Iu.Backwards]:()=>{ad(b,wi.Last,{skipElements:[v.relatedTarget,i]})}})})}),p=Ef(!!(o&2),"focus-trap#tab-lock"),m=P2(),g=_.useRef(!1),y={ref:n,onKeyDown(v){v.key=="Tab"&&(g.current=!0,m.requestAnimationFrame(()=>{g.current=!1}))},onBlur(v){if(!(o&4))return;let b=NI(s);Yo(r.current)&&b.add(r.current);let w=v.relatedTarget;ys(w)&&w.dataset.headlessuiFocusGuard!=="true"&&(SI(b,w)||(g.current?ad(r.current,Fi(f.current,{[Iu.Forwards]:()=>wi.Next,[Iu.Backwards]:()=>wi.Previous})|wi.WrapAround,{relativeTo:v.target}):ys(v.target)&&Ti(v.target)))}},x=pa();return ne.createElement(ne.Fragment,null,p&&ne.createElement(Zy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:pp.Focusable}),x({ourProps:y,theirProps:c,defaultTag:xoe,name:"FocusTrap"}),p&&ne.createElement(Zy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:pp.Focusable}))}let boe=kn(yoe),woe=Object.assign(boe,{features:bo});function _oe(t=!0){let e=_.useRef(fs.slice());return M2(([r],[n])=>{n===!0&&r===!1&&Mm(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=fs.slice())},[t,fs,e]),pt(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function koe(t,{ownerDocument:e}){let r=!!(t&8),n=_oe(r);M2(()=>{r||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Ti(n())},[r]),vI(()=>{r&&Ti(n())})}function Noe(t,{ownerDocument:e,container:r,initialFocus:n,initialFocusFallback:a}){let i=_.useRef(null),s=Ef(!!(t&1),"focus-trap#initial-focus"),o=H2();return M2(()=>{if(t===0)return;if(!s){a!=null&&a.current&&Ti(a.current);return}let c=r.current;c&&Mm(()=>{if(!o.current)return;let u=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===u){i.current=u;return}}else if(c.contains(u)){i.current=u;return}if(n!=null&&n.current)Ti(n.current);else{if(t&16){if(ad(c,wi.First|wi.AutoFocus)!==Jy.Error)return}else if(ad(c,wi.First)!==Jy.Error)return;if(a!=null&&a.current&&(Ti(a.current),(e==null?void 0:e.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=e==null?void 0:e.activeElement})},[a,s,t]),i}function Soe(t,{ownerDocument:e,container:r,containers:n,previousActiveElement:a}){let i=H2(),s=!!(t&4);iI(e==null?void 0:e.defaultView,"focus",o=>{if(!s||!i.current)return;let c=NI(n);Yo(r.current)&&c.add(r.current);let u=a.current;if(!u)return;let d=o.target;Yo(d)?SI(c,d)?(a.current=d,Ti(d)):(o.preventDefault(),o.stopPropagation(),Ti(u)):Ti(a.current)},!0)}function SI(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function EI(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:jI)!==_.Fragment||ne.Children.count(t.children)===1}let Hm=_.createContext(null);Hm.displayName="TransitionContext";var Eoe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Eoe||{});function Coe(){let t=_.useContext(Hm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function joe(){let t=_.useContext(Wm);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Wm=_.createContext(null);Wm.displayName="NestingContext";function Vm(t){return"children"in t?Vm(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function CI(t,e){let r=ol(t),n=_.useRef([]),a=H2(),i=P2(),s=pt((p,m=xs.Hidden)=>{let g=n.current.findIndex(({el:y})=>y===p);g!==-1&&(Fi(m,{[xs.Unmount](){n.current.splice(g,1)},[xs.Hidden](){n.current[g].state="hidden"}}),i.microTask(()=>{var y;!Vm(n)&&a.current&&((y=r.current)==null||y.call(r))}))}),o=pt(p=>{let m=n.current.find(({el:g})=>g===p);return m?m.state!=="visible"&&(m.state="visible"):n.current.push({el:p,state:"visible"}),()=>s(p,xs.Unmount)}),c=_.useRef([]),u=_.useRef(Promise.resolve()),d=_.useRef({enter:[],leave:[]}),f=pt((p,m,g)=>{c.current.splice(0),e&&(e.chains.current[m]=e.chains.current[m].filter(([y])=>y!==p)),e==null||e.chains.current[m].push([p,new Promise(y=>{c.current.push(y)})]),e==null||e.chains.current[m].push([p,new Promise(y=>{Promise.all(d.current[m].map(([x,v])=>v)).then(()=>y())})]),m==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>g(m)):g(m)}),h=pt((p,m,g)=>{Promise.all(d.current[m].splice(0).map(([y,x])=>x)).then(()=>{var y;(y=c.current.shift())==null||y()}).then(()=>g(m))});return _.useMemo(()=>({children:n,register:o,unregister:s,onStart:f,onStop:h,wait:u,chains:d}),[o,s,n,f,h,d,u])}let jI=_.Fragment,AI=hp.RenderStrategy;function Aoe(t,e){var r,n;let{transition:a=!0,beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:c,enter:u,enterFrom:d,enterTo:f,entered:h,leave:p,leaveFrom:m,leaveTo:g,...y}=t,[x,v]=_.useState(null),b=_.useRef(null),w=EI(t),S=di(...w?[b,e,v]:e===null?[]:[e]),E=(r=y.unmount)==null||r?xs.Unmount:xs.Hidden,{show:j,appear:I,initial:k}=Coe(),[T,L]=_.useState(j?"visible":"hidden"),C=joe(),{register:A,unregister:N}=C;Lr(()=>A(b),[A,b]),Lr(()=>{if(E===xs.Hidden&&b.current){if(j&&T!=="visible"){L("visible");return}return Fi(T,{hidden:()=>N(b),visible:()=>A(b)})}},[T,b,A,N,j,E]);let O=Tf();Lr(()=>{if(w&&O&&T==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,T,O,w]);let $=k&&!I,D=I&&j&&k,R=_.useRef(!1),M=CI(()=>{R.current||(L("hidden"),N(b))},C),F=pt(oe=>{R.current=!0;let ie=oe?"enter":"leave";M.onStart(b,ie,se=>{se==="enter"?i==null||i():se==="leave"&&(o==null||o())})}),B=pt(oe=>{let ie=oe?"enter":"leave";R.current=!1,M.onStop(b,ie,se=>{se==="enter"?s==null||s():se==="leave"&&(c==null||c())}),ie==="leave"&&!Vm(M)&&(L("hidden"),N(b))});_.useEffect(()=>{w&&a||(F(j),B(j))},[j,w,a]);let U=!(!a||!w||!O||$),[,q]=gse(U,x,j,{start:F,end:B}),ee=vo({ref:S,className:((n=Ky(y.className,D&&u,D&&d,q.enter&&u,q.enter&&q.closed&&d,q.enter&&!q.closed&&f,q.leave&&p,q.leave&&!q.closed&&m,q.leave&&q.closed&&g,!q.transition&&j&&h))==null?void 0:n.trim())||void 0,...mse(q)}),V=0;T==="visible"&&(V|=ja.Open),T==="hidden"&&(V|=ja.Closed),j&&T==="hidden"&&(V|=ja.Opening),!j&&T==="visible"&&(V|=ja.Closing);let re=pa();return ne.createElement(Wm.Provider,{value:M},ne.createElement(toe,{value:V},re({ourProps:ee,theirProps:y,defaultTag:jI,features:AI,visible:T==="visible",name:"Transition.Child"})))}function Toe(t,e){let{show:r,appear:n=!1,unmount:a=!0,...i}=t,s=_.useRef(null),o=EI(t),c=di(...o?[s,e]:e===null?[]:[e]);Tf();let u=zm();if(r===void 0&&u!==null&&(r=(u&ja.Open)===ja.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=_.useState(r?"visible":"hidden"),h=CI(()=>{r||f("hidden")}),[p,m]=_.useState(!0),g=_.useRef([r]);Lr(()=>{p!==!1&&g.current[g.current.length-1]!==r&&(g.current.push(r),m(!1))},[g,r]);let y=_.useMemo(()=>({show:r,appear:n,initial:p}),[r,n,p]);Lr(()=>{r?f("visible"):!Vm(h)&&s.current!==null&&f("hidden")},[r,h]);let x={unmount:a},v=pt(()=>{var S;p&&m(!1),(S=t.beforeEnter)==null||S.call(t)}),b=pt(()=>{var S;p&&m(!1),(S=t.beforeLeave)==null||S.call(t)}),w=pa();return ne.createElement(Wm.Provider,{value:h},ne.createElement(Hm.Provider,{value:y},w({ourProps:{...x,as:_.Fragment,children:ne.createElement(TI,{ref:c,...x,...i,beforeEnter:v,beforeLeave:b})},theirProps:{},defaultTag:_.Fragment,features:AI,visible:d==="visible",name:"Transition"})))}function Ioe(t,e){let r=_.useContext(Hm)!==null,n=zm()!==null;return ne.createElement(ne.Fragment,null,!r&&n?ne.createElement(ab,{ref:e,...t}):ne.createElement(TI,{ref:e,...t}))}let ab=kn(Toe),TI=kn(Aoe),W2=kn(Ioe),Ooe=Object.assign(ab,{Child:W2,Root:ab});var Doe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Doe||{}),Poe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(Poe||{});let Roe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},V2=_.createContext(null);V2.displayName="DialogContext";function Gm(t){let e=_.useContext(V2);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Gm),r}return e}function Moe(t,e){return Fi(e.type,Roe,t,e)}let H4=kn(function(t,e){let r=_.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:i,initialFocus:s,role:o="dialog",autoFocus:c=!0,__demoMode:u=!1,unmount:d=!1,...f}=t,h=_.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(h.current||(h.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=zm();a===void 0&&p!==null&&(a=(p&ja.Open)===ja.Open);let m=_.useRef(null),g=di(m,e),y=Lm(m),x=a?0:1,[v,b]=_.useReducer(Moe,{titleId:null,descriptionId:null,panelRef:_.createRef()}),w=pt(()=>i(!1)),S=pt(q=>b({type:0,id:q})),E=Tf()?x===0:!1,[j,I]=doe(),k={get current(){var q;return(q=v.panelRef.current)!=null?q:m.current}},T=kI(),{resolveContainers:L}=goe({mainTreeNode:T,portals:j,defaultContainers:[k]}),C=p!==null?(p&ja.Closing)===ja.Closing:!1;Vie(u||C?!1:E,{allowed:pt(()=>{var q,ee;return[(ee=(q=m.current)==null?void 0:q.closest("[data-headlessui-portal]"))!=null?ee:null]}),disallowed:pt(()=>{var q;return[(q=T==null?void 0:T.closest("body > *:not(#headlessui-portal-root)"))!=null?q:null]})});let A=Q8.get(null);Lr(()=>{if(E)return A.actions.push(n),()=>A.actions.pop(n)},[A,n,E]);let N=tI(A,_.useCallback(q=>A.selectors.isTop(q,n),[A,n]));nse(N,L,q=>{q.preventDefault(),w()}),poe(N,y==null?void 0:y.defaultView,q=>{q.preventDefault(),q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),w()}),dse(u||C?!1:E,y,L),Gie(E,m,w);let[O,$]=bie(),D=_.useMemo(()=>[{dialogState:x,close:w,setTitleId:S,unmount:d},v],[x,v,w,S,d]),R=_.useMemo(()=>({open:x===0}),[x]),M={ref:g,id:n,role:o,tabIndex:-1,"aria-modal":u?void 0:x===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":O,unmount:d},F=!moe(),B=bo.None;E&&!u&&(B|=bo.RestoreFocus,B|=bo.TabLock,c&&(B|=bo.AutoFocus),F&&(B|=bo.InitialFocus));let U=pa();return ne.createElement(roe,null,ne.createElement(U4,{force:!0},ne.createElement(hoe,null,ne.createElement(V2.Provider,{value:D},ne.createElement(wI,{target:m},ne.createElement(U4,{force:!1},ne.createElement($,{slot:R},ne.createElement(I,null,ne.createElement(woe,{initialFocus:s,initialFocusFallback:m,containers:L,features:B},ne.createElement(Eie,{value:w},U({ourProps:M,theirProps:f,slot:R,defaultTag:Loe,features:Boe,visible:x===0,name:"Dialog"})))))))))))}),Loe="div",Boe=hp.RenderStrategy|hp.Static;function Foe(t,e){let{transition:r=!1,open:n,...a}=t,i=zm(),s=t.hasOwnProperty("open")||i!==null,o=t.hasOwnProperty("onClose");if(!s&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(n!==void 0||r)&&!a.static?ne.createElement(z4,null,ne.createElement(Ooe,{show:n,transition:r,unmount:a.unmount},ne.createElement(H4,{ref:e,...a}))):ne.createElement(z4,null,ne.createElement(H4,{ref:e,open:n,...a}))}let $oe="div";function Uoe(t,e){let r=_.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...i}=t,[{dialogState:s,unmount:o},c]=Gm("Dialog.Panel"),u=di(e,c.panelRef),d=_.useMemo(()=>({open:s===0}),[s]),f=pt(y=>{y.stopPropagation()}),h={ref:u,id:n,onClick:f},p=a?W2:_.Fragment,m=a?{unmount:o}:{},g=pa();return ne.createElement(p,{...m},g({ourProps:h,theirProps:i,slot:d,defaultTag:$oe,name:"Dialog.Panel"}))}let zoe="div";function Hoe(t,e){let{transition:r=!1,...n}=t,[{dialogState:a,unmount:i}]=Gm("Dialog.Backdrop"),s=_.useMemo(()=>({open:a===0}),[a]),o={ref:e,"aria-hidden":!0},c=r?W2:_.Fragment,u=r?{unmount:i}:{},d=pa();return ne.createElement(c,{...u},d({ourProps:o,theirProps:n,slot:s,defaultTag:zoe,name:"Dialog.Backdrop"}))}let Woe="h2";function Voe(t,e){let r=_.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:i,setTitleId:s}]=Gm("Dialog.Title"),o=di(e);_.useEffect(()=>(s(n),()=>s(null)),[n,s]);let c=_.useMemo(()=>({open:i===0}),[i]),u={ref:o,id:n};return pa()({ourProps:u,theirProps:a,slot:c,defaultTag:Woe,name:"Dialog.Title"})}let Goe=kn(Foe),Xoe=kn(Uoe);kn(Hoe);let qoe=kn(Voe),Hv=Object.assign(Goe,{Panel:Xoe,Title:qoe,Description:Nie});const II=t=>{if(!t)return"  ";try{return new Date(t).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}catch{return" "}},ib=t=>{if(!t)return"--:--";try{return new Date(t).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}catch{return"--:--"}},Yoe=t=>{if(!t)return"  ";try{return new Date(t).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"})}catch{return" "}},OI=t=>({conference:"",workshop:"-",meetup:"",seminar:"",webinar:"",training:""})[t]||t,DI=t=>{switch(t){case"conference":return l.jsx(IM,{className:"w-3 h-3"});case"workshop":return l.jsx(Mj,{className:"w-3 h-3"});case"meetup":return l.jsx(Vt,{className:"w-3 h-3"});default:return l.jsx(Oe,{className:"w-3 h-3"})}},Nh=({event:t,isPast:e=!1,isCompact:r=!1})=>{const[n,a]=_.useState([]);_.useEffect(()=>{(async()=>{if(!(!t.speakers||!Array.isArray(t.speakers)))try{const h=t.speakers.filter(g=>typeof g=="string"&&g.length>0);if(h.length===0)return;const{data:p,error:m}=await ue.from("speakers").select("id, name, photos").in("id",h).eq("active",!0);if(m)throw m;a(p||[])}catch(h){console.error("Error loading speakers:",h)}})()},[t.speakers]);const i=t.registrations||{},s=parseInt(i.current||"0")||0,o=parseInt(i.max_registrations||i.max_regs||"0")||0,c=o>0?s/o*100:0,u=()=>c>=90?"text-error-500":c>=70?"text-warning-500":"text-primary-500",d=f=>{if(!f.photos||!Array.isArray(f.photos))return null;const h=f.photos.find(p=>p.isMain)||f.photos[0];return h!=null&&h.url?zt(h.url):null};return l.jsxs("div",{className:`group relative bg-white dark:bg-dark-800 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700 hover:border-primary-200 dark:hover:border-primary-600 ${r?"p-4":"p-6"}`,children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-400 via-primary-500 to-primary-600"}),l.jsxs("div",{className:r?"mt-2":"mt-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsxs("span",{className:"inline-flex items-center gap-1 bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 px-2 py-1 rounded-md text-xs font-medium",children:[DI(t.event_type),l.jsx("span",{className:"ml-1",children:OI(t.event_type)})]})}),l.jsx("h3",{className:`font-bold text-gray-900 dark:text-white mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors ${r?"text-lg":"text-xl"}`,children:t.title||" "})]}),l.jsx("div",{className:"text-right ml-4",children:t.price>0?l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx(Kd,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),l.jsx("span",{className:`font-bold text-primary-600 dark:text-primary-400 ${r?"text-lg":"text-xl"}`,children:t.price.toLocaleString()}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.currency||"RUB"})]})}):l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx(Ij,{className:`text-success-600 dark:text-success-400 ${r?"w-5 h-5":"w-6 h-6"}`}),l.jsx("span",{className:`font-bold text-success-600 dark:text-success-400 ${r?"text-sm":"text-base"}`,children:""})]})})]}),l.jsxs("div",{className:`space-y-${r?"2":"4"}`,children:[l.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300",children:[l.jsx("div",{className:`flex items-center justify-center bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3 ${r?"w-6 h-6":"w-8 h-8"}`,children:l.jsx(Oe,{className:`text-primary-600 dark:text-primary-400 ${r?"w-3 h-3":"w-4 h-4"}`})}),l.jsx("span",{className:`font-medium ${r?"text-sm":""}`,children:II(t.start_at)})]}),l.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300",children:[l.jsx("div",{className:`flex items-center justify-center bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3 ${r?"w-6 h-6":"w-8 h-8"}`,children:l.jsx(bn,{className:`text-primary-600 dark:text-primary-400 ${r?"w-3 h-3":"w-4 h-4"}`})}),l.jsxs("span",{className:`font-medium ${r?"text-sm":""}`,children:[ib(t.start_at)," - ",ib(t.end_at)]})]}),l.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300",children:[l.jsx("div",{className:`flex items-center justify-center bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3 ${r?"w-6 h-6":"w-8 h-8"}`,children:l.jsx(Vt,{className:`text-primary-600 dark:text-primary-400 ${r?"w-3 h-3":"w-4 h-4"}`})}),l.jsxs("span",{className:`font-medium ${r?"text-sm":""}`,children:[l.jsx("span",{className:u(),children:s}),"  ",o," "]})]})]}),n.length>0&&!r&&l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-3",children:n.map(f=>{const h=d(f);return l.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 text-primary-700 dark:text-primary-300 px-3 py-2 rounded-full text-sm font-medium",children:[h?l.jsx("img",{src:h,alt:f.name,className:"w-6 h-6 rounded-full object-cover border-2 border-primary-200 dark:border-primary-600"}):l.jsx("div",{className:"w-6 h-6 bg-primary-200 dark:bg-primary-600 rounded-full flex items-center justify-center",children:l.jsx(Vt,{className:"w-3 h-3 text-primary-600 dark:text-primary-300"})}),l.jsx("span",{children:f.name||" "})]},f.id)})})]}),e&&l.jsx("div",{className:"mt-4",children:l.jsxs("span",{className:"inline-flex items-center bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-3 py-1 rounded-full text-sm font-medium",children:[l.jsx(Co,{className:"w-3 h-3 mr-1"}),""]})})]})]})},Wv=({event:t,isPast:e=!1})=>{const r=t.registrations||{},n=parseInt(r.current||"0")||0,a=parseInt(r.max_registrations||r.max_regs||"0")||0;return l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:border-primary-200 dark:hover:border-primary-600 transition-all duration-200 hover:shadow-md relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-400 via-primary-500 to-primary-600"}),l.jsx("div",{className:"flex items-start justify-between mt-2",children:l.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:DI(t.event_type)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate mb-1",children:t.title&&t.title.length>50?`${t.title.substring(0,50)}...`:t.title||" "}),l.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Oe,{className:"w-3 h-3 mr-1"}),Yoe(t.start_at)]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(bn,{className:"w-3 h-3 mr-1"}),ib(t.start_at)]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Vt,{className:"w-3 h-3 mr-1"}),n,"/",a]}),l.jsx("span",{className:"inline-flex items-center bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 px-2 py-0.5 rounded text-xs font-medium",children:OI(t.event_type)}),l.jsx("div",{className:"flex items-center gap-1",children:t.price>0?l.jsxs(l.Fragment,{children:[l.jsx(Kd,{className:"w-3 h-3"}),l.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[t.price.toLocaleString()," ",t.currency||"RUB"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ij,{className:"w-3 h-3 text-success-600"}),l.jsx("span",{className:"font-medium text-success-600",children:""})]})}),e&&n>0&&l.jsx("button",{className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium text-xs underline",children:""})]})]})]})})]})},Sh=({title:t,value:e,subtitle:r,icon:n,color:a="primary"})=>l.jsxs("div",{className:"bg-white dark:bg-dark-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all duration-200",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("div",{className:`w-6 h-6 bg-${a}-100 dark:bg-${a}-900/30 rounded-md flex items-center justify-center`,children:l.jsx(n,{className:`w-3 h-3 text-${a}-600 dark:text-${a}-400`})})}),l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t}),r&&l.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:r})]})]}),Eh=()=>l.jsxs("div",{className:"flex justify-center items-center py-12",children:[l.jsxs("div",{className:"relative",children:[l.jsx(mr,{className:"w-8 h-8 animate-spin text-primary-500"}),l.jsx("div",{className:"absolute inset-0 w-8 h-8 border-2 border-primary-200 dark:border-primary-800 rounded-full"})]}),l.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300 font-medium",children:" ..."})]}),Vv=({isListView:t,onToggle:e})=>l.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>e(!1),className:`p-2 rounded-md transition-all duration-200 ${t?"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300":"bg-white dark:bg-dark-700 text-primary-600 dark:text-primary-400 shadow-sm"}`,children:l.jsx(Oj,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>e(!0),className:`p-2 rounded-md transition-all duration-200 ${t?"bg-white dark:bg-dark-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:l.jsx(sw,{className:"w-4 h-4"})})]}),Ch=async(t,e=0,r=10)=>{try{const n=new Date().toISOString();let a=ue.from("events").select("*");if(t==="nearest"){const o=new Date(Date.now()+6048e5).toISOString();a=a.gte("start_at",n).lte("start_at",o).eq("status","active").order("start_at",{ascending:!0}).limit(1)}else t==="upcoming"?a=a.gte("start_at",n).eq("status","active").order("start_at",{ascending:!0}).range(e,e+r-1):t==="past"&&(a=a.or(`start_at.lt.${n},status.eq.past`).order("start_at",{ascending:!1}).range(e,e+r-1));const{data:i,error:s}=await a;if(s)throw console.error("Database error:",s),s;return{data:(i||[]).filter(o=>o&&o.id),hasMore:(i||[]).length===r}}catch(n){return console.error("Error loading events:",n),{data:[],hasMore:!1}}},Koe=()=>{const[t,e]=_.useState("dashboard"),[r,n]=_.useState(!1),[a,i]=_.useState("all"),[s,o]=_.useState({start:"",end:""}),[c,u]=_.useState({nearest:[],upcoming:[],past:[]}),[d,f]=_.useState({nearest:!1,upcoming:!1,past:!1}),[h,p]=_.useState({upcoming:!1,past:!1}),[m,g]=_.useState({upcoming:{offset:0,hasMore:!0},past:{offset:0,hasMore:!0}}),[y,x]=_.useState({totalEvents:0,totalParticipants:0,totalRevenue:0,avgParticipants:0,completionRate:0}),[v,b]=_.useState(!1),[w,S]=_.useState("visitors"),E=async()=>{try{const O=new Map,$=["nearest","upcoming","past"];for(const F of $)for(const B of c[F]){const U=B.registrations||{};U.reg_list&&Array.isArray(U.reg_list)&&U.reg_list.forEach(q=>{if(q.email&&q.full_name){const ee=q.email.toLowerCase().trim(),V=O.get(ee);V?O.set(ee,{full_name:V.full_name,count:V.count+1}):O.set(ee,{full_name:q.full_name.trim(),count:1})}})}const D=Array.from(O.entries()).map(([F,B])=>({email:F,full_name:B.full_name,count:B.count})).sort((F,B)=>B.count-F.count);let M="\uFEFF"+`,Email, 
`;D.forEach(F=>{M+=`"${F.full_name.replace(/"/g,'""')}","${F.email}",${F.count}
`}),I(M,"visitors_export"),alert(` ${D.length}  `)}catch(O){console.error("  :",O),alert("    ")}},j=async()=>{try{const O=[],$=["nearest","upcoming","past"];for(const M of $)for(const F of c[M]){const U=(F.registrations||{}).reg_list||[],q=U.length,ee=U.reduce((V,re)=>V+(re.total_amount||0),0);O.push({title:F.title||" ",date:II(F.start_at),participants:q,revenue:ee})}let R="\uFEFF"+`,,,
`;O.forEach(M=>{R+=`"${M.title.replace(/"/g,'""')}","${M.date}",${M.participants},${M.revenue}
`}),I(R,"full_stats_export"),alert(`   ${O.length} `)}catch(O){console.error("  :",O),alert("    ")}},I=(O,$)=>{const D=new Blob([O],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(D),M=document.createElement("a");M.setAttribute("href",R),M.setAttribute("download",`${$}_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M)},k=()=>{b(!0)},T=()=>{b(!1),w==="visitors"?E():j()},L=async()=>{try{let O=ue.from("events").select("*");const $=new Date;let D,R;switch(a){case"today":D=new Date($.setHours(0,0,0,0)).toISOString(),R=new Date($.setHours(23,59,59,999)).toISOString();break;case"week":const V=new Date($.setDate($.getDate()-$.getDay()));D=new Date(V.setHours(0,0,0,0)).toISOString(),R=new Date().toISOString();break;case"month":D=new Date($.getFullYear(),$.getMonth(),1).toISOString(),R=new Date().toISOString();break;case"custom":s.start&&s.end?(D=new Date(s.start).toISOString(),R=new Date(s.end).toISOString()):(D=null,R=new Date().toISOString());break;default:R=new Date().toISOString()}a!=="all"?(D&&(O=O.gte("start_at",D)),O=O.lte("start_at",R)):O=O.or(`start_at.lt.${new Date().toISOString()},status.eq.past`);const{data:M,error:F}=await O;if(F)throw F;const B=(M==null?void 0:M.length)||0;let U=0,q=0,ee=0;M==null||M.forEach(V=>{const re=V.registrations||{},oe=parseInt(re.current||"0")||0;U+=oe,V.price&&oe>0&&(q+=V.price*oe),(V.status==="completed"||oe>0)&&ee++}),x({totalEvents:B,totalParticipants:U,totalRevenue:q,avgParticipants:B>0?Math.round(U/B):0,completionRate:B>0?Math.round(ee/B*100):0})}catch(O){console.error("Error calculating stats:",O)}};_.useEffect(()=>{(async()=>{f({nearest:!0,upcoming:!0,past:!0});try{console.log("Loading initial data...");const[$,D,R]=await Promise.all([Ch("nearest",0,1),Ch("upcoming",0,6),Ch("past",0,10)]);console.log("Loaded data:",{nearestResult:$,upcomingResult:D,pastResult:R}),u({nearest:$.data,upcoming:D.data,past:R.data}),g({upcoming:{offset:6,hasMore:D.hasMore},past:{offset:10,hasMore:R.hasMore}}),await L()}catch($){console.error("Error loading initial data:",$)}finally{f({nearest:!1,upcoming:!1,past:!1})}})()},[]),_.useEffect(()=>{L()},[a,s]);const C=async O=>{if(m[O].hasMore){p($=>({...$,[O]:!0}));try{const $=await Ch(O,m[O].offset,10);u(D=>({...D,[O]:[...D[O],...$.data]})),g(D=>({...D,[O]:{offset:D[O].offset+10,hasMore:$.hasMore}}))}catch($){console.error(`Error loading more ${O} events:`,$)}finally{p($=>({...$,[O]:!1}))}}},A=[{id:"all",label:" ",icon:vk},{id:"today",label:"",icon:Oe},{id:"week",label:"",icon:Oe},{id:"month",label:"",icon:Oe},{id:"custom",label:"",icon:vk}],N=[{id:"dashboard",label:"",icon:Sd},{id:"upcoming",label:"",count:c.upcoming.length,icon:Oe},{id:"past",label:"",count:c.past.length,icon:Co}];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-12 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-4",children:" "}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"     "})]}),l.jsx("div",{className:"mb-10",children:l.jsx("div",{className:"flex flex-wrap justify-center gap-2 bg-white dark:bg-dark-800 p-2 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700",children:N.map(O=>{const $=O.icon;return l.jsxs("button",{onClick:()=>e(O.id),className:`flex items-center justify-center px-6 py-3 rounded-xl font-semibold transition-all duration-300 ${t===O.id?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg transform scale-105":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-dark-700"}`,children:[l.jsx($,{className:"w-5 h-5 mr-2"}),O.label,O.count&&O.count>0&&l.jsx("span",{className:`ml-3 px-2 py-1 text-sm rounded-full font-bold ${t===O.id?"bg-white/20 text-white":"bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400"}`,children:O.count})]},O.id)})})}),l.jsxs("div",{className:"space-y-8",children:[t==="dashboard"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[l.jsx(Sd,{className:"w-5 h-5 mr-2 text-primary-500"}),""]}),l.jsxs("button",{onClick:k,className:"flex items-center gap-2 bg-primary-500 hover:bg-primary-600 text-white px-3 py-1.5 rounded-lg transition-colors duration-200 shadow-sm text-sm",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),""]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:":"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:A.map(O=>{const $=O.icon;return l.jsxs("button",{onClick:()=>i(O.id),className:`flex items-center px-2 py-1 rounded-md font-medium transition-all duration-200 text-xs ${a===O.id?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx($,{className:"w-3 h-3 mr-1"}),O.label]},O.id)})}),a==="custom"&&l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:""}),l.jsx("input",{type:"date",value:s.start,onChange:O=>o($=>({...$,start:O.target.value})),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs bg-white dark:bg-dark-700 text-gray-900 dark:text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:""}),l.jsx("input",{type:"date",value:s.end,onChange:O=>o($=>({...$,end:O.target.value})),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs bg-white dark:bg-dark-700 text-gray-900 dark:text-white"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(Sh,{title:"",value:y.totalEvents,icon:Oe,color:"primary"}),l.jsx(Sh,{title:"",value:y.totalParticipants.toLocaleString(),icon:Vt,color:"success"}),l.jsx(Sh,{title:"",value:`${Math.round(y.totalRevenue/1e3)}K `,icon:zu,color:"warning"}),l.jsx(Sh,{title:". .",value:y.avgParticipants,subtitle:`${y.completionRate}% `,icon:Co,color:"error"})]})]})}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[l.jsx(bn,{className:"w-5 h-5 mr-2 text-primary-500"})," "]}),d.nearest?l.jsx(Eh,{}):c.nearest.length>0?l.jsx("div",{children:c.nearest.map(O=>l.jsx(Nh,{event:O},O.id))}):l.jsxs("div",{className:"text-center py-12 bg-white dark:bg-dark-800 rounded-2xl border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Oe,{className:"w-8 h-8 text-primary-500"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[l.jsx(Oe,{className:"w-6 h-6 mr-3 text-primary-500"})," "]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Vv,{isListView:r,onToggle:n}),l.jsxs("button",{onClick:()=>e("upcoming"),className:"flex items-center text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium",children:[l.jsx(Qd,{className:"w-4 h-4 mr-1"})," "]})]})]}),d.upcoming?l.jsx(Eh,{}):c.upcoming.length>0?l.jsx("div",{children:r?l.jsx("div",{className:"space-y-3",children:c.upcoming.slice(0,6).map(O=>l.jsx(Wv,{event:O},O.id))}):l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.upcoming.slice(0,6).map(O=>l.jsx(Nh,{event:O,isCompact:!0},O.id))})}):l.jsxs("div",{className:"text-center py-12 bg-white dark:bg-dark-800 rounded-2xl border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Oe,{className:"w-8 h-8 text-primary-500"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  "})]})]})]}),t==="upcoming"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[l.jsx(Oe,{className:"w-6 h-6 mr-3 text-primary-500"})," "]}),l.jsx(Vv,{isListView:r,onToggle:n})]}),d.upcoming?l.jsx(Eh,{}):c.upcoming.length>0?l.jsxs("div",{className:"space-y-8",children:[r?l.jsx("div",{className:"space-y-3",children:c.upcoming.map(O=>l.jsx(Wv,{event:O},O.id))}):l.jsx("div",{className:"grid gap-8 md:grid-cols-2 xl:grid-cols-3",children:c.upcoming.map(O=>l.jsx(Nh,{event:O},O.id))}),m.upcoming.hasMore&&l.jsx("div",{className:"text-center pt-4",children:l.jsx("button",{onClick:()=>C("upcoming"),disabled:h.upcoming,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg",children:h.upcoming?l.jsxs(l.Fragment,{children:[l.jsx(mr,{className:"w-5 h-5 mr-2 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ed,{className:"w-5 h-5 mr-2"}),"  10 "]})})})]}):l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Oe,{className:"w-12 h-12 text-primary-500"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"  ,    "})]})]}),t==="past"&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[l.jsx(Co,{className:"w-6 h-6 mr-3 text-primary-500"})," "]}),l.jsx(Vv,{isListView:r,onToggle:n})]}),d.past?l.jsx(Eh,{}):c.past.length>0?l.jsxs("div",{className:"space-y-8",children:[r?l.jsx("div",{className:"space-y-3",children:c.past.map(O=>l.jsx(Wv,{event:O,isPast:!0},O.id))}):l.jsx("div",{className:"grid gap-8 md:grid-cols-2 xl:grid-cols-3",children:c.past.map(O=>l.jsx(Nh,{event:O,isPast:!0},O.id))}),m.past.hasMore&&l.jsx("div",{className:"text-center pt-4",children:l.jsx("button",{onClick:()=>C("past"),disabled:h.past,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg",children:h.past?l.jsxs(l.Fragment,{children:[l.jsx(mr,{className:"w-5 h-5 mr-2 animate-spin"}),"..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ed,{className:"w-5 h-5 mr-2"}),"  10 "]})})})]}):l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Co,{className:"w-12 h-12 text-primary-500"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"     "})]})]})]}),l.jsx(Hv,{open:v,onClose:()=>b(!1),className:"fixed z-50 inset-0 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx(Hv.Overlay,{className:"fixed inset-0 bg-black bg-opacity-30 transition-opacity"}),l.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),l.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-dark-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[l.jsxs("div",{className:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[l.jsx(Hv.Title,{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"  "}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{id:"visitors-export",type:"radio",checked:w==="visitors",onChange:()=>S("visitors"),className:"h-4 w-4 mt-1 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600"}),l.jsxs("label",{htmlFor:"visitors-export",className:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:": , Email,  "})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{id:"fullstats-export",type:"radio",checked:w==="full_stats",onChange:()=>S("full_stats"),className:"h-4 w-4 mt-1 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600"}),l.jsxs("label",{htmlFor:"fullstats-export",className:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-300",children:[l.jsx("span",{className:"font-semibold",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:": , , , "})]})]})]})]}),l.jsxs("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{type:"button",onClick:T,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm",children:""}),l.jsx("button",{type:"button",onClick:()=>b(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-dark-700 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-600 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:""})]})]})]})})]})})},Zoe=()=>{const[t,e]=_.useState([]),[r,n]=_.useState({totalToday:0,totalThisWeek:0,totalThisMonth:0,uniqueUsersToday:0,uniqueUsersThisMonth:0,eventAttendance:0,generalAttendance:0}),[a,i]=_.useState(!0),[s,o]=_.useState(!1),[c,u]=_.useState(""),[d,f]=_.useState("all"),[h,p]=_.useState("week"),[m,g]=_.useState(1),[y,x]=_.useState(!0),v=20;_.useEffect(()=>{b()},[d,h,c]);const b=async()=>{try{i(!0),await Promise.all([w(),S(1)])}catch(T){console.error("Error fetching data:",T),K.error("  ")}finally{i(!1)}},w=async()=>{try{const T=new Date,L=new Date(T.getFullYear(),T.getMonth(),T.getDate()),C=zk(T,7),A=jd(T),{data:N,error:O}=await ue.from("user_attendance").select(`
          id,
          scanned_at,
          attendance_type,
          user_id
        `);if(O)throw O;const $=N.filter(B=>new Date(B.scanned_at)>=L),D=N.filter(B=>new Date(B.scanned_at)>=C),R=N.filter(B=>new Date(B.scanned_at)>=A),M=new Set($.map(B=>B.user_id)).size,F=new Set(R.map(B=>B.user_id)).size;n({totalToday:$.length,totalThisWeek:D.length,totalThisMonth:R.length,uniqueUsersToday:M,uniqueUsersThisMonth:F,eventAttendance:N.filter(B=>B.attendance_type==="event").length,generalAttendance:N.filter(B=>B.attendance_type==="general").length})}catch(T){console.error("Error fetching stats:",T)}},S=async T=>{try{let L=ue.from("user_attendance").select(`
          *,
          user_profile:profiles!user_attendance_user_id_fkey(name),
          scanned_by_profile:profiles!user_attendance_scanned_by_fkey(name),
          event:events(title, event_type)
        `).order("scanned_at",{ascending:!1});if(d!=="all"&&(L=L.eq("attendance_type",d)),h!=="all"){const $=new Date;let D;switch(h){case"today":D=new Date($.getFullYear(),$.getMonth(),$.getDate());break;case"week":D=zk($,7);break;case"month":D=jd($);break;default:D=new Date(0)}L=L.gte("scanned_at",D.toISOString())}if(c){const{data:$,error:D}=await ue.from("profiles").select("id").ilike("name",`%${c}%`);if(D)throw D;if($&&$.length>0){const R=$.map(M=>M.id);L=L.in("user_id",R)}else{e([]),x(!1);return}}const C=(T-1)*v,A=C+v-1;L=L.range(C,A);const{data:N,error:O}=await L;if(O)throw O;e(T===1?N||[]:$=>[...$,...N||[]]),x(((N==null?void 0:N.length)||0)===v),g(T)}catch(L){console.error("Error fetching attendance records:",L),K.error("   ")}},E=async()=>{try{const{data:T,error:L}=await ue.from("user_attendance").select(`
          scanned_at,
          attendance_type,
          location,
          notes,
          user_profile:profiles!user_attendance_user_id_fkey(name),
          scanned_by_profile:profiles!user_attendance_scanned_by_fkey(name),
          event:events(title, event_type)
        `).order("scanned_at",{ascending:!1});if(L)throw L;const A=[["  ",""," ","","","",""].join(","),...T.map(D=>[lt(new Date(D.scanned_at),"dd.MM.yyyy HH:mm"),`"${D.user_profile.name}"`,D.attendance_type==="event"?"":"",D.event?`"${D.event.title}"`:"",D.location?`"${D.location}"`:"",D.notes?`"${D.notes}"`:"",`"${D.scanned_by_profile.name}"`].join(","))].join(`
`),N=new Blob([A],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),$=URL.createObjectURL(N);O.setAttribute("href",$),O.setAttribute("download",`attendance_${lt(new Date,"yyyy-MM-dd")}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O),K.success(" ")}catch(T){console.error("Error exporting data:",T),K.error("  ")}},j=()=>{y&&!a&&S(m+1)},I=T=>lt(new Date(T),"dd.MM.yyyy HH:mm"),k=T=>{switch(T){case"event":return"";case"coworking":return"";default:return""}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-2",children:" "}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" QR-    "})]}),l.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center gap-2",children:[l.jsx(uc,{className:"h-5 w-5"})," QR-"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:""}),l.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:r.totalToday}),l.jsxs("p",{className:"text-xs text-blue-500 dark:text-blue-400 mt-1",children:[r.uniqueUsersToday,"  "]})]}),l.jsx(Oe,{className:"h-12 w-12 text-blue-500 opacity-80"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-6 rounded-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mb-1",children:" "}),l.jsx("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:r.totalThisWeek}),l.jsx("p",{className:"text-xs text-green-500 dark:text-green-400 mt-1",children:""})]}),l.jsx(Co,{className:"h-12 w-12 text-green-500 opacity-80"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 mb-1",children:" "}),l.jsx("p",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300",children:r.totalThisMonth}),l.jsxs("p",{className:"text-xs text-purple-500 dark:text-purple-400 mt-1",children:[r.uniqueUsersThisMonth,"  "]})]}),l.jsx(Vt,{className:"h-12 w-12 text-purple-500 opacity-80"})]})}),l.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 p-6 rounded-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400 mb-1",children:""}),l.jsx("p",{className:"text-3xl font-bold text-orange-700 dark:text-orange-300",children:r.eventAttendance}),l.jsxs("p",{className:"text-xs text-orange-500 dark:text-orange-400 mt-1",children:["vs ",r.generalAttendance," "]})]}),l.jsx(Sd,{className:"h-12 w-12 text-orange-500 opacity-80"})]})})]}),l.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"  ...",value:c,onChange:T=>u(T.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 w-64"})]}),l.jsxs("select",{value:d,onChange:T=>f(T.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg dark:bg-dark-700",children:[l.jsx("option",{value:"all",children:" "}),l.jsx("option",{value:"event",children:""}),l.jsx("option",{value:"general",children:" "})]}),l.jsxs("select",{value:h,onChange:T=>p(T.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg dark:bg-dark-700",children:[l.jsx("option",{value:"today",children:""}),l.jsx("option",{value:"week",children:" 7 "}),l.jsx("option",{value:"month",children:" "}),l.jsx("option",{value:"all",children:" "})]})]}),l.jsxs("button",{onClick:E,className:"btn-outline flex items-center gap-2",children:[l.jsx(Zd,{className:"h-4 w-4"})," CSV"]})]})}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-dark-600",children:l.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[l.jsx(Qd,{className:"h-5 w-5"})," "]})}),a&&t.length===0?l.jsx("div",{className:"p-8",children:l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((T,L)=>l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-dark-600 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-dark-600 rounded w-1/4 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 dark:bg-dark-600 rounded w-1/2"})]}),l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-dark-600 rounded w-20"})]},L))})}):t.length>0?l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-dark-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:""}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"  "}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:""}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"/"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:""}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-600",children:t.map(T=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-700",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.user_profile.name})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I(T.scanned_at)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T.attendance_type==="event"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}`,children:k(T.attendance_type)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:T.event?l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:T.event.title}),l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:T.event.event_type})]}):T.location||"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:T.scanned_by_profile.name})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs",children:T.notes?l.jsx("div",{className:"truncate",title:T.notes,children:T.notes}):"-"})]},T.id))})]}),y&&l.jsx("div",{className:"p-6 text-center border-t border-gray-200 dark:border-dark-600",children:l.jsx("button",{onClick:j,disabled:a,className:"btn-outline",children:a?"...":" "})})]}):l.jsxs("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:[l.jsx(Vt,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"  "}),l.jsx("p",{className:"text-sm",children:c||d!=="all"||h!=="all"?"   ":"  QR-    "})]})]}),s&&l.jsx(tT,{isOpen:s,onClose:()=>{o(!1),b()}})]})},Gv=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),Qoe=({children:t})=>{const[e,r]=_.useState(null),[n,a]=_.useState(null),[i,s]=_.useState(!1),o=Ra();_.useEffect(()=>{c();const{data:{subscription:d}}=Gv.auth.onAuthStateChange((f,h)=>{f==="SIGNED_IN"?(u(h==null?void 0:h.user.id),r(!0),s(!1)):f==="SIGNED_OUT"&&(r(!1),a(!1),s(!0),o("/"))});return()=>{d.unsubscribe()}},[o]);const c=async()=>{try{const{data:{session:d}}=await Gv.auth.getSession(),f=!!d;r(f),f?await u(d.user.id):s(!0)}catch(d){console.error("Error checking auth status:",d),r(!1),a(!1),s(!0)}},u=async d=>{try{const{data:f,error:h}=await Gv.from("profiles").select("role").eq("id",d).single();if(h)throw h;const p=(f==null?void 0:f.role)==="Admin";a(p),p||(K.error("      "),o("/"))}catch(f){console.error("Error checking user role:",f),a(!1),K.error("    "),o("/")}};return e===null||n===null?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs(l.Fragment,{children:[!e&&l.jsx(hw,{isOpen:i,onClose:()=>{s(!1),o("/")}}),e&&n?t:null]})},Joe=({children:t})=>{const[e,r]=_.useState(null),[n,a]=_.useState(!1),i=zi();_.useEffect(()=>{s();const{data:{subscription:o}}=ue.auth.onAuthStateChange((c,u)=>{c==="SIGNED_IN"?(r(!0),a(!1)):c==="SIGNED_OUT"&&r(!1)});return()=>{o.unsubscribe()}},[]);const s=async()=>{try{const{data:{session:o}}=await ue.auth.getSession(),c=!!o;r(c),c||a(!0)}catch(o){console.error("Error checking auth status:",o),r(!1),a(!0)}};return e===null?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs(l.Fragment,{children:[!e&&l.jsx(hw,{isOpen:n,onClose:()=>a(!1)}),e?t:l.jsx(gR,{to:"/",state:{from:i},replace:!0})]})};var W4={};const ele="react-tooltip-core-styles",tle="react-tooltip-base-styles",V4={core:!1,base:!1};function G4({css:t,id:e=tle,type:r="base",ref:n}){var a,i;if(!t||typeof document>"u"||V4[r]||r==="core"&&typeof process<"u"&&(!((a=process==null?void 0:W4)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((i=process==null?void 0:W4)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(e=ele),n||(n={});const{insertAt:s}=n;if(document.getElementById(e))return;const o=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=e,c.type="text/css",s==="top"&&o.firstChild?o.insertBefore(c,o.firstChild):o.appendChild(c),c.styleSheet?c.styleSheet.cssText=t:c.appendChild(document.createTextNode(t)),V4[r]=!0}const X4=async({elementReference:t=null,tooltipReference:e=null,tooltipArrowReference:r=null,place:n="top",offset:a=10,strategy:i="absolute",middlewares:s=[Zse(Number(a)),Jse({fallbackAxisSideDirection:"start"}),Qse({padding:5})],border:o,arrowSize:c=8})=>{if(!t)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(e===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const u=s;return r?(u.push(eoe({element:r,padding:5})),$4(t,e,{placement:n,strategy:i,middleware:u}).then(({x:d,y:f,placement:h,middlewareData:p})=>{var m,g;const y={left:`${d}px`,top:`${f}px`,border:o},{x,y:v}=(m=p.arrow)!==null&&m!==void 0?m:{x:0,y:0},b=(g={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&g!==void 0?g:"bottom",w=o&&{borderBottom:o,borderRight:o};let S=0;if(o){const E=`${o}`.match(/(\d+)px/);S=E!=null&&E[1]?Number(E[1]):1}return{tooltipStyles:y,tooltipArrowStyles:{left:x!=null?`${x}px`:"",top:v!=null?`${v}px`:"",right:"",bottom:"",...w,[b]:`-${c/2+S}px`},place:h}})):$4(t,e,{placement:"bottom",strategy:i,middleware:u}).then(({x:d,y:f,placement:h})=>({tooltipStyles:{left:`${d}px`,top:`${f}px`},tooltipArrowStyles:{},place:h}))},q4=(t,e)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(t,e),Y4=(t,e,r)=>{let n=null;const a=function(...i){const s=()=>{n=null};!n&&(t.apply(this,i),n=setTimeout(s,e))};return a.cancel=()=>{n&&(clearTimeout(n),n=null)},a},K4=t=>t!==null&&!Array.isArray(t)&&typeof t=="object",sb=(t,e)=>{if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((a,i)=>sb(a,e[i]));if(Array.isArray(t)!==Array.isArray(e))return!1;if(!K4(t)||!K4(e))return t===e;const r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(a=>sb(t[a],e[a]))},rle=t=>{if(!(t instanceof HTMLElement||t instanceof SVGElement))return!1;const e=getComputedStyle(t);return["overflow","overflow-x","overflow-y"].some(r=>{const n=e.getPropertyValue(r);return n==="auto"||n==="scroll"})},Z4=t=>{if(!t)return null;let e=t.parentElement;for(;e;){if(rle(e))return e;e=e.parentElement}return document.scrollingElement||document.documentElement},nle=typeof window<"u"?_.useLayoutEffect:_.useEffect,qn=t=>{t.current&&(clearTimeout(t.current),t.current=null)},ale="DEFAULT_TOOLTIP_ID",ile={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},sle=_.createContext({getTooltipData:()=>ile});function PI(t=ale){return _.useContext(sle).getTooltipData(t)}var xl={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Xv={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const ole=({forwardRef:t,id:e,className:r,classNameArrow:n,variant:a="dark",anchorId:i,anchorSelect:s,place:o="top",offset:c=10,events:u=["hover"],openOnClick:d=!1,positionStrategy:f="absolute",middlewares:h,wrapper:p,delayShow:m=0,delayHide:g=0,float:y=!1,hidden:x=!1,noArrow:v=!1,clickable:b=!1,closeOnEsc:w=!1,closeOnScroll:S=!1,closeOnResize:E=!1,openEvents:j,closeEvents:I,globalCloseEvents:k,imperativeModeOnly:T,style:L,position:C,afterShow:A,afterHide:N,disableTooltip:O,content:$,contentWrapperRef:D,isOpen:R,defaultIsOpen:M=!1,setIsOpen:F,activeAnchor:B,setActiveAnchor:U,border:q,opacity:ee,arrowColor:V,arrowSize:re=8,role:oe="tooltip"})=>{var ie;const se=_.useRef(null),ye=_.useRef(null),ve=_.useRef(null),Ge=_.useRef(null),_e=_.useRef(null),[P,Q]=_.useState({tooltipStyles:{},tooltipArrowStyles:{},place:o}),[X,W]=_.useState(!1),[H,G]=_.useState(!1),[J,ae]=_.useState(null),Z=_.useRef(!1),ce=_.useRef(null),{anchorRefs:ge,setActiveAnchor:fe}=PI(e),ke=_.useRef(!1),[We,Re]=_.useState([]),Gt=_.useRef(!1),$n=d||u.includes("click"),an=$n||(j==null?void 0:j.click)||(j==null?void 0:j.dblclick)||(j==null?void 0:j.mousedown),Un=j?{...j}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!j&&$n&&Object.assign(Un,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const nt=I?{...I}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!I&&$n&&Object.assign(nt,{mouseleave:!1,blur:!1,mouseout:!1});const Tr=k?{...k}:{escape:w||!1,scroll:S||!1,resize:E||!1,clickOutsideAnchor:an||!1};T&&(Object.assign(Un,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(nt,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Tr,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),nle(()=>(Gt.current=!0,()=>{Gt.current=!1}),[]);const St=xe=>{Gt.current&&(xe&&G(!0),setTimeout(()=>{Gt.current&&(F==null||F(xe),R===void 0&&W(xe))},10))};_.useEffect(()=>{if(R===void 0)return()=>null;R&&G(!0);const xe=setTimeout(()=>{W(R)},10);return()=>{clearTimeout(xe)}},[R]),_.useEffect(()=>{if(X!==Z.current)if(qn(_e),Z.current=X,X)A==null||A();else{const xe=(Ie=>{const De=Ie.match(/^([\d.]+)(ms|s)$/);if(!De)return 0;const[,Zt,Ir]=De;return Number(Zt)*(Ir==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));_e.current=setTimeout(()=>{G(!1),ae(null),N==null||N()},xe+25)}},[X]);const sn=xe=>{Q(Ie=>sb(Ie,xe)?Ie:xe)},Wi=(xe=m)=>{qn(ve),H?St(!0):ve.current=setTimeout(()=>{St(!0)},xe)},Vi=(xe=g)=>{qn(Ge),Ge.current=setTimeout(()=>{ke.current||St(!1)},xe)},Zs=xe=>{var Ie;if(!xe)return;const De=(Ie=xe.currentTarget)!==null&&Ie!==void 0?Ie:xe.target;if(!(De!=null&&De.isConnected))return U(null),void fe({current:null});m?Wi():St(!0),U(De),fe({current:De}),qn(Ge)},Gi=()=>{b?Vi(g||100):g?Vi():St(!1),qn(ve)},hi=({x:xe,y:Ie})=>{var De;const Zt={getBoundingClientRect:()=>({x:xe,y:Ie,width:0,height:0,top:Ie,left:xe,right:xe,bottom:Ie})};X4({place:(De=J==null?void 0:J.place)!==null&&De!==void 0?De:o,offset:c,elementReference:Zt,tooltipReference:se.current,tooltipArrowReference:ye.current,strategy:f,middlewares:h,border:q,arrowSize:re}).then(Ir=>{sn(Ir)})},zn=xe=>{if(!xe)return;const Ie=xe,De={x:Ie.clientX,y:Ie.clientY};hi(De),ce.current=De},La=xe=>{var Ie;if(!X)return;const De=xe.target;De.isConnected&&(!((Ie=se.current)===null||Ie===void 0)&&Ie.contains(De)||[document.querySelector(`[id='${i}']`),...We].some(Zt=>Zt==null?void 0:Zt.contains(De))||(St(!1),qn(ve)))},Of=Y4(Zs,50),sr=Y4(Gi,50),Hn=xe=>{sr.cancel(),Of(xe)},Ae=()=>{Of.cancel(),sr()},Xe=_.useCallback(()=>{var xe,Ie;const De=(xe=J==null?void 0:J.position)!==null&&xe!==void 0?xe:C;De?hi(De):y?ce.current&&hi(ce.current):B!=null&&B.isConnected&&X4({place:(Ie=J==null?void 0:J.place)!==null&&Ie!==void 0?Ie:o,offset:c,elementReference:B,tooltipReference:se.current,tooltipArrowReference:ye.current,strategy:f,middlewares:h,border:q,arrowSize:re}).then(Zt=>{Gt.current&&sn(Zt)})},[X,B,$,L,o,J==null?void 0:J.place,c,f,C,J==null?void 0:J.position,y,re]);_.useEffect(()=>{var xe,Ie;const De=new Set(ge);We.forEach(at=>{O!=null&&O(at)||De.add({current:at})});const Zt=document.querySelector(`[id='${i}']`);Zt&&!(O!=null&&O(Zt))&&De.add({current:Zt});const Ir=()=>{St(!1)},Ba=Z4(B),Fa=Z4(se.current);Tr.scroll&&(window.addEventListener("scroll",Ir),Ba==null||Ba.addEventListener("scroll",Ir),Fa==null||Fa.addEventListener("scroll",Ir));let Ur=null;Tr.resize?window.addEventListener("resize",Ir):B&&se.current&&(Ur=Kse(B,se.current,Xe,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const Wn=at=>{at.key==="Escape"&&St(!1)};Tr.escape&&window.addEventListener("keydown",Wn),Tr.clickOutsideAnchor&&window.addEventListener("click",La);const Et=[],ll=at=>!!(at!=null&&at.target&&(B!=null&&B.contains(at.target))),YI=at=>{X&&ll(at)||Zs(at)},KI=at=>{X&&ll(at)&&Gi()},Y2=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],K2=["click","dblclick","mousedown","mouseup"];Object.entries(Un).forEach(([at,pi])=>{pi&&(Y2.includes(at)?Et.push({event:at,listener:Hn}):K2.includes(at)&&Et.push({event:at,listener:YI}))}),Object.entries(nt).forEach(([at,pi])=>{pi&&(Y2.includes(at)?Et.push({event:at,listener:Ae}):K2.includes(at)&&Et.push({event:at,listener:KI}))}),y&&Et.push({event:"pointermove",listener:zn});const Z2=()=>{ke.current=!0},Q2=()=>{ke.current=!1,Gi()},J2=b&&(nt.mouseout||nt.mouseleave);return J2&&((xe=se.current)===null||xe===void 0||xe.addEventListener("mouseover",Z2),(Ie=se.current)===null||Ie===void 0||Ie.addEventListener("mouseout",Q2)),Et.forEach(({event:at,listener:pi})=>{De.forEach(Ym=>{var zc;(zc=Ym.current)===null||zc===void 0||zc.addEventListener(at,pi)})}),()=>{var at,pi;Tr.scroll&&(window.removeEventListener("scroll",Ir),Ba==null||Ba.removeEventListener("scroll",Ir),Fa==null||Fa.removeEventListener("scroll",Ir)),Tr.resize?window.removeEventListener("resize",Ir):Ur==null||Ur(),Tr.clickOutsideAnchor&&window.removeEventListener("click",La),Tr.escape&&window.removeEventListener("keydown",Wn),J2&&((at=se.current)===null||at===void 0||at.removeEventListener("mouseover",Z2),(pi=se.current)===null||pi===void 0||pi.removeEventListener("mouseout",Q2)),Et.forEach(({event:Ym,listener:zc})=>{De.forEach(ZI=>{var Km;(Km=ZI.current)===null||Km===void 0||Km.removeEventListener(Ym,zc)})})}},[B,Xe,H,ge,We,j,I,k,$n,m,g]),_.useEffect(()=>{var xe,Ie;let De=(Ie=(xe=J==null?void 0:J.anchorSelect)!==null&&xe!==void 0?xe:s)!==null&&Ie!==void 0?Ie:"";!De&&e&&(De=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`);const Zt=new MutationObserver(Ir=>{const Ba=[],Fa=[];Ir.forEach(Ur=>{if(Ur.type==="attributes"&&Ur.attributeName==="data-tooltip-id"&&(Ur.target.getAttribute("data-tooltip-id")===e?Ba.push(Ur.target):Ur.oldValue===e&&Fa.push(Ur.target)),Ur.type==="childList"){if(B){const Wn=[...Ur.removedNodes].filter(Et=>Et.nodeType===1);if(De)try{Fa.push(...Wn.filter(Et=>Et.matches(De))),Fa.push(...Wn.flatMap(Et=>[...Et.querySelectorAll(De)]))}catch{}Wn.some(Et=>{var ll;return!!(!((ll=Et==null?void 0:Et.contains)===null||ll===void 0)&&ll.call(Et,B))&&(G(!1),St(!1),U(null),qn(ve),qn(Ge),!0)})}if(De)try{const Wn=[...Ur.addedNodes].filter(Et=>Et.nodeType===1);Ba.push(...Wn.filter(Et=>Et.matches(De))),Ba.push(...Wn.flatMap(Et=>[...Et.querySelectorAll(De)]))}catch{}}}),(Ba.length||Fa.length)&&Re(Ur=>[...Ur.filter(Wn=>!Fa.includes(Wn)),...Ba])});return Zt.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Zt.disconnect()}},[e,s,J==null?void 0:J.anchorSelect,B]),_.useEffect(()=>{Xe()},[Xe]),_.useEffect(()=>{if(!(D!=null&&D.current))return()=>null;const xe=new ResizeObserver(()=>{setTimeout(()=>Xe())});return xe.observe(D.current),()=>{xe.disconnect()}},[$,D==null?void 0:D.current]),_.useEffect(()=>{var xe;const Ie=document.querySelector(`[id='${i}']`),De=[...We,Ie];B&&De.includes(B)||U((xe=We[0])!==null&&xe!==void 0?xe:Ie)},[i,We,B]),_.useEffect(()=>(M&&St(!0),()=>{qn(ve),qn(Ge)}),[]),_.useEffect(()=>{var xe;let Ie=(xe=J==null?void 0:J.anchorSelect)!==null&&xe!==void 0?xe:s;if(!Ie&&e&&(Ie=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Ie)try{const De=Array.from(document.querySelectorAll(Ie));Re(De)}catch{Re([])}},[e,s,J==null?void 0:J.anchorSelect]),_.useEffect(()=>{ve.current&&(qn(ve),Wi(m))},[m]);const Nn=(ie=J==null?void 0:J.content)!==null&&ie!==void 0?ie:$,Qs=X&&Object.keys(P.tooltipStyles).length>0;return _.useImperativeHandle(t,()=>({open:xe=>{if(xe!=null&&xe.anchorSelect)try{document.querySelector(xe.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${xe.anchorSelect}" is not a valid CSS selector`)}ae(xe??null),xe!=null&&xe.delay?Wi(xe.delay):St(!0)},close:xe=>{xe!=null&&xe.delay?Vi(xe.delay):St(!1)},activeAnchor:B,place:P.place,isOpen:!!(H&&!x&&Nn&&Qs)})),H&&!x&&Nn?ne.createElement(p,{id:e,role:oe,className:G1("react-tooltip",xl.tooltip,Xv.tooltip,Xv[a],r,`react-tooltip__place-${P.place}`,xl[Qs?"show":"closing"],Qs?"react-tooltip__show":"react-tooltip__closing",f==="fixed"&&xl.fixed,b&&xl.clickable),onTransitionEnd:xe=>{qn(_e),X||xe.propertyName!=="opacity"||(G(!1),ae(null),N==null||N())},style:{...L,...P.tooltipStyles,opacity:ee!==void 0&&Qs?ee:void 0},ref:se},Nn,ne.createElement(p,{className:G1("react-tooltip-arrow",xl.arrow,Xv.arrow,n,v&&xl.noArrow),style:{...P.tooltipArrowStyles,background:V?`linear-gradient(to right bottom, transparent 50%, ${V} 50%)`:void 0,"--rt-arrow-size":`${re}px`},ref:ye})):null},lle=({content:t})=>ne.createElement("span",{dangerouslySetInnerHTML:{__html:t}}),cle=ne.forwardRef(({id:t,anchorId:e,anchorSelect:r,content:n,html:a,render:i,className:s,classNameArrow:o,variant:c="dark",place:u="top",offset:d=10,wrapper:f="div",children:h=null,events:p=["hover"],openOnClick:m=!1,positionStrategy:g="absolute",middlewares:y,delayShow:x=0,delayHide:v=0,float:b=!1,hidden:w=!1,noArrow:S=!1,clickable:E=!1,closeOnEsc:j=!1,closeOnScroll:I=!1,closeOnResize:k=!1,openEvents:T,closeEvents:L,globalCloseEvents:C,imperativeModeOnly:A=!1,style:N,position:O,isOpen:$,defaultIsOpen:D=!1,disableStyleInjection:R=!1,border:M,opacity:F,arrowColor:B,arrowSize:U,setIsOpen:q,afterShow:ee,afterHide:V,disableTooltip:re,role:oe="tooltip"},ie)=>{const[se,ye]=_.useState(n),[ve,Ge]=_.useState(a),[_e,P]=_.useState(u),[Q,X]=_.useState(c),[W,H]=_.useState(d),[G,J]=_.useState(x),[ae,Z]=_.useState(v),[ce,ge]=_.useState(b),[fe,ke]=_.useState(w),[We,Re]=_.useState(f),[Gt,$n]=_.useState(p),[an,Un]=_.useState(g),[nt,Tr]=_.useState(null),[St,sn]=_.useState(null),Wi=_.useRef(R),{anchorRefs:Vi,activeAnchor:Zs}=PI(t),Gi=sr=>sr==null?void 0:sr.getAttributeNames().reduce((Hn,Ae)=>{var Xe;return Ae.startsWith("data-tooltip-")&&(Hn[Ae.replace(/^data-tooltip-/,"")]=(Xe=sr==null?void 0:sr.getAttribute(Ae))!==null&&Xe!==void 0?Xe:null),Hn},{}),hi=sr=>{const Hn={place:Ae=>{var Xe;P((Xe=Ae)!==null&&Xe!==void 0?Xe:u)},content:Ae=>{ye(Ae??n)},html:Ae=>{Ge(Ae??a)},variant:Ae=>{var Xe;X((Xe=Ae)!==null&&Xe!==void 0?Xe:c)},offset:Ae=>{H(Ae===null?d:Number(Ae))},wrapper:Ae=>{var Xe;Re((Xe=Ae)!==null&&Xe!==void 0?Xe:f)},events:Ae=>{const Xe=Ae==null?void 0:Ae.split(" ");$n(Xe??p)},"position-strategy":Ae=>{var Xe;Un((Xe=Ae)!==null&&Xe!==void 0?Xe:g)},"delay-show":Ae=>{J(Ae===null?x:Number(Ae))},"delay-hide":Ae=>{Z(Ae===null?v:Number(Ae))},float:Ae=>{ge(Ae===null?b:Ae==="true")},hidden:Ae=>{ke(Ae===null?w:Ae==="true")},"class-name":Ae=>{Tr(Ae)}};Object.values(Hn).forEach(Ae=>Ae(null)),Object.entries(sr).forEach(([Ae,Xe])=>{var Nn;(Nn=Hn[Ae])===null||Nn===void 0||Nn.call(Hn,Xe)})};_.useEffect(()=>{ye(n)},[n]),_.useEffect(()=>{Ge(a)},[a]),_.useEffect(()=>{P(u)},[u]),_.useEffect(()=>{X(c)},[c]),_.useEffect(()=>{H(d)},[d]),_.useEffect(()=>{J(x)},[x]),_.useEffect(()=>{Z(v)},[v]),_.useEffect(()=>{ge(b)},[b]),_.useEffect(()=>{ke(w)},[w]),_.useEffect(()=>{Un(g)},[g]),_.useEffect(()=>{Wi.current!==R&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[R]),_.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:R==="core",disableBase:R}}))},[]),_.useEffect(()=>{var sr;const Hn=new Set(Vi);let Ae=r;if(!Ae&&t&&(Ae=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Ae)try{document.querySelectorAll(Ae).forEach(Ie=>{Hn.add({current:Ie})})}catch{console.warn(`[react-tooltip] "${Ae}" is not a valid CSS selector`)}const Xe=document.querySelector(`[id='${e}']`);if(Xe&&Hn.add({current:Xe}),!Hn.size)return()=>null;const Nn=(sr=St??Xe)!==null&&sr!==void 0?sr:Zs.current,Qs=new MutationObserver(Ie=>{Ie.forEach(De=>{var Zt;if(!Nn||De.type!=="attributes"||!(!((Zt=De.attributeName)===null||Zt===void 0)&&Zt.startsWith("data-tooltip-")))return;const Ir=Gi(Nn);hi(Ir)})}),xe={attributes:!0,childList:!1,subtree:!1};if(Nn){const Ie=Gi(Nn);hi(Ie),Qs.observe(Nn,xe)}return()=>{Qs.disconnect()}},[Vi,Zs,St,e,r]),_.useEffect(()=>{N!=null&&N.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),M&&!q4("border",`${M}`)&&console.warn(`[react-tooltip] "${M}" is not a valid \`border\`.`),N!=null&&N.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),F&&!q4("opacity",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`opacity\`.`)},[]);let zn=h;const La=_.useRef(null);if(i){const sr=i({content:(St==null?void 0:St.getAttribute("data-tooltip-content"))||se||null,activeAnchor:St});zn=sr?ne.createElement("div",{ref:La,className:"react-tooltip-content-wrapper"},sr):null}else se&&(zn=se);ve&&(zn=ne.createElement(lle,{content:ve}));const Of={forwardRef:ie,id:t,anchorId:e,anchorSelect:r,className:G1(s,nt),classNameArrow:o,content:zn,contentWrapperRef:La,place:_e,variant:Q,offset:W,wrapper:We,events:Gt,openOnClick:m,positionStrategy:an,middlewares:y,delayShow:G,delayHide:ae,float:ce,hidden:fe,noArrow:S,clickable:E,closeOnEsc:j,closeOnScroll:I,closeOnResize:k,openEvents:T,closeEvents:L,globalCloseEvents:C,imperativeModeOnly:A,style:N,position:O,isOpen:$,defaultIsOpen:D,border:M,opacity:F,arrowColor:B,arrowSize:U,setIsOpen:q,afterShow:ee,afterHide:V,disableTooltip:re,activeAnchor:St,setActiveAnchor:sr=>sn(sr),role:oe};return ne.createElement(ole,{...Of})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",t=>{t.detail.disableCore||G4({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),t.detail.disableBase||G4({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const xu=Kt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),_i={start:9,end:23},ule=["day","week","month"],wo={locale:ra,weekStartsOn:1},RI=()=>{const t=_.useCallback(i=>{if(i.includes(" ")&&i.includes("+")){const[s,o]=i.split(" "),[c,u]=o.split("+");let d;u==="00"?d="+00:00":u.length===2?d=`+${u}:00`:d=`+${u}`;const f=`${s}T${c}${d}`;return new Date(f)}return Ci(i)},[]),e=_.useCallback(i=>t(i).toLocaleString("sr-RS",{timeZone:"Europe/Belgrade",hour:"2-digit",minute:"2-digit",hour12:!1}),[t]),r=_.useCallback(i=>t(i).toLocaleDateString("sr-RS",{timeZone:"Europe/Belgrade",year:"numeric",month:"2-digit",day:"2-digit"}).split(".").reverse().join("-"),[t]),n=_.useCallback(i=>{const s=t(i),o=s.getFullYear(),c=(s.getMonth()+1).toString().padStart(2,"0"),u=s.getDate().toString().padStart(2,"0"),d=s.getHours().toString().padStart(2,"0"),f=s.getMinutes().toString().padStart(2,"0");return`${o}-${c}-${u}T${d}:${f}`},[t]),a=_.useCallback(i=>FB(t(i),new Date),[t]);return{parseTimestamp:t,formatSlotTime:e,getSlotDate:r,formatForInput:n,isSlotPast:a}},dle=t=>_.useMemo(()=>t.reduce((e,r)=>{const n=lt(new Date(r.start_at),"yyyy-MM-dd"),a=r.slot_details.title||" ",i=`${n}-${a}`;return e[i]?e[i].slots.push(r):e[i]={...r,slots:[r]},e},{}),[t]),fle=()=>_.useCallback((t,e)=>{const r=new Date(t),n=new Date(e),a=r.getHours()*60+r.getMinutes(),i=n.getHours()*60+n.getMinutes(),s=(a-_i.start*60)/((_i.end-_i.start)*60)*100,o=(i-a)/((_i.end-_i.start)*60)*100;return{top:Math.max(0,s),height:Math.max(1,o)}},[]),hle=(t,e,r)=>_.useMemo(()=>{const a=(()=>{switch(r){case"day":return{start:e,end:e};case"week":return{start:Wh(e,wo),end:o1(e,wo)};case"month":return{start:jd(e),end:pw(e)}}})(),i=a.start.toISOString(),s=new Date(a.end.getTime()+24*60*60*1e3-1).toISOString();return t.filter(o=>o.start_at>=i&&o.start_at<=s)},[t,e,r]),ple=(t,e,r=!1)=>{if(r)return"bg-gray-100 dark:bg-gray-800 border-l-4 border-gray-400 opacity-60";if(e==="draft")return"bg-gray-50 dark:bg-gray-700/50 border-l-4 border-gray-300 opacity-80";switch(t){case"event":return"bg-green-50 dark:bg-green-900/30 border-l-4 border-green-500";case"rent":return"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-500";default:return"bg-gray-50 dark:bg-gray-700 border-l-4 border-gray-300"}},Jh=t=>{const e=[];for(let r=_i.start;r<_i.end;r++)e.push({time:iF(aF(t,r),0),label:`${r}:00`});return e},qv=({slot:t,groupedSlot:e,onEdit:r,onDelete:n,style:a,className:i=""})=>{const{formatSlotTime:s,isSlotPast:o}=RI(),c=o(t.end_at),u=(e==null?void 0:e.slots[0])||t,d=(e==null?void 0:e.slots[(e==null?void 0:e.slots.length)-1])||t,f=`
    ${t.slot_details.title||""}
    : ${s(u.start_at)}-${s(d.end_at)}
    ${t.slot_details.description||""}
    ${t.slot_details.user_name?`: ${t.slot_details.user_name}`:""}
    ${t.slot_details.status==="draft"?": ":""}
    ${c?" ":""}
  `;return l.jsxs("div",{"data-tooltip-id":`tooltip-${t.id}`,"data-tooltip-content":f,className:`rounded cursor-pointer ${ple(t.slot_details.type,t.slot_details.status,c)} ${i}`,style:a,onClick:h=>{h.stopPropagation(),t.slot_details.type==="rent"&&r(t)},children:[l.jsxs("div",{className:"font-medium truncate",children:[s(u.start_at)," ",t.slot_details.title&&`- ${t.slot_details.title}`,t.slot_details.status==="draft"&&l.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"()"}),c&&l.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"()"})]}),t.slot_details.description&&l.jsx("div",{className:"text-xs truncate opacity-75",children:t.slot_details.description}),t.slot_details.type!=="event"&&!c&&l.jsx("button",{onClick:h=>{h.stopPropagation(),n(t.id,t.slot_details.type)},className:"absolute bottom-1 right-1 text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:""}),l.jsx(cle,{id:`tooltip-${t.id}`,className:"z-50 whitespace-pre-line",style:{zIndex:9999}})]})},mle=({children:t})=>l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-16 flex-shrink-0 pr-2 text-right text-xs text-gray-500 dark:text-gray-400 pt-1",children:Jh(new Date).map((e,r)=>l.jsx("div",{className:"h-12 flex items-center justify-end",children:e.label},r))}),l.jsx("div",{className:"flex-1 relative",children:t})]}),gle=()=>{var k,T,L,C;const[t,e]=_.useState(new Date),[r,n]=_.useState("week"),[a,i]=_.useState([]),[s,o]=_.useState(!0),[c,u]=_.useState({isOpen:!1,mode:"create",data:null}),{parseTimestamp:d,formatSlotTime:f,formatForInput:h}=RI(),p=hle(a,t,r),m=dle(p),g=fle(),y=_.useCallback(async()=>{try{o(!0);const{data:A,error:N}=await xu.from("time_slots_table").select("*").order("start_at",{ascending:!0});if(N)throw N;i(A||[])}catch(A){console.error("Error fetching time slots:",A),K.error("  ")}finally{o(!1)}},[]);_.useEffect(()=>{y()},[y]);const x=_.useCallback(A=>{e({day:qu,week:RL,month:s1}[r](t,A==="prev"?-1:1))},[t,r]),v=_.useCallback((A,N)=>{const O=new Date(A);O.setHours(N,0,0,0);const $=new Date(O);$.setHours(N+1,0,0,0),u({isOpen:!0,mode:"create",data:{id:"",start_at:O.toISOString(),end_at:$.toISOString(),slot_details:{type:"rent",title:"",booked:!1}}})},[]),b=_.useCallback(A=>{u({isOpen:!0,mode:"edit",data:A})},[]),w=_.useCallback(async()=>{if(c.data)try{const{start_at:A,end_at:N,slot_details:O}=c.data;if(!A||!N){K.error("   ");return}if(new Date(N)<=new Date(A)){K.error("      ");return}const{data:$,error:D}=await xu.from("time_slots_table").select("*").or(`and(start_at.lte.${N},end_at.gte.${A})`).neq("id",c.mode==="edit"?c.data.id:"");if(D)throw D;if($&&$.length>0){const R=$.map(M=>{var q,ee;const F=((q=M.slot_details)==null?void 0:q.type)==="event"?"":"",B=((ee=M.slot_details)==null?void 0:ee.title)||" ",U=`${f(M.start_at)}-${f(M.end_at)}`;return` ${F}: ${B} (${U})`}).join(`
`);K.error(`  :
${R}`,{duration:8e3});return}if(c.mode==="edit"){const{error:R}=await xu.from("time_slots_table").update({start_at:A,end_at:N,slot_details:O}).eq("id",c.data.id);if(R)throw R;K.success(" ")}else{const{error:R}=await xu.from("time_slots_table").insert([{start_at:A,end_at:N,slot_details:{...O,type:"rent"}}]);if(R)throw R;K.success(" ")}u({isOpen:!1,mode:"create",data:null}),y()}catch(A){console.error("Error saving time slot:",A),K.error("  ")}},[c,f,y]),S=_.useCallback(async(A,N)=>{if(N==="event"){K.error("     ");return}if(window.confirm(" ?"))try{const{error:O}=await xu.from("time_slots_table").delete().eq("id",A);if(O)throw O;K.success(" "),y()}catch(O){console.error("Error deleting time slot:",O),K.error("  ")}},[y]),E=()=>{const A=jd(t),N=pw(t),O=Wh(A,wo),$=o1(N,wo),D=Vh({start:O,end:$});return l.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Vh({start:O,end:qu(O,6)}).map(R=>l.jsx("div",{className:"text-center py-2 text-sm font-medium text-gray-500 dark:text-gray-400",children:lt(R,"EEEEEE",{locale:ra})},R.toString())),D.map(R=>{const M=p.filter(U=>Yu(d(U.start_at),R)),F=g6(R,t),B=eu(R);return l.jsxs("div",{onClick:()=>{e(R),n("day")},className:`min-h-24 p-1.5 border rounded-md flex flex-col cursor-pointer ${F?B?"bg-primary/5 border-primary":"bg-white dark:bg-dark-800 border-gray-200 dark:border-dark-600":"bg-gray-50 dark:bg-dark-700 opacity-50"}`,children:[l.jsx("div",{className:`text-sm font-medium mb-1 self-end px-1 rounded-full ${B?"bg-primary text-white px-2":""}`,children:lt(R,"d")}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-1",children:M.map(U=>l.jsx(qv,{slot:U,onEdit:b,onDelete:S,className:"text-xs p-1"},U.id))})]},R.toString())})]})},j=()=>{const A=Wh(t,wo),N=Vh({start:A,end:qu(A,6)});return l.jsxs("div",{className:"grid grid-cols-8 gap-1",children:[l.jsx("div",{className:"row-span-25 pt-8 pr-2 text-right text-xs text-gray-500 dark:text-gray-400",children:Jh(t).map((O,$)=>l.jsx("div",{className:"h-12 flex items-center justify-end",children:O.label},$))}),N.map(O=>{const $=lt(O,"yyyy-MM-dd"),D=Object.values(m).filter(R=>lt(d(R.start_at),"yyyy-MM-dd")===$);return l.jsxs("div",{className:`col-span-1 ${eu(O)?"bg-primary/5":"bg-white dark:bg-dark-800"}`,children:[l.jsxs("div",{className:`text-center py-2 border-b ${eu(O)?"border-primary":"border-gray-200 dark:border-dark-600"}`,children:[l.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:lt(O,"EEEEEE",{locale:ra})}),l.jsx("div",{className:`text-lg font-semibold ${eu(O)?"text-primary":""}`,children:lt(O,"d")})]}),l.jsxs("div",{className:"relative",children:[Jh(O).map((R,M)=>l.jsx("div",{className:"h-12 border-b border-gray-100 dark:border-dark-700 relative hover:bg-gray-50 dark:hover:bg-dark-700 cursor-pointer",onClick:()=>v(O,_i.start+M)},M)),D.map((R,M)=>{const F=R.slots[0],B=R.slots[R.slots.length-1],{top:U,height:q}=g(F.start_at,B.end_at);return l.jsx(qv,{slot:R,groupedSlot:R,onEdit:b,onDelete:S,className:"absolute left-0 right-0 mx-1 p-1 text-xs overflow-hidden",style:{top:`${U}%`,height:`${q}%`,zIndex:10+M}},M)})]})]},O.toString())})]})},I=()=>{const A=lt(t,"yyyy-MM-dd"),N=Object.values(m).filter(O=>lt(d(O.start_at),"yyyy-MM-dd")===A);return l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 overflow-hidden",children:[l.jsx("h2",{className:"text-xl font-semibold p-6 pb-4",children:lt(t,"EEEE, d MMMM yyyy",{locale:ra})}),l.jsxs(mle,{children:[Jh(t).map((O,$)=>l.jsx("div",{className:"h-12 border-b border-gray-100 dark:border-dark-700 relative hover:bg-gray-50 dark:hover:bg-dark-700 cursor-pointer",onClick:()=>v(t,_i.start+$),children:eu(t)&&new Date().getHours()===O.time.getHours()&&l.jsx("div",{className:"absolute left-0 right-0 h-0.5 bg-red-500 z-20",style:{top:`${new Date().getMinutes()/60*100}%`},children:l.jsx("div",{className:"absolute -top-1.5 -left-1 w-3 h-3 rounded-full bg-red-500"})})},$)),N.map((O,$)=>{const D=O.slots[0],R=O.slots[O.slots.length-1],{top:M,height:F}=g(D.start_at,R.end_at);return l.jsx(qv,{slot:O,groupedSlot:O,onEdit:b,onDelete:S,className:"absolute left-2 right-2 p-2 text-sm shadow-sm",style:{top:`${M}%`,height:`${F}%`,zIndex:10+$}},$)})]})]})};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900",children:[l.jsxs("div",{className:"container py-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>x("prev"),className:"p-2 rounded-md bg-white dark:bg-dark-700 border border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-600",children:l.jsx(qd,{className:"w-5 h-5"})}),l.jsxs("div",{className:"text-lg font-medium min-w-[200px] text-center text-gray-800 dark:text-gray-200",children:[r==="month"&&lt(t,"MMMM yyyy",{locale:ra}),r==="week"&&`${lt(Wh(t,wo),"d MMM")} - ${lt(o1(t,wo),"d MMM yyyy")}`,r==="day"&&lt(t,"d MMMM yyyy",{locale:ra})]}),l.jsx("button",{onClick:()=>x("next"),className:"p-2 rounded-md bg-white dark:bg-dark-700 border border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-600",children:l.jsx(Yd,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"flex rounded-md shadow-sm border border-gray-200 dark:border-dark-600 overflow-hidden bg-white dark:bg-dark-700",children:ule.map(A=>l.jsxs("button",{onClick:()=>n(A),className:`px-3 py-2 text-sm flex items-center gap-1 transition-colors ${r===A?"bg-primary text-white":"hover:bg-gray-50 dark:hover:bg-dark-600"}`,children:[A==="day"&&l.jsx(Oe,{className:"w-4 h-4"}),A==="week"&&l.jsx(sw,{className:"w-4 h-4"}),A==="month"&&l.jsx(Oj,{className:"w-4 h-4"}),A==="day"&&"",A==="week"&&"",A==="month"&&""]},A))}),l.jsxs("button",{onClick:()=>v(t,10),className:"p-2 rounded-md bg-green-600 text-white hover:bg-green-700 transition-colors flex items-center gap-1",children:[l.jsx(ha,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:""})]})]})]}),l.jsx("div",{className:"flex items-center gap-4 mb-2 text-sm text-gray-600 dark:text-gray-400",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"    (Europe/Belgrade)"})]})}),l.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-green-200 border-l-4 border-green-500 rounded-sm"}),l.jsx("span",{children:""})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-200 border-l-4 border-blue-500 rounded-sm"}),l.jsx("span",{children:""})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-gray-100 border-l-4 border-gray-300 rounded-sm"}),l.jsx("span",{children:""})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-gray-200 border-l-4 border-gray-400 rounded-sm opacity-60"}),l.jsx("span",{children:""})]})]}),s?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 overflow-hidden",children:[r==="month"&&E(),r==="week"&&j(),r==="day"&&I()]})]}),c.isOpen&&c.data&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white",children:c.mode==="edit"?" ":"  "}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"   "}),l.jsx("input",{type:"datetime-local",value:c.data.start_at?h(c.data.start_at):"",onChange:A=>{if(A.target.value){const N=new Date(A.target.value).toISOString();u(O=>({...O,data:O.data?{...O.data,start_at:N,end_at:!O.data.end_at||new Date(O.data.end_at)<=new Date(N)?new Date(new Date(N).getTime()+60*60*1e3).toISOString():O.data.end_at}:null}))}},className:"w-full p-2 border rounded-md dark:bg-dark-700 border-gray-300 dark:border-dark-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"   "}),l.jsx("input",{type:"datetime-local",value:c.data.end_at?h(c.data.end_at):"",onChange:A=>{A.target.value&&u(N=>({...N,data:N.data?{...N.data,end_at:new Date(A.target.value).toISOString()}:null}))},className:"w-full p-2 border rounded-md dark:bg-dark-700 border-gray-300 dark:border-dark-600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:""}),l.jsx("input",{type:"text",value:((k=c.data.slot_details)==null?void 0:k.title)||"",onChange:A=>u(N=>({...N,data:N.data?{...N.data,slot_details:{...N.data.slot_details,title:A.target.value}}:null})),className:"w-full p-2 border rounded-md dark:bg-dark-700 border-gray-300 dark:border-dark-600",placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:""}),l.jsx("textarea",{value:((T=c.data.slot_details)==null?void 0:T.description)||"",onChange:A=>u(N=>({...N,data:N.data?{...N.data,slot_details:{...N.data.slot_details,description:A.target.value}}:null})),className:"w-full p-2 border rounded-md dark:bg-dark-700 border-gray-300 dark:border-dark-600",rows:3,placeholder:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:""}),l.jsxs("select",{value:((L=c.data.slot_details)==null?void 0:L.status)||"published",onChange:A=>u(N=>({...N,data:N.data?{...N.data,slot_details:{...N.data.slot_details,status:A.target.value}}:null})),className:"w-full p-2 border rounded-md dark:bg-dark-700 border-gray-300 dark:border-dark-600",children:[l.jsx("option",{value:"published",children:""}),l.jsx("option",{value:"draft",children:""}),l.jsx("option",{value:"cancelled",children:""})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"booked",checked:((C=c.data.slot_details)==null?void 0:C.booked)||!1,onChange:A=>u(N=>({...N,data:N.data?{...N.data,slot_details:{...N.data.slot_details,booked:A.target.checked}}:null})),className:"mr-2"}),l.jsx("label",{htmlFor:"booked",className:"text-sm text-gray-700 dark:text-gray-300",children:""})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[l.jsx("button",{onClick:()=>u({isOpen:!1,mode:"create",data:null}),className:"px-4 py-2 border rounded-md border-gray-300 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:""}),l.jsx("button",{onClick:w,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors",children:c.mode==="edit"?"":""})]})]})})]})};var Xm={},MI={L:1,M:0,Q:3,H:2},LI={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},vle=LI;function BI(t){this.mode=vle.MODE_8BIT_BYTE,this.data=t}BI.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var xle=BI,jh=MI;function Ga(t,e){this.totalCount=t,this.dataCount=e}Ga.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Ga.getRSBlocks=function(t,e){var r=Ga.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,a=new Array,i=0;i<n;i++)for(var s=r[i*3+0],o=r[i*3+1],c=r[i*3+2],u=0;u<s;u++)a.push(new Ga(o,c));return a};Ga.getRsBlockTable=function(t,e){switch(e){case jh.L:return Ga.RS_BLOCK_TABLE[(t-1)*4+0];case jh.M:return Ga.RS_BLOCK_TABLE[(t-1)*4+1];case jh.Q:return Ga.RS_BLOCK_TABLE[(t-1)*4+2];case jh.H:return Ga.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var yle=Ga;function FI(){this.buffer=new Array,this.length=0}FI.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ble=FI,Ea={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ea.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ea.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Sr=0;Sr<8;Sr++)Ea.EXP_TABLE[Sr]=1<<Sr;for(var Sr=8;Sr<256;Sr++)Ea.EXP_TABLE[Sr]=Ea.EXP_TABLE[Sr-4]^Ea.EXP_TABLE[Sr-5]^Ea.EXP_TABLE[Sr-6]^Ea.EXP_TABLE[Sr-8];for(var Sr=0;Sr<255;Sr++)Ea.LOG_TABLE[Ea.EXP_TABLE[Sr]]=Sr;var $I=Ea,so=$I;function e0(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}e0.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=so.gexp(so.glog(this.get(r))+so.glog(t.get(n)));return new e0(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=so.glog(this.get(0))-so.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=so.gexp(so.glog(t.get(n))+e);return new e0(r,0).mod(t)}};var UI=e0,Yn=LI,Q4=UI,wle=$I,Qi={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},wr={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;wr.getBCHDigit(e)-wr.getBCHDigit(wr.G15)>=0;)e^=wr.G15<<wr.getBCHDigit(e)-wr.getBCHDigit(wr.G15);return(t<<10|e)^wr.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;wr.getBCHDigit(e)-wr.getBCHDigit(wr.G18)>=0;)e^=wr.G18<<wr.getBCHDigit(e)-wr.getBCHDigit(wr.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return wr.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Qi.PATTERN000:return(e+r)%2==0;case Qi.PATTERN001:return e%2==0;case Qi.PATTERN010:return r%3==0;case Qi.PATTERN011:return(e+r)%3==0;case Qi.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Qi.PATTERN101:return e*r%2+e*r%3==0;case Qi.PATTERN110:return(e*r%2+e*r%3)%2==0;case Qi.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Q4([1],0),r=0;r<t;r++)e=e.multiply(new Q4([1,wle.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Yn.MODE_NUMBER:return 10;case Yn.MODE_ALPHA_NUM:return 9;case Yn.MODE_8BIT_BYTE:return 8;case Yn.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Yn.MODE_NUMBER:return 12;case Yn.MODE_ALPHA_NUM:return 11;case Yn.MODE_8BIT_BYTE:return 16;case Yn.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Yn.MODE_NUMBER:return 14;case Yn.MODE_ALPHA_NUM:return 13;case Yn.MODE_8BIT_BYTE:return 16;case Yn.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var a=0;a<e;a++){for(var i=0,s=t.isDark(n,a),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var c=-1;c<=1;c++)a+c<0||e<=a+c||o==0&&c==0||s==t.isDark(n+o,a+c)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<e-1;n++)for(var a=0;a<e-1;a++){var u=0;t.isDark(n,a)&&u++,t.isDark(n+1,a)&&u++,t.isDark(n,a+1)&&u++,t.isDark(n+1,a+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var a=0;a<e-6;a++)t.isDark(n,a)&&!t.isDark(n,a+1)&&t.isDark(n,a+2)&&t.isDark(n,a+3)&&t.isDark(n,a+4)&&!t.isDark(n,a+5)&&t.isDark(n,a+6)&&(r+=40);for(var a=0;a<e;a++)for(var n=0;n<e-6;n++)t.isDark(n,a)&&!t.isDark(n+1,a)&&t.isDark(n+2,a)&&t.isDark(n+3,a)&&t.isDark(n+4,a)&&!t.isDark(n+5,a)&&t.isDark(n+6,a)&&(r+=40);for(var d=0,a=0;a<e;a++)for(var n=0;n<e;n++)t.isDark(n,a)&&d++;var f=Math.abs(100*d/e/e-50)/5;return r+=f*10,r}},_le=wr,kle=xle,zI=yle,HI=ble,Ks=_le,Nle=UI;function Ya(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Fn=Ya.prototype;Fn.addData=function(t){var e=new kle(t);this.dataList.push(e),this.dataCache=null};Fn.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};Fn.getModuleCount=function(){return this.moduleCount};Fn.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=zI.getRSBlocks(t,this.errorCorrectLevel),r=new HI,n=0,a=0;a<e.length;a++)n+=e[a].dataCount;for(var a=0;a<this.dataList.length;a++){var i=this.dataList[a];r.put(i.mode,4),r.put(i.getLength(),Ks.getLengthInBits(i.mode,t)),i.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};Fn.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Ya.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};Fn.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)};Fn.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ks.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e};Fn.createMovieClip=function(t,e,r){var n=t.createEmptyMovieClip(e,r),a=1;this.make();for(var i=0;i<this.modules.length;i++)for(var s=i*a,o=0;o<this.modules[i].length;o++){var c=o*a,u=this.modules[i][o];u&&(n.beginFill(0,100),n.moveTo(c,s),n.lineTo(c+a,s),n.lineTo(c+a,s+a),n.lineTo(c,s+a),n.endFill())}return n};Fn.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};Fn.setupPositionAdjustPattern=function(){for(var t=Ks.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],a=t[r];if(this.modules[n][a]==null)for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)i==-2||i==2||s==-2||s==2||i==0&&s==0?this.modules[n+i][a+s]=!0:this.modules[n+i][a+s]=!1}};Fn.setupTypeNumber=function(t){for(var e=Ks.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};Fn.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ks.getBCHTypeInfo(r),a=0;a<15;a++){var i=!t&&(n>>a&1)==1;a<6?this.modules[a][8]=i:a<8?this.modules[a+1][8]=i:this.modules[this.moduleCount-15+a][8]=i}for(var a=0;a<15;a++){var i=!t&&(n>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=i:a<9?this.modules[8][15-a-1+1]=i:this.modules[8][15-a-1]=i}this.modules[this.moduleCount-8][8]=!t};Fn.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,a=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var o=0;o<2;o++)if(this.modules[n][s-o]==null){var c=!1;i<t.length&&(c=(t[i]>>>a&1)==1);var u=Ks.getMask(e,n,s-o);u&&(c=!c),this.modules[n][s-o]=c,a--,a==-1&&(i++,a=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};Ya.PAD0=236;Ya.PAD1=17;Ya.createData=function(t,e,r){for(var n=zI.getRSBlocks(t,e),a=new HI,i=0;i<r.length;i++){var s=r[i];a.put(s.mode,4),a.put(s.getLength(),Ks.getLengthInBits(s.mode,t)),s.write(a)}for(var o=0,i=0;i<n.length;i++)o+=n[i].dataCount;if(a.getLengthInBits()>o*8)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+o*8+")");for(a.getLengthInBits()+4<=o*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=o*8||(a.put(Ya.PAD0,8),a.getLengthInBits()>=o*8));)a.put(Ya.PAD1,8);return Ya.createBytes(a,n)};Ya.createBytes=function(t,e){for(var r=0,n=0,a=0,i=new Array(e.length),s=new Array(e.length),o=0;o<e.length;o++){var c=e[o].dataCount,u=e[o].totalCount-c;n=Math.max(n,c),a=Math.max(a,u),i[o]=new Array(c);for(var d=0;d<i[o].length;d++)i[o][d]=255&t.buffer[d+r];r+=c;var f=Ks.getErrorCorrectPolynomial(u),h=new Nle(i[o],f.getLength()-1),p=h.mod(f);s[o]=new Array(f.getLength()-1);for(var d=0;d<s[o].length;d++){var m=d+p.getLength()-s[o].length;s[o][d]=m>=0?p.get(m):0}}for(var g=0,d=0;d<e.length;d++)g+=e[d].totalCount;for(var y=new Array(g),x=0,d=0;d<n;d++)for(var o=0;o<e.length;o++)d<i[o].length&&(y[x++]=i[o][d]);for(var d=0;d<a;d++)for(var o=0;o<e.length;o++)d<s[o].length&&(y[x++]=s[o][d]);return y};var Sle=Ya,G2={};Object.defineProperty(G2,"__esModule",{value:!0});var Ele=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cle=ST,Kn=VI(Cle),WI=_,Ah=VI(WI);function VI(t){return t&&t.__esModule?t:{default:t}}function jle(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Ale={bgColor:Kn.default.oneOfType([Kn.default.object,Kn.default.string]).isRequired,bgD:Kn.default.string.isRequired,fgColor:Kn.default.oneOfType([Kn.default.object,Kn.default.string]).isRequired,fgD:Kn.default.string.isRequired,size:Kn.default.number.isRequired,title:Kn.default.string,viewBoxSize:Kn.default.number.isRequired,xmlns:Kn.default.string},X2=(0,WI.forwardRef)(function(t,e){var r=t.bgColor,n=t.bgD,a=t.fgD,i=t.fgColor,s=t.size,o=t.title,c=t.viewBoxSize,u=t.xmlns,d=u===void 0?"http://www.w3.org/2000/svg":u,f=jle(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Ah.default.createElement("svg",Ele({},f,{height:s,ref:e,viewBox:"0 0 "+c+" "+c,width:s,xmlns:d}),o?Ah.default.createElement("title",null,o):null,Ah.default.createElement("path",{d:n,fill:r}),Ah.default.createElement("path",{d:a,fill:i}))});X2.displayName="QRCodeSvg";X2.propTypes=Ale;G2.default=X2;Object.defineProperty(Xm,"__esModule",{value:!0});Xm.QRCode=void 0;var Tle=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ile=ST,gi=If(Ile),Ole=MI,Dle=If(Ole),Ple=Sle,Rle=If(Ple),GI=_,Mle=If(GI),Lle=G2,Ble=If(Lle);function If(t){return t&&t.__esModule?t:{default:t}}function Fle(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var $le={bgColor:gi.default.oneOfType([gi.default.object,gi.default.string]),fgColor:gi.default.oneOfType([gi.default.object,gi.default.string]),level:gi.default.string,size:gi.default.number,value:gi.default.string.isRequired},qm=(0,GI.forwardRef)(function(t,e){var r=t.bgColor,n=r===void 0?"#FFFFFF":r,a=t.fgColor,i=a===void 0?"#000000":a,s=t.level,o=s===void 0?"L":s,c=t.size,u=c===void 0?256:c,d=t.value,f=Fle(t,["bgColor","fgColor","level","size","value"]),h=new Rle.default(-1,Dle.default[o]);h.addData(d),h.make();var p=h.modules;return Mle.default.createElement(Ble.default,Tle({},f,{bgColor:n,bgD:p.map(function(m,g){return m.map(function(y,x){return y?"":"M "+x+" "+g+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:p.map(function(m,g){return m.map(function(y,x){return y?"M "+x+" "+g+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:u,viewBoxSize:p.length}))});Xm.QRCode=qm;qm.displayName="QRCode";qm.propTypes=$le;var q2=Xm.default=qm;const Ule=()=>{var d,f,h;const[t,e]=_.useState([]),[r,n]=_.useState(0),[a,i]=_.useState(!0);_.useEffect(()=>{const p=async()=>{i(!0),new Date().toISOString();try{const{data:y,error:x}=await ue.from("events").select("*").eq("status","active");if(x)throw x;const v=await Promise.all(y.map(async b=>{if(b.speakers&&b.speakers.length>0){const{data:w,error:S}=await ue.from("speakers").select("*").in("id",b.speakers);if(!S)return{...b,speakerDetails:w}}return b}));e(v),i(!1)}catch(y){console.error("Error fetching events:",y),i(!1)}};p();const m=setInterval(p,60*60*1e3),g=setInterval(()=>{n(y=>(y+1)%Math.max(1,t.length))},1e4);return()=>{clearInterval(m),clearInterval(g)}},[t.length]);const s=p=>{n(p)};if(a)return l.jsx("div",{className:"loading",children:"Loading events..."});if(t.length===0)return l.jsx("div",{className:"no-events",children:"No active events at this time."});const o=t[r],c=`${window.location.origin}/event/${o.id}`,u=(d=o.speakerDetails)==null?void 0:d[0];return l.jsxs("div",{className:"posters-container",children:[l.jsxs("div",{className:"poster-slide",children:[l.jsx("div",{className:"poster-bg-image",style:{backgroundImage:`url(${zt(o.bg_image)})`,height:"50vh"},children:l.jsx("h1",{className:"poster-title",children:o.title})}),l.jsx("p",{className:"poster-description",children:o.short_description}),u&&l.jsxs("div",{className:"speaker-block",children:[l.jsx("div",{className:"speaker-photo-container",children:l.jsx("div",{className:"hexagon",children:l.jsx("div",{className:"hexagon-inner",style:{backgroundImage:`url(${zt(((h=(f=u.photos)==null?void 0:f[0])==null?void 0:h.url)||"")})`}})})}),l.jsx("div",{className:"speaker-info",children:l.jsx("h3",{className:"speaker-name",children:u.name})})]}),l.jsxs("div",{className:"qr-container",children:[l.jsx(q2,{value:c,size:128,bgColor:"#ffffff",fgColor:"#000000"}),l.jsx("p",{className:"qr-text",children:"Scan to learn more"})]}),l.jsxs("div",{className:"event-time",children:[l.jsx("p",{className:"event-date",children:o.date}),l.jsxs("p",{className:"event-hours",children:[new Date(o.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," -",new Date(o.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),l.jsx("div",{className:"slide-indicators",children:t.map((p,m)=>l.jsx("button",{className:`indicator ${m===r?"active":""}`,onClick:()=>s(m),"aria-label":`Go to slide ${m+1}`},m))})]})},zle=()=>{const[t,e]=_.useState("loading"),[r,n]=_.useState(" ..."),a=Ra();return _.useEffect(()=>{(async()=>{try{const{error:s}=await ue.auth.getSession();if(s)throw s;e("success"),n(" ! ..."),setTimeout(()=>{a("/")},2e3)}catch(s){console.error("Error during auth callback:",s),e("error"),n("   . ,  .")}})()},[a]),l.jsx(Ot,{children:l.jsx("div",{className:"min-h-[70vh] flex items-center justify-center",children:l.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-dark-800 rounded-lg shadow-lg text-center",children:[t==="loading"&&l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),t==="success"&&l.jsx(dc,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),t==="error"&&l.jsx(a7,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-4",children:t==="loading"?"...":t==="success"?"!":""}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:r}),t==="error"&&l.jsx("button",{onClick:()=>a("/"),className:"btn-primary",children:"  "})]})})})},Hle=()=>{const[t,e]=_.useState(""),[r,n]=_.useState(""),[a,i]=_.useState(!1),[s,o]=_.useState(null),[c,u]=_.useState(!1),d=Ra();_.useEffect(()=>{const h=window.location.hash;(!h||!h.includes("type=recovery"))&&o("      ")},[]);const f=async h=>{if(h.preventDefault(),t!==r){o("  ");return}if(t.length<6){o("     6 ");return}i(!0),o(null);try{const{error:p}=await ue.auth.updateUser({password:t});if(p)throw p;u(!0),setTimeout(()=>{d("/")},3e3)}catch(p){console.error("Error resetting password:",p),o(p.message||"   ")}finally{i(!1)}};return l.jsx(Ot,{children:l.jsx("div",{className:"min-h-[70vh] flex items-center justify-center",children:l.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-dark-800 rounded-lg shadow-lg",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:" "}),s&&l.jsxs("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg text-sm flex items-start",children:[l.jsx(Nd,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),l.jsx("span",{children:s})]}),c?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(dc,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"  !"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"        ."}),l.jsx("button",{onClick:()=>d("/"),className:"btn-primary",children:"  "})]}):l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",className:"block font-medium mb-2",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Yx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"password",id:"password",value:t,onChange:h=>e(h.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 dark:bg-dark-800",required:!0,minLength:6})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block font-medium mb-2",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Yx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{type:"password",id:"confirmPassword",value:r,onChange:h=>n(h.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 dark:bg-dark-800",required:!0,minLength:6})]})]}),l.jsx("button",{type:"submit",disabled:a,className:"w-full btn-primary py-2",children:a?"...":"  "})]})]})})})},ob="https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/avatars/",XI=async()=>{try{const{data:t,error:e}=await ue.storage.from("images").list("avatars",{limit:1e3,sortBy:{column:"name",order:"asc"}});if(e)throw console.error("Error fetching avatars:",e),e;return t?t.filter(n=>{const a=/\.(png|jpg|jpeg|gif|webp)$/i.test(n.name);return n.name&&a}).map(n=>({name:n.name,url:ob+n.name,id:n.id})):[]}catch(t){return console.error("Failed to fetch avatars:",t),[]}},Wle=async()=>{try{const t=await XI();if(t.length===0)return ob+"ava_00001.png";const e=Math.floor(Math.random()*t.length);return t[e].url}catch(t){return console.error("Failed to get random avatar:",t),ob+"ava_00001.png"}},_o=class _o{constructor(){Hc(this,"cache",null);Hc(this,"cacheTimestamp",0);Hc(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return _o.instance||(_o.instance=new _o),_o.instance}async getAvatars(){const e=Date.now();if(this.cache&&e-this.cacheTimestamp<this.CACHE_DURATION)return this.cache;try{return this.cache=await XI(),this.cacheTimestamp=e,this.cache}catch(r){return console.error("Failed to update avatar cache:",r),this.cache||[]}}invalidateCache(){this.cache=null,this.cacheTimestamp=0}};Hc(_o,"instance");let lb=_o;const qI=lb.getInstance(),Vle=async()=>qI.getAvatars(),Gle=()=>{qI.invalidateCache()},Xle=({currentAvatar:t,onAvatarSelect:e,onClose:r})=>{const[n,a]=_.useState(t||""),[i,s]=_.useState(!1),[o,c]=_.useState(1),[u,d]=_.useState([]),[f,h]=_.useState(!0),[p,m]=_.useState(null),g=24;_.useEffect(()=>{y()},[]);const y=async()=>{try{h(!0),m(null);const k=await Vle();d(k),k.length===0&&m("  ")}catch(k){console.error("Failed to load avatars:",k),m("  ")}finally{h(!1)}},x=async()=>{Gle(),await y(),K.success("  ")},v=Math.ceil(u.length/g),b=(o-1)*g,w=b+g,S=u.slice(b,w),E=()=>{if(u.length===0){K.error("  ");return}const k=Math.floor(Math.random()*u.length),T=u[k].url;a(T)},j=async()=>{if(!n){K.error(" ");return}s(!0);try{await e(n),r()}catch(k){console.error("Error saving avatar:",k)}finally{s(!1)}},I=({avatar:k})=>{const T=n===k.url;return l.jsx("div",{className:"relative",children:l.jsxs("div",{className:`
            relative cursor-pointer rounded-xl overflow-hidden transition-all duration-300 aspect-square
            ${T?"ring-4 ring-primary-500 ring-offset-2 ring-offset-white dark:ring-offset-dark-800 scale-105":"hover:scale-105 hover:shadow-lg"}
          `,onClick:()=>a(k.url),children:[l.jsx("img",{src:k.url,alt:"",className:"w-full h-full object-cover",loading:"lazy",onError:L=>{const C=L.target;C.style.opacity="0.5"}}),T&&l.jsx("div",{className:"absolute inset-0 bg-primary-500/20 flex items-center justify-center",children:l.jsx("div",{className:"bg-primary-500 text-white rounded-full p-2",children:l.jsx($p,{className:"h-5 w-5"})})})]})})};return f?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-xl p-8 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:" ..."})]})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:" "}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:p?l.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[l.jsx(Nd,{className:"h-4 w-4"}),p]}):`${u.length} `})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"  ",children:l.jsx(Rj,{className:"h-5 w-5 text-gray-500"})}),l.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:l.jsx(Bt,{className:"h-5 w-5 text-gray-500"})})]})]})}),l.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700",children:[n&&l.jsx("div",{className:"text-center mb-6",children:l.jsxs("div",{className:"inline-block relative",children:[l.jsx("div",{className:"w-50 h-50 rounded-xl overflow-hidden border-4 border-primary-500 shadow-lg mb-3",style:{width:"200px",height:"200px"},children:l.jsx("img",{src:n,alt:" ",className:"w-full h-full object-cover"})}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "})]})}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:E,disabled:u.length===0,className:"px-6 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-dark-700 dark:hover:bg-dark-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(JM,{className:"h-4 w-4"})," "]})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsx("div",{className:"p-6",children:S.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-3 mb-6",children:S.map(k=>l.jsx(I,{avatar:k},k.url))}),v>1&&l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{onClick:()=>c(k=>Math.max(1,k-1)),disabled:o===1,className:"p-2 rounded-lg border border-gray-300 dark:border-dark-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-dark-700",children:l.jsx(qd,{className:"h-4 w-4"})}),l.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400",children:[o,"  ",v]}),l.jsx("button",{onClick:()=>c(k=>Math.min(v,k+1)),disabled:o===v,className:"p-2 rounded-lg border border-gray-300 dark:border-dark-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-dark-700",children:l.jsx(Yd,{className:"h-4 w-4"})})]})]}):l.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[l.jsx(Nd,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"  "}),l.jsx("p",{className:"text-sm",children:"     "}),p&&l.jsx("button",{onClick:x,className:"mt-4 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:" "})]})})}),l.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-dark-700 flex justify-end gap-3",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:""}),l.jsxs("button",{onClick:j,disabled:i||!n,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i&&l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),i?"...":""]})]})]})})},qle=({registration:t,isOpen:e,onClose:r})=>{var h,p,m;const[n,a]=_.useState(256);if(!e)return null;const i=()=>JSON.stringify({type:"event_registration",registrationId:t.registration_id,eventId:t.event_id,userId:t.id,fullName:t.full_name,email:t.email,adultTickets:t.adult_tickets,childTickets:t.child_tickets,totalAmount:t.total_amount,paymentStatus:t.payment_status,timestamp:Date.now()}),s=()=>{const g=document.getElementById("registration-qr-code");if(!g)return;const y=new XMLSerializer().serializeToString(g),x=document.createElement("canvas"),v=x.getContext("2d"),b=new Image;x.width=512,x.height=512,b.onload=()=>{v&&(v.fillStyle="white",v.fillRect(0,0,512,512),v.drawImage(b,0,0,512,512));const w=document.createElement("a");w.download=`registration-qr-${t.registration_id}.png`,w.href=x.toDataURL(),w.click()},b.src="data:image/svg+xml;base64,"+btoa(y)},o=async()=>{const g=i();try{await navigator.clipboard.writeText(g),K.success("  ")}catch(y){console.error("Error copying QR data:",y),K.error(" ")}},c=async()=>{var y;const g=i();if(navigator.share)try{await navigator.share({title:`  ${(y=t.event)==null?void 0:y.title}`,text:"QR-   ",url:g})}catch(x){console.error("Error sharing:",x)}else o()},u=g=>{switch(g){case"paid":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"free":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},d=g=>{switch(g){case"paid":return"";case"pending":return" ";case"free":return"";default:return""}},f=i();return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xl,{className:"h-5 w-5"}),l.jsx("h2",{className:"text-lg font-semibold",children:"QR- "})]}),l.jsx("button",{onClick:r,className:"text-white hover:text-gray-200 transition-colors",children:l.jsx(Bt,{className:"h-6 w-6"})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:((h=t.event)==null?void 0:h.title)||""}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[((p=t.event)==null?void 0:p.start_at)&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oe,{className:"h-4 w-4"}),l.jsxs("span",{children:[en(t.event.start_at),t.event.start_at&&l.jsxs(l.Fragment,{children:["  ",Mi(t.event.start_at)]})]})]}),((m=t.event)==null?void 0:m.location)&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vr,{className:"h-4 w-4"}),l.jsx("span",{children:t.event.location})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vt,{className:"h-4 w-4"}),l.jsxs("span",{children:[t.adult_tickets," ",t.child_tickets>0&&`, ${t.child_tickets} `]})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${u(t.payment_status)}`,children:d(t.payment_status)}),t.total_amount>0&&l.jsxs("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:[t.total_amount," "]})]})]}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm inline-block mb-4",children:l.jsx(q2,{id:"registration-qr-code",value:f,size:n,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 256 256"})}),l.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[l.jsx("button",{onClick:()=>a(200),className:`px-3 py-1 text-xs rounded ${n===200?"bg-primary-500 text-white":"bg-gray-200 dark:bg-dark-700"}`,children:""}),l.jsx("button",{onClick:()=>a(256),className:`px-3 py-1 text-xs rounded ${n===256?"bg-primary-500 text-white":"bg-gray-200 dark:bg-dark-700"}`,children:""}),l.jsx("button",{onClick:()=>a(300),className:`px-3 py-1 text-xs rounded ${n===300?"bg-primary-500 text-white":"bg-gray-200 dark:bg-dark-700"}`,children:""})]}),l.jsxs("div",{className:"text-left bg-gray-50 dark:bg-dark-700 rounded-lg p-3 mb-4",children:[l.jsx("p",{className:"text-sm font-medium mb-1",children:" :"}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[l.jsx("strong",{children:"ID:"})," ",t.registration_id]}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[l.jsx("strong",{children:":"})," ",t.full_name]}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[l.jsx("strong",{children:"Email:"})," ",t.email]}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[l.jsx("strong",{children:" :"})," ",new Date(t.registration_date).toLocaleDateString("ru-RU")]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[l.jsxs("button",{onClick:s,className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:[l.jsx(Zd,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:""})]}),l.jsxs("button",{onClick:o,className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:[l.jsx(RM,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:""})]}),l.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:[l.jsx(ow,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:""})]})]}),t.event&&l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-dark-600",children:l.jsxs("a",{href:`/events/${t.event_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:[l.jsx(Hu,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"  "})]})}),l.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:l.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"   QR-        "})})]})]})})},Yle=({userId:t})=>{const[e,r]=_.useState([]),[n,a]=_.useState(!0),[i,s]=_.useState(""),[o,c]=_.useState("all"),[u,d]=_.useState("all"),[f,h]=_.useState(null),[p,m]=_.useState(!1);_.useEffect(()=>{g()},[t]);const g=async()=>{try{a(!0);const{data:k,error:T}=await ue.from("user_event_registrations").select(`
          *,
          event:events(
            id,
            title,
            start_at,
            end_at,
            location,
            event_type,
            bg_image,
            status
          )
        `).eq("user_id",t).order("registration_date",{ascending:!1});if(T)throw T;r(k||[])}catch(k){console.error("Error fetching registrations:",k)}finally{a(!1)}},y=k=>{var C;return k.status==="cancelled"?"cancelled":(C=k.event)!=null&&C.start_at&&new Date(k.event.start_at)<new Date?"past":"active"},x=k=>{switch(k){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"past":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}},v=k=>{switch(k){case"active":return"";case"past":return"";case"cancelled":return"";default:return""}},b=k=>{switch(k){case"paid":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"free":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},w=k=>{switch(k){case"paid":return"";case"pending":return" ";case"free":return"";default:return""}},S=e.filter(k=>{var N,O,$,D;const T=((O=(N=k.event)==null?void 0:N.title)==null?void 0:O.toLowerCase().includes(i.toLowerCase()))||((D=($=k.event)==null?void 0:$.location)==null?void 0:D.toLowerCase().includes(i.toLowerCase())),L=y(k),C=o==="all"||L===o,A=u==="all"||k.payment_status===u;return T&&C&&A}),E=k=>{h(k),m(!0)},j=()=>{h(null),m(!1)},I={total:e.length,active:e.filter(k=>y(k)==="active").length,past:e.filter(k=>y(k)==="past").length,cancelled:e.filter(k=>y(k)==="cancelled").length,paid:e.filter(k=>k.payment_status==="paid").length,pending:e.filter(k=>k.payment_status==="pending").length,free:e.filter(k=>k.payment_status==="free").length};return n?l.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg p-6",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 dark:bg-dark-700 rounded w-1/4"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-3 bg-gray-200 dark:bg-dark-700 rounded"}),l.jsx("div",{className:"h-3 bg-gray-200 dark:bg-dark-700 rounded w-5/6"})]})]})}):l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(Oe,{className:"h-5 w-5"})," "]}),l.jsx("p",{className:"text-primary-100 text-sm mt-1",children:"   "})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold",children:I.total}),l.jsx("div",{className:"text-primary-100 text-xs",children:" "})]})]})}),l.jsx("div",{className:"p-4 bg-gray-50 dark:bg-dark-700 border-b border-gray-200 dark:border-dark-600",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:I.active}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:""})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400",children:I.past}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:""})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:I.paid}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:""})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-semibold text-yellow-600 dark:text-yellow-400",children:I.pending}),l.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:" "})]})]})}),l.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-dark-600",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"   ...",value:i,onChange:k=>s(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg text-sm dark:bg-dark-800"})]}),l.jsxs("select",{value:o,onChange:k=>c(k.target.value),className:"px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg text-sm dark:bg-dark-800",children:[l.jsxs("option",{value:"all",children:["  (",I.total,")"]}),l.jsxs("option",{value:"active",children:[" (",I.active,")"]}),l.jsxs("option",{value:"past",children:[" (",I.past,")"]}),l.jsxs("option",{value:"cancelled",children:[" (",I.cancelled,")"]})]}),l.jsxs("select",{value:u,onChange:k=>d(k.target.value),className:"px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg text-sm dark:bg-dark-800",children:[l.jsx("option",{value:"all",children:" "}),l.jsxs("option",{value:"paid",children:[" (",I.paid,")"]}),l.jsxs("option",{value:"pending",children:["  (",I.pending,")"]}),l.jsxs("option",{value:"free",children:[" (",I.free,")"]})]})]})}),l.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-600",children:S.length>0?S.map(k=>{var L,C,A,N;const T=y(k);return l.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[((L=k.event)==null?void 0:L.bg_image)&&l.jsx("div",{className:"md:w-20 h-20 bg-gray-200 dark:bg-dark-700 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:zt(k.event.bg_image),alt:k.event.title,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:l.jsxs(Be,{to:`/events/${k.event_id}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[((C=k.event)==null?void 0:C.title)||"",l.jsx(Hu,{className:"h-4 w-4 inline ml-1"})]})}),l.jsxs("div",{className:"flex gap-2 ml-4",children:[l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x(T)}`,children:v(T)}),l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${b(k.payment_status)}`,children:w(k.payment_status)})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[((A=k.event)==null?void 0:A.start_at)&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Oe,{className:"h-4 w-4"}),new Date(k.event.start_at).toLocaleDateString("ru-RU")]}),((N=k.event)==null?void 0:N.location)&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vr,{className:"h-4 w-4"}),k.event.location]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Vt,{className:"h-4 w-4"}),k.adult_tickets," ",k.child_tickets>0&&`, ${k.child_tickets} `]}),k.total_amount>0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Kd,{className:"h-4 w-4"}),k.total_amount," "]})]}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:[l.jsxs("span",{children:["ID : ",k.registration_id]}),l.jsx("span",{className:"mx-2",children:""}),l.jsxs("span",{children:[": ",new Date(k.registration_date).toLocaleDateString("ru-RU")]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[k.full_name,"  ",k.email]}),l.jsxs("button",{onClick:()=>E(k),className:"flex items-center gap-2 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors text-sm font-medium",children:[l.jsx(Xl,{className:"h-4 w-4"})," QR-"]})]})]})]})},k.id)}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Oe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i||o!=="all"||u!=="all"?"   ":"       "})]})}),f&&l.jsx(qle,{registration:f,isOpen:p,onClose:j})]})},Kle=({userId:t,userName:e,userEmail:r})=>{const[n,a]=_.useState(""),[i,s]=_.useState(!0),[o,c]=_.useState(!1);_.useEffect(()=>{u()},[t]);const u=async()=>{try{s(!0);const{data:y,error:x}=await ue.from("profiles").select("qr_token").eq("id",t).single();if(x)throw x;y!=null&&y.qr_token?a(y.qr_token):await d()}catch(y){console.error("Error fetching QR token:",y),K.error("  QR-")}finally{s(!1)}},d=async()=>{try{c(!0);const{data:y,error:x}=await ue.rpc("regenerate_qr_token",{profile_id:t});if(x)throw x;a(y),K.success("QR- ")}catch(y){console.error("Error regenerating QR token:",y),K.error("  QR-")}finally{c(!1)}},f=()=>{const y=document.getElementById("user-qr-code");if(!y)return;const x=new XMLSerializer().serializeToString(y),v=document.createElement("canvas"),b=v.getContext("2d"),w=new Image;v.width=512,v.height=512,w.onload=()=>{b==null||b.drawImage(w,0,0,512,512);const S=document.createElement("a");S.download=`qr-code-${e.replace(/\s+/g,"-").toLowerCase()}.png`,S.href=v.toDataURL(),S.click()},w.src="data:image/svg+xml;base64,"+btoa(x)},h=async()=>{const y=m();try{await navigator.clipboard.writeText(y),K.success(" QR- ")}catch(x){console.error("Error copying QR data:",x),K.error(" ")}},p=async()=>{const y=m();if(navigator.share)try{await navigator.share({title:`QR- ${e}`,text:"QR-   ",url:y})}catch(x){console.error("Error sharing:",x)}else h()},m=()=>JSON.stringify({type:"user_attendance",userId:t,qrToken:n,userName:e,userEmail:r,timestamp:Date.now()});if(i)return l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg p-6 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:" QR-..."})]});const g=m();return l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4 text-white",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xl,{className:"h-5 w-5"}),l.jsx("h3",{className:"text-lg font-semibold",children:" QR-"})]}),l.jsx("p",{className:"text-primary-100 text-sm mt-1",children:"      "})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm inline-block mb-4",children:l.jsx(q2,{id:"user-qr-code",value:g,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 256 256"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r}),l.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:["ID: ",n.slice(0,8),"..."]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:f,className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:[l.jsx(Zd,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:""})]}),l.jsxs("button",{onClick:p,className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:[l.jsx(ow,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:""})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-dark-600",children:[l.jsxs("button",{onClick:d,disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors disabled:opacity-50",children:[l.jsx(Rj,{className:`h-4 w-4 ${o?"animate-spin":""}`}),o?"...":" QR-"]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:" ,  ,   "})]})]})]})},Zle=()=>{var C;const t=Ra(),{user:e,loading:r}=al(),[n,a]=_.useState(null),[i,s]=_.useState(!0),[o,c]=_.useState(!1),[u,d]=_.useState(!1),[f,h]=_.useState({name:""}),[p,m]=_.useState(!1);yw(e==null?void 0:e.id),bw(e==null?void 0:e.id);const[g,y]=_.useState([]),[x,v]=_.useState([]),[b,w]=_.useState(!1);_.useEffect(()=>{!r&&!e&&t("/")},[e,r,t]),_.useEffect(()=>{const A=async()=>{var O,$,D;if(!e){s(!1);return}try{const{data:R,error:M}=await ue.from("profiles").select("*").eq("id",e.id).maybeSingle();if(M&&M.code!=="PGRST116")throw console.error("Profile fetch error:",M),M;if(R)a(R);else try{const F=await Wle(),B={id:e.id,name:e.name||((O=e.email)==null?void 0:O.split("@")[0])||"",role:"Guest",email:e.email,avatar:F},{data:U,error:q}=await ue.from("profiles").insert(B).select().single();if(q)throw q;a(U)}catch(F){console.error("Error creating profile:",F);const B={id:e.id,name:e.name||(($=e.email)==null?void 0:$.split("@")[0])||"",role:"Guest",email:e.email,avatar:null},{data:U}=await ue.from("profiles").insert(B).select().single();a(U)}h({name:(R==null?void 0:R.name)||e.name||((D=e.email)==null?void 0:D.split("@")[0])||""})}catch(R){console.error("Profile fetch error:",R),K.error("  ")}finally{s(!1)}},N=async()=>{e&&(w(!0),await Promise.all([S(),E()]),w(!1))};A(),N()},[e]);const S=async()=>{if(e)try{const{data:A,error:N}=await ue.from("user_favorite_speakers").select(`
          speakers (
            id,
            name,
            description,
            field_of_expertise,
            photos
          )
        `).eq("user_id",e.id);if(N)throw N;const O=(A==null?void 0:A.map($=>$.speakers).filter(Boolean))||[];y(O)}catch(A){console.error("Error fetching favorite speakers:",A)}},E=async()=>{if(e)try{const{data:A,error:N}=await ue.from("user_favorite_events").select(`
          events (
            id,
            title,
            description,
            start_at,
            location,
            bg_image,
            event_type
          )
        `).eq("user_id",e.id);if(N)throw N;const O=(A==null?void 0:A.map($=>$.events).filter(Boolean))||[];v(O)}catch(A){console.error("Error fetching favorite events:",A)}},j=async()=>{if(!(!n||!e))try{m(!0);const{error:A}=await ue.from("profiles").update({name:f.name}).eq("id",e.id);if(A)throw A;a(N=>N&&{...N,name:f.name}),c(!1),K.success(" ")}catch(A){console.error("Error updating profile:",A),K.error("   ")}finally{m(!1)}},I=()=>{var A;h({name:(n==null?void 0:n.name)||(e==null?void 0:e.name)||((A=e==null?void 0:e.email)==null?void 0:A.split("@")[0])||""}),c(!1)},k=async A=>{if(e)try{const{error:N}=await ue.from("profiles").update({avatar:A}).eq("id",e.id);if(N)throw N;a(O=>O&&{...O,avatar:A}),d(!1),K.success(" "),setTimeout(()=>{window.location.reload()},1e3)}catch(N){throw console.error("Error updating avatar:",N),K.error("   "),N}},T=async A=>{if(e)try{const{error:N}=await ue.from("user_favorite_speakers").delete().eq("user_id",e.id).eq("speaker_id",A);if(N)throw N;y(O=>O.filter($=>$.id!==A)),K.success("   ")}catch(N){console.error("Error removing favorite speaker:",N),K.error("   ")}},L=async A=>{if(e)try{const{error:N}=await ue.from("user_favorite_events").delete().eq("user_id",e.id).eq("event_id",A);if(N)throw N;v(O=>O.filter($=>$.id!==A)),K.success("   ")}catch(N){console.error("Error removing favorite event:",N),K.error("   ")}};return r||i?l.jsx(Ot,{children:l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):e?l.jsxs(Ot,{children:[l.jsx("div",{className:"container mx-auto px-4 py-12",children:l.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-6 text-white",children:l.jsx("h1",{className:"text-2xl font-bold",children:" "})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:n!=null&&n.avatar?l.jsx("img",{src:zt(n.avatar),alt:" ",className:"w-full h-full object-cover"}):l.jsx(Cn,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"})}),l.jsx("button",{onClick:()=>d(!0),className:"absolute -bottom-1 -right-1 w-6 h-6 bg-primary-500 hover:bg-primary-600 text-white rounded-full flex items-center justify-center transition-colors",title:" ",children:l.jsx(uc,{className:"h-3 w-3"})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:(n==null?void 0:n.name)||""}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e.email})]})]}),l.jsxs("button",{onClick:()=>c(!o),className:"btn-outline",children:[l.jsx(Qa,{className:"h-4 w-4 mr-2"}),""]})]}),o?l.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),l.jsx("input",{type:"text",value:f.name,onChange:A=>h({...f,name:A.target.value}),className:"w-full p-3 border border-gray-300 dark:border-dark-600 rounded-lg dark:bg-dark-800",placeholder:"  "})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:j,disabled:p,className:"btn-primary flex-1",children:p?l.jsx(l.Fragment,{children:"..."}):l.jsxs(l.Fragment,{children:[l.jsx(Ia,{className:"h-4 w-4 mr-2"}),""]})}),l.jsxs("button",{onClick:I,className:"btn-outline flex-1",children:[l.jsx(Bt,{className:"h-4 w-4 mr-2"}),""]})]})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Jd,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),l.jsx("p",{className:"font-medium",children:e.email})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(QM,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:""}),l.jsx("p",{className:"font-medium",children:(n==null?void 0:n.role)||""})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Oe,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:" "}),l.jsx("p",{className:"font-medium",children:n!=null&&n.created_at?new Date(n.created_at).toLocaleDateString("ru-RU"):" "})]})]})]})]})]}),n&&l.jsx(Kle,{userId:n.id,userName:n.name||((C=n.email)==null?void 0:C.split("@")[0])||"",userEmail:n.email||e.email}),n&&l.jsx(Yle,{userId:n.id}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(aa,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),l.jsx("h3",{className:"text-lg font-medium",children:" "}),l.jsx("span",{className:"bg-gray-100 dark:bg-dark-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-full text-xs",children:g.length})]}),l.jsxs(Be,{to:"/speakers",className:"text-primary-600 hover:text-primary-700 text-sm flex items-center gap-1",children:[" ",l.jsx(Hu,{className:"h-4 w-4"})]})]})}),l.jsx("div",{className:"p-6",children:b?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((A,N)=>l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"bg-gray-200 dark:bg-dark-700 h-20 rounded-lg"})},N))}):g.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(A=>{var N;return l.jsxs("div",{className:"group bg-gray-50 dark:bg-dark-700 rounded-lg p-4 hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-dark-600",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-primary-100 dark:bg-primary-900/30 flex-shrink-0",children:A.photos&&A.photos.length>0?l.jsx("img",{src:zt(((N=A.photos.find(O=>O.isMain))==null?void 0:N.url)||A.photos[0].url),alt:A.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Cn,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-white line-clamp-2 group-hover:text-primary-700 dark:group-hover:text-primary-300 transition-colors",children:A.name}),A.field_of_expertise&&l.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mt-1 line-clamp-2 font-medium",children:A.field_of_expertise})]})]}),l.jsx("button",{onClick:()=>T(A.id),className:"text-gray-400 hover:text-red-500 p-1.5 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 opacity-0 group-hover:opacity-100",title:"  ",children:l.jsx(Bt,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-gray-700",children:l.jsxs(Be,{to:`/speakers/${A.id}`,className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 text-sm flex items-center gap-1 transition-colors font-medium",children:[" ",l.jsx(Hu,{className:"h-3 w-3"})]})})]},A.id)})}):l.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[l.jsx(aa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"     "}),l.jsx("p",{className:"text-sm mt-1",children:"      "})]})})]}),l.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vt,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),l.jsx("h3",{className:"text-lg font-medium",children:" "}),l.jsx("span",{className:"bg-gray-100 dark:bg-dark-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-full text-xs",children:x.length})]}),l.jsxs(Be,{to:"/events",className:"text-primary-600 hover:text-primary-700 text-sm flex items-center gap-1",children:[" ",l.jsx(Hu,{className:"h-4 w-4"})]})]})}),l.jsx("div",{className:"p-6",children:x.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(A=>l.jsxs("div",{className:"group bg-gray-50 dark:bg-dark-700 rounded-lg overflow-hidden hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-dark-600",children:[A.bg_image&&l.jsx("div",{className:"h-32 bg-gray-200 dark:bg-dark-600",children:l.jsx("img",{src:zt(A.bg_image),alt:A.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-white line-clamp-2 group-hover:text-primary-700 dark:group-hover:text-primary-300 transition-colors",children:l.jsx(Be,{to:`/events/${A.id}`,children:A.title})}),l.jsx("button",{onClick:()=>L(A.id),className:"text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 opacity-0 group-hover:opacity-100 ml-2",title:"  ",children:l.jsx(Bt,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[A.start_at&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Oe,{className:"h-4 w-4"}),l.jsx("span",{children:new Date(A.start_at).toLocaleDateString("ru-RU")})]}),A.location&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vr,{className:"h-4 w-4"}),l.jsx("span",{className:"line-clamp-1",children:A.location})]}),A.event_type&&l.jsx("span",{className:"inline-block bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-300 px-2 py-1 rounded text-xs",children:A.event_type})]}),A.description&&l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2 mt-2",children:A.description})]})]},A.id))}):l.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[l.jsx(Oe,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"     "}),l.jsx("p",{className:"text-sm mt-1",children:"      "})]})})]}),l.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:" "}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",l.jsx("strong",{children:" :"}),"          ."]})})]})})]})}),u&&l.jsx(Xle,{currentAvatar:n==null?void 0:n.avatar,onAvatarSelect:k,onClose:()=>d(!1)})]}):null};function Qle(){return l.jsxs("div",{className:"app",children:[l.jsx(kM,{position:"top-center"}),l.jsxs(yR,{children:[l.jsx(dt,{path:"/",element:l.jsx(K$,{})}),l.jsx(dt,{path:"/events",element:l.jsx(Qz,{})}),l.jsx(dt,{path:"/events/:id",element:l.jsx(aH,{})}),l.jsx(dt,{path:"/speakers",element:l.jsx(lH,{})}),l.jsx(dt,{path:"/speakers/:id",element:l.jsx(SX,{})}),l.jsx(dt,{path:"/rent",element:l.jsx(pq,{})}),l.jsx(dt,{path:"/coworking",element:l.jsx(vq,{})}),l.jsx(dt,{path:"/about",element:l.jsx(bq,{})}),l.jsx(dt,{path:"/posters",element:l.jsx(Ule,{})}),l.jsx(dt,{path:"/auth/callback",element:l.jsx(zle,{})}),l.jsx(dt,{path:"/reset-password",element:l.jsx(Hle,{})}),l.jsx(dt,{path:"/profile",element:l.jsx(Joe,{children:l.jsx(Zle,{})})}),l.jsxs(dt,{path:"/admin",element:l.jsx(Qoe,{children:l.jsx(lQ,{})}),children:[l.jsx(dt,{index:!0,element:l.jsx(cQ,{})}),l.jsx(dt,{path:"events",element:l.jsx(fQ,{})}),l.jsx(dt,{path:"events/new",element:l.jsx(yS,{})}),l.jsx(dt,{path:"events/:id/edit",element:l.jsx(yS,{})}),l.jsx(dt,{path:"speakers",element:l.jsx(mJ,{})}),l.jsx(dt,{path:"rent",element:l.jsx(vJ,{})}),l.jsx(dt,{path:"coworking",element:l.jsx(xJ,{})}),l.jsx(dt,{path:"about",element:l.jsx(yJ,{})}),l.jsx(dt,{path:"navigation",element:l.jsx(eie,{})}),l.jsx(dt,{path:"export",element:l.jsx(aie,{})}),l.jsx(dt,{path:"calendar",element:l.jsx(gle,{})}),l.jsx(dt,{path:"event-statistics",element:l.jsx(Koe,{})}),l.jsx(dt,{path:"attendance",element:l.jsx(Zoe,{})})]}),l.jsx(dt,{path:"*",element:l.jsx(wq,{})})]})]})}fj(document.getElementById("root")).render(l.jsx(_.StrictMode,{children:l.jsx(CR,{children:l.jsx(wL,{children:l.jsx(Z$,{children:l.jsx(Qle,{})})})})}));
