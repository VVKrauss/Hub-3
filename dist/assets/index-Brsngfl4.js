var n6=Object.defineProperty;var a6=(e,t,r)=>t in e?n6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fl=(e,t,r)=>a6(e,typeof t!="symbol"?t+"":t,r);function s6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var x_={exports:{}},Jh={},y_={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd=Symbol.for("react.element"),i6=Symbol.for("react.portal"),o6=Symbol.for("react.fragment"),l6=Symbol.for("react.strict_mode"),c6=Symbol.for("react.profiler"),d6=Symbol.for("react.provider"),u6=Symbol.for("react.context"),f6=Symbol.for("react.forward_ref"),h6=Symbol.for("react.suspense"),m6=Symbol.for("react.memo"),p6=Symbol.for("react.lazy"),Kw=Symbol.iterator;function g6(e){return e===null||typeof e!="object"?null:(e=Kw&&e[Kw]||e["@@iterator"],typeof e=="function"?e:null)}var b_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w_=Object.assign,k_={};function Nl(e,t,r){this.props=e,this.context=t,this.refs=k_,this.updater=r||b_}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function j_(){}j_.prototype=Nl.prototype;function hy(e,t,r){this.props=e,this.context=t,this.refs=k_,this.updater=r||b_}var my=hy.prototype=new j_;my.constructor=hy;w_(my,Nl.prototype);my.isPureReactComponent=!0;var Jw=Array.isArray,N_=Object.prototype.hasOwnProperty,py={current:null},__={key:!0,ref:!0,__self:!0,__source:!0};function S_(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)N_.call(t,n)&&!__.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Pd,type:e,key:s,ref:o,props:a,_owner:py.current}}function v6(e,t){return{$$typeof:Pd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pd}function x6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qw=/\/+/g;function Sp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x6(""+e.key):t.toString(36)}function hf(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pd:case i6:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Sp(o,0):n,Jw(a)?(r="",e!=null&&(r=e.replace(Qw,"$&/")+"/"),hf(a,t,r,"",function(d){return d})):a!=null&&(gy(a)&&(a=v6(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Qw,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Jw(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Sp(s,l);o+=hf(s,t,r,c,a)}else if(c=g6(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Sp(s,l++),o+=hf(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yu(e,t,r){if(e==null)return e;var n=[],a=0;return hf(e,n,"","",function(s){return t.call(r,s,a++)}),n}function y6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vr={current:null},mf={transition:null},b6={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:mf,ReactCurrentOwner:py};function C_(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:yu,forEach:function(e,t,r){yu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yu(e,function(){t++}),t},toArray:function(e){return yu(e,function(t){return t})||[]},only:function(e){if(!gy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=Nl;Me.Fragment=o6;Me.Profiler=c6;Me.PureComponent=hy;Me.StrictMode=l6;Me.Suspense=h6;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b6;Me.act=C_;Me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=w_({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=py.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N_.call(t,c)&&!__.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Pd,type:e.type,key:a,ref:s,props:n,_owner:o}};Me.createContext=function(e){return e={$$typeof:u6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:d6,_context:e},e.Consumer=e};Me.createElement=S_;Me.createFactory=function(e){var t=S_.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:f6,render:e}};Me.isValidElement=gy;Me.lazy=function(e){return{$$typeof:p6,_payload:{_status:-1,_result:e},_init:y6}};Me.memo=function(e,t){return{$$typeof:m6,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=mf.transition;mf.transition={};try{e()}finally{mf.transition=t}};Me.unstable_act=C_;Me.useCallback=function(e,t){return vr.current.useCallback(e,t)};Me.useContext=function(e){return vr.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return vr.current.useDeferredValue(e)};Me.useEffect=function(e,t){return vr.current.useEffect(e,t)};Me.useId=function(){return vr.current.useId()};Me.useImperativeHandle=function(e,t,r){return vr.current.useImperativeHandle(e,t,r)};Me.useInsertionEffect=function(e,t){return vr.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return vr.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return vr.current.useMemo(e,t)};Me.useReducer=function(e,t,r){return vr.current.useReducer(e,t,r)};Me.useRef=function(e){return vr.current.useRef(e)};Me.useState=function(e){return vr.current.useState(e)};Me.useSyncExternalStore=function(e,t,r){return vr.current.useSyncExternalStore(e,t,r)};Me.useTransition=function(){return vr.current.useTransition()};Me.version="18.3.1";y_.exports=Me;var k=y_.exports;const Z=pa(k),m0=s6({__proto__:null,default:Z},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w6=k,k6=Symbol.for("react.element"),j6=Symbol.for("react.fragment"),N6=Object.prototype.hasOwnProperty,_6=w6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S6={key:!0,ref:!0,__self:!0,__source:!0};function E_(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)N6.call(t,n)&&!S6.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:k6,type:e,key:s,ref:o,props:a,_owner:_6.current}}Jh.Fragment=j6;Jh.jsx=E_;Jh.jsxs=E_;x_.exports=Jh;var i=x_.exports,T_={exports:{}},Xr={},D_={exports:{}},P_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,F){var L=A.length;A.push(F);e:for(;0<L;){var $=L-1>>>1,z=A[$];if(0<a(z,F))A[$]=F,A[L]=z,L=$;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var F=A[0],L=A.pop();if(L!==F){A[0]=L;e:for(var $=0,z=A.length,q=z>>>1;$<q;){var K=2*($+1)-1,H=A[K],ee=K+1,ne=A[ee];if(0>a(H,L))ee<z&&0>a(ne,H)?(A[$]=ne,A[ee]=L,$=ee):(A[$]=H,A[K]=L,$=K);else if(ee<z&&0>a(ne,L))A[$]=ne,A[ee]=L,$=ee;else break e}}return F}function a(A,F){var L=A.sortIndex-F.sortIndex;return L!==0?L:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,m=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var F=r(d);F!==null;){if(F.callback===null)n(d);else if(F.startTime<=A)n(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(d)}}function w(A){if(v=!1,x(A),!y)if(r(c)!==null)y=!0,B(_);else{var F=r(d);F!==null&&P(w,F.startTime-A)}}function _(A,F){y=!1,v&&(v=!1,g(O),O=-1),m=!0;var L=h;try{for(x(F),f=r(c);f!==null&&(!(f.expirationTime>F)||A&&!R());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var z=$(f.expirationTime<=F);F=e.unstable_now(),typeof z=="function"?f.callback=z:f===r(c)&&n(c),x(F)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var K=r(d);K!==null&&P(w,K.startTime-F),q=!1}return q}finally{f=null,h=L,m=!1}}var S=!1,E=null,O=-1,T=5,D=-1;function R(){return!(e.unstable_now()-D<T)}function N(){if(E!==null){var A=e.unstable_now();D=A;var F=!0;try{F=E(!0,A)}finally{F?C():(S=!1,E=null)}}else S=!1}var C;if(typeof p=="function")C=function(){p(N)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,I=j.port2;j.port1.onmessage=N,C=function(){I.postMessage(null)}}else C=function(){b(N,0)};function B(A){E=A,S||(S=!0,C())}function P(A,F){O=b(function(){A(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,B(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var L=h;h=F;try{return A()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=h;h=A;try{return F()}finally{h=L}},e.unstable_scheduleCallback=function(A,F,L){var $=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?$+L:$):L=$,A){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=L+z,A={id:u++,callback:F,priorityLevel:A,startTime:L,expirationTime:z,sortIndex:-1},L>$?(A.sortIndex=L,t(d,A),r(c)===null&&A===r(d)&&(v?(g(O),O=-1):v=!0,P(w,L-$))):(A.sortIndex=z,t(c,A),y||m||(y=!0,B(_))),A},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(A){var F=h;return function(){var L=h;h=F;try{return A.apply(this,arguments)}finally{h=L}}}})(P_);D_.exports=P_;var C6=D_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E6=k,Gr=C6;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O_=new Set,Yc={};function Xi(e,t){Zo(e,t),Zo(e+"Capture",t)}function Zo(e,t){for(Yc[e]=t,e=0;e<t.length;e++)O_.add(t[e])}var $a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p0=Object.prototype.hasOwnProperty,T6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zw={},ek={};function D6(e){return p0.call(ek,e)?!0:p0.call(Zw,e)?!1:T6.test(e)?ek[e]=!0:(Zw[e]=!0,!1)}function P6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O6(e,t,r,n){if(t===null||typeof t>"u"||P6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var vy=/[\-:]([a-z])/g;function xy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vy,xy);Xt[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vy,xy);Xt[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vy,xy);Xt[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function yy(e,t,r,n){var a=Xt.hasOwnProperty(t)?Xt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O6(t,r,a,n)&&(r=null),n||a===null?D6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var qa=E6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bu=Symbol.for("react.element"),bo=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),g0=Symbol.for("react.profiler"),I_=Symbol.for("react.provider"),M_=Symbol.for("react.context"),wy=Symbol.for("react.forward_ref"),v0=Symbol.for("react.suspense"),x0=Symbol.for("react.suspense_list"),ky=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),R_=Symbol.for("react.offscreen"),tk=Symbol.iterator;function Bl(e){return e===null||typeof e!="object"?null:(e=tk&&e[tk]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Object.assign,Cp;function hc(e){if(Cp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cp=t&&t[1]||""}return`
`+Cp+e}var Ep=!1;function Tp(e,t){if(!e||Ep)return"";Ep=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ep=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hc(e):""}function I6(e){switch(e.tag){case 5:return hc(e.type);case 16:return hc("Lazy");case 13:return hc("Suspense");case 19:return hc("SuspenseList");case 0:case 2:case 15:return e=Tp(e.type,!1),e;case 11:return e=Tp(e.type.render,!1),e;case 1:return e=Tp(e.type,!0),e;default:return""}}function y0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wo:return"Fragment";case bo:return"Portal";case g0:return"Profiler";case by:return"StrictMode";case v0:return"Suspense";case x0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case M_:return(e.displayName||"Context")+".Consumer";case I_:return(e._context.displayName||"Context")+".Provider";case wy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ky:return t=e.displayName||null,t!==null?t:y0(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return y0(e(t))}catch{}}return null}function M6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y0(t);case 8:return t===by?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function A_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R6(e){var t=A_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wu(e){e._valueTracker||(e._valueTracker=R6(e))}function L_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=A_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Mf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function b0(e,t){var r=t.checked;return vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $_(e,t){t=t.checked,t!=null&&yy(e,"checked",t,!1)}function w0(e,t){$_(e,t);var r=Fs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?k0(e,t.type,r):t.hasOwnProperty("defaultValue")&&k0(e,t.type,Fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function k0(e,t,r){(t!=="number"||Mf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var mc=Array.isArray;function $o(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function j0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ak(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(se(92));if(mc(r)){if(1<r.length)throw Error(se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fs(r)}}function z_(e,t){var r=Fs(t.value),n=Fs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function sk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function F_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?F_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ku,B_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ku=ku||document.createElement("div"),ku.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ku.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var kc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A6=["Webkit","ms","Moz","O"];Object.keys(kc).forEach(function(e){A6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kc[t]=kc[e]})});function U_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||kc.hasOwnProperty(e)&&kc[e]?(""+t).trim():t+"px"}function W_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=U_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var L6=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _0(e,t){if(t){if(L6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function S0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C0=null;function jy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var E0=null,zo=null,Fo=null;function ik(e){if(e=Md(e)){if(typeof E0!="function")throw Error(se(280));var t=e.stateNode;t&&(t=rm(t),E0(e.stateNode,e.type,t))}}function H_(e){zo?Fo?Fo.push(e):Fo=[e]:zo=e}function V_(){if(zo){var e=zo,t=Fo;if(Fo=zo=null,ik(e),t)for(e=0;e<t.length;e++)ik(t[e])}}function q_(e,t){return e(t)}function G_(){}var Dp=!1;function Y_(e,t,r){if(Dp)return e(t,r);Dp=!0;try{return q_(e,t,r)}finally{Dp=!1,(zo!==null||Fo!==null)&&(G_(),V_())}}function Kc(e,t){var r=e.stateNode;if(r===null)return null;var n=rm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(se(231,t,typeof r));return r}var T0=!1;if($a)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){T0=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{T0=!1}function $6(e,t,r,n,a,s,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var jc=!1,Rf=null,Af=!1,D0=null,z6={onError:function(e){jc=!0,Rf=e}};function F6(e,t,r,n,a,s,o,l,c){jc=!1,Rf=null,$6.apply(z6,arguments)}function B6(e,t,r,n,a,s,o,l,c){if(F6.apply(this,arguments),jc){if(jc){var d=Rf;jc=!1,Rf=null}else throw Error(se(198));Af||(Af=!0,D0=d)}}function Ki(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function X_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ok(e){if(Ki(e)!==e)throw Error(se(188))}function U6(e){var t=e.alternate;if(!t){if(t=Ki(e),t===null)throw Error(se(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return ok(a),e;if(s===n)return ok(a),t;s=s.sibling}throw Error(se(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?e:t}function K_(e){return e=U6(e),e!==null?J_(e):null}function J_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=J_(e);if(t!==null)return t;e=e.sibling}return null}var Q_=Gr.unstable_scheduleCallback,lk=Gr.unstable_cancelCallback,W6=Gr.unstable_shouldYield,H6=Gr.unstable_requestPaint,kt=Gr.unstable_now,V6=Gr.unstable_getCurrentPriorityLevel,Ny=Gr.unstable_ImmediatePriority,Z_=Gr.unstable_UserBlockingPriority,Lf=Gr.unstable_NormalPriority,q6=Gr.unstable_LowPriority,eS=Gr.unstable_IdlePriority,Qh=null,aa=null;function G6(e){if(aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(Qh,e,void 0,(e.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:K6,Y6=Math.log,X6=Math.LN2;function K6(e){return e>>>=0,e===0?32:31-(Y6(e)/X6|0)|0}var ju=64,Nu=4194304;function pc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $f(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=pc(l):(s&=o,s!==0&&(n=pc(s)))}else o=r&~a,o!==0?n=pc(o):s!==0&&(n=pc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$n(t),a=1<<r,n|=e[r],t&=~a;return n}function J6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q6(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-$n(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=J6(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function P0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tS(){var e=ju;return ju<<=1,!(ju&4194240)&&(ju=64),e}function Pp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Od(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$n(t),e[t]=r}function Z6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-$n(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function _y(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$n(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var qe=0;function rS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nS,Sy,aS,sS,iS,O0=!1,_u=[],_s=null,Ss=null,Cs=null,Jc=new Map,Qc=new Map,us=[],eP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ck(e,t){switch(e){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Jc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(t.pointerId)}}function Wl(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Md(t),t!==null&&Sy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function tP(e,t,r,n,a){switch(t){case"focusin":return _s=Wl(_s,e,t,r,n,a),!0;case"dragenter":return Ss=Wl(Ss,e,t,r,n,a),!0;case"mouseover":return Cs=Wl(Cs,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Jc.set(s,Wl(Jc.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Qc.set(s,Wl(Qc.get(s)||null,e,t,r,n,a)),!0}return!1}function oS(e){var t=ji(e.target);if(t!==null){var r=Ki(t);if(r!==null){if(t=r.tag,t===13){if(t=X_(r),t!==null){e.blockedOn=t,iS(e.priority,function(){aS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=I0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);C0=n,r.target.dispatchEvent(n),C0=null}else return t=Md(r),t!==null&&Sy(t),e.blockedOn=r,!1;t.shift()}return!0}function dk(e,t,r){pf(e)&&r.delete(t)}function rP(){O0=!1,_s!==null&&pf(_s)&&(_s=null),Ss!==null&&pf(Ss)&&(Ss=null),Cs!==null&&pf(Cs)&&(Cs=null),Jc.forEach(dk),Qc.forEach(dk)}function Hl(e,t){e.blockedOn===t&&(e.blockedOn=null,O0||(O0=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,rP)))}function Zc(e){function t(a){return Hl(a,e)}if(0<_u.length){Hl(_u[0],e);for(var r=1;r<_u.length;r++){var n=_u[r];n.blockedOn===e&&(n.blockedOn=null)}}for(_s!==null&&Hl(_s,e),Ss!==null&&Hl(Ss,e),Cs!==null&&Hl(Cs,e),Jc.forEach(t),Qc.forEach(t),r=0;r<us.length;r++)n=us[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<us.length&&(r=us[0],r.blockedOn===null);)oS(r),r.blockedOn===null&&us.shift()}var Bo=qa.ReactCurrentBatchConfig,zf=!0;function nP(e,t,r,n){var a=qe,s=Bo.transition;Bo.transition=null;try{qe=1,Cy(e,t,r,n)}finally{qe=a,Bo.transition=s}}function aP(e,t,r,n){var a=qe,s=Bo.transition;Bo.transition=null;try{qe=4,Cy(e,t,r,n)}finally{qe=a,Bo.transition=s}}function Cy(e,t,r,n){if(zf){var a=I0(e,t,r,n);if(a===null)Bp(e,t,n,Ff,r),ck(e,n);else if(tP(a,e,t,r,n))n.stopPropagation();else if(ck(e,n),t&4&&-1<eP.indexOf(e)){for(;a!==null;){var s=Md(a);if(s!==null&&nS(s),s=I0(e,t,r,n),s===null&&Bp(e,t,n,Ff,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Bp(e,t,n,null,r)}}var Ff=null;function I0(e,t,r,n){if(Ff=null,e=jy(n),e=ji(e),e!==null)if(t=Ki(e),t===null)e=null;else if(r=t.tag,r===13){if(e=X_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ff=e,null}function lS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V6()){case Ny:return 1;case Z_:return 4;case Lf:case q6:return 16;case eS:return 536870912;default:return 16}default:return 16}}var vs=null,Ey=null,gf=null;function cS(){if(gf)return gf;var e,t=Ey,r=t.length,n,a="value"in vs?vs.value:vs.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return gf=a.slice(e,1<n?1-n:void 0)}function vf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Su(){return!0}function uk(){return!1}function Kr(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Su:uk,this.isPropagationStopped=uk,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),t}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ty=Kr(_l),Id=vt({},_l,{view:0,detail:0}),sP=Kr(Id),Op,Ip,Vl,Zh=vt({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vl&&(Vl&&e.type==="mousemove"?(Op=e.screenX-Vl.screenX,Ip=e.screenY-Vl.screenY):Ip=Op=0,Vl=e),Op)},movementY:function(e){return"movementY"in e?e.movementY:Ip}}),fk=Kr(Zh),iP=vt({},Zh,{dataTransfer:0}),oP=Kr(iP),lP=vt({},Id,{relatedTarget:0}),Mp=Kr(lP),cP=vt({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),dP=Kr(cP),uP=vt({},_l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fP=Kr(uP),hP=vt({},_l,{data:0}),hk=Kr(hP),mP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gP[e])?!!t[e]:!1}function Dy(){return vP}var xP=vt({},Id,{key:function(e){if(e.key){var t=mP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dy,charCode:function(e){return e.type==="keypress"?vf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yP=Kr(xP),bP=vt({},Zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mk=Kr(bP),wP=vt({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dy}),kP=Kr(wP),jP=vt({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),NP=Kr(jP),_P=vt({},Zh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SP=Kr(_P),CP=[9,13,27,32],Py=$a&&"CompositionEvent"in window,Nc=null;$a&&"documentMode"in document&&(Nc=document.documentMode);var EP=$a&&"TextEvent"in window&&!Nc,dS=$a&&(!Py||Nc&&8<Nc&&11>=Nc),pk=" ",gk=!1;function uS(e,t){switch(e){case"keyup":return CP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ko=!1;function TP(e,t){switch(e){case"compositionend":return fS(t);case"keypress":return t.which!==32?null:(gk=!0,pk);case"textInput":return e=t.data,e===pk&&gk?null:e;default:return null}}function DP(e,t){if(ko)return e==="compositionend"||!Py&&uS(e,t)?(e=cS(),gf=Ey=vs=null,ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dS&&t.locale!=="ko"?null:t.data;default:return null}}var PP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PP[e.type]:t==="textarea"}function hS(e,t,r,n){H_(n),t=Bf(t,"onChange"),0<t.length&&(r=new Ty("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _c=null,ed=null;function OP(e){NS(e,0)}function em(e){var t=_o(e);if(L_(t))return e}function IP(e,t){if(e==="change")return t}var mS=!1;if($a){var Rp;if($a){var Ap="oninput"in document;if(!Ap){var xk=document.createElement("div");xk.setAttribute("oninput","return;"),Ap=typeof xk.oninput=="function"}Rp=Ap}else Rp=!1;mS=Rp&&(!document.documentMode||9<document.documentMode)}function yk(){_c&&(_c.detachEvent("onpropertychange",pS),ed=_c=null)}function pS(e){if(e.propertyName==="value"&&em(ed)){var t=[];hS(t,ed,e,jy(e)),Y_(OP,t)}}function MP(e,t,r){e==="focusin"?(yk(),_c=t,ed=r,_c.attachEvent("onpropertychange",pS)):e==="focusout"&&yk()}function RP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return em(ed)}function AP(e,t){if(e==="click")return em(t)}function LP(e,t){if(e==="input"||e==="change")return em(t)}function $P(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:$P;function td(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!p0.call(t,a)||!Fn(e[a],t[a]))return!1}return!0}function bk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wk(e,t){var r=bk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bk(r)}}function gS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vS(){for(var e=window,t=Mf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Mf(e.document)}return t}function Oy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zP(e){var t=vS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gS(r.ownerDocument.documentElement,r)){if(n!==null&&Oy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=wk(r,s);var o=wk(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FP=$a&&"documentMode"in document&&11>=document.documentMode,jo=null,M0=null,Sc=null,R0=!1;function kk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;R0||jo==null||jo!==Mf(n)||(n=jo,"selectionStart"in n&&Oy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sc&&td(Sc,n)||(Sc=n,n=Bf(M0,"onSelect"),0<n.length&&(t=new Ty("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jo)))}function Cu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var No={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},Lp={},xS={};$a&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function tm(e){if(Lp[e])return Lp[e];if(!No[e])return e;var t=No[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xS)return Lp[e]=t[r];return e}var yS=tm("animationend"),bS=tm("animationiteration"),wS=tm("animationstart"),kS=tm("transitionend"),jS=new Map,jk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(e,t){jS.set(e,t),Xi(t,[e])}for(var $p=0;$p<jk.length;$p++){var zp=jk[$p],BP=zp.toLowerCase(),UP=zp[0].toUpperCase()+zp.slice(1);qs(BP,"on"+UP)}qs(yS,"onAnimationEnd");qs(bS,"onAnimationIteration");qs(wS,"onAnimationStart");qs("dblclick","onDoubleClick");qs("focusin","onFocus");qs("focusout","onBlur");qs(kS,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WP=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function Nk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,B6(n,t,void 0,e),e.currentTarget=null}function NS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;Nk(a,l,d),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;Nk(a,l,d),s=c}}}if(Af)throw e=D0,Af=!1,D0=null,e}function tt(e,t){var r=t[F0];r===void 0&&(r=t[F0]=new Set);var n=e+"__bubble";r.has(n)||(_S(t,e,2,!1),r.add(n))}function Fp(e,t,r){var n=0;t&&(n|=4),_S(r,e,n,t)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[Eu]){e[Eu]=!0,O_.forEach(function(r){r!=="selectionchange"&&(WP.has(r)||Fp(r,!1,e),Fp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eu]||(t[Eu]=!0,Fp("selectionchange",!1,t))}}function _S(e,t,r,n){switch(lS(t)){case 1:var a=nP;break;case 4:a=aP;break;default:a=Cy}r=a.bind(null,t,r,e),a=void 0,!T0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Bp(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ji(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}Y_(function(){var d=s,u=jy(r),f=[];e:{var h=jS.get(e);if(h!==void 0){var m=Ty,y=e;switch(e){case"keypress":if(vf(r)===0)break e;case"keydown":case"keyup":m=yP;break;case"focusin":y="focus",m=Mp;break;case"focusout":y="blur",m=Mp;break;case"beforeblur":case"afterblur":m=Mp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=oP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kP;break;case yS:case bS:case wS:m=dP;break;case kS:m=NP;break;case"scroll":m=sP;break;case"wheel":m=SP;break;case"copy":case"cut":case"paste":m=fP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mk}var v=(t&4)!==0,b=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var p=d,x;p!==null;){x=p;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=Kc(p,g),w!=null&&v.push(nd(p,w,x)))),b)break;p=p.return}0<v.length&&(h=new m(h,y,null,r,u),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==C0&&(y=r.relatedTarget||r.fromElement)&&(ji(y)||y[za]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=d,y=y?ji(y):null,y!==null&&(b=Ki(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=d),m!==y)){if(v=fk,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=mk,w="onPointerLeave",g="onPointerEnter",p="pointer"),b=m==null?h:_o(m),x=y==null?h:_o(y),h=new v(w,p+"leave",m,r,u),h.target=b,h.relatedTarget=x,w=null,ji(u)===d&&(v=new v(g,p+"enter",y,r,u),v.target=x,v.relatedTarget=b,w=v),b=w,m&&y)t:{for(v=m,g=y,p=0,x=v;x;x=io(x))p++;for(x=0,w=g;w;w=io(w))x++;for(;0<p-x;)v=io(v),p--;for(;0<x-p;)g=io(g),x--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=io(v),g=io(g)}v=null}else v=null;m!==null&&_k(f,h,m,v,!1),y!==null&&b!==null&&_k(f,b,y,v,!0)}}e:{if(h=d?_o(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=IP;else if(vk(h))if(mS)_=LP;else{_=RP;var S=MP}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=AP);if(_&&(_=_(e,d))){hS(f,_,r,u);break e}S&&S(e,h,d),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&k0(h,"number",h.value)}switch(S=d?_o(d):window,e){case"focusin":(vk(S)||S.contentEditable==="true")&&(jo=S,M0=d,Sc=null);break;case"focusout":Sc=M0=jo=null;break;case"mousedown":R0=!0;break;case"contextmenu":case"mouseup":case"dragend":R0=!1,kk(f,r,u);break;case"selectionchange":if(FP)break;case"keydown":case"keyup":kk(f,r,u)}var E;if(Py)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ko?uS(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(dS&&r.locale!=="ko"&&(ko||O!=="onCompositionStart"?O==="onCompositionEnd"&&ko&&(E=cS()):(vs=u,Ey="value"in vs?vs.value:vs.textContent,ko=!0)),S=Bf(d,O),0<S.length&&(O=new hk(O,e,null,r,u),f.push({event:O,listeners:S}),E?O.data=E:(E=fS(r),E!==null&&(O.data=E)))),(E=EP?TP(e,r):DP(e,r))&&(d=Bf(d,"onBeforeInput"),0<d.length&&(u=new hk("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=E))}NS(f,t)})}function nd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Kc(e,r),s!=null&&n.unshift(nd(e,s,a)),s=Kc(e,t),s!=null&&n.push(nd(e,s,a))),e=e.return}return n}function io(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _k(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Kc(r,s),c!=null&&o.unshift(nd(r,c,l))):a||(c=Kc(r,s),c!=null&&o.push(nd(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var HP=/\r\n?/g,VP=/\u0000|\uFFFD/g;function Sk(e){return(typeof e=="string"?e:""+e).replace(HP,`
`).replace(VP,"")}function Tu(e,t,r){if(t=Sk(t),Sk(e)!==t&&r)throw Error(se(425))}function Uf(){}var A0=null,L0=null;function $0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var z0=typeof setTimeout=="function"?setTimeout:void 0,qP=typeof clearTimeout=="function"?clearTimeout:void 0,Ck=typeof Promise=="function"?Promise:void 0,GP=typeof queueMicrotask=="function"?queueMicrotask:typeof Ck<"u"?function(e){return Ck.resolve(null).then(e).catch(YP)}:z0;function YP(e){setTimeout(function(){throw e})}function Up(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Zc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Zc(t)}function Es(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ek(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Sl,ad="__reactProps$"+Sl,za="__reactContainer$"+Sl,F0="__reactEvents$"+Sl,XP="__reactListeners$"+Sl,KP="__reactHandles$"+Sl;function ji(e){var t=e[Zn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[za]||r[Zn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ek(e);e!==null;){if(r=e[Zn])return r;e=Ek(e)}return t}e=r,r=e.parentNode}return null}function Md(e){return e=e[Zn]||e[za],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _o(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function rm(e){return e[ad]||null}var B0=[],So=-1;function Gs(e){return{current:e}}function nt(e){0>So||(e.current=B0[So],B0[So]=null,So--)}function Ze(e,t){So++,B0[So]=e.current,e.current=t}var Bs={},nr=Gs(Bs),Dr=Gs(!1),Ai=Bs;function el(e,t){var r=e.type.contextTypes;if(!r)return Bs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pr(e){return e=e.childContextTypes,e!=null}function Wf(){nt(Dr),nt(nr)}function Tk(e,t,r){if(nr.current!==Bs)throw Error(se(168));Ze(nr,t),Ze(Dr,r)}function SS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(se(108,M6(e)||"Unknown",a));return vt({},r,n)}function Hf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bs,Ai=nr.current,Ze(nr,e),Ze(Dr,Dr.current),!0}function Dk(e,t,r){var n=e.stateNode;if(!n)throw Error(se(169));r?(e=SS(e,t,Ai),n.__reactInternalMemoizedMergedChildContext=e,nt(Dr),nt(nr),Ze(nr,e)):nt(Dr),Ze(Dr,r)}var Ca=null,nm=!1,Wp=!1;function CS(e){Ca===null?Ca=[e]:Ca.push(e)}function JP(e){nm=!0,CS(e)}function Ys(){if(!Wp&&Ca!==null){Wp=!0;var e=0,t=qe;try{var r=Ca;for(qe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ca=null,nm=!1}catch(a){throw Ca!==null&&(Ca=Ca.slice(e+1)),Q_(Ny,Ys),a}finally{qe=t,Wp=!1}}return null}var Co=[],Eo=0,Vf=null,qf=0,hn=[],mn=0,Li=null,Da=1,Pa="";function ci(e,t){Co[Eo++]=qf,Co[Eo++]=Vf,Vf=e,qf=t}function ES(e,t,r){hn[mn++]=Da,hn[mn++]=Pa,hn[mn++]=Li,Li=e;var n=Da;e=Pa;var a=32-$n(n)-1;n&=~(1<<a),r+=1;var s=32-$n(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Da=1<<32-$n(t)+a|r<<a|n,Pa=s+e}else Da=1<<s|r<<a|n,Pa=e}function Iy(e){e.return!==null&&(ci(e,1),ES(e,1,0))}function My(e){for(;e===Vf;)Vf=Co[--Eo],Co[Eo]=null,qf=Co[--Eo],Co[Eo]=null;for(;e===Li;)Li=hn[--mn],hn[mn]=null,Pa=hn[--mn],hn[mn]=null,Da=hn[--mn],hn[mn]=null}var Ur=null,$r=null,dt=!1,Mn=null;function TS(e,t){var r=vn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ur=e,$r=Es(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ur=e,$r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Li!==null?{id:Da,overflow:Pa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ur=e,$r=null,!0):!1;default:return!1}}function U0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function W0(e){if(dt){var t=$r;if(t){var r=t;if(!Pk(e,t)){if(U0(e))throw Error(se(418));t=Es(r.nextSibling);var n=Ur;t&&Pk(e,t)?TS(n,r):(e.flags=e.flags&-4097|2,dt=!1,Ur=e)}}else{if(U0(e))throw Error(se(418));e.flags=e.flags&-4097|2,dt=!1,Ur=e}}}function Ok(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function Du(e){if(e!==Ur)return!1;if(!dt)return Ok(e),dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$0(e.type,e.memoizedProps)),t&&(t=$r)){if(U0(e))throw DS(),Error(se(418));for(;t;)TS(e,t),t=Es(t.nextSibling)}if(Ok(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$r=Es(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$r=null}}else $r=Ur?Es(e.stateNode.nextSibling):null;return!0}function DS(){for(var e=$r;e;)e=Es(e.nextSibling)}function tl(){$r=Ur=null,dt=!1}function Ry(e){Mn===null?Mn=[e]:Mn.push(e)}var QP=qa.ReactCurrentBatchConfig;function ql(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,e))}return e}function Pu(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ik(e){var t=e._init;return t(e._payload)}function PS(e){function t(g,p){if(e){var x=g.deletions;x===null?(g.deletions=[p],g.flags|=16):x.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function a(g,p){return g=Os(g,p),g.index=0,g.sibling=null,g}function s(g,p,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<p?(g.flags|=2,p):x):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,x,w){return p===null||p.tag!==6?(p=Kp(x,g.mode,w),p.return=g,p):(p=a(p,x),p.return=g,p)}function c(g,p,x,w){var _=x.type;return _===wo?u(g,p,x.props.children,w,x.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ss&&Ik(_)===p.type)?(w=a(p,x.props),w.ref=ql(g,p,x),w.return=g,w):(w=Nf(x.type,x.key,x.props,null,g.mode,w),w.ref=ql(g,p,x),w.return=g,w)}function d(g,p,x,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=Jp(x,g.mode,w),p.return=g,p):(p=a(p,x.children||[]),p.return=g,p)}function u(g,p,x,w,_){return p===null||p.tag!==7?(p=Pi(x,g.mode,w,_),p.return=g,p):(p=a(p,x),p.return=g,p)}function f(g,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Kp(""+p,g.mode,x),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bu:return x=Nf(p.type,p.key,p.props,null,g.mode,x),x.ref=ql(g,null,p),x.return=g,x;case bo:return p=Jp(p,g.mode,x),p.return=g,p;case ss:var w=p._init;return f(g,w(p._payload),x)}if(mc(p)||Bl(p))return p=Pi(p,g.mode,x,null),p.return=g,p;Pu(g,p)}return null}function h(g,p,x,w){var _=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:l(g,p,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bu:return x.key===_?c(g,p,x,w):null;case bo:return x.key===_?d(g,p,x,w):null;case ss:return _=x._init,h(g,p,_(x._payload),w)}if(mc(x)||Bl(x))return _!==null?null:u(g,p,x,w,null);Pu(g,x)}return null}function m(g,p,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,l(p,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bu:return g=g.get(w.key===null?x:w.key)||null,c(p,g,w,_);case bo:return g=g.get(w.key===null?x:w.key)||null,d(p,g,w,_);case ss:var S=w._init;return m(g,p,x,S(w._payload),_)}if(mc(w)||Bl(w))return g=g.get(x)||null,u(p,g,w,_,null);Pu(p,w)}return null}function y(g,p,x,w){for(var _=null,S=null,E=p,O=p=0,T=null;E!==null&&O<x.length;O++){E.index>O?(T=E,E=null):T=E.sibling;var D=h(g,E,x[O],w);if(D===null){E===null&&(E=T);break}e&&E&&D.alternate===null&&t(g,E),p=s(D,p,O),S===null?_=D:S.sibling=D,S=D,E=T}if(O===x.length)return r(g,E),dt&&ci(g,O),_;if(E===null){for(;O<x.length;O++)E=f(g,x[O],w),E!==null&&(p=s(E,p,O),S===null?_=E:S.sibling=E,S=E);return dt&&ci(g,O),_}for(E=n(g,E);O<x.length;O++)T=m(E,g,O,x[O],w),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?O:T.key),p=s(T,p,O),S===null?_=T:S.sibling=T,S=T);return e&&E.forEach(function(R){return t(g,R)}),dt&&ci(g,O),_}function v(g,p,x,w){var _=Bl(x);if(typeof _!="function")throw Error(se(150));if(x=_.call(x),x==null)throw Error(se(151));for(var S=_=null,E=p,O=p=0,T=null,D=x.next();E!==null&&!D.done;O++,D=x.next()){E.index>O?(T=E,E=null):T=E.sibling;var R=h(g,E,D.value,w);if(R===null){E===null&&(E=T);break}e&&E&&R.alternate===null&&t(g,E),p=s(R,p,O),S===null?_=R:S.sibling=R,S=R,E=T}if(D.done)return r(g,E),dt&&ci(g,O),_;if(E===null){for(;!D.done;O++,D=x.next())D=f(g,D.value,w),D!==null&&(p=s(D,p,O),S===null?_=D:S.sibling=D,S=D);return dt&&ci(g,O),_}for(E=n(g,E);!D.done;O++,D=x.next())D=m(E,g,O,D.value,w),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?O:D.key),p=s(D,p,O),S===null?_=D:S.sibling=D,S=D);return e&&E.forEach(function(N){return t(g,N)}),dt&&ci(g,O),_}function b(g,p,x,w){if(typeof x=="object"&&x!==null&&x.type===wo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case bu:e:{for(var _=x.key,S=p;S!==null;){if(S.key===_){if(_=x.type,_===wo){if(S.tag===7){r(g,S.sibling),p=a(S,x.props.children),p.return=g,g=p;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ss&&Ik(_)===S.type){r(g,S.sibling),p=a(S,x.props),p.ref=ql(g,S,x),p.return=g,g=p;break e}r(g,S);break}else t(g,S);S=S.sibling}x.type===wo?(p=Pi(x.props.children,g.mode,w,x.key),p.return=g,g=p):(w=Nf(x.type,x.key,x.props,null,g.mode,w),w.ref=ql(g,p,x),w.return=g,g=w)}return o(g);case bo:e:{for(S=x.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(g,p.sibling),p=a(p,x.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=Jp(x,g.mode,w),p.return=g,g=p}return o(g);case ss:return S=x._init,b(g,p,S(x._payload),w)}if(mc(x))return y(g,p,x,w);if(Bl(x))return v(g,p,x,w);Pu(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(g,p.sibling),p=a(p,x),p.return=g,g=p):(r(g,p),p=Kp(x,g.mode,w),p.return=g,g=p),o(g)):r(g,p)}return b}var rl=PS(!0),OS=PS(!1),Gf=Gs(null),Yf=null,To=null,Ay=null;function Ly(){Ay=To=Yf=null}function $y(e){var t=Gf.current;nt(Gf),e._currentValue=t}function H0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Uo(e,t){Yf=e,Ay=To=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tr=!0),e.firstContext=null)}function kn(e){var t=e._currentValue;if(Ay!==e)if(e={context:e,memoizedValue:t,next:null},To===null){if(Yf===null)throw Error(se(308));To=e,Yf.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Ni=null;function zy(e){Ni===null?Ni=[e]:Ni.push(e)}function IS(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,zy(t)):(r.next=a.next,a.next=r),t.interleaved=r,Fa(e,n)}function Fa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var is=!1;function Fy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Fa(e,r)}return a=n.interleaved,a===null?(t.next=t,zy(n)):(t.next=a.next,a.next=t),n.interleaved=t,Fa(e,r)}function xf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_y(e,r)}}function Mk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xf(e,t,r,n){var a=e.updateQueue;is=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,u=d=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(h=t,m=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=vt({},f,h);break e;case 2:is=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);zi|=o,e.lanes=o,e.memoizedState=f}}function Rk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(se(191,a));a.call(n)}}}var Rd={},sa=Gs(Rd),sd=Gs(Rd),id=Gs(Rd);function _i(e){if(e===Rd)throw Error(se(174));return e}function By(e,t){switch(Ze(id,t),Ze(sd,e),Ze(sa,Rd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:N0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=N0(t,e)}nt(sa),Ze(sa,t)}function nl(){nt(sa),nt(sd),nt(id)}function RS(e){_i(id.current);var t=_i(sa.current),r=N0(t,e.type);t!==r&&(Ze(sd,e),Ze(sa,r))}function Uy(e){sd.current===e&&(nt(sa),nt(sd))}var ht=Gs(0);function Kf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hp=[];function Wy(){for(var e=0;e<Hp.length;e++)Hp[e]._workInProgressVersionPrimary=null;Hp.length=0}var yf=qa.ReactCurrentDispatcher,Vp=qa.ReactCurrentBatchConfig,$i=0,pt=null,It=null,$t=null,Jf=!1,Cc=!1,od=0,ZP=0;function Qt(){throw Error(se(321))}function Hy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fn(e[r],t[r]))return!1;return!0}function Vy(e,t,r,n,a,s){if($i=s,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yf.current=e===null||e.memoizedState===null?nO:aO,e=r(n,a),Cc){s=0;do{if(Cc=!1,od=0,25<=s)throw Error(se(301));s+=1,$t=It=null,t.updateQueue=null,yf.current=sO,e=r(n,a)}while(Cc)}if(yf.current=Qf,t=It!==null&&It.next!==null,$i=0,$t=It=pt=null,Jf=!1,t)throw Error(se(300));return e}function qy(){var e=od!==0;return od=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?pt.memoizedState=$t=e:$t=$t.next=e,$t}function jn(){if(It===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=$t===null?pt.memoizedState:$t.next;if(t!==null)$t=t,It=e;else{if(e===null)throw Error(se(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},$t===null?pt.memoizedState=$t=e:$t=$t.next=e}return $t}function ld(e,t){return typeof t=="function"?t(e):t}function qp(e){var t=jn(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var n=It,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if(($i&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,pt.lanes|=u,zi|=u}d=d.next}while(d!==null&&d!==s);c===null?o=n:c.next=l,Fn(n,t.memoizedState)||(Tr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,pt.lanes|=s,zi|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gp(e){var t=jn(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Fn(s,t.memoizedState)||(Tr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function AS(){}function LS(e,t){var r=pt,n=jn(),a=t(),s=!Fn(n.memoizedState,a);if(s&&(n.memoizedState=a,Tr=!0),n=n.queue,Gy(FS.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,cd(9,zS.bind(null,r,n,a,t),void 0,null),zt===null)throw Error(se(349));$i&30||$S(r,t,a)}return a}function $S(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zS(e,t,r,n){t.value=r,t.getSnapshot=n,BS(t)&&US(e)}function FS(e,t,r){return r(function(){BS(t)&&US(e)})}function BS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fn(e,r)}catch{return!0}}function US(e){var t=Fa(e,1);t!==null&&zn(t,e,1,-1)}function Ak(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:e},t.queue=e,e=e.dispatch=rO.bind(null,pt,e),[t.memoizedState,e]}function cd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function WS(){return jn().memoizedState}function bf(e,t,r,n){var a=Jn();pt.flags|=e,a.memoizedState=cd(1|t,r,void 0,n===void 0?null:n)}function am(e,t,r,n){var a=jn();n=n===void 0?null:n;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,n!==null&&Hy(n,o.deps)){a.memoizedState=cd(t,r,s,n);return}}pt.flags|=e,a.memoizedState=cd(1|t,r,s,n)}function Lk(e,t){return bf(8390656,8,e,t)}function Gy(e,t){return am(2048,8,e,t)}function HS(e,t){return am(4,2,e,t)}function VS(e,t){return am(4,4,e,t)}function qS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GS(e,t,r){return r=r!=null?r.concat([e]):null,am(4,4,qS.bind(null,t,e),r)}function Yy(){}function YS(e,t){var r=jn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function XS(e,t){var r=jn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function KS(e,t,r){return $i&21?(Fn(r,t)||(r=tS(),pt.lanes|=r,zi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=r)}function eO(e,t){var r=qe;qe=r!==0&&4>r?r:4,e(!0);var n=Vp.transition;Vp.transition={};try{e(!1),t()}finally{qe=r,Vp.transition=n}}function JS(){return jn().memoizedState}function tO(e,t,r){var n=Ps(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},QS(e))ZS(t,r);else if(r=IS(e,t,r,n),r!==null){var a=mr();zn(r,e,n,a),eC(r,t,n)}}function rO(e,t,r){var n=Ps(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(QS(e))ZS(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Fn(l,o)){var c=t.interleaved;c===null?(a.next=a,zy(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=IS(e,t,a,n),r!==null&&(a=mr(),zn(r,e,n,a),eC(r,t,n))}}function QS(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function ZS(e,t){Cc=Jf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function eC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_y(e,r)}}var Qf={readContext:kn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},nO={readContext:kn,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:kn,useEffect:Lk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bf(4194308,4,qS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bf(4194308,4,e,t)},useInsertionEffect:function(e,t){return bf(4,2,e,t)},useMemo:function(e,t){var r=Jn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Jn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tO.bind(null,pt,e),[n.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:Ak,useDebugValue:Yy,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=Ak(!1),t=e[0];return e=eO.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pt,a=Jn();if(dt){if(r===void 0)throw Error(se(407));r=r()}else{if(r=t(),zt===null)throw Error(se(349));$i&30||$S(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Lk(FS.bind(null,n,s,e),[e]),n.flags|=2048,cd(9,zS.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Jn(),t=zt.identifierPrefix;if(dt){var r=Pa,n=Da;r=(n&~(1<<32-$n(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=od++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ZP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aO={readContext:kn,useCallback:YS,useContext:kn,useEffect:Gy,useImperativeHandle:GS,useInsertionEffect:HS,useLayoutEffect:VS,useMemo:XS,useReducer:qp,useRef:WS,useState:function(){return qp(ld)},useDebugValue:Yy,useDeferredValue:function(e){var t=jn();return KS(t,It.memoizedState,e)},useTransition:function(){var e=qp(ld)[0],t=jn().memoizedState;return[e,t]},useMutableSource:AS,useSyncExternalStore:LS,useId:JS,unstable_isNewReconciler:!1},sO={readContext:kn,useCallback:YS,useContext:kn,useEffect:Gy,useImperativeHandle:GS,useInsertionEffect:HS,useLayoutEffect:VS,useMemo:XS,useReducer:Gp,useRef:WS,useState:function(){return Gp(ld)},useDebugValue:Yy,useDeferredValue:function(e){var t=jn();return It===null?t.memoizedState=e:KS(t,It.memoizedState,e)},useTransition:function(){var e=Gp(ld)[0],t=jn().memoizedState;return[e,t]},useMutableSource:AS,useSyncExternalStore:LS,useId:JS,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=vt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function V0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:vt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sm={isMounted:function(e){return(e=e._reactInternals)?Ki(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=mr(),a=Ps(e),s=Ia(n,a);s.payload=t,r!=null&&(s.callback=r),t=Ts(e,s,a),t!==null&&(zn(t,e,a,n),xf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=mr(),a=Ps(e),s=Ia(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ts(e,s,a),t!==null&&(zn(t,e,a,n),xf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mr(),n=Ps(e),a=Ia(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ts(e,a,n),t!==null&&(zn(t,e,n,r),xf(t,e,n))}};function $k(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!td(r,n)||!td(a,s):!0}function tC(e,t,r){var n=!1,a=Bs,s=t.contextType;return typeof s=="object"&&s!==null?s=kn(s):(a=Pr(t)?Ai:nr.current,n=t.contextTypes,s=(n=n!=null)?el(e,a):Bs),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function zk(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&sm.enqueueReplaceState(t,t.state,null)}function q0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Fy(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=kn(s):(s=Pr(t)?Ai:nr.current,a.context=el(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(V0(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&sm.enqueueReplaceState(a,a.state,null),Xf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function al(e,t){try{var r="",n=t;do r+=I6(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Yp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function G0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var iO=typeof WeakMap=="function"?WeakMap:Map;function rC(e,t,r){r=Ia(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){eh||(eh=!0,nv=n),G0(e,t)},r}function nC(e,t,r){r=Ia(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){G0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){G0(e,t),typeof n!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Fk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new iO;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=bO.bind(null,e,t,r),t.then(e,e))}function Bk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uk(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ia(-1,1),t.tag=2,Ts(r,t,1))),r.lanes|=1),e)}var oO=qa.ReactCurrentOwner,Tr=!1;function ur(e,t,r,n){t.child=e===null?OS(t,null,r,n):rl(t,e.child,r,n)}function Wk(e,t,r,n,a){r=r.render;var s=t.ref;return Uo(t,a),n=Vy(e,t,r,n,s,a),r=qy(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ba(e,t,a)):(dt&&r&&Iy(t),t.flags|=1,ur(e,t,n,a),t.child)}function Hk(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!rb(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,aC(e,t,s,n,a)):(e=Nf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:td,r(o,n)&&e.ref===t.ref)return Ba(e,t,a)}return t.flags|=1,e=Os(s,n),e.ref=t.ref,e.return=t,t.child=e}function aC(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(td(s,n)&&e.ref===t.ref)if(Tr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Tr=!0);else return t.lanes=e.lanes,Ba(e,t,a)}return Y0(e,t,r,n,a)}function sC(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Po,Lr),Lr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(Po,Lr),Lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ze(Po,Lr),Lr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ze(Po,Lr),Lr|=n;return ur(e,t,a,r),t.child}function iC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Y0(e,t,r,n,a){var s=Pr(r)?Ai:nr.current;return s=el(t,s),Uo(t,a),r=Vy(e,t,r,n,s,a),n=qy(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ba(e,t,a)):(dt&&n&&Iy(t),t.flags|=1,ur(e,t,r,a),t.child)}function Vk(e,t,r,n,a){if(Pr(r)){var s=!0;Hf(t)}else s=!1;if(Uo(t,a),t.stateNode===null)wf(e,t),tC(t,r,n),q0(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=kn(d):(d=Pr(r)?Ai:nr.current,d=el(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&zk(t,o,n,d),is=!1;var h=t.memoizedState;o.state=h,Xf(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Dr.current||is?(typeof u=="function"&&(V0(t,r,u,n),c=t.memoizedState),(l=is||$k(t,r,l,n,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,MS(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Pn(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=kn(c):(c=Pr(r)?Ai:nr.current,c=el(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&zk(t,o,n,c),is=!1,h=t.memoizedState,o.state=h,Xf(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||Dr.current||is?(typeof m=="function"&&(V0(t,r,m,n),y=t.memoizedState),(d=is||$k(t,r,d,n,h,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return X0(e,t,r,n,s,a)}function X0(e,t,r,n,a,s){iC(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Dk(t,r,!1),Ba(e,t,s);n=t.stateNode,oO.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=rl(t,e.child,null,s),t.child=rl(t,null,l,s)):ur(e,t,l,s),t.memoizedState=n.state,a&&Dk(t,r,!0),t.child}function oC(e){var t=e.stateNode;t.pendingContext?Tk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tk(e,t.context,!1),By(e,t.containerInfo)}function qk(e,t,r,n,a){return tl(),Ry(a),t.flags|=256,ur(e,t,r,n),t.child}var K0={dehydrated:null,treeContext:null,retryLane:0};function J0(e){return{baseLanes:e,cachePool:null,transitions:null}}function lC(e,t,r){var n=t.pendingProps,a=ht.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ze(ht,a&1),e===null)return W0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lm(o,n,0,null),e=Pi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=J0(r),t.memoizedState=K0,e):Xy(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return lO(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Os(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Os(l,s):(s=Pi(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?J0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=K0,n}return s=e.child,e=s.sibling,n=Os(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Xy(e,t){return t=lm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ou(e,t,r,n){return n!==null&&Ry(n),rl(t,e.child,null,r),e=Xy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lO(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Yp(Error(se(422))),Ou(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=lm({mode:"visible",children:n.children},a,0,null),s=Pi(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&rl(t,e.child,null,o),t.child.memoizedState=J0(o),t.memoizedState=K0,s);if(!(t.mode&1))return Ou(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(se(419)),n=Yp(s,n,void 0),Ou(e,t,o,n)}if(l=(o&e.childLanes)!==0,Tr||l){if(n=zt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Fa(e,a),zn(n,e,a,-1))}return tb(),n=Yp(Error(se(421))),Ou(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=wO.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,$r=Es(a.nextSibling),Ur=t,dt=!0,Mn=null,e!==null&&(hn[mn++]=Da,hn[mn++]=Pa,hn[mn++]=Li,Da=e.id,Pa=e.overflow,Li=t),t=Xy(t,n.children),t.flags|=4096,t)}function Gk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),H0(e.return,t,r)}function Xp(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function cC(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(ur(e,t,n.children,r),n=ht.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gk(e,r,t);else if(e.tag===19)Gk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ze(ht,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Kf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Xp(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Kf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Xp(t,!0,r,null,s);break;case"together":Xp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ba(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,r=Os(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Os(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cO(e,t,r){switch(t.tag){case 3:oC(t),tl();break;case 5:RS(t);break;case 1:Pr(t.type)&&Hf(t);break;case 4:By(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ze(Gf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ze(ht,ht.current&1),t.flags|=128,null):r&t.child.childLanes?lC(e,t,r):(Ze(ht,ht.current&1),e=Ba(e,t,r),e!==null?e.sibling:null);Ze(ht,ht.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ze(ht,ht.current),n)break;return null;case 22:case 23:return t.lanes=0,sC(e,t,r)}return Ba(e,t,r)}var dC,Q0,uC,fC;dC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Q0=function(){};uC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,_i(sa.current);var s=null;switch(r){case"input":a=b0(e,a),n=b0(e,n),s=[];break;case"select":a=vt({},a,{value:void 0}),n=vt({},n,{value:void 0}),s=[];break;case"textarea":a=j0(e,a),n=j0(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Uf)}_0(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Yc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Yc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&tt("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};fC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gl(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dO(e,t,r){var n=t.pendingProps;switch(My(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return Pr(t.type)&&Wf(),Zt(t),null;case 3:return n=t.stateNode,nl(),nt(Dr),nt(nr),Wy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Du(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mn!==null&&(iv(Mn),Mn=null))),Q0(e,t),Zt(t),null;case 5:Uy(t);var a=_i(id.current);if(r=t.type,e!==null&&t.stateNode!=null)uC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(se(166));return Zt(t),null}if(e=_i(sa.current),Du(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Zn]=t,n[ad]=s,e=(t.mode&1)!==0,r){case"dialog":tt("cancel",n),tt("close",n);break;case"iframe":case"object":case"embed":tt("load",n);break;case"video":case"audio":for(a=0;a<gc.length;a++)tt(gc[a],n);break;case"source":tt("error",n);break;case"img":case"image":case"link":tt("error",n),tt("load",n);break;case"details":tt("toggle",n);break;case"input":rk(n,s),tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},tt("invalid",n);break;case"textarea":ak(n,s),tt("invalid",n)}_0(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Tu(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Tu(n.textContent,l,e),a=["children",""+l]):Yc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&tt("scroll",n)}switch(r){case"input":wu(n),nk(n,s,!0);break;case"textarea":wu(n),sk(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Uf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=F_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Zn]=t,e[ad]=n,dC(e,t,!1,!1),t.stateNode=e;e:{switch(o=S0(r,n),r){case"dialog":tt("cancel",e),tt("close",e),a=n;break;case"iframe":case"object":case"embed":tt("load",e),a=n;break;case"video":case"audio":for(a=0;a<gc.length;a++)tt(gc[a],e);a=n;break;case"source":tt("error",e),a=n;break;case"img":case"image":case"link":tt("error",e),tt("load",e),a=n;break;case"details":tt("toggle",e),a=n;break;case"input":rk(e,n),a=b0(e,n),tt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=vt({},n,{value:void 0}),tt("invalid",e);break;case"textarea":ak(e,n),a=j0(e,n),tt("invalid",e);break;default:a=n}_0(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?W_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&B_(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xc(e,c):typeof c=="number"&&Xc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&tt("scroll",e):c!=null&&yy(e,s,c,o))}switch(r){case"input":wu(e),nk(e,n,!1);break;case"textarea":wu(e),sk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fs(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?$o(e,!!n.multiple,s,!1):n.defaultValue!=null&&$o(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Uf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)fC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(se(166));if(r=_i(id.current),_i(sa.current),Du(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zn]=t,(s=n.nodeValue!==r)&&(e=Ur,e!==null))switch(e.tag){case 3:Tu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tu(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zn]=t,t.stateNode=n}return Zt(t),null;case 13:if(nt(ht),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&$r!==null&&t.mode&1&&!(t.flags&128))DS(),tl(),t.flags|=98560,s=!1;else if(s=Du(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(se(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(se(317));s[Zn]=t}else tl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),s=!1}else Mn!==null&&(iv(Mn),Mn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?Mt===0&&(Mt=3):tb())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return nl(),Q0(e,t),e===null&&rd(t.stateNode.containerInfo),Zt(t),null;case 10:return $y(t.type._context),Zt(t),null;case 17:return Pr(t.type)&&Wf(),Zt(t),null;case 19:if(nt(ht),s=t.memoizedState,s===null)return Zt(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Gl(s,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Kf(e),o!==null){for(t.flags|=128,Gl(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ze(ht,ht.current&1|2),t.child}e=e.sibling}s.tail!==null&&kt()>sl&&(t.flags|=128,n=!0,Gl(s,!1),t.lanes=4194304)}else{if(!n)if(e=Kf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dt)return Zt(t),null}else 2*kt()-s.renderingStartTime>sl&&r!==1073741824&&(t.flags|=128,n=!0,Gl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=kt(),t.sibling=null,r=ht.current,Ze(ht,n?r&1|2:r&1),t):(Zt(t),null);case 22:case 23:return eb(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Lr&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function uO(e,t){switch(My(t),t.tag){case 1:return Pr(t.type)&&Wf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nl(),nt(Dr),nt(nr),Wy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uy(t),null;case 13:if(nt(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));tl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ht),null;case 4:return nl(),null;case 10:return $y(t.type._context),null;case 22:case 23:return eb(),null;case 24:return null;default:return null}}var Iu=!1,tr=!1,fO=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Do(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yt(e,t,n)}else r.current=null}function Z0(e,t,r){try{r()}catch(n){yt(e,t,n)}}var Yk=!1;function hO(e,t){if(A0=zf,e=vS(),Oy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++d===a&&(l=o),h===s&&++u===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(L0={focusedElem:e,selectionRange:r},zf=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,b=y.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Pn(t.type,v),b);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(w){yt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return y=Yk,Yk=!1,y}function Ec(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Z0(t,r,s)}a=a.next}while(a!==n)}}function im(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ev(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function hC(e){var t=e.alternate;t!==null&&(e.alternate=null,hC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zn],delete t[ad],delete t[F0],delete t[XP],delete t[KP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mC(e){return e.tag===5||e.tag===3||e.tag===4}function Xk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Uf));else if(n!==4&&(e=e.child,e!==null))for(tv(e,t,r),e=e.sibling;e!==null;)tv(e,t,r),e=e.sibling}function rv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(rv(e,t,r),e=e.sibling;e!==null;)rv(e,t,r),e=e.sibling}var Vt=null,On=!1;function Qa(e,t,r){for(r=r.child;r!==null;)pC(e,t,r),r=r.sibling}function pC(e,t,r){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(Qh,r)}catch{}switch(r.tag){case 5:tr||Do(r,t);case 6:var n=Vt,a=On;Vt=null,Qa(e,t,r),Vt=n,On=a,Vt!==null&&(On?(e=Vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vt.removeChild(r.stateNode));break;case 18:Vt!==null&&(On?(e=Vt,r=r.stateNode,e.nodeType===8?Up(e.parentNode,r):e.nodeType===1&&Up(e,r),Zc(e)):Up(Vt,r.stateNode));break;case 4:n=Vt,a=On,Vt=r.stateNode.containerInfo,On=!0,Qa(e,t,r),Vt=n,On=a;break;case 0:case 11:case 14:case 15:if(!tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Z0(r,t,o),a=a.next}while(a!==n)}Qa(e,t,r);break;case 1:if(!tr&&(Do(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){yt(r,t,l)}Qa(e,t,r);break;case 21:Qa(e,t,r);break;case 22:r.mode&1?(tr=(n=tr)||r.memoizedState!==null,Qa(e,t,r),tr=n):Qa(e,t,r);break;default:Qa(e,t,r)}}function Kk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fO),t.forEach(function(n){var a=kO.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Sn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Vt=l.stateNode,On=!1;break e;case 3:Vt=l.stateNode.containerInfo,On=!0;break e;case 4:Vt=l.stateNode.containerInfo,On=!0;break e}l=l.return}if(Vt===null)throw Error(se(160));pC(s,o,a),Vt=null,On=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){yt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gC(t,e),t=t.sibling}function gC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(t,e),Xn(e),n&4){try{Ec(3,e,e.return),im(3,e)}catch(v){yt(e,e.return,v)}try{Ec(5,e,e.return)}catch(v){yt(e,e.return,v)}}break;case 1:Sn(t,e),Xn(e),n&512&&r!==null&&Do(r,r.return);break;case 5:if(Sn(t,e),Xn(e),n&512&&r!==null&&Do(r,r.return),e.flags&32){var a=e.stateNode;try{Xc(a,"")}catch(v){yt(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&$_(a,s),S0(l,o);var d=S0(l,s);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?W_(a,f):u==="dangerouslySetInnerHTML"?B_(a,f):u==="children"?Xc(a,f):yy(a,u,f,d)}switch(l){case"input":w0(a,s);break;case"textarea":z_(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?$o(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?$o(a,!!s.multiple,s.defaultValue,!0):$o(a,!!s.multiple,s.multiple?[]:"",!1))}a[ad]=s}catch(v){yt(e,e.return,v)}}break;case 6:if(Sn(t,e),Xn(e),n&4){if(e.stateNode===null)throw Error(se(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){yt(e,e.return,v)}}break;case 3:if(Sn(t,e),Xn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zc(t.containerInfo)}catch(v){yt(e,e.return,v)}break;case 4:Sn(t,e),Xn(e);break;case 13:Sn(t,e),Xn(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Qy=kt())),n&4&&Kk(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(tr=(d=tr)||u,Sn(t,e),tr=d):Sn(t,e),Xn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ge=e,u=e.child;u!==null;){for(f=ge=u;ge!==null;){switch(h=ge,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ec(4,h,h.return);break;case 1:Do(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){yt(n,r,v)}}break;case 5:Do(h,h.return);break;case 22:if(h.memoizedState!==null){Qk(f);continue}}m!==null?(m.return=h,ge=m):Qk(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=U_("display",o))}catch(v){yt(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){yt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sn(t,e),Xn(e),n&4&&Kk(e);break;case 21:break;default:Sn(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mC(r)){var n=r;break e}r=r.return}throw Error(se(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Xc(a,""),n.flags&=-33);var s=Xk(e);rv(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Xk(e);tv(e,l,o);break;default:throw Error(se(161))}}catch(c){yt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mO(e,t,r){ge=e,vC(e)}function vC(e,t,r){for(var n=(e.mode&1)!==0;ge!==null;){var a=ge,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Iu;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||tr;l=Iu;var d=tr;if(Iu=o,(tr=c)&&!d)for(ge=a;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?Zk(a):c!==null?(c.return=o,ge=c):Zk(a);for(;s!==null;)ge=s,vC(s),s=s.sibling;ge=a,Iu=l,tr=d}Jk(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ge=s):Jk(e)}}function Jk(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tr||im(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Pn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Rk(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Rk(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Zc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}tr||t.flags&512&&ev(t)}catch(h){yt(t,t.return,h)}}if(t===e){ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,ge=r;break}ge=t.return}}function Qk(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ge=r;break}ge=t.return}}function Zk(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{im(4,t)}catch(c){yt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){yt(t,a,c)}}var s=t.return;try{ev(t)}catch(c){yt(t,s,c)}break;case 5:var o=t.return;try{ev(t)}catch(c){yt(t,o,c)}}}catch(c){yt(t,t.return,c)}if(t===e){ge=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ge=l;break}ge=t.return}}var pO=Math.ceil,Zf=qa.ReactCurrentDispatcher,Ky=qa.ReactCurrentOwner,bn=qa.ReactCurrentBatchConfig,Fe=0,zt=null,Tt=null,Yt=0,Lr=0,Po=Gs(0),Mt=0,dd=null,zi=0,om=0,Jy=0,Tc=null,Cr=null,Qy=0,sl=1/0,_a=null,eh=!1,nv=null,Ds=null,Mu=!1,xs=null,th=0,Dc=0,av=null,kf=-1,jf=0;function mr(){return Fe&6?kt():kf!==-1?kf:kf=kt()}function Ps(e){return e.mode&1?Fe&2&&Yt!==0?Yt&-Yt:QP.transition!==null?(jf===0&&(jf=tS()),jf):(e=qe,e!==0||(e=window.event,e=e===void 0?16:lS(e.type)),e):1}function zn(e,t,r,n){if(50<Dc)throw Dc=0,av=null,Error(se(185));Od(e,r,n),(!(Fe&2)||e!==zt)&&(e===zt&&(!(Fe&2)&&(om|=r),Mt===4&&fs(e,Yt)),Or(e,n),r===1&&Fe===0&&!(t.mode&1)&&(sl=kt()+500,nm&&Ys()))}function Or(e,t){var r=e.callbackNode;Q6(e,t);var n=$f(e,e===zt?Yt:0);if(n===0)r!==null&&lk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lk(r),t===1)e.tag===0?JP(e1.bind(null,e)):CS(e1.bind(null,e)),GP(function(){!(Fe&6)&&Ys()}),r=null;else{switch(rS(n)){case 1:r=Ny;break;case 4:r=Z_;break;case 16:r=Lf;break;case 536870912:r=eS;break;default:r=Lf}r=_C(r,xC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xC(e,t){if(kf=-1,jf=0,Fe&6)throw Error(se(327));var r=e.callbackNode;if(Wo()&&e.callbackNode!==r)return null;var n=$f(e,e===zt?Yt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=rh(e,n);else{t=n;var a=Fe;Fe|=2;var s=bC();(zt!==e||Yt!==t)&&(_a=null,sl=kt()+500,Di(e,t));do try{xO();break}catch(l){yC(e,l)}while(!0);Ly(),Zf.current=s,Fe=a,Tt!==null?t=0:(zt=null,Yt=0,t=Mt)}if(t!==0){if(t===2&&(a=P0(e),a!==0&&(n=a,t=sv(e,a))),t===1)throw r=dd,Di(e,0),fs(e,n),Or(e,kt()),r;if(t===6)fs(e,n);else{if(a=e.current.alternate,!(n&30)&&!gO(a)&&(t=rh(e,n),t===2&&(s=P0(e),s!==0&&(n=s,t=sv(e,s))),t===1))throw r=dd,Di(e,0),fs(e,n),Or(e,kt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(se(345));case 2:di(e,Cr,_a);break;case 3:if(fs(e,n),(n&130023424)===n&&(t=Qy+500-kt(),10<t)){if($f(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){mr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=z0(di.bind(null,e,Cr,_a),t);break}di(e,Cr,_a);break;case 4:if(fs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-$n(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pO(n/1960))-n,10<n){e.timeoutHandle=z0(di.bind(null,e,Cr,_a),n);break}di(e,Cr,_a);break;case 5:di(e,Cr,_a);break;default:throw Error(se(329))}}}return Or(e,kt()),e.callbackNode===r?xC.bind(null,e):null}function sv(e,t){var r=Tc;return e.current.memoizedState.isDehydrated&&(Di(e,t).flags|=256),e=rh(e,t),e!==2&&(t=Cr,Cr=r,t!==null&&iv(t)),e}function iv(e){Cr===null?Cr=e:Cr.push.apply(Cr,e)}function gO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Fn(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fs(e,t){for(t&=~Jy,t&=~om,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$n(t),n=1<<r;e[r]=-1,t&=~n}}function e1(e){if(Fe&6)throw Error(se(327));Wo();var t=$f(e,0);if(!(t&1))return Or(e,kt()),null;var r=rh(e,t);if(e.tag!==0&&r===2){var n=P0(e);n!==0&&(t=n,r=sv(e,n))}if(r===1)throw r=dd,Di(e,0),fs(e,t),Or(e,kt()),r;if(r===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,di(e,Cr,_a),Or(e,kt()),null}function Zy(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(sl=kt()+500,nm&&Ys())}}function Fi(e){xs!==null&&xs.tag===0&&!(Fe&6)&&Wo();var t=Fe;Fe|=1;var r=bn.transition,n=qe;try{if(bn.transition=null,qe=1,e)return e()}finally{qe=n,bn.transition=r,Fe=t,!(Fe&6)&&Ys()}}function eb(){Lr=Po.current,nt(Po)}function Di(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qP(r)),Tt!==null)for(r=Tt.return;r!==null;){var n=r;switch(My(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wf();break;case 3:nl(),nt(Dr),nt(nr),Wy();break;case 5:Uy(n);break;case 4:nl();break;case 13:nt(ht);break;case 19:nt(ht);break;case 10:$y(n.type._context);break;case 22:case 23:eb()}r=r.return}if(zt=e,Tt=e=Os(e.current,null),Yt=Lr=t,Mt=0,dd=null,Jy=om=zi=0,Cr=Tc=null,Ni!==null){for(t=0;t<Ni.length;t++)if(r=Ni[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}Ni=null}return e}function yC(e,t){do{var r=Tt;try{if(Ly(),yf.current=Qf,Jf){for(var n=pt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Jf=!1}if($i=0,$t=It=pt=null,Cc=!1,od=0,Ky.current=null,r===null||r.return===null){Mt=1,dd=t,Tt=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Yt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Bk(o);if(m!==null){m.flags&=-257,Uk(m,o,l,s,t),m.mode&1&&Fk(s,d,t),t=m,c=d;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){Fk(s,d,t),tb();break e}c=Error(se(426))}}else if(dt&&l.mode&1){var b=Bk(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Uk(b,o,l,s,t),Ry(al(c,l));break e}}s=c=al(c,l),Mt!==4&&(Mt=2),Tc===null?Tc=[s]:Tc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=rC(s,c,t);Mk(s,g);break e;case 1:l=c;var p=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ds===null||!Ds.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=nC(s,l,t);Mk(s,w);break e}}s=s.return}while(s!==null)}kC(r)}catch(_){t=_,Tt===r&&r!==null&&(Tt=r=r.return);continue}break}while(!0)}function bC(){var e=Zf.current;return Zf.current=Qf,e===null?Qf:e}function tb(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||!(zi&268435455)&&!(om&268435455)||fs(zt,Yt)}function rh(e,t){var r=Fe;Fe|=2;var n=bC();(zt!==e||Yt!==t)&&(_a=null,Di(e,t));do try{vO();break}catch(a){yC(e,a)}while(!0);if(Ly(),Fe=r,Zf.current=n,Tt!==null)throw Error(se(261));return zt=null,Yt=0,Mt}function vO(){for(;Tt!==null;)wC(Tt)}function xO(){for(;Tt!==null&&!W6();)wC(Tt)}function wC(e){var t=NC(e.alternate,e,Lr);e.memoizedProps=e.pendingProps,t===null?kC(e):Tt=t,Ky.current=null}function kC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uO(r,t),r!==null){r.flags&=32767,Tt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Tt=null;return}}else if(r=dO(r,t,Lr),r!==null){Tt=r;return}if(t=t.sibling,t!==null){Tt=t;return}Tt=t=e}while(t!==null);Mt===0&&(Mt=5)}function di(e,t,r){var n=qe,a=bn.transition;try{bn.transition=null,qe=1,yO(e,t,r,n)}finally{bn.transition=a,qe=n}return null}function yO(e,t,r,n){do Wo();while(xs!==null);if(Fe&6)throw Error(se(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Z6(e,s),e===zt&&(Tt=zt=null,Yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Mu||(Mu=!0,_C(Lf,function(){return Wo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=bn.transition,bn.transition=null;var o=qe;qe=1;var l=Fe;Fe|=4,Ky.current=null,hO(e,r),gC(r,e),zP(L0),zf=!!A0,L0=A0=null,e.current=r,mO(r),H6(),Fe=l,qe=o,bn.transition=s}else e.current=r;if(Mu&&(Mu=!1,xs=e,th=a),s=e.pendingLanes,s===0&&(Ds=null),G6(r.stateNode),Or(e,kt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(eh)throw eh=!1,e=nv,nv=null,e;return th&1&&e.tag!==0&&Wo(),s=e.pendingLanes,s&1?e===av?Dc++:(Dc=0,av=e):Dc=0,Ys(),null}function Wo(){if(xs!==null){var e=rS(th),t=bn.transition,r=qe;try{if(bn.transition=null,qe=16>e?16:e,xs===null)var n=!1;else{if(e=xs,xs=null,th=0,Fe&6)throw Error(se(331));var a=Fe;for(Fe|=4,ge=e.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ge=d;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Ec(8,u,s)}var f=u.child;if(f!==null)f.return=u,ge=f;else for(;ge!==null;){u=ge;var h=u.sibling,m=u.return;if(hC(u),u===d){ge=null;break}if(h!==null){h.return=m,ge=h;break}ge=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ec(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ge=g;break e}ge=s.return}}var p=e.current;for(ge=p;ge!==null;){o=ge;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ge=x;else e:for(o=p;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:im(9,l)}}catch(_){yt(l,l.return,_)}if(l===o){ge=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,ge=w;break e}ge=l.return}}if(Fe=a,Ys(),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(Qh,e)}catch{}n=!0}return n}finally{qe=r,bn.transition=t}}return!1}function t1(e,t,r){t=al(r,t),t=rC(e,t,1),e=Ts(e,t,1),t=mr(),e!==null&&(Od(e,1,t),Or(e,t))}function yt(e,t,r){if(e.tag===3)t1(e,e,r);else for(;t!==null;){if(t.tag===3){t1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ds===null||!Ds.has(n))){e=al(r,e),e=nC(t,e,1),t=Ts(t,e,1),e=mr(),t!==null&&(Od(t,1,e),Or(t,e));break}}t=t.return}}function bO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=mr(),e.pingedLanes|=e.suspendedLanes&r,zt===e&&(Yt&r)===r&&(Mt===4||Mt===3&&(Yt&130023424)===Yt&&500>kt()-Qy?Di(e,0):Jy|=r),Or(e,t)}function jC(e,t){t===0&&(e.mode&1?(t=Nu,Nu<<=1,!(Nu&130023424)&&(Nu=4194304)):t=1);var r=mr();e=Fa(e,t),e!==null&&(Od(e,t,r),Or(e,r))}function wO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jC(e,r)}function kO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(t),jC(e,r)}var NC;NC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dr.current)Tr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Tr=!1,cO(e,t,r);Tr=!!(e.flags&131072)}else Tr=!1,dt&&t.flags&1048576&&ES(t,qf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wf(e,t),e=t.pendingProps;var a=el(t,nr.current);Uo(t,r),a=Vy(null,t,n,e,a,r);var s=qy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(n)?(s=!0,Hf(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Fy(t),a.updater=sm,t.stateNode=a,a._reactInternals=t,q0(t,n,e,r),t=X0(null,t,n,!0,s,r)):(t.tag=0,dt&&s&&Iy(t),ur(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=NO(n),e=Pn(n,e),a){case 0:t=Y0(null,t,n,e,r);break e;case 1:t=Vk(null,t,n,e,r);break e;case 11:t=Wk(null,t,n,e,r);break e;case 14:t=Hk(null,t,n,Pn(n.type,e),r);break e}throw Error(se(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),Y0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),Vk(e,t,n,a,r);case 3:e:{if(oC(t),e===null)throw Error(se(387));n=t.pendingProps,s=t.memoizedState,a=s.element,MS(e,t),Xf(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=al(Error(se(423)),t),t=qk(e,t,n,r,a);break e}else if(n!==a){a=al(Error(se(424)),t),t=qk(e,t,n,r,a);break e}else for($r=Es(t.stateNode.containerInfo.firstChild),Ur=t,dt=!0,Mn=null,r=OS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tl(),n===a){t=Ba(e,t,r);break e}ur(e,t,n,r)}t=t.child}return t;case 5:return RS(t),e===null&&W0(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,$0(n,a)?o=null:s!==null&&$0(n,s)&&(t.flags|=32),iC(e,t),ur(e,t,o,r),t.child;case 6:return e===null&&W0(t),null;case 13:return lC(e,t,r);case 4:return By(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rl(t,null,n,r):ur(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),Wk(e,t,n,a,r);case 7:return ur(e,t,t.pendingProps,r),t.child;case 8:return ur(e,t,t.pendingProps.children,r),t.child;case 12:return ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Ze(Gf,n._currentValue),n._currentValue=o,s!==null)if(Fn(s.value,o)){if(s.children===a.children&&!Dr.current){t=Ba(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Ia(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),H0(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(se(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),H0(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ur(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Uo(t,r),a=kn(a),n=n(a),t.flags|=1,ur(e,t,n,r),t.child;case 14:return n=t.type,a=Pn(n,t.pendingProps),a=Pn(n.type,a),Hk(e,t,n,a,r);case 15:return aC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),wf(e,t),t.tag=1,Pr(n)?(e=!0,Hf(t)):e=!1,Uo(t,r),tC(t,n,a),q0(t,n,a,r),X0(null,t,n,!0,e,r);case 19:return cC(e,t,r);case 22:return sC(e,t,r)}throw Error(se(156,t.tag))};function _C(e,t){return Q_(e,t)}function jO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,r,n){return new jO(e,t,r,n)}function rb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NO(e){if(typeof e=="function")return rb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wy)return 11;if(e===ky)return 14}return 2}function Os(e,t){var r=e.alternate;return r===null?(r=vn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nf(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")rb(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wo:return Pi(r.children,a,s,t);case by:o=8,a|=8;break;case g0:return e=vn(12,r,t,a|2),e.elementType=g0,e.lanes=s,e;case v0:return e=vn(13,r,t,a),e.elementType=v0,e.lanes=s,e;case x0:return e=vn(19,r,t,a),e.elementType=x0,e.lanes=s,e;case R_:return lm(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I_:o=10;break e;case M_:o=9;break e;case wy:o=11;break e;case ky:o=14;break e;case ss:o=16,n=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=vn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Pi(e,t,r,n){return e=vn(7,e,n,t),e.lanes=r,e}function lm(e,t,r,n){return e=vn(22,e,n,t),e.elementType=R_,e.lanes=r,e.stateNode={isHidden:!1},e}function Kp(e,t,r){return e=vn(6,e,null,t),e.lanes=r,e}function Jp(e,t,r){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _O(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pp(0),this.expirationTimes=Pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function nb(e,t,r,n,a,s,o,l,c){return e=new _O(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=vn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fy(s),e}function SO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function SC(e){if(!e)return Bs;e=e._reactInternals;e:{if(Ki(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var r=e.type;if(Pr(r))return SS(e,r,t)}return t}function CC(e,t,r,n,a,s,o,l,c){return e=nb(r,n,!0,e,a,s,o,l,c),e.context=SC(null),r=e.current,n=mr(),a=Ps(r),s=Ia(n,a),s.callback=t??null,Ts(r,s,a),e.current.lanes=a,Od(e,a,n),Or(e,n),e}function cm(e,t,r,n){var a=t.current,s=mr(),o=Ps(a);return r=SC(r),t.context===null?t.context=r:t.pendingContext=r,t=Ia(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ts(a,t,o),e!==null&&(zn(e,a,o,s),xf(e,a,o)),o}function nh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function r1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ab(e,t){r1(e,t),(e=e.alternate)&&r1(e,t)}function CO(){return null}var EC=typeof reportError=="function"?reportError:function(e){console.error(e)};function sb(e){this._internalRoot=e}dm.prototype.render=sb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));cm(e,t,null,null)};dm.prototype.unmount=sb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fi(function(){cm(null,e,null,null)}),t[za]=null}};function dm(e){this._internalRoot=e}dm.prototype.unstable_scheduleHydration=function(e){if(e){var t=sS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<us.length&&t!==0&&t<us[r].priority;r++);us.splice(r,0,e),r===0&&oS(e)}};function ib(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function um(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function n1(){}function EO(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var d=nh(o);s.call(d)}}var o=CC(t,n,e,0,null,!1,!1,"",n1);return e._reactRootContainer=o,e[za]=o.current,rd(e.nodeType===8?e.parentNode:e),Fi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=nh(c);l.call(d)}}var c=nb(e,0,!1,null,null,!1,!1,"",n1);return e._reactRootContainer=c,e[za]=c.current,rd(e.nodeType===8?e.parentNode:e),Fi(function(){cm(t,c,r,n)}),c}function fm(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=nh(o);l.call(c)}}cm(t,o,e,a)}else o=EO(r,t,e,a,n);return nh(o)}nS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=pc(t.pendingLanes);r!==0&&(_y(t,r|1),Or(t,kt()),!(Fe&6)&&(sl=kt()+500,Ys()))}break;case 13:Fi(function(){var n=Fa(e,1);if(n!==null){var a=mr();zn(n,e,1,a)}}),ab(e,1)}};Sy=function(e){if(e.tag===13){var t=Fa(e,134217728);if(t!==null){var r=mr();zn(t,e,134217728,r)}ab(e,134217728)}};aS=function(e){if(e.tag===13){var t=Ps(e),r=Fa(e,t);if(r!==null){var n=mr();zn(r,e,t,n)}ab(e,t)}};sS=function(){return qe};iS=function(e,t){var r=qe;try{return qe=e,t()}finally{qe=r}};E0=function(e,t,r){switch(t){case"input":if(w0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=rm(n);if(!a)throw Error(se(90));L_(n),w0(n,a)}}}break;case"textarea":z_(e,r);break;case"select":t=r.value,t!=null&&$o(e,!!r.multiple,t,!1)}};q_=Zy;G_=Fi;var TO={usingClientEntryPoint:!1,Events:[Md,_o,rm,H_,V_,Zy]},Yl={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DO={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=K_(e),e===null?null:e.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||CO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Qh=Ru.inject(DO),aa=Ru}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TO;Xr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ib(t))throw Error(se(200));return SO(e,t,null,r)};Xr.createRoot=function(e,t){if(!ib(e))throw Error(se(299));var r=!1,n="",a=EC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=nb(e,1,!1,null,null,r,!1,n,a),e[za]=t.current,rd(e.nodeType===8?e.parentNode:e),new sb(t)};Xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=K_(t),e=e===null?null:e.stateNode,e};Xr.flushSync=function(e){return Fi(e)};Xr.hydrate=function(e,t,r){if(!um(t))throw Error(se(200));return fm(null,e,t,!0,r)};Xr.hydrateRoot=function(e,t,r){if(!ib(e))throw Error(se(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=EC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=CC(t,null,e,1,r??null,a,!1,s,o),e[za]=t.current,rd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new dm(t)};Xr.render=function(e,t,r){if(!um(t))throw Error(se(200));return fm(null,e,t,!1,r)};Xr.unmountComponentAtNode=function(e){if(!um(e))throw Error(se(40));return e._reactRootContainer?(Fi(function(){fm(null,null,e,!1,function(){e._reactRootContainer=null,e[za]=null})}),!0):!1};Xr.unstable_batchedUpdates=Zy;Xr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!um(r))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return fm(e,t,r,!1,n)};Xr.version="18.3.1-next-f1338f8080-20240426";function TC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TC)}catch(e){console.error(e)}}TC(),T_.exports=Xr;var hm=T_.exports;const PO=pa(hm);var DC,a1=hm;DC=a1.createRoot,a1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(this,arguments)}var ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ys||(ys={}));const s1="popstate";function OO(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return ov("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ah(a)}return MO(t,r,null,e)}function gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function PC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IO(){return Math.random().toString(36).substr(2,8)}function i1(e,t){return{usr:e.state,key:e.key,idx:t}}function ov(e,t,r,n){return r===void 0&&(r=null),ud({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cl(t):t,{state:r,key:t&&t.key||n||IO()})}function ah(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function MO(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=ys.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(ud({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=ys.Pop;let b=u(),g=b==null?null:b-d;d=b,c&&c({action:l,location:v.location,delta:g})}function h(b,g){l=ys.Push;let p=ov(v.location,b,g);d=u()+1;let x=i1(p,d),w=v.createHref(p);try{o.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(w)}s&&c&&c({action:l,location:v.location,delta:1})}function m(b,g){l=ys.Replace;let p=ov(v.location,b,g);d=u();let x=i1(p,d),w=v.createHref(p);o.replaceState(x,"",w),s&&c&&c({action:l,location:v.location,delta:0})}function y(b){let g=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof b=="string"?b:ah(b);return p=p.replace(/ $/,"%20"),gt(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(s1,f),c=b,()=>{a.removeEventListener(s1,f),c=null}},createHref(b){return t(a,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(b){return o.go(b)}};return v}var o1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(o1||(o1={}));function RO(e,t,r){return r===void 0&&(r="/"),AO(e,t,r)}function AO(e,t,r,n){let a=typeof t=="string"?Cl(t):t,s=il(a.pathname||"/",r);if(s==null)return null;let o=OC(e);LO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=YO(s);l=qO(o[c],d)}return l}function OC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(gt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Is([n,c.relativePath]),u=r.concat(c);s.children&&s.children.length>0&&(gt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),OC(s.children,t,u,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:HO(d,s.index),routesMeta:u})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of IC(s.path))a(s,o,c)}),t}function IC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=IC(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function LO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:VO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $O=/^:[\w-]+$/,zO=3,FO=2,BO=1,UO=10,WO=-2,l1=e=>e==="*";function HO(e,t){let r=e.split("/"),n=r.length;return r.some(l1)&&(n+=WO),t&&(n+=FO),r.filter(a=>!l1(a)).reduce((a,s)=>a+($O.test(s)?zO:s===""?BO:UO),n)}function VO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function qO(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=lv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Is([s,f.pathname]),pathnameBase:QO(Is([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Is([s,f.pathnameBase]))}return o}function lv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=GO(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let v=l[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function GO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),PC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function YO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return PC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function il(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function XO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Cl(e):e;return{pathname:r?r.startsWith("/")?r:KO(r,t):t,search:ZO(n),hash:eI(a)}}function KO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Qp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ob(e,t){let r=JO(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lb(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Cl(e):(a=ud({},e),gt(!a.pathname||!a.pathname.includes("?"),Qp("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),Qp("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),Qp("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=XO(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Is=e=>e.join("/").replace(/\/\/+/g,"/"),QO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const MC=["post","put","patch","delete"];new Set(MC);const rI=["get",...MC];new Set(rI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}const mm=k.createContext(null),RC=k.createContext(null),Ga=k.createContext(null),pm=k.createContext(null),ga=k.createContext({outlet:null,matches:[],isDataRoute:!1}),AC=k.createContext(null);function nI(e,t){let{relative:r}=t===void 0?{}:t;El()||gt(!1);let{basename:n,navigator:a}=k.useContext(Ga),{hash:s,pathname:o,search:l}=gm(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Is([n,o])),a.createHref({pathname:c,search:l,hash:s})}function El(){return k.useContext(pm)!=null}function Xs(){return El()||gt(!1),k.useContext(pm).location}function LC(e){k.useContext(Ga).static||k.useLayoutEffect(e)}function Hn(){let{isDataRoute:e}=k.useContext(ga);return e?xI():aI()}function aI(){El()||gt(!1);let e=k.useContext(mm),{basename:t,future:r,navigator:n}=k.useContext(Ga),{matches:a}=k.useContext(ga),{pathname:s}=Xs(),o=JSON.stringify(ob(a,r.v7_relativeSplatPath)),l=k.useRef(!1);return LC(()=>{l.current=!0}),k.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=lb(d,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Is([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,s,e])}const sI=k.createContext(null);function iI(e){let t=k.useContext(ga).outlet;return t&&k.createElement(sI.Provider,{value:e},t)}function cb(){let{matches:e}=k.useContext(ga),t=e[e.length-1];return t?t.params:{}}function gm(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(Ga),{matches:a}=k.useContext(ga),{pathname:s}=Xs(),o=JSON.stringify(ob(a,n.v7_relativeSplatPath));return k.useMemo(()=>lb(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function oI(e,t){return lI(e,t)}function lI(e,t,r,n){El()||gt(!1);let{navigator:a}=k.useContext(Ga),{matches:s}=k.useContext(ga),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Xs(),u;if(t){var f;let b=typeof t=="string"?Cl(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||gt(!1),u=b}else u=d;let h=u.pathname||"/",m=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=RO(e,{pathname:m}),v=hI(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Is([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Is([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return t&&v?k.createElement(pm.Provider,{value:{location:fd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ys.Pop}},v):v}function cI(){let e=vI(),t=tI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:a},r):null,null)}const dI=k.createElement(cI,null);class uI extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(ga.Provider,{value:this.props.routeContext},k.createElement(AC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fI(e){let{routeContext:t,match:r,children:n}=e,a=k.useContext(mm);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(ga.Provider,{value:t},n)}function hI(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||gt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:m}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let m,y=!1,v=null,b=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||dI,c&&(d<0&&h===0?(yI("route-fallback"),y=!0,b=null):d===h&&(y=!0,b=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),p=()=>{let x;return m?x=v:y?x=b:f.route.Component?x=k.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=u,k.createElement(fI,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?k.createElement(uI,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var $C=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($C||{}),zC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zC||{});function mI(e){let t=k.useContext(mm);return t||gt(!1),t}function pI(e){let t=k.useContext(RC);return t||gt(!1),t}function gI(e){let t=k.useContext(ga);return t||gt(!1),t}function FC(e){let t=gI(),r=t.matches[t.matches.length-1];return r.route.id||gt(!1),r.route.id}function vI(){var e;let t=k.useContext(AC),r=pI(),n=FC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function xI(){let{router:e}=mI($C.UseNavigateStable),t=FC(zC.UseNavigateStable),r=k.useRef(!1);return LC(()=>{r.current=!0}),k.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,fd({fromRouteId:t},s)))},[e,t])}const c1={};function yI(e,t,r){c1[e]||(c1[e]=!0)}function bI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wI(e){let{to:t,replace:r,state:n,relative:a}=e;El()||gt(!1);let{future:s,static:o}=k.useContext(Ga),{matches:l}=k.useContext(ga),{pathname:c}=Xs(),d=Hn(),u=lb(t,ob(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return k.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function kI(e){return iI(e.context)}function Ye(e){gt(!1)}function jI(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ys.Pop,navigator:s,static:o=!1,future:l}=e;El()&&gt(!1);let c=t.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:s,static:o,future:fd({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Cl(n));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:y="default"}=n,v=k.useMemo(()=>{let b=il(u,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:y},navigationType:a}},[c,u,f,h,m,y,a]);return v==null?null:k.createElement(Ga.Provider,{value:d},k.createElement(pm.Provider,{children:r,value:v}))}function NI(e){let{children:t,location:r}=e;return oI(cv(t),r)}new Promise(()=>{});function cv(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,a)=>{if(!k.isValidElement(n))return;let s=[...t,a];if(n.type===k.Fragment){r.push.apply(r,cv(n.props.children,s));return}n.type!==Ye&&gt(!1),!n.props.index||!n.props.children||gt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=cv(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sh.apply(this,arguments)}function BC(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function _I(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SI(e,t){return e.button===0&&(!t||t==="_self")&&!_I(e)}const CI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],TI="6";try{window.__reactRouterVersion=TI}catch{}const DI=k.createContext({isTransitioning:!1}),PI="startTransition",d1=m0[PI];function OI(e){let{basename:t,children:r,future:n,window:a}=e,s=k.useRef();s.current==null&&(s.current=OO({window:a,v5Compat:!0}));let o=s.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=k.useCallback(f=>{d&&d1?d1(()=>c(f)):c(f)},[c,d]);return k.useLayoutEffect(()=>o.listen(u),[o,u]),k.useEffect(()=>bI(n),[n]),k.createElement(jI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const II=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=k.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=BC(t,CI),{basename:m}=k.useContext(Ga),y,v=!1;if(typeof d=="string"&&MI.test(d)&&(y=d,II))try{let x=new URL(window.location.href),w=d.startsWith("//")?new URL(x.protocol+d):new URL(d),_=il(w.pathname,m);w.origin===x.origin&&_!=null?d=_+w.search+w.hash:v=!0}catch{}let b=nI(d,{relative:a}),g=LI(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function p(x){n&&n(x),x.defaultPrevented||g(x)}return k.createElement("a",sh({},h,{href:y||b,onClick:v||s?n:p,ref:r,target:c}))}),RI=k.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,f=BC(t,EI),h=gm(c,{relative:f.relative}),m=Xs(),y=k.useContext(RC),{navigator:v,basename:b}=k.useContext(Ga),g=y!=null&&$I(h)&&d===!0,p=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,x=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(x=x.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&b&&(w=il(w,b)||w);const _=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let S=x===p||!o&&x.startsWith(p)&&x.charAt(_)==="/",E=w!=null&&(w===p||!o&&w.startsWith(p)&&w.charAt(p.length)==="/"),O={isActive:S,isPending:E,isTransitioning:g},T=S?n:void 0,D;typeof s=="function"?D=s(O):D=[s,S?"active":null,E?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(O):l;return k.createElement(Te,sh({},f,{"aria-current":T,className:D,ref:r,style:R,to:c,viewTransition:d}),typeof u=="function"?u(O):u)});var dv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dv||(dv={}));var u1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(u1||(u1={}));function AI(e){let t=k.useContext(mm);return t||gt(!1),t}function LI(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Hn(),d=Xs(),u=gm(e,{relative:o});return k.useCallback(f=>{if(SI(f,r)){f.preventDefault();let h=n!==void 0?n:ah(d)===ah(u);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,s,o,l])}function $I(e,t){t===void 0&&(t={});let r=k.useContext(DI);r==null&&gt(!1);let{basename:n}=AI(dv.useViewTransitionState),a=gm(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=il(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=il(r.nextLocation.pathname,n)||r.nextLocation.pathname;return lv(a.pathname,o)!=null||lv(a.pathname,s)!=null}let zI={data:""},FI=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||zI,BI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,UI=/\/\*[^]*?\*\/|  +/g,f1=/\n+/g,hs=(e,t)=>{let r="",n="",a="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?hs(o,s):s+"{"+hs(o,s[1]=="k"?"":t)+"}":typeof o=="object"?n+=hs(o,t?t.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=hs.p?hs.p(s,o):s+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},ka={},UC=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+UC(e[r]);return t}return e},WI=(e,t,r,n,a)=>{let s=UC(e),o=ka[s]||(ka[s]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(s));if(!ka[o]){let c=s!==e?e:(d=>{let u,f,h=[{}];for(;u=BI.exec(d.replace(UI,""));)u[4]?h.shift():u[3]?(f=u[3].replace(f1," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(f1," ").trim();return h[0]})(e);ka[o]=hs(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&ka.g?ka.g:null;return r&&(ka.g=ka[o]),((c,d,u,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(ka[o],t,n,l),o},HI=(e,t,r)=>e.reduce((n,a,s)=>{let o=t[s];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":hs(l,""):l===!1?"":l}return n+a+(o??"")},"");function vm(e){let t=this||{},r=e.call?e(t.p):e;return WI(r.unshift?r.raw?HI(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,FI(t.target),t.g,t.o,t.k)}let WC,uv,fv;vm.bind({g:1});let Ua=vm.bind({k:1});function VI(e,t,r,n){hs.p=t,WC=e,uv=r,fv=n}function Ks(e,t){let r=this||{};return function(){let n=arguments;function a(s,o){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:uv&&uv()},l),r.o=/ *go\d+/.test(c),l.className=vm.apply(r,n)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),fv&&d[0]&&fv(l),WC(d,l)}return a}}var qI=e=>typeof e=="function",ih=(e,t)=>qI(e)?e(t):e,GI=(()=>{let e=0;return()=>(++e).toString()})(),HC=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),YI=20,VC=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,YI)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:r}=t;return VC(e,{type:e.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},_f=[],Si={toasts:[],pausedAt:void 0},Ji=e=>{Si=VC(Si,e),_f.forEach(t=>{t(Si)})},XI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},KI=(e={})=>{let[t,r]=k.useState(Si),n=k.useRef(Si);k.useEffect(()=>(n.current!==Si&&r(Si),_f.push(r),()=>{let s=_f.indexOf(r);s>-1&&_f.splice(s,1)}),[]);let a=t.toasts.map(s=>{var o,l,c;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((o=e[s.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:s.duration||((l=e[s.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||XI[s.type],style:{...e.style,...(c=e[s.type])==null?void 0:c.style,...s.style}}});return{...t,toasts:a}},JI=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||GI()}),Ad=e=>(t,r)=>{let n=JI(t,e,r);return Ji({type:2,toast:n}),n.id},X=(e,t)=>Ad("blank")(e,t);X.error=Ad("error");X.success=Ad("success");X.loading=Ad("loading");X.custom=Ad("custom");X.dismiss=e=>{Ji({type:3,toastId:e})};X.remove=e=>Ji({type:4,toastId:e});X.promise=(e,t,r)=>{let n=X.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let s=t.success?ih(t.success,a):void 0;return s?X.success(s,{id:n,...r,...r==null?void 0:r.success}):X.dismiss(n),a}).catch(a=>{let s=t.error?ih(t.error,a):void 0;s?X.error(s,{id:n,...r,...r==null?void 0:r.error}):X.dismiss(n)}),e};var QI=(e,t)=>{Ji({type:1,toast:{id:e,height:t}})},ZI=()=>{Ji({type:5,time:Date.now()})},Pc=new Map,eM=1e3,tM=(e,t=eM)=>{if(Pc.has(e))return;let r=setTimeout(()=>{Pc.delete(e),Ji({type:4,toastId:e})},t);Pc.set(e,r)},rM=e=>{let{toasts:t,pausedAt:r}=KI(e);k.useEffect(()=>{if(r)return;let s=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&X.dismiss(l.id);return}return setTimeout(()=>X.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=k.useCallback(()=>{r&&Ji({type:6,time:Date.now()})},[r]),a=k.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},u=t.filter(m=>(m.position||d)===(s.position||d)&&m.height),f=u.findIndex(m=>m.id===s.id),h=u.filter((m,y)=>y<f&&m.visible).length;return u.filter(m=>m.visible).slice(...l?[h+1]:[0,h]).reduce((m,y)=>m+(y.height||0)+c,0)},[t]);return k.useEffect(()=>{t.forEach(s=>{if(s.dismissed)tM(s.id,s.removeDelay);else{let o=Pc.get(s.id);o&&(clearTimeout(o),Pc.delete(s.id))}})},[t]),{toasts:t,handlers:{updateHeight:QI,startPause:ZI,endPause:n,calculateOffset:a}}},nM=Ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,aM=Ua`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sM=Ua`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,iM=Ks("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${aM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${sM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,oM=Ua`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lM=Ks("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${oM} 1s linear infinite;
`,cM=Ua`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dM=Ua`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,uM=Ks("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fM=Ks("div")`
  position: absolute;
`,hM=Ks("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mM=Ua`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pM=Ks("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gM=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?k.createElement(pM,null,t):t:r==="blank"?null:k.createElement(hM,null,k.createElement(lM,{...n}),r!=="loading"&&k.createElement(fM,null,r==="error"?k.createElement(iM,{...n}):k.createElement(uM,{...n})))},vM=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xM=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,yM="0%{opacity:0;} 100%{opacity:1;}",bM="0%{opacity:1;} 100%{opacity:0;}",wM=Ks("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kM=Ks("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jM=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=HC()?[yM,bM]:[vM(r),xM(r)];return{animation:t?`${Ua(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ua(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},NM=k.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?jM(e.position||t||"top-center",e.visible):{opacity:0},s=k.createElement(gM,{toast:e}),o=k.createElement(kM,{...e.ariaProps},ih(e.message,e));return k.createElement(wM,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:s,message:o}):k.createElement(k.Fragment,null,s,o))});VI(k.createElement);var _M=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let s=k.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return k.createElement("div",{ref:s,className:t,style:r},a)},SM=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:HC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},CM=vm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Au=16,EM=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=rM(r);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Au,left:Au,right:Au,bottom:Au,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let u=d.position||t,f=c.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),h=SM(u,f);return k.createElement(_M,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?CM:"",style:h},d.type==="custom"?ih(d.message,d):a?a(d):k.createElement(NM,{toast:d,position:u}))}))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>k.createElement("svg",{ref:u,...TM,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${DM(e)}`,l].join(" "),...d},[...t.map(([f,h])=>k.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=oe("AArrowDown",[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 7v9",key:"pknjwm"}],["path",{d:"m14 12 4 4 4-4",key:"buelq4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=oe("AArrowUp",[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 16V7",key:"ty0viw"}],["path",{d:"m14 11 4-4 4 4",key:"1pu57t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=oe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=oe("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=oe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=oe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=oe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=oe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=oe("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=oe("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=oe("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=oe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=oe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=oe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=oe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=oe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=oe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=oe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=oe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=oe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=oe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=oe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=oe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=oe("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=oe("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=oe("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=oe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dR="modulepreload",uR=function(e){return"/"+e},g1={},Dl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=uR(c),c in g1)return;g1[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":dR,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},fR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Dl(async()=>{const{default:n}=await Promise.resolve().then(()=>Pl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class hb extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class hR extends hb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mR extends hb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pR extends hb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pv||(pv={}));var gR=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class vR{constructor(t,{headers:r={},customFetch:n,region:a=pv.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=fR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return gR(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(y=>{throw new hR(y)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new mR(u);if(!u.ok)throw new pR(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield u.json():h==="application/octet-stream"?m=yield u.blob():h==="text/event-stream"?m=u:h==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var Er={},mb={},wm={},Ud={},km={},jm={},xR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dl=xR();const yR=dl.fetch,rE=dl.fetch.bind(dl),nE=dl.Headers,bR=dl.Request,wR=dl.Response,Pl=Object.freeze(Object.defineProperty({__proto__:null,Headers:nE,Request:bR,Response:wR,default:rE,fetch:yR},Symbol.toStringTag,{value:"Module"})),kR=v_(Pl);var Nm={};Object.defineProperty(Nm,"__esModule",{value:!0});let jR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Nm.default=jR;var aE=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jm,"__esModule",{value:!0});const NR=aE(kR),_R=aE(Nm);let SR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=NR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,c;let d=null,u=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await s.text();try{d=JSON.parse(v),Array.isArray(d)&&s.status===404&&(u=[],d=null,h=200,m="OK")}catch{s.status===404&&v===""?(h=204,m="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,h=200,m="OK"),d&&this.shouldThrowOnError)throw new _R.default(d)}return{error:d,data:u,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(a=a.catch(s=>{var o,l,c;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};jm.default=SR;var CR=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(km,"__esModule",{value:!0});const ER=CR(jm);let TR=class extends ER.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};km.default=TR;var DR=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ud,"__esModule",{value:!0});const PR=DR(km);let OR=class extends PR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ud.default=OR;var IR=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wm,"__esModule",{value:!0});const Xl=IR(Ud);let MR=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Xl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Xl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Xl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Xl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wm.default=MR;var _m={},Sm={};Object.defineProperty(Sm,"__esModule",{value:!0});Sm.version=void 0;Sm.version="0.0.0-automated";Object.defineProperty(_m,"__esModule",{value:!0});_m.DEFAULT_HEADERS=void 0;const RR=Sm;_m.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${RR.version}`};var sE=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mb,"__esModule",{value:!0});const AR=sE(wm),LR=sE(Ud),$R=_m;let zR=class iE{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},$R.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new AR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new iE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(o="POST",c=r);const d=Object.assign({},this.headers);return s&&(d.Prefer=`count=${s}`),new LR.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};mb.default=zR;var Ol=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Er,"__esModule",{value:!0});Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const oE=Ol(mb);Er.PostgrestClient=oE.default;const lE=Ol(wm);Er.PostgrestQueryBuilder=lE.default;const cE=Ol(Ud);Er.PostgrestFilterBuilder=cE.default;const dE=Ol(km);Er.PostgrestTransformBuilder=dE.default;const uE=Ol(jm);Er.PostgrestBuilder=uE.default;const fE=Ol(Nm);Er.PostgrestError=fE.default;var FR=Er.default={PostgrestClient:oE.default,PostgrestQueryBuilder:lE.default,PostgrestFilterBuilder:cE.default,PostgrestTransformBuilder:dE.default,PostgrestBuilder:uE.default,PostgrestError:fE.default};const{PostgrestClient:BR,PostgrestQueryBuilder:Are,PostgrestFilterBuilder:Lre,PostgrestTransformBuilder:$re,PostgrestBuilder:zre,PostgrestError:Fre}=FR;let gv;typeof window>"u"?gv=require("ws"):gv=window.WebSocket;const UR="2.11.10",WR={"X-Client-Info":`realtime-js/${UR}`},HR="1.0.0",hE=1e4,VR=1e3;var Vo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vo||(Vo={}));var cr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(cr||(cr={}));var In;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(In||(In={}));var vv;(function(e){e.websocket="websocket"})(vv||(vv={}));var xi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xi||(xi={}));class qR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+s));o=o+s;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class mE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Qe||(Qe={}));const v1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=GR(o,e,t,a),s),{})},GR=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,o=r[e];return s&&!n.includes(s)?pE(s,o):xv(o)},pE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return JR(t,r)}switch(e){case Qe.bool:return YR(t);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return XR(t);case Qe.json:case Qe.jsonb:return KR(t);case Qe.timestamp:return QR(t);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return xv(t);default:return xv(t)}},xv=e=>e,YR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},KR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>pE(t,l))}return e},QR=e=>typeof e=="string"?e.replace(" ","T"):e,gE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class eg{constructor(t,r,n={},a=hE){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var x1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(x1||(x1={}));class Mc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mc.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=Mc.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Mc.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=s[d];if(f){const h=u.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),y=u.filter(b=>m.indexOf(b.presence_ref)<0),v=f.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(l[d]=y),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(m=>m.presence_ref),h=u.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var y1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(y1||(y1={}));var b1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(b1||(b1={}));var Sa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sa||(Sa={}));class pb{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=cr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new eg(this,In.join,this.params,this.timeout),this.rejoinTimer=new mE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Mc(this),this.broadcastEndpointURL=gE(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Sa.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Sa.CLOSED));const c={},d={broadcast:s,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(Sa.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let v=0;v<m;v++){const b=h[v],{filter:{event:g,schema:p,table:x,filter:w}}=b,_=u&&u[v];if(_&&_.event===g&&_.schema===p&&_.table===x&&_.filter===w)y.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=cr.errored,t==null||t(Sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Sa.SUBSCRIBED);return}}).receive("error",u=>{this.state=cr.errored,t==null||t(Sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=cr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const a=new eg(this,In.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new eg(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=In;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var y,v,b;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var y,v,b,g,p,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,_=(y=m.filter)===null||y===void 0?void 0:y.event;return w&&((v=r.ids)===null||v===void 0?void 0:v.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:v,table:b,commit_timestamp:g,type:p,errors:x}=y;h=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:g,eventType:p,new:{},old:{},errors:x}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===cr.closed}_isJoined(){return this.state===cr.joined}_isJoining(){return this.state===cr.joining}_isLeaving(){return this.state===cr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&pb.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(In.close,{},t)}_onError(t){this._on(In.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=v1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=v1(t.columns,t.old_record)),r}}const w1=()=>{},ZR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eA{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=WR,this.params={},this.timeout=hE,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=w1,this.ref=0,this.logger=w1,this.conn=null,this.sendBuffer=[],this.serializer=new qR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Dl(async()=>{const{default:c}=await Promise.resolve().then(()=>Pl);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${vv.websocket}`,this.httpEndpoint=gE(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new mE(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=gv),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new tA(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vo.connecting:return xi.Connecting;case Vo.open:return xi.Open;case Vo.closing:return xi.Closing;default:return xi.Closed}}isConnected(){return this.connectionState()===xi.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new pb(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(In.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(VR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:s,ref:o}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(In.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ZR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class tA{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class gb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function At(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rA extends gb{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yv extends gb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var nA=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const vE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Dl(async()=>{const{default:n}=await Promise.resolve().then(()=>Pl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},aA=()=>nA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dl(()=>Promise.resolve().then(()=>Pl),void 0)).Response:Response}),bv=e=>{if(Array.isArray(e))return e.map(r=>bv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=bv(n)}),t};var Qi=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const tg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sA=(e,t,r)=>Qi(void 0,void 0,void 0,function*(){const n=yield aA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new rA(tg(a),e.status||500))}).catch(a=>{t(new yv(tg(a),a))}):t(new yv(tg(e),e))}),iA=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Wd(e,t,r,n,a,s){return Qi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,iA(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>sA(c,l,n))})})}function ch(e,t,r,n){return Qi(this,void 0,void 0,function*(){return Wd(e,"GET",t,r,n)})}function os(e,t,r,n,a){return Qi(this,void 0,void 0,function*(){return Wd(e,"POST",t,n,a,r)})}function oA(e,t,r,n,a){return Qi(this,void 0,void 0,function*(){return Wd(e,"PUT",t,n,a,r)})}function lA(e,t,r,n){return Qi(this,void 0,void 0,function*(){return Wd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xE(e,t,r,n,a){return Qi(this,void 0,void 0,function*(){return Wd(e,"DELETE",t,n,a,r)})}var kr=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const cA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dA{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=vE(a)}uploadOrUpdate(t,r,n,a){return kr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},k1),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(At(s))return{data:null,error:s};throw s}})}upload(t,r,n){return kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return kr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:k1.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(At(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return kr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield os(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new gb("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}update(t,r,n){return kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return kr(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(At(a))return{data:null,error:a};throw a}})}copy(t,r,n){return kr(this,void 0,void 0,function*(){try{return{data:{path:(yield os(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(At(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return kr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield os(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(At(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return kr(this,void 0,void 0,function*(){try{const a=yield os(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(At(a))return{data:null,error:a};throw a}})}download(t,r){return kr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ch(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(At(l))return{data:null,error:l};throw l}})}info(t){return kr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ch(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:bv(n),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}exists(t){return kr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield lA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(At(n)&&n instanceof yv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return kr(this,void 0,void 0,function*(){try{return{data:yield xE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}list(t,r,n){return kr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},cA),r),{prefix:t||""});return{data:yield os(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(At(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const uA="2.7.1",fA={"X-Client-Info":`storage-js/${uA}`};var oo=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class hA{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},fA),r),this.fetch=vE(n)}listBuckets(){return oo(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(At(t))return{data:null,error:t};throw t}})}getBucket(t){return oo(this,void 0,void 0,function*(){try{return{data:yield ch(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return oo(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return oo(this,void 0,void 0,function*(){try{return{data:yield oA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}emptyBucket(t){return oo(this,void 0,void 0,function*(){try{return{data:yield os(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}deleteBucket(t){return oo(this,void 0,void 0,function*(){try{return{data:yield xE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}}class mA extends hA{constructor(t,r={},n){super(t,r,n)}from(t){return new dA(this.url,this.headers,t,this.fetch)}}const pA="2.50.0";let vc="";typeof Deno<"u"?vc="deno":typeof document<"u"?vc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vc="react-native":vc="node";const gA={"X-Client-Info":`supabase-js-${vc}/${pA}`},vA={headers:gA},xA={schema:"public"},yA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bA={};var wA=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const kA=e=>{let t;return e?t=e:typeof fetch>"u"?t=rE:t=fetch,(...r)=>t(...r)},jA=()=>typeof Headers>"u"?nE:Headers,NA=(e,t,r)=>{const n=kA(r),a=jA();return(s,o)=>wA(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:d}))})};var _A=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function SA(e){return e.endsWith("/")?e:e+"/"}function CA(e,t){var r,n;const{db:a,auth:s,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>_A(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const yE="2.70.0",xo=30*1e3,wv=3,rg=wv*xo,EA="http://localhost:9999",TA="supabase.auth.token",DA={"X-Client-Info":`gotrue-js/${yE}`},kv="X-Supabase-Api-Version",bE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OA=6e5;class vb extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class IA extends vb{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function MA(e){return Ce(e)&&e.name==="AuthApiError"}class wE extends vb{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Js extends vb{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class rs extends Js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RA(e){return Ce(e)&&e.name==="AuthSessionMissingError"}class Lu extends Js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $u extends Js{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zu extends Js{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AA(e){return Ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class j1 extends Js{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jv extends Js{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ng(e){return Ce(e)&&e.name==="AuthRetryableFetchError"}class N1 extends Js{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Rc extends Js{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_1=` 	
\r=`.split(""),LA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_1.length;t+=1)e[_1[t].charCodeAt(0)]=-2;for(let t=0;t<dh.length;t+=1)e[dh[t].charCodeAt(0)]=t;return e})();function S1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dh[n]),t.queuedBits-=6}}function kE(e,t,r){const n=LA[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function C1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{FA(o,n,r)};for(let o=0;o<e.length;o+=1)kE(e.charCodeAt(o),a,s);return t.join("")}function $A(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zA(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}$A(n,t)}}function FA(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function BA(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)kE(e.charCodeAt(a),r,n);return new Uint8Array(t)}function UA(e){const t=[];return zA(e,r=>t.push(r)),new Uint8Array(t)}function WA(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>S1(a,r,n)),S1(null,r,n),t.join("")}function HA(e){return Math.round(Date.now()/1e3)+e}function VA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Tn=()=>typeof window<"u"&&typeof document<"u",ni={tested:!1,writable:!1},Ac=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ni.tested)return ni.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ni.tested=!0,ni.writable=!0}catch{ni.tested=!0,ni.writable=!1}return ni.writable};function qA(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const jE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Dl(async()=>{const{default:n}=await Promise.resolve().then(()=>Pl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},GA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",NE=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Fu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bu=async(e,t)=>{await e.removeItem(t)};class Cm{constructor(){this.promise=new Cm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Cm.promiseConstructor=Promise;function ag(e){const t=e.split(".");if(t.length!==3)throw new Rc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!PA.test(t[n]))throw new Rc("JWT not in base64url format");return{header:JSON.parse(C1(t[0])),payload:JSON.parse(C1(t[1])),signature:BA(t[2]),raw:{header:t[0],payload:t[1]}}}async function YA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XA(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){a(o);return}}})()})}function KA(e){return("0"+e.toString(16)).substr(-2)}function JA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,KA).join("")}async function QA(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function ZA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await QA(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lo(e,t,r=!1){const n=JA();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await NE(e,`${t}-code-verifier`,a);const s=await ZA(n);return[s,n===s?"plain":"s256"]}const eL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tL(e){const t=e.headers.get(kv);if(!t||!t.match(eL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function nL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function co(e){if(!aL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var sL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ui=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iL=[502,503,504];async function E1(e){var t;if(!GA(e))throw new jv(ui(e),0);if(iL.includes(e.status))throw new jv(ui(e),e.status);let r;try{r=await e.json()}catch(s){throw new wE(ui(s),s)}let n;const a=tL(e);if(a&&a.getTime()>=bE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new N1(ui(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new rs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new N1(ui(r),e.status,r.weak_password.reasons);throw new IA(ui(r),e.status||500,n)}const oL=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ie(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[kv]||(s[kv]=bE["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await lL(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function lL(e,t,r,n,a,s){const o=oL(t,n,a,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new jv(ui(c),0)}if(l.ok||await E1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await E1(c)}}function Na(e){var t;let r=null;fL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=HA(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function T1(e){const t=Na(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ms(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function cL(e){return{data:e,error:null}}function dL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=sL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function uL(e){return e}function fL(e){return e.access_token&&e.refresh_token&&e.expires_in}const sg=["global","local","others"];var hL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class mL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=jE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=sg[0]){if(sg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sg.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ms})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hL(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:dL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ms})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:uL});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);d[`${b}Page`]=v}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Ce(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){co(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ms})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){co(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ms})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){co(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ms})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){co(t.userId);try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){co(t.userId),co(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}}const pL={getItem:e=>Ac()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ac()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ac()&&globalThis.localStorage.removeItem(e)}};function D1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function gL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const uo={debug:!!(globalThis&&Ac()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _E extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vL extends _E{}async function xL(e,t,r){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(uo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}gL();const yL={url:EA,storageKey:TA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function P1(e,t,r){return await r()}class gd{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gd.nextInstanceID,gd.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},yL),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new mL({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=jE(a.fetch),this.lock=a.lock||P1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Tn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=xL:this.lock=P1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Ac()?this.storage=pL:(this.memoryStorage={},this.storage=D1(this.memoryStorage)):(this.memoryStorage={},this.storage=D1(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=qA(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Tn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),AA(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ce(r)?{error:r}:{error:new wE("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Na}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Ce(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:u,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await lo(this.storage,this.storageKey)),s=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:Na})}else if("phone"in t){const{phone:u,password:f,options:h}=t;s=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Na})}else throw new $u("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:T1})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:T1})}else throw new $u("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Lu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,s,o,l,c,d,u,f,h,m;let y,v;if("message"in t)y=t.message,v=t.signature;else{const{chain:b,wallet:g,statement:p,options:x}=t;let w;if(Tn())if(typeof g=="object")w=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:b,error:g}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:WA(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Na});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Lu}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(Ce(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Fu(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Na});if(await Bu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Lu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(Ce(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=t,l=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Na}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Lu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await lo(this.storage,this.storageKey));const{error:f}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new $u("You must provide either an email or phone number.")}catch(l){if(Ce(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Na});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await lo(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:cL})}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new rs;const{error:a}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:o}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:o,error:l}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new $u("You must provide either an email or phone number and a type")}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Fu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<rg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ms}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:ms})})}catch(r){if(Ce(r))return RA(r)&&(await this._removeSession(),await Bu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new rs;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await lo(this.storage,this.storageKey));const{data:d,error:u}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ms});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rs;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=ag(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Ce(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new rs;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Tn())throw new zu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new j1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new j1("No code detected.");const{data:p,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!s||!l||!o||!d)throw new zu("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let h=u+f;c&&(h=parseInt(c));const m=h-u;m*1e3<=xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,u);const{data:v,error:b}=await this._getUser(s);if(b)throw b;const g={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(Ce(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Fu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(MA(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Bu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=VA(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await lo(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,d,u;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Tn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ce(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XA(async a=>(a>0&&await YA(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Na})),(a,s)=>{const o=200*Math.pow(2,a);return s&&ng(s)&&Date.now()+o-n<xo})}catch(n){if(this._debug(r,"error",n),Ce(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Tn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Fu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<rg;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${rg}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),ng(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Cm;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new rs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),Ce(s)){const o={session:null,error:s};return ng(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await NE(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Bu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${xo}ms, refresh threshold is ${wv} ticks`),a<=wv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _E)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await lo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ag(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+OA>Date.now()))return n;const{data:a,error:s}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new Rc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===t),!n)throw new Rc("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};n=m.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=ag(n);if(rL(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:o},error:null}}const d=nL(a.alg),u=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,UA(`${l}.${c}`)))throw new Rc("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}}gd.nextInstanceID=0;const bL=gd;class wL extends bL{constructor(t){super(t)}}var kL=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?s(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class jL{constructor(t,r,n){var a,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=SA(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:xA,realtime:bA,auth:Object.assign(Object.assign({},yA),{storageKey:d}),global:vA},f=CA(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=NA(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new BR(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new vR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mA(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return kL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:s,flowType:o,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wL({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new eA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wt=(e,t,r)=>new jL(e,t,r),NL="https://jfvinriqydjtwsmayxix.supabase.co",_L="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8",de=wt(NL,_L),SE=k.createContext(void 0),SL=({children:e})=>{const[t,r]=k.useState(()=>{const a=localStorage.getItem("theme");return a?a||"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});k.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const n=()=>{r(a=>a==="light"?"dark":"light")};return i.jsx(SE.Provider,{value:{theme:t,toggleTheme:n},children:e})},CL=()=>{const e=k.useContext(SE);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},CE=({className:e="",inverted:t=!1})=>{const r=t?"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_white_science_hub%20no_title.png":"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_gray_science_hub%20no_title.png";return i.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[i.jsx("img",{src:r,alt:"ScienceHub Logo",className:"h-8 w-auto"}),i.jsx("span",{className:`font-heading font-bold text-xl ${t?"text-white":"text-dark-900 dark:text-white"}`,children:"ScienceHub"})]})},Il=({isOpen:e,onClose:t,title:r,children:n,size:a="md"})=>{if(!e)return null;const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),i.jsxs("div",{className:`relative w-full ${s[a]} transform overflow-hidden rounded-lg bg-white dark:bg-dark-800 p-6 text-left shadow-xl transition-all`,children:[r&&i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-medium",children:r}),i.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-gray-100 dark:hover:bg-dark-700",children:i.jsx(_t,{className:"h-5 w-5"})})]}),n]})]})})},xb=({isOpen:e,onClose:t})=>{const[r,n]=k.useState(""),[a,s]=k.useState(""),[o,l]=k.useState(""),[c,d]=k.useState(!1),[u,f]=k.useState(!1),[h,m]=k.useState(null),[y,v]=k.useState(!1),b=async p=>{p.preventDefault(),d(!0),m(null);try{if(y){const{error:x}=await de.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/reset-password`});if(x)throw x;X.success("Инструкции по сбросу пароля отправлены на вашу почту"),v(!1)}else if(u){if(!o.trim()){m("Имя обязательно для заполнения"),d(!1);return}const{error:x}=await de.auth.signUp({email:r,password:a,options:{data:{name:o},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(x)throw x;X.success("Регистрация успешна! Проверьте почту для подтверждения.")}else{const{error:x}=await de.auth.signInWithPassword({email:r,password:a});if(x)throw x;X.success("Успешный вход"),t()}}catch(x){console.error("Auth error:",x),m(x.message||(u?"Ошибка регистрации":"Ошибка входа"))}finally{d(!1)}},g=()=>{n(""),s(""),l(""),m(null),v(!1)};return i.jsxs(Il,{isOpen:e,onClose:()=>{t(),g()},title:y?"Сброс пароля":u?"Регистрация":"Вход в аккаунт",size:"md",children:[h&&i.jsxs("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg text-sm flex items-start",children:[i.jsx(hd,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsx("span",{children:h})]}),i.jsxs("form",{onSubmit:b,className:"space-y-6",children:[!y&&u&&i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"name",className:"block font-medium mb-2",children:"Имя"}),i.jsxs("div",{className:"relative",children:[i.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",id:"name",value:o,onChange:p=>l(p.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 dark:bg-dark-800",required:u})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"email",className:"block font-medium mb-2",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Tl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"email",id:"email",value:r,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 dark:bg-dark-800",required:!0})]})]}),!y&&i.jsxs("div",{className:"form-group",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("label",{htmlFor:"password",className:"block font-medium",children:"Пароль"}),!u&&i.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"Забыли пароль?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(hv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"password",id:"password",value:a,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 dark:bg-dark-800",required:!0})]})]}),i.jsx("button",{type:"submit",disabled:c,className:"w-full btn-primary py-2",children:c?y?"Отправка...":u?"Регистрация...":"Вход...":y?"Отправить инструкции":u?"Зарегистрироваться":"Войти"}),y?i.jsx("button",{type:"button",onClick:()=>v(!1),className:"w-full text-center text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"Вернуться к входу"}):i.jsx("button",{type:"button",onClick:()=>{f(!u),m(null)},className:"w-full text-center text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:u?"Уже есть аккаунт? Войти":"Создать аккаунт"})]})]})},EL={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24"},TL={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},O1=({avatarUrl:e,name:t,size:r="md",className:n="",showFallback:a=!0})=>{const s=EL[r],o=TL[r];return i.jsx("div",{className:`${s} rounded-full overflow-hidden bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center flex-shrink-0 ${n}`,children:e?i.jsx("img",{src:e,alt:t||"User avatar",className:"w-full h-full object-cover",onError:l=>{const c=l.target;c.style.display="none"}}):a?i.jsx(Fr,{className:`${o} text-primary-600 dark:text-primary-400`}):null})},DL=({user:e,onLogout:t})=>{var s;const[r,n]=k.useState(!1),a=k.useRef(null);return k.useEffect(()=>{const o=l=>{a.current&&!a.current.contains(l.target)&&n(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]),i.jsxs("div",{className:"relative",ref:a,children:[i.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:[i.jsx(O1,{avatarUrl:e.avatar,name:e.name||e.email,size:"sm"}),i.jsx(pd,{className:`h-4 w-4 transition-transform ${r?"rotate-180":""}`})]}),r&&i.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-dark-800 rounded-lg shadow-lg py-2 z-50 border border-gray-200 dark:border-dark-700",children:[i.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-dark-700",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(O1,{avatarUrl:e.avatar,name:e.name||e.email,size:"md"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:e.name||((s=e.email)==null?void 0:s.split("@")[0])}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.email}),e.role&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Роль: ",e.role]})]})]})}),i.jsxs(Te,{to:"/profile",className:"block w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",onClick:()=>n(!1),children:[i.jsx(Fr,{className:"h-4 w-4 inline mr-2"}),"Мой профиль"]}),e.role==="Admin"&&i.jsxs(Te,{to:"/admin",className:"block w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",onClick:()=>n(!1),children:[i.jsx(Ic,{className:"h-4 w-4 inline mr-2"}),"Панель управления"]}),i.jsxs("button",{onClick:()=>{t(),n(!1)},className:"block w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors text-red-600 dark:text-red-400",children:[i.jsx(QC,{className:"h-4 w-4 inline mr-2"}),"Выйти"]})]})]})},PL=()=>{const[e,t]=k.useState(!1),[r,n]=k.useState(!1),[a,s]=k.useState(null),[o,l]=k.useState("standard"),{theme:c,toggleTheme:d}=CL(),u=Xs(),[f,h]=k.useState([]),m=k.useRef(null);k.useEffect(()=>{b(),g(),y();const{data:S}=de.auth.onAuthStateChange((O,T)=>{O==="SIGNED_IN"&&T?v(T.user.id):O==="SIGNED_OUT"&&s(null)}),E=O=>{m.current&&!m.current.contains(O.target)&&t(!1)};return document.addEventListener("mousedown",E),()=>{S.subscription.unsubscribe(),document.removeEventListener("mousedown",E)}},[]);const y=async()=>{try{const{data:{session:S}}=await de.auth.getSession();S&&v(S.user.id)}catch(S){console.error("Error checking user session:",S)}},v=async S=>{var E,O;try{const{data:T,error:D}=await de.from("profiles").select("*").eq("id",S).single();if(D)throw D;const{data:{session:R}}=await de.auth.getSession();s({id:S,email:(R==null?void 0:R.user.email)||"",name:(T==null?void 0:T.name)||((E=R==null?void 0:R.user.user_metadata)==null?void 0:E.name),role:T==null?void 0:T.role,avatar:T==null?void 0:T.avatar})}catch(T){console.error("Error fetching user profile:",T);const{data:{session:D}}=await de.auth.getSession();D&&s({id:D.user.id,email:D.user.email||"",name:(O=D.user.user_metadata)==null?void 0:O.name})}},b=async()=>{try{const{data:S,error:E}=await de.from("site_settings").select("navigation_items").single();if(E)throw E;S!=null&&S.navigation_items&&h(S.navigation_items)}catch(S){console.error("Error fetching navigation items:",S)}},g=async()=>{var S;try{const{data:E,error:O}=await de.from("site_settings").select("topbar_settings").single();if(O)throw O;(S=E==null?void 0:E.topbar_settings)!=null&&S.height&&l(E.topbar_settings.height)}catch(E){console.error("Error fetching topbar settings:",E)}},p=async()=>{try{await de.auth.signOut()}catch(S){console.error("Error signing out:",S)}},x=f.filter(S=>S.visible),w=`topbar-${o}`,_=()=>{switch(o){case"compact":return"top-12";case"standard":return"top-14";case"large":return"top-20";default:return"top-16"}};return i.jsxs("header",{className:`topbar ${w}`,children:[i.jsxs("div",{className:"container flex items-center justify-between",children:[i.jsx(Te,{to:"/",className:"flex items-center",onClick:()=>t(!1),children:i.jsx(CE,{className:"h-10 w-auto",inverted:c==="dark"})}),i.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-8",children:x.map(S=>i.jsx(Te,{to:S.path,className:`font-medium relative py-4 ${u.pathname===S.path?'text-primary dark:text-primary-400 after:content-[""] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-primary-600 dark:after:bg-primary-400':"hover:text-primary dark:hover:text-primary-400"}`,children:S.label},S.id))}),i.jsxs("div",{className:"flex md:flex-none items-center gap-4",children:[i.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-dark-100 dark:hover:bg-dark-800","aria-label":c==="dark"?"Switch to light mode":"Switch to dark mode",children:c==="dark"?i.jsx(oR,{className:"h-5 w-5"}):i.jsx(ZM,{className:"h-5 w-5"})}),a?i.jsx(DL,{user:a,onLogout:p}):i.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 p-2 text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-md",children:[i.jsx(JM,{className:"h-5 w-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Войти"})]}),i.jsx("button",{onClick:()=>t(!e),className:"p-2 md:hidden rounded-md text-dark-900 dark:text-white hover:bg-dark-100 dark:hover:bg-dark-800","aria-expanded":e,"aria-label":"Toggle menu",children:e?i.jsx(_t,{className:"h-6 w-6"}):i.jsx(mv,{className:"h-6 w-6"})})]}),e&&i.jsx("div",{ref:m,className:`mobile-menu md:hidden absolute ${_()} left-0 right-0 bg-white dark:bg-dark-900 shadow-lg z-50 animate-fade-in`,children:i.jsxs("nav",{className:"container py-5 flex flex-col space-y-4",children:[x.map(S=>i.jsx(Te,{to:S.path,className:`py-2 font-medium ${u.pathname===S.path?"text-primary-600 dark:text-primary-400":"hover:text-primary-600 dark:hover:text-primary-400"}`,onClick:()=>t(!1),children:S.label},S.id)),!a&&i.jsx("button",{onClick:()=>{n(!0),t(!1)},className:"py-2 font-medium text-left text-primary-600 dark:text-primary-400",children:"Войти / Зарегистрироваться"}),a&&i.jsxs(i.Fragment,{children:[i.jsx(Te,{to:"/profile",className:"py-2 font-medium hover:text-primary-600 dark:hover:text-primary-400",onClick:()=>t(!1),children:"Мой профиль"}),a.role==="Admin"&&i.jsx(Te,{to:"/admin",className:"py-2 font-medium hover:text-primary-600 dark:hover:text-primary-400",onClick:()=>t(!1),children:"Панель управления"}),i.jsx("button",{onClick:()=>{p(),t(!1)},className:"py-2 font-medium text-left text-red-600 dark:text-red-400",children:"Выйти"})]})]})})]}),i.jsx(xb,{isOpen:r,onClose:()=>n(!1)})]})};function OL(){const[e,t]=k.useState({email:"",phone:"",address:"",workingHours:"",socialLinks:{telegram:"",instagram:"",youtube:""}}),[r,n]=k.useState([]);k.useEffect(()=>{(async()=>{try{const{data:o,error:l}=await de.from("site_settings").select("footer_settings, navigation_items").single();if(l&&l.code!=="PGRST116"){console.error("Error fetching footer settings:",l);return}if(o&&(o.footer_settings&&t({...e,...o.footer_settings}),o.navigation_items)){const c=o.navigation_items.filter(d=>d.visible).sort((d,u)=>(d.order||0)-(u.order||0));n(c)}}catch(o){console.error("Error fetching footer data:",o)}})()},[]);const a=s=>({telegram:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/tg-logo-100x100.png",instagram:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/ist-logo-100x100.png",youtube:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/yt_100x100.png"})[s];return i.jsx("footer",{className:"bg-dark-900 border-t border-dark-700",children:i.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{children:[i.jsx(CE,{className:"h-10 w-auto mb-4",inverted:!0}),i.jsx("p",{className:"text-dark-300 mb-6 leading-relaxed",children:"Рассказываем в Сербии о науке легко и интересно через кинопоказы, лекции, фестивали, квизы, экскурсии. Помогаем понять, как устроен мир, и найти единомышленников."}),Object.entries(e.socialLinks).some(([s,o])=>o)&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Мы в соцсетях"}),i.jsx("div",{className:"flex gap-4",children:Object.entries(e.socialLinks).map(([s,o])=>{if(!o)return null;const l=a(s);return l?i.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform duration-200",title:s.charAt(0).toUpperCase()+s.slice(1),children:i.jsx("img",{src:l,alt:s,className:"w-8 h-8 object-contain"})},s):null})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Навигация"}),i.jsx("ul",{className:"space-y-2",children:r.map(s=>i.jsx("li",{children:i.jsx(Te,{to:s.path,className:"text-dark-300 hover:text-white transition-colors duration-200",children:s.label})},s.id))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Контакты"}),i.jsxs("ul",{className:"space-y-3",children:[e.email&&i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(RM,{className:"h-5 w-5 mt-0.5 text-primary-400 flex-shrink-0"}),i.jsx("a",{href:`mailto:${e.email}`,className:"text-dark-300 hover:text-white transition-colors duration-200",children:e.email})]}),e.phone&&i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(cl,{className:"h-5 w-5 mt-0.5 text-primary-400 flex-shrink-0"}),i.jsx("a",{href:`tel:${e.phone}`,className:"text-dark-300 hover:text-white transition-colors duration-200",children:e.phone})]}),e.address&&i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(Pt,{className:"h-5 w-5 mt-0.5 text-primary-400 flex-shrink-0"}),i.jsx("span",{className:"text-dark-300",children:e.address})]}),e.workingHours&&i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(QM,{className:"h-5 w-5 mt-0.5 text-primary-400 flex-shrink-0"}),i.jsx("span",{className:"text-dark-300",children:e.workingHours})]})]})]})]}),i.jsx("div",{className:"mt-8 pt-8 border-t border-dark-700",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsxs("p",{className:"text-dark-400 text-sm",children:["© ",new Date().getFullYear()," ScienceHub. Все права защищены."]}),i.jsx("p",{className:"text-dark-400 text-sm mt-2 md:mt-0",children:"Сделано с ❤️ для научного сообщества"})]})})]})})}const ut=({children:e})=>i.jsxs("div",{className:"flex flex-col min-h-screen",children:[i.jsx(PL,{}),i.jsx("main",{className:"flex-grow",children:e}),i.jsx(OL,{})]}),bt=e=>e?e.startsWith("http")?e:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${e}`:"",IL=async(e,t={})=>{try{const r=(await Dl(async()=>{const{default:o}=await import("./browser-image-compression-CBVwGt6Q.js");return{default:o}},[])).default,a={...{maxWidthOrHeight:5e3,maxSizeMB:5,useWebWorker:!0,fileType:"image/jpeg"},...t};return await r(e,a)}catch(r){return console.error("Error compressing image:",r),e}},ML=(e,t="")=>{const r=Date.now(),n=Math.random().toString(36).substring(2,8),a=e.name.split(".").pop()||"jpg";return`${t}${r}_${n}.${a}`},Kl={style:"centered",centered:{title:"ScienceHub",subtitle:"Место для научного сообщества",logoLight:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_science_hub%20no_title.png",logoDark:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_white_science_hub%20no_title.png",logoSize:150},slideshow:{slides:[],settings:{autoplaySpeed:5e3,transition:"fade"}}},RL=({height:e=400})=>{const[t,r]=k.useState(Kl),[n,a]=k.useState(0),[s,o]=k.useState(!0),[l,c]=k.useState(null);k.useRef(null);const d=k.useRef(),u=typeof e=="number"?`${e}px`:e,f=t.centered.logoSize?`${t.centered.logoSize}px`:"150px";k.useEffect(()=>{if(t.style!=="slideshow"||t.slideshow.slides.length<=1)return;const v=()=>{d.current=setInterval(()=>{m()},t.slideshow.settings.autoplaySpeed)},b=()=>{d.current&&clearInterval(d.current)};return v(),()=>b()},[t,n]);const h=v=>{a(v)},m=()=>{a(v=>(v+1)%t.slideshow.slides.length)},y=()=>{a(v=>v===0?t.slideshow.slides.length-1:v-1)};return k.useEffect(()=>{let v=!0;return(async()=>{var g;try{o(!0);const{data:p,error:x}=await de.from("site_settings").select("header_settings").single();if(!v)return;if(x)throw x;p!=null&&p.header_settings&&r({...Kl,...p.header_settings,slideshow:{...Kl.slideshow,...p.header_settings.slideshow,settings:{...Kl.slideshow.settings,...(g=p.header_settings.slideshow)==null?void 0:g.settings}},centered:{...Kl.centered,...p.header_settings.centered}})}catch(p){console.error("Error fetching header settings:",p),v&&c("Не удалось загрузить данные заголовка")}finally{v&&o(!1)}})(),()=>{v=!1}},[]),s?i.jsx("section",{className:"relative flex items-center justify-center bg-gray-100 dark:bg-dark-800",style:{height:u},children:i.jsx("div",{className:"text-center",children:"Загрузка..."})}):l?i.jsx("section",{className:"relative flex items-center justify-center bg-gray-100 dark:bg-dark-800",style:{height:u},children:i.jsx("div",{className:"text-center text-red-500",children:l})}):t.style==="slideshow"&&t.slideshow.slides.length>0?i.jsxs("section",{className:"relative overflow-hidden",style:{height:u},children:[i.jsx("div",{className:"relative h-full w-full",children:i.jsx("div",{className:"flex h-full transition-transform duration-500",style:{transform:`translateX(-${n*100}%)`,width:`${t.slideshow.slides.length*100}%`},children:t.slideshow.slides.map((v,b)=>i.jsxs("div",{className:"relative w-full h-full",style:{flex:`0 0 ${100/t.slideshow.slides.length}%`},children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("img",{src:bt(v.image),alt:"",className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}),i.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),i.jsx("div",{className:"relative h-full flex flex-col items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center text-center px-4",children:[i.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-4 text-white",children:v.title}),i.jsx("p",{className:"text-lg md:text-xl text-white/90 max-w-2xl",children:v.subtitle})]})})]},v.id))})}),i.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:t.slideshow.slides.map((v,b)=>i.jsx("button",{onClick:()=>h(b),className:`w-2 h-2 rounded-full transition-all duration-300 ${b===n?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${b+1}`},b))}),t.slideshow.slides.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:y,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/30 hover:bg-black/50 text-white transition-colors","aria-label":"Previous slide",children:i.jsx(Bn,{className:"rotate-180"})}),i.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/30 hover:bg-black/50 text-white transition-colors","aria-label":"Next slide",children:i.jsx(Bn,{})})]})]}):i.jsx("section",{className:"relative flex items-center justify-center bg-gray-50 dark:bg-dark-900",style:{height:u},children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full",children:[i.jsxs("div",{className:"w-full flex items-center justify-center mb-8",style:{height:f},children:[i.jsx("img",{src:t.centered.logoLight,alt:"ScienceHub Logo",className:"h-full w-auto object-contain dark:hidden",loading:"lazy",decoding:"async"}),i.jsx("img",{src:t.centered.logoDark,alt:"ScienceHub Logo",className:"h-full w-auto object-contain hidden dark:block",loading:"lazy",decoding:"async"})]}),i.jsxs("div",{className:"text-center px-4 max-w-2xl",children:[i.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4",children:t.centered.title}),i.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300",children:t.centered.subtitle})]})]})})},AL=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!0),[a,s]=k.useState(null),o=k.useRef(null),l=k.useRef(null),c=k.useRef(null);return k.useEffect(()=>{let d=!0;return(async()=>{try{const{data:f,error:h}=await de.from("site_settings").select("info_section").single();if(!d)return;if(h)throw h;f!=null&&f.info_section&&t(f.info_section)}catch(f){console.error("Error fetching info section data:",f),d&&s("Не удалось загрузить данные")}finally{d&&n(!1)}})(),()=>{d=!1}},[]),k.useEffect(()=>{if(!(e!=null&&e.image)||!o.current)return;const d=new IntersectionObserver(u=>{u.forEach(f=>{if(f.isIntersecting){const h=f.target;h.src=h.dataset.src||"",d.unobserve(h)}})},{rootMargin:"200px",threshold:.1});return d.observe(o.current),()=>{o.current&&d.unobserve(o.current)}},[e==null?void 0:e.image]),k.useEffect(()=>{if(!l.current||!c.current)return;const d=new ResizeObserver(u=>{for(let f of u)f.target===l.current&&(c.current.style.height=`${f.contentRect.height}px`)});return d.observe(l.current),()=>{d.disconnect()}},[e]),r?i.jsx("div",{className:"section bg-white dark:bg-dark-900 min-h-[400px] flex items-center justify-center",children:"Загрузка..."}):a?i.jsx("div",{className:"section bg-white dark:bg-dark-900 min-h-[400px] flex items-center justify-center text-red-500",children:a}):!e||!e.enabled?null:i.jsx("section",{className:"section bg-white dark:bg-dark-900",children:i.jsxs("div",{className:"container grid-layout items-start",children:[i.jsxs("div",{className:"text-content",ref:l,children:[i.jsx("h3",{className:"mb-6",children:e.title}),i.jsx("div",{className:"text-base space-y-4 mb-8",dangerouslySetInnerHTML:{__html:e.description}}),i.jsxs(Te,{to:"/about",className:"inline-flex items-center text-primary-500 hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300 transition-colors font-medium",children:["Подробнее",i.jsx(Bn,{className:"ml-2"})]})]}),i.jsx("div",{className:"image-content mt-8 md:mt-0",ref:c,children:i.jsx("div",{className:"w-full h-full rounded-lg overflow-hidden relative",children:i.jsx("img",{ref:o,"data-src":bt(e.image),alt:e.title,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy",width:"600",height:"400"})})})]})})};function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function ar(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Le(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Xe(e){Le(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Bi(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Lc(e,t){Le(2,arguments);var r=Xe(e),n=ar(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Nv(e,t){Le(2,arguments);var r=Xe(e),n=ar(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),s=new Date(r.getTime());s.setMonth(r.getMonth()+n+1,0);var o=s.getDate();return a>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function LL(e,t){Le(2,arguments);var r=Xe(e).getTime(),n=ar(t);return new Date(r+n)}var $L={};function Ml(){return $L}function Sf(e,t){var r,n,a,s,o,l,c,d;Le(1,arguments);var u=Ml(),f=ar((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Xe(e),m=h.getDay(),y=(m<f?7:0)+m-f;return h.setDate(h.getDate()-y),h.setHours(0,0,0,0),h}function zL(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function I1(e){Le(1,arguments);var t=Xe(e);return t.setHours(0,0,0,0),t}function FL(e,t){Le(2,arguments);var r=ar(t),n=r*7;return Lc(e,n)}var EE=6e4,TE=36e5;function $c(e,t){Le(2,arguments);var r=I1(e),n=I1(t);return r.getTime()===n.getTime()}function BL(e){return Le(1,arguments),e instanceof Date||Bi(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function UL(e){if(Le(1,arguments),!BL(e)&&typeof e!="number")return!1;var t=Xe(e);return!isNaN(Number(t))}function yb(e){Le(1,arguments);var t=Xe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Cf(e,t){var r;Le(1,arguments);var n=e||{},a=Xe(n.start),s=Xe(n.end),o=s.getTime();if(!(a.getTime()<=o))throw new RangeError("Invalid interval");var l=[],c=a;c.setHours(0,0,0,0);var d=Number((r=void 0)!==null&&r!==void 0?r:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=o;)l.push(Xe(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return l}function vd(e){Le(1,arguments);var t=Xe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function _v(e,t){var r,n,a,s,o,l,c,d;Le(1,arguments);var u=Ml(),f=ar((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Xe(e),m=h.getDay(),y=(m<f?-7:0)+6-(m-f);return h.setDate(h.getDate()+y),h.setHours(23,59,59,999),h}function WL(e,t){Le(2,arguments);var r=ar(t);return LL(e,-r)}var HL=864e5;function VL(e){Le(1,arguments);var t=Xe(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/HL)+1}function uh(e){Le(1,arguments);var t=1,r=Xe(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function DE(e){Le(1,arguments);var t=Xe(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=uh(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var o=uh(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function qL(e){Le(1,arguments);var t=DE(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=uh(r);return n}var GL=6048e5;function YL(e){Le(1,arguments);var t=Xe(e),r=uh(t).getTime()-qL(t).getTime();return Math.round(r/GL)+1}function ul(e,t){var r,n,a,s,o,l,c,d;Le(1,arguments);var u=Ml(),f=ar((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Xe(e),m=h.getUTCDay(),y=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-y),h.setUTCHours(0,0,0,0),h}function PE(e,t){var r,n,a,s,o,l,c,d;Le(1,arguments);var u=Xe(e),f=u.getUTCFullYear(),h=Ml(),m=ar((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,m),y.setUTCHours(0,0,0,0);var v=ul(y,t),b=new Date(0);b.setUTCFullYear(f,0,m),b.setUTCHours(0,0,0,0);var g=ul(b,t);return u.getTime()>=v.getTime()?f+1:u.getTime()>=g.getTime()?f:f-1}function XL(e,t){var r,n,a,s,o,l,c,d;Le(1,arguments);var u=Ml(),f=ar((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=PE(e,t),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var y=ul(m,t);return y}var KL=6048e5;function JL(e,t){Le(1,arguments);var r=Xe(e),n=ul(r,t).getTime()-XL(r,t).getTime();return Math.round(n/KL)+1}function He(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Za={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return He(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):He(n+1,2)},d:function(t,r){return He(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return He(t.getUTCHours()%12||12,r.length)},H:function(t,r){return He(t.getUTCHours(),r.length)},m:function(t,r){return He(t.getUTCMinutes(),r.length)},s:function(t,r){return He(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return He(s,r.length)}},fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QL={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Za.y(t,r)},Y:function(t,r,n,a){var s=PE(t,a),o=s>0?s:1-s;if(r==="YY"){var l=o%100;return He(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):He(o,r.length)},R:function(t,r){var n=DE(t);return He(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return He(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return He(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return He(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Za.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return He(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var s=JL(t,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):He(s,r.length)},I:function(t,r,n){var a=YL(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):He(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Za.d(t,r)},D:function(t,r,n){var a=VL(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):He(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var s=t.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return He(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var s=t.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return He(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return He(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),s;switch(a===12?s=fo.noon:a===0?s=fo.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),s;switch(a>=17?s=fo.evening:a>=12?s=fo.afternoon:a>=4?s=fo.morning:s=fo.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Za.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Za.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):He(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):He(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Za.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Za.s(t,r)},S:function(t,r){return Za.S(t,r)},X:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return R1(o);case"XXXX":case"XX":return fi(o);case"XXXXX":case"XXX":default:return fi(o,":")}},x:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"x":return R1(o);case"xxxx":case"xx":return fi(o);case"xxxxx":case"xxx":default:return fi(o,":")}},O:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+M1(o,":");case"OOOO":default:return"GMT"+fi(o,":")}},z:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+M1(o,":");case"zzzz":default:return"GMT"+fi(o,":")}},t:function(t,r,n,a){var s=a._originalDate||t,o=Math.floor(s.getTime()/1e3);return He(o,r.length)},T:function(t,r,n,a){var s=a._originalDate||t,o=s.getTime();return He(o,r.length)}};function M1(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var o=t;return r+String(a)+o+He(s,2)}function R1(e,t){if(e%60===0){var r=e>0?"-":"+";return r+He(Math.abs(e)/60,2)}return fi(e,t)}function fi(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),s=He(Math.floor(a/60),2),o=He(a%60,2);return n+s+r+o}var A1=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},OE=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},ZL=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return A1(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",A1(a,r)).replace("{{time}}",OE(s,r))},e$={p:OE,P:ZL},t$=["D","DD"],r$=["YY","YYYY"];function n$(e){return t$.indexOf(e)!==-1}function a$(e){return r$.indexOf(e)!==-1}function L1(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var s$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i$=function(t,r,n){var a,s=s$[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function qo(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var o$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},l$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},c$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},d$={date:qo({formats:o$,defaultWidth:"full"}),time:qo({formats:l$,defaultWidth:"full"}),dateTime:qo({formats:c$,defaultWidth:"full"})},u$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},f$=function(t,r,n,a){return u$[t]};function ea(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}var h$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},m$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},p$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},v$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},x$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y$=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},b$={ordinalNumber:y$,era:ea({values:h$,defaultWidth:"wide"}),quarter:ea({values:m$,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ea({values:p$,defaultWidth:"wide"}),day:ea({values:g$,defaultWidth:"wide"}),dayPeriod:ea({values:v$,defaultWidth:"wide",formattingValues:x$,defaultFormattingWidth:"wide"})};function ta(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?k$(l,function(f){return f.test(o)}):w$(l,function(f){return f.test(o)}),d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;var u=t.slice(o.length);return{value:d,rest:u}}}function w$(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function k$(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function IE(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(a.length);return{value:o,rest:l}}}var j$=/^(\d+)(th|st|nd|rd)?/i,N$=/\d+/i,_$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},S$={any:[/^b/i,/^(a|c)/i]},C$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},E$={any:[/1/i,/2/i,/3/i,/4/i]},T$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},D$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},I$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},R$={ordinalNumber:IE({matchPattern:j$,parsePattern:N$,valueCallback:function(t){return parseInt(t,10)}}),era:ta({matchPatterns:_$,defaultMatchWidth:"wide",parsePatterns:S$,defaultParseWidth:"any"}),quarter:ta({matchPatterns:C$,defaultMatchWidth:"wide",parsePatterns:E$,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ta({matchPatterns:T$,defaultMatchWidth:"wide",parsePatterns:D$,defaultParseWidth:"any"}),day:ta({matchPatterns:P$,defaultMatchWidth:"wide",parsePatterns:O$,defaultParseWidth:"any"}),dayPeriod:ta({matchPatterns:I$,defaultMatchWidth:"any",parsePatterns:M$,defaultParseWidth:"any"})},A$={code:"en-US",formatDistance:i$,formatLong:d$,formatRelative:f$,localize:b$,match:R$,options:{weekStartsOn:0,firstWeekContainsDate:1}},L$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z$=/^'([^]*?)'?$/,F$=/''/g,B$=/[a-zA-Z]/;function Ve(e,t,r){var n,a,s,o,l,c,d,u,f,h,m,y,v,b,g,p,x,w;Le(2,arguments);var _=String(t),S=Ml(),E=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:S.locale)!==null&&n!==void 0?n:A$,O=ar((s=(o=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(d=r.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:S.firstWeekContainsDate)!==null&&o!==void 0?o:(f=S.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=ar((m=(y=(v=(b=r==null?void 0:r.weekStartsOn)!==null&&b!==void 0?b:r==null||(g=r.locale)===null||g===void 0||(p=g.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&v!==void 0?v:S.weekStartsOn)!==null&&y!==void 0?y:(x=S.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&m!==void 0?m:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var D=Xe(e);if(!UL(D))throw new RangeError("Invalid time value");var R=zL(D),N=WL(D,R),C={firstWeekContainsDate:O,weekStartsOn:T,locale:E,_originalDate:D},j=_.match($$).map(function(I){var B=I[0];if(B==="p"||B==="P"){var P=e$[B];return P(I,E.formatLong)}return I}).join("").match(L$).map(function(I){if(I==="''")return"'";var B=I[0];if(B==="'")return U$(I);var P=QL[B];if(P)return!(r!=null&&r.useAdditionalWeekYearTokens)&&a$(I)&&L1(I,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&n$(I)&&L1(I,t,String(e)),P(N,I,E.localize,C);if(B.match(B$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return I}).join("");return j}function U$(e){var t=e.match(z$);return t?t[1].replace(F$,"'"):e}function W$(e){Le(1,arguments);var t=Xe(e),r=t.getDay();return r}function H$(e,t){Le(2,arguments);var r=Xe(e),n=Xe(t);return r.getTime()<n.getTime()}function Sv(e,t){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Sv(e,t)}function V$(e,t){if(Bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q$(e){var t=V$(e,"string");return Bi(t)=="symbol"?t:t+""}function G$(e,t,r){return(t=q$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $1(e){return Le(1,arguments),Xe(e).getTime()<Date.now()}function ME(e,t){Le(2,arguments);var r=Xe(e),n=Xe(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Jl(e){return Le(1,arguments),$c(e,Date.now())}function z1(e,t){Le(2,arguments);var r=ar(t);return Lc(e,-r)}function Ma(e,t){var r;Le(1,arguments);var n=ar((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=J$(e),s;if(a.date){var o=Q$(a.date,n);s=Z$(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var l=s.getTime(),c=0,d;if(a.time&&(c=e8(a.time),isNaN(c)))return new Date(NaN);if(a.timezone){if(d=t8(a.timezone),isNaN(d))return new Date(NaN)}else{var u=new Date(l+c),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(l+c+d)}var Uu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Y$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,X$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,K$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function J$(e){var t={},r=e.split(Uu.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Uu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Uu.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=Uu.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Q$(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function Z$(e,t){if(t===null)return new Date(NaN);var r=e.match(Y$);if(!r)return new Date(NaN);var n=!!r[4],a=Ql(r[1]),s=Ql(r[2])-1,o=Ql(r[3]),l=Ql(r[4]),c=Ql(r[5])-1;if(n)return i8(t,l,c)?r8(t,l,c):new Date(NaN);var d=new Date(0);return!a8(t,s,o)||!s8(t,a)?new Date(NaN):(d.setUTCFullYear(t,s,Math.max(a,o)),d)}function Ql(e){return e?parseInt(e):1}function e8(e){var t=e.match(X$);if(!t)return NaN;var r=ig(t[1]),n=ig(t[2]),a=ig(t[3]);return o8(r,n,a)?r*TE+n*EE+a*1e3:NaN}function ig(e){return e&&parseFloat(e.replace(",","."))||0}function t8(e){if(e==="Z")return 0;var t=e.match(K$);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return l8(n,a)?r*(n*TE+a*EE):NaN}function r8(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}var n8=[31,null,31,30,31,30,31,31,30,31,30,31];function RE(e){return e%400===0||e%4===0&&e%100!==0}function a8(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(n8[t]||(RE(e)?29:28))}function s8(e,t){return t>=1&&t<=(RE(e)?366:365)}function i8(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function o8(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function l8(e,t){return t>=0&&t<=59}function c8(e,t){Le(2,arguments);var r=Xe(e),n=ar(t);return r.setHours(n),r}function d8(e,t){Le(2,arguments);var r=Xe(e),n=ar(t);return r.setMinutes(n),r}function F1(e,t,r){Le(2,arguments);var n=ul(e,r),a=ul(t,r);return n.getTime()===a.getTime()}function Zl(e,t){if(e.one!==void 0&&t===1)return e.one;var r=t%10,n=t%100;return r===1&&n!==11?e.singularNominative.replace("{{count}}",String(t)):r>=2&&r<=4&&(n<10||n>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function ir(e){return function(t,r){return r!=null&&r.addSuffix?r.comparison&&r.comparison>0?e.future?Zl(e.future,t):"через "+Zl(e.regular,t):e.past?Zl(e.past,t):Zl(e.regular,t)+" назад":Zl(e.regular,t)}}var u8={lessThanXSeconds:ir({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:ir({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,r){return r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:ir({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:ir({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:ir({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:ir({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:ir({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:ir({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:ir({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:ir({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:ir({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:ir({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:ir({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:ir({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:ir({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},f8=function(t,r,n){return u8[t](r,n)},h8={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},m8={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},p8={any:"{{date}}, {{time}}"},g8={date:qo({formats:h8,defaultWidth:"full"}),time:qo({formats:m8,defaultWidth:"full"}),dateTime:qo({formats:p8,defaultWidth:"any"})},bb=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function v8(e){var t=bb[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function B1(e){var t=bb[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function x8(e){var t=bb[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}var y8={lastWeek:function(t,r,n){var a=t.getUTCDay();return F1(t,r,n)?B1(a):v8(a)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(t,r,n){var a=t.getUTCDay();return F1(t,r,n)?B1(a):x8(a)},other:"P"},b8=function(t,r,n,a){var s=y8[t];return typeof s=="function"?s(r,n,a):s},w8={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},k8={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},j8={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},N8={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},_8={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},S8={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},C8={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},E8=function(t,r){var n=Number(t),a=r==null?void 0:r.unit,s;return a==="date"?s="-е":a==="week"||a==="minute"||a==="second"?s="-я":s="-й",n+s},T8={ordinalNumber:E8,era:ea({values:w8,defaultWidth:"wide"}),quarter:ea({values:k8,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ea({values:j8,defaultWidth:"wide",formattingValues:N8,defaultFormattingWidth:"wide"}),day:ea({values:_8,defaultWidth:"wide"}),dayPeriod:ea({values:S8,defaultWidth:"any",formattingValues:C8,defaultFormattingWidth:"wide"})},D8=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,P8=/\d+/i,O8={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},I8={any:[/^д/i,/^н/i]},M8={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},R8={any:[/1/i,/2/i,/3/i,/4/i]},A8={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},L8={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},$8={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},z8={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},F8={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},B8={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},U8={ordinalNumber:IE({matchPattern:D8,parsePattern:P8,valueCallback:function(t){return parseInt(t,10)}}),era:ta({matchPatterns:O8,defaultMatchWidth:"wide",parsePatterns:I8,defaultParseWidth:"any"}),quarter:ta({matchPatterns:M8,defaultMatchWidth:"wide",parsePatterns:R8,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ta({matchPatterns:A8,defaultMatchWidth:"wide",parsePatterns:L8,defaultParseWidth:"any"}),day:ta({matchPatterns:$8,defaultMatchWidth:"wide",parsePatterns:z8,defaultParseWidth:"any"}),dayPeriod:ta({matchPatterns:F8,defaultMatchWidth:"wide",parsePatterns:B8,defaultParseWidth:"any"})},gn={code:"ru",formatDistance:f8,formatLong:g8,formatRelative:b8,localize:T8,match:U8,options:{weekStartsOn:1,firstWeekContainsDate:1}},Cv={exports:{}},AE={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(AE);var xt=AE.exports,Ev={exports:{}},Tv={exports:{}},LE={exports:{}};(function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(LE);var $E=LE.exports,Dv={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,a){if(a.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+a.length+" present")}e.exports=t.default})(Dv,Dv.exports);var yr=Dv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=r($E),a=r(yr);function s(o){return(0,a.default)(1,arguments),o instanceof Date||(0,n.default)(o)==="object"&&Object.prototype.toString.call(o)==="[object Date]"}e.exports=t.default})(Tv,Tv.exports);var W8=Tv.exports,Pv={exports:{}};(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=r($E),a=r(yr);function s(o){(0,a.default)(1,arguments);var l=Object.prototype.toString.call(o);return o instanceof Date||(0,n.default)(o)==="object"&&l==="[object Date]"?new Date(o.getTime()):typeof o=="number"||l==="[object Number]"?new Date(o):((typeof o=="string"||l==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}e.exports=t.default})(Pv,Pv.exports);var va=Pv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(W8),a=r(va),s=r(yr);function o(l){if((0,s.default)(1,arguments),!(0,n.default)(l)&&typeof l!="number")return!1;var c=(0,a.default)(l);return!isNaN(Number(c))}e.exports=t.default})(Ev,Ev.exports);var H8=Ev.exports,Ov={exports:{}},Iv={exports:{}},Mv={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){if(n===null||n===!0||n===!1)return NaN;var a=Number(n);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}e.exports=t.default})(Mv,Mv.exports);var Zi=Mv.exports;const V8=pa(Zi);(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(Zi),a=r(va),s=r(yr);function o(l,c){(0,s.default)(2,arguments);var d=(0,a.default)(l).getTime(),u=(0,n.default)(c);return new Date(d+u)}e.exports=t.default})(Iv,Iv.exports);var q8=Iv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(q8),a=r(yr),s=r(Zi);function o(l,c){(0,a.default)(2,arguments);var d=(0,s.default)(c);return(0,n.default)(l,-d)}e.exports=t.default})(Ov,Ov.exports);var G8=Ov.exports,Rv={exports:{}},Av={exports:{}};(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(va),a=r(yr),s=864e5;function o(l){(0,a.default)(1,arguments);var c=(0,n.default)(l),d=c.getTime();c.setUTCMonth(0,1),c.setUTCHours(0,0,0,0);var u=c.getTime(),f=d-u;return Math.floor(f/s)+1}e.exports=t.default})(Av,Av.exports);var Y8=Av.exports,Lv={exports:{}},$v={exports:{}};(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=r(va),a=r(yr);function s(o){(0,a.default)(1,arguments);var l=1,c=(0,n.default)(o),d=c.getUTCDay(),u=(d<l?7:0)+d-l;return c.setUTCDate(c.getUTCDate()-u),c.setUTCHours(0,0,0,0),c}e.exports=t.default})($v,$v.exports);var wb=$v.exports,zv={exports:{}},Fv={exports:{}};(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(va),a=r(yr),s=r(wb);function o(l){(0,a.default)(1,arguments);var c=(0,n.default)(l),d=c.getUTCFullYear(),u=new Date(0);u.setUTCFullYear(d+1,0,4),u.setUTCHours(0,0,0,0);var f=(0,s.default)(u),h=new Date(0);h.setUTCFullYear(d,0,4),h.setUTCHours(0,0,0,0);var m=(0,s.default)(h);return c.getTime()>=f.getTime()?d+1:c.getTime()>=m.getTime()?d:d-1}e.exports=t.default})(Fv,Fv.exports);var zE=Fv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(zE),a=r(wb),s=r(yr);function o(l){(0,s.default)(1,arguments);var c=(0,n.default)(l),d=new Date(0);d.setUTCFullYear(c,0,4),d.setUTCHours(0,0,0,0);var u=(0,a.default)(d);return u}e.exports=t.default})(zv,zv.exports);var X8=zv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(va),a=r(wb),s=r(X8),o=r(yr),l=6048e5;function c(d){(0,o.default)(1,arguments);var u=(0,n.default)(d),f=(0,a.default)(u).getTime()-(0,s.default)(u).getTime();return Math.round(f/l)+1}e.exports=t.default})(Lv,Lv.exports);var K8=Lv.exports,Bv={exports:{}},Uv={exports:{}},eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.getDefaultOptions=J8;eo.setDefaultOptions=Q8;var FE={};function J8(){return FE}function Q8(e){FE=e}(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=r(va),a=r(yr),s=r(Zi),o=eo;function l(c,d){var u,f,h,m,y,v,b,g;(0,a.default)(1,arguments);var p=(0,o.getDefaultOptions)(),x=(0,s.default)((u=(f=(h=(m=d==null?void 0:d.weekStartsOn)!==null&&m!==void 0?m:d==null||(y=d.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&h!==void 0?h:p.weekStartsOn)!==null&&f!==void 0?f:(b=p.locale)===null||b===void 0||(g=b.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&u!==void 0?u:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=(0,n.default)(c),_=w.getUTCDay(),S=(_<x?7:0)+_-x;return w.setUTCDate(w.getUTCDate()-S),w.setUTCHours(0,0,0,0),w}e.exports=t.default})(Uv,Uv.exports);var kb=Uv.exports,Wv={exports:{}},Hv={exports:{}};(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(va),a=r(yr),s=r(kb),o=r(Zi),l=eo;function c(d,u){var f,h,m,y,v,b,g,p;(0,a.default)(1,arguments);var x=(0,n.default)(d),w=x.getUTCFullYear(),_=(0,l.getDefaultOptions)(),S=(0,o.default)((f=(h=(m=(y=u==null?void 0:u.firstWeekContainsDate)!==null&&y!==void 0?y:u==null||(v=u.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&m!==void 0?m:_.firstWeekContainsDate)!==null&&h!==void 0?h:(g=_.locale)===null||g===void 0||(p=g.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&f!==void 0?f:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=new Date(0);E.setUTCFullYear(w+1,0,S),E.setUTCHours(0,0,0,0);var O=(0,s.default)(E,u),T=new Date(0);T.setUTCFullYear(w,0,S),T.setUTCHours(0,0,0,0);var D=(0,s.default)(T,u);return x.getTime()>=O.getTime()?w+1:x.getTime()>=D.getTime()?w:w-1}e.exports=t.default})(Hv,Hv.exports);var BE=Hv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(BE),a=r(yr),s=r(kb),o=r(Zi),l=eo;function c(d,u){var f,h,m,y,v,b,g,p;(0,a.default)(1,arguments);var x=(0,l.getDefaultOptions)(),w=(0,o.default)((f=(h=(m=(y=u==null?void 0:u.firstWeekContainsDate)!==null&&y!==void 0?y:u==null||(v=u.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&m!==void 0?m:x.firstWeekContainsDate)!==null&&h!==void 0?h:(g=x.locale)===null||g===void 0||(p=g.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&f!==void 0?f:1),_=(0,n.default)(d,u),S=new Date(0);S.setUTCFullYear(_,0,w),S.setUTCHours(0,0,0,0);var E=(0,s.default)(S,u);return E}e.exports=t.default})(Wv,Wv.exports);var Z8=Wv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(va),a=r(kb),s=r(Z8),o=r(yr),l=6048e5;function c(d,u){(0,o.default)(1,arguments);var f=(0,n.default)(d),h=(0,a.default)(f,u).getTime()-(0,s.default)(f,u).getTime();return Math.round(h/l)+1}e.exports=t.default})(Bv,Bv.exports);var e7=Bv.exports,Vv={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,a){for(var s=n<0?"-":"",o=Math.abs(n).toString();o.length<a;)o="0"+o;return s+o}e.exports=t.default})(Vv,Vv.exports);var UE=Vv.exports,qv={exports:{}};(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(UE),a={y:function(l,c){var d=l.getUTCFullYear(),u=d>0?d:1-d;return(0,n.default)(c==="yy"?u%100:u,c.length)},M:function(l,c){var d=l.getUTCMonth();return c==="M"?String(d+1):(0,n.default)(d+1,2)},d:function(l,c){return(0,n.default)(l.getUTCDate(),c.length)},a:function(l,c){var d=l.getUTCHours()/12>=1?"pm":"am";switch(c){case"a":case"aa":return d.toUpperCase();case"aaa":return d;case"aaaaa":return d[0];case"aaaa":default:return d==="am"?"a.m.":"p.m."}},h:function(l,c){return(0,n.default)(l.getUTCHours()%12||12,c.length)},H:function(l,c){return(0,n.default)(l.getUTCHours(),c.length)},m:function(l,c){return(0,n.default)(l.getUTCMinutes(),c.length)},s:function(l,c){return(0,n.default)(l.getUTCSeconds(),c.length)},S:function(l,c){var d=c.length,u=l.getUTCMilliseconds(),f=Math.floor(u*Math.pow(10,d-3));return(0,n.default)(f,c.length)}},s=a;t.default=s,e.exports=t.default})(qv,qv.exports);var t7=qv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(Y8),a=r(K8),s=r(zE),o=r(e7),l=r(BE),c=r(UE),d=r(t7),u={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f={G:function(g,p,x){var w=g.getUTCFullYear()>0?1:0;switch(p){case"G":case"GG":case"GGG":return x.era(w,{width:"abbreviated"});case"GGGGG":return x.era(w,{width:"narrow"});case"GGGG":default:return x.era(w,{width:"wide"})}},y:function(g,p,x){if(p==="yo"){var w=g.getUTCFullYear(),_=w>0?w:1-w;return x.ordinalNumber(_,{unit:"year"})}return d.default.y(g,p)},Y:function(g,p,x,w){var _=(0,l.default)(g,w),S=_>0?_:1-_;if(p==="YY"){var E=S%100;return(0,c.default)(E,2)}return p==="Yo"?x.ordinalNumber(S,{unit:"year"}):(0,c.default)(S,p.length)},R:function(g,p){var x=(0,s.default)(g);return(0,c.default)(x,p.length)},u:function(g,p){var x=g.getUTCFullYear();return(0,c.default)(x,p.length)},Q:function(g,p,x){var w=Math.ceil((g.getUTCMonth()+1)/3);switch(p){case"Q":return String(w);case"QQ":return(0,c.default)(w,2);case"Qo":return x.ordinalNumber(w,{unit:"quarter"});case"QQQ":return x.quarter(w,{width:"abbreviated",context:"formatting"});case"QQQQQ":return x.quarter(w,{width:"narrow",context:"formatting"});case"QQQQ":default:return x.quarter(w,{width:"wide",context:"formatting"})}},q:function(g,p,x){var w=Math.ceil((g.getUTCMonth()+1)/3);switch(p){case"q":return String(w);case"qq":return(0,c.default)(w,2);case"qo":return x.ordinalNumber(w,{unit:"quarter"});case"qqq":return x.quarter(w,{width:"abbreviated",context:"standalone"});case"qqqqq":return x.quarter(w,{width:"narrow",context:"standalone"});case"qqqq":default:return x.quarter(w,{width:"wide",context:"standalone"})}},M:function(g,p,x){var w=g.getUTCMonth();switch(p){case"M":case"MM":return d.default.M(g,p);case"Mo":return x.ordinalNumber(w+1,{unit:"month"});case"MMM":return x.month(w,{width:"abbreviated",context:"formatting"});case"MMMMM":return x.month(w,{width:"narrow",context:"formatting"});case"MMMM":default:return x.month(w,{width:"wide",context:"formatting"})}},L:function(g,p,x){var w=g.getUTCMonth();switch(p){case"L":return String(w+1);case"LL":return(0,c.default)(w+1,2);case"Lo":return x.ordinalNumber(w+1,{unit:"month"});case"LLL":return x.month(w,{width:"abbreviated",context:"standalone"});case"LLLLL":return x.month(w,{width:"narrow",context:"standalone"});case"LLLL":default:return x.month(w,{width:"wide",context:"standalone"})}},w:function(g,p,x,w){var _=(0,o.default)(g,w);return p==="wo"?x.ordinalNumber(_,{unit:"week"}):(0,c.default)(_,p.length)},I:function(g,p,x){var w=(0,a.default)(g);return p==="Io"?x.ordinalNumber(w,{unit:"week"}):(0,c.default)(w,p.length)},d:function(g,p,x){return p==="do"?x.ordinalNumber(g.getUTCDate(),{unit:"date"}):d.default.d(g,p)},D:function(g,p,x){var w=(0,n.default)(g);return p==="Do"?x.ordinalNumber(w,{unit:"dayOfYear"}):(0,c.default)(w,p.length)},E:function(g,p,x){var w=g.getUTCDay();switch(p){case"E":case"EE":case"EEE":return x.day(w,{width:"abbreviated",context:"formatting"});case"EEEEE":return x.day(w,{width:"narrow",context:"formatting"});case"EEEEEE":return x.day(w,{width:"short",context:"formatting"});case"EEEE":default:return x.day(w,{width:"wide",context:"formatting"})}},e:function(g,p,x,w){var _=g.getUTCDay(),S=(_-w.weekStartsOn+8)%7||7;switch(p){case"e":return String(S);case"ee":return(0,c.default)(S,2);case"eo":return x.ordinalNumber(S,{unit:"day"});case"eee":return x.day(_,{width:"abbreviated",context:"formatting"});case"eeeee":return x.day(_,{width:"narrow",context:"formatting"});case"eeeeee":return x.day(_,{width:"short",context:"formatting"});case"eeee":default:return x.day(_,{width:"wide",context:"formatting"})}},c:function(g,p,x,w){var _=g.getUTCDay(),S=(_-w.weekStartsOn+8)%7||7;switch(p){case"c":return String(S);case"cc":return(0,c.default)(S,p.length);case"co":return x.ordinalNumber(S,{unit:"day"});case"ccc":return x.day(_,{width:"abbreviated",context:"standalone"});case"ccccc":return x.day(_,{width:"narrow",context:"standalone"});case"cccccc":return x.day(_,{width:"short",context:"standalone"});case"cccc":default:return x.day(_,{width:"wide",context:"standalone"})}},i:function(g,p,x){var w=g.getUTCDay(),_=w===0?7:w;switch(p){case"i":return String(_);case"ii":return(0,c.default)(_,p.length);case"io":return x.ordinalNumber(_,{unit:"day"});case"iii":return x.day(w,{width:"abbreviated",context:"formatting"});case"iiiii":return x.day(w,{width:"narrow",context:"formatting"});case"iiiiii":return x.day(w,{width:"short",context:"formatting"});case"iiii":default:return x.day(w,{width:"wide",context:"formatting"})}},a:function(g,p,x){var w=g.getUTCHours(),_=w/12>=1?"pm":"am";switch(p){case"a":case"aa":return x.dayPeriod(_,{width:"abbreviated",context:"formatting"});case"aaa":return x.dayPeriod(_,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return x.dayPeriod(_,{width:"narrow",context:"formatting"});case"aaaa":default:return x.dayPeriod(_,{width:"wide",context:"formatting"})}},b:function(g,p,x){var w=g.getUTCHours(),_;switch(w===12?_=u.noon:w===0?_=u.midnight:_=w/12>=1?"pm":"am",p){case"b":case"bb":return x.dayPeriod(_,{width:"abbreviated",context:"formatting"});case"bbb":return x.dayPeriod(_,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return x.dayPeriod(_,{width:"narrow",context:"formatting"});case"bbbb":default:return x.dayPeriod(_,{width:"wide",context:"formatting"})}},B:function(g,p,x){var w=g.getUTCHours(),_;switch(w>=17?_=u.evening:w>=12?_=u.afternoon:w>=4?_=u.morning:_=u.night,p){case"B":case"BB":case"BBB":return x.dayPeriod(_,{width:"abbreviated",context:"formatting"});case"BBBBB":return x.dayPeriod(_,{width:"narrow",context:"formatting"});case"BBBB":default:return x.dayPeriod(_,{width:"wide",context:"formatting"})}},h:function(g,p,x){if(p==="ho"){var w=g.getUTCHours()%12;return w===0&&(w=12),x.ordinalNumber(w,{unit:"hour"})}return d.default.h(g,p)},H:function(g,p,x){return p==="Ho"?x.ordinalNumber(g.getUTCHours(),{unit:"hour"}):d.default.H(g,p)},K:function(g,p,x){var w=g.getUTCHours()%12;return p==="Ko"?x.ordinalNumber(w,{unit:"hour"}):(0,c.default)(w,p.length)},k:function(g,p,x){var w=g.getUTCHours();return w===0&&(w=24),p==="ko"?x.ordinalNumber(w,{unit:"hour"}):(0,c.default)(w,p.length)},m:function(g,p,x){return p==="mo"?x.ordinalNumber(g.getUTCMinutes(),{unit:"minute"}):d.default.m(g,p)},s:function(g,p,x){return p==="so"?x.ordinalNumber(g.getUTCSeconds(),{unit:"second"}):d.default.s(g,p)},S:function(g,p){return d.default.S(g,p)},X:function(g,p,x,w){var _=w._originalDate||g,S=_.getTimezoneOffset();if(S===0)return"Z";switch(p){case"X":return m(S);case"XXXX":case"XX":return y(S);case"XXXXX":case"XXX":default:return y(S,":")}},x:function(g,p,x,w){var _=w._originalDate||g,S=_.getTimezoneOffset();switch(p){case"x":return m(S);case"xxxx":case"xx":return y(S);case"xxxxx":case"xxx":default:return y(S,":")}},O:function(g,p,x,w){var _=w._originalDate||g,S=_.getTimezoneOffset();switch(p){case"O":case"OO":case"OOO":return"GMT"+h(S,":");case"OOOO":default:return"GMT"+y(S,":")}},z:function(g,p,x,w){var _=w._originalDate||g,S=_.getTimezoneOffset();switch(p){case"z":case"zz":case"zzz":return"GMT"+h(S,":");case"zzzz":default:return"GMT"+y(S,":")}},t:function(g,p,x,w){var _=w._originalDate||g,S=Math.floor(_.getTime()/1e3);return(0,c.default)(S,p.length)},T:function(g,p,x,w){var _=w._originalDate||g,S=_.getTime();return(0,c.default)(S,p.length)}};function h(b,g){var p=b>0?"-":"+",x=Math.abs(b),w=Math.floor(x/60),_=x%60;if(_===0)return p+String(w);var S=g;return p+String(w)+S+(0,c.default)(_,2)}function m(b,g){if(b%60===0){var p=b>0?"-":"+";return p+(0,c.default)(Math.abs(b)/60,2)}return y(b,g)}function y(b,g){var p=g||"",x=b>0?"-":"+",w=Math.abs(b),_=(0,c.default)(Math.floor(w/60),2),S=(0,c.default)(w%60,2);return x+_+p+S}var v=f;t.default=v,e.exports=t.default})(Rv,Rv.exports);var r7=Rv.exports,Gv={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(c,d){switch(c){case"P":return d.date({width:"short"});case"PP":return d.date({width:"medium"});case"PPP":return d.date({width:"long"});case"PPPP":default:return d.date({width:"full"})}},n=function(c,d){switch(c){case"p":return d.time({width:"short"});case"pp":return d.time({width:"medium"});case"ppp":return d.time({width:"long"});case"pppp":default:return d.time({width:"full"})}},a=function(c,d){var u=c.match(/(P+)(p+)?/)||[],f=u[1],h=u[2];if(!h)return r(c,d);var m;switch(f){case"P":m=d.dateTime({width:"short"});break;case"PP":m=d.dateTime({width:"medium"});break;case"PPP":m=d.dateTime({width:"long"});break;case"PPPP":default:m=d.dateTime({width:"full"});break}return m.replace("{{date}}",r(f,d)).replace("{{time}}",n(h,d))},s={p:n,P:a},o=s;t.default=o,e.exports=t.default})(Gv,Gv.exports);var n7=Gv.exports,Yv={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){var a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),n.getTime()-a.getTime()}e.exports=t.default})(Yv,Yv.exports);var WE=Yv.exports;const U1=pa(WE);var Hd={};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.isProtectedDayOfYearToken=i7;Hd.isProtectedWeekYearToken=o7;Hd.throwProtectedError=l7;var a7=["D","DD"],s7=["YY","YYYY"];function i7(e){return a7.indexOf(e)!==-1}function o7(e){return s7.indexOf(e)!==-1}function l7(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Xv={exports:{}},Kv={exports:{}},Jv={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n=function(o,l,c){var d,u=r[o];return typeof u=="string"?d=u:l===1?d=u.one:d=u.other.replace("{{count}}",l.toString()),c!=null&&c.addSuffix?c.comparison&&c.comparison>0?"in "+d:d+" ago":d},a=n;t.default=a,e.exports=t.default})(Jv,Jv.exports);var c7=Jv.exports,Qv={exports:{}},Zv={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.width?String(a.width):n.defaultWidth,o=n.formats[s]||n.formats[n.defaultWidth];return o}}e.exports=t.default})(Zv,Zv.exports);var d7=Zv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(d7),a={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l={date:(0,n.default)({formats:a,defaultWidth:"full"}),time:(0,n.default)({formats:s,defaultWidth:"full"}),dateTime:(0,n.default)({formats:o,defaultWidth:"full"})},c=l;t.default=c,e.exports=t.default})(Qv,Qv.exports);var u7=Qv.exports,ex={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n=function(o,l,c,d){return r[o]},a=n;t.default=a,e.exports=t.default})(ex,ex.exports);var f7=ex.exports,tx={exports:{}},rx={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(a,s){var o=s!=null&&s.context?String(s.context):"standalone",l;if(o==="formatting"&&n.formattingValues){var c=n.defaultFormattingWidth||n.defaultWidth,d=s!=null&&s.width?String(s.width):c;l=n.formattingValues[d]||n.formattingValues[c]}else{var u=n.defaultWidth,f=s!=null&&s.width?String(s.width):n.defaultWidth;l=n.values[f]||n.values[u]}var h=n.argumentCallback?n.argumentCallback(a):a;return l[h]}}e.exports=t.default})(rx,rx.exports);var h7=rx.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(h7),a={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},l={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},c={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},u=function(y,v){var b=Number(y),g=b%100;if(g>20||g<10)switch(g%10){case 1:return b+"st";case 2:return b+"nd";case 3:return b+"rd"}return b+"th"},f={ordinalNumber:u,era:(0,n.default)({values:a,defaultWidth:"wide"}),quarter:(0,n.default)({values:s,defaultWidth:"wide",argumentCallback:function(y){return y-1}}),month:(0,n.default)({values:o,defaultWidth:"wide"}),day:(0,n.default)({values:l,defaultWidth:"wide"}),dayPeriod:(0,n.default)({values:c,defaultWidth:"wide",formattingValues:d,defaultFormattingWidth:"wide"})},h=f;t.default=h,e.exports=t.default})(tx,tx.exports);var m7=tx.exports,nx={exports:{}},ax={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(s){return function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.width,d=c&&s.matchPatterns[c]||s.matchPatterns[s.defaultMatchWidth],u=o.match(d);if(!u)return null;var f=u[0],h=c&&s.parsePatterns[c]||s.parsePatterns[s.defaultParseWidth],m=Array.isArray(h)?a(h,function(b){return b.test(f)}):n(h,function(b){return b.test(f)}),y;y=s.valueCallback?s.valueCallback(m):m,y=l.valueCallback?l.valueCallback(y):y;var v=o.slice(f.length);return{value:y,rest:v}}}function n(s,o){for(var l in s)if(s.hasOwnProperty(l)&&o(s[l]))return l}function a(s,o){for(var l=0;l<s.length;l++)if(o(s[l]))return l}e.exports=t.default})(ax,ax.exports);var p7=ax.exports,sx={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.match(n.matchPattern);if(!o)return null;var l=o[0],c=a.match(n.parsePattern);if(!c)return null;var d=n.valueCallback?n.valueCallback(c[0]):c[0];d=s.valueCallback?s.valueCallback(d):d;var u=a.slice(l.length);return{value:d,rest:u}}}e.exports=t.default})(sx,sx.exports);var g7=sx.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(p7),a=r(g7),s=/^(\d+)(th|st|nd|rd)?/i,o=/\d+/i,l={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c={any:[/^b/i,/^(a|c)/i]},d={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u={any:[/1/i,/2/i,/3/i,/4/i]},f={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},m={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},y={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},g={ordinalNumber:(0,a.default)({matchPattern:s,parsePattern:o,valueCallback:function(w){return parseInt(w,10)}}),era:(0,n.default)({matchPatterns:l,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any"}),quarter:(0,n.default)({matchPatterns:d,defaultMatchWidth:"wide",parsePatterns:u,defaultParseWidth:"any",valueCallback:function(w){return w+1}}),month:(0,n.default)({matchPatterns:f,defaultMatchWidth:"wide",parsePatterns:h,defaultParseWidth:"any"}),day:(0,n.default)({matchPatterns:m,defaultMatchWidth:"wide",parsePatterns:y,defaultParseWidth:"any"}),dayPeriod:(0,n.default)({matchPatterns:v,defaultMatchWidth:"any",parsePatterns:b,defaultParseWidth:"any"})},p=g;t.default=p,e.exports=t.default})(nx,nx.exports);var v7=nx.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(c7),a=r(u7),s=r(f7),o=r(m7),l=r(v7),c={code:"en-US",formatDistance:n.default,formatLong:a.default,formatRelative:s.default,localize:o.default,match:l.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},d=c;t.default=d,e.exports=t.default})(Kv,Kv.exports);var x7=Kv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(x7),a=n.default;t.default=a,e.exports=t.default})(Xv,Xv.exports);var y7=Xv.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var n=r(H8),a=r(G8),s=r(va),o=r(r7),l=r(n7),c=r(WE),d=Hd,u=r(Zi),f=r(yr),h=eo,m=r(y7),y=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,b=/^'([^]*?)'?$/,g=/''/g,p=/[a-zA-Z]/;function x(_,S,E){var O,T,D,R,N,C,j,I,B,P,A,F,L,$,z,q,K,H;(0,f.default)(2,arguments);var ee=String(S),ne=(0,h.getDefaultOptions)(),re=(O=(T=E==null?void 0:E.locale)!==null&&T!==void 0?T:ne.locale)!==null&&O!==void 0?O:m.default,ae=(0,u.default)((D=(R=(N=(C=E==null?void 0:E.firstWeekContainsDate)!==null&&C!==void 0?C:E==null||(j=E.locale)===null||j===void 0||(I=j.options)===null||I===void 0?void 0:I.firstWeekContainsDate)!==null&&N!==void 0?N:ne.firstWeekContainsDate)!==null&&R!==void 0?R:(B=ne.locale)===null||B===void 0||(P=B.options)===null||P===void 0?void 0:P.firstWeekContainsDate)!==null&&D!==void 0?D:1);if(!(ae>=1&&ae<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var me=(0,u.default)((A=(F=(L=($=E==null?void 0:E.weekStartsOn)!==null&&$!==void 0?$:E==null||(z=E.locale)===null||z===void 0||(q=z.options)===null||q===void 0?void 0:q.weekStartsOn)!==null&&L!==void 0?L:ne.weekStartsOn)!==null&&F!==void 0?F:(K=ne.locale)===null||K===void 0||(H=K.options)===null||H===void 0?void 0:H.weekStartsOn)!==null&&A!==void 0?A:0);if(!(me>=0&&me<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!re.localize)throw new RangeError("locale must contain localize property");if(!re.formatLong)throw new RangeError("locale must contain formatLong property");var fe=(0,s.default)(_);if(!(0,n.default)(fe))throw new RangeError("Invalid time value");var De=(0,c.default)(fe),ve=(0,a.default)(fe,De),M={firstWeekContainsDate:ae,weekStartsOn:me,locale:re,_originalDate:fe},J=ee.match(v).map(function(G){var W=G[0];if(W==="p"||W==="P"){var U=l.default[W];return U(G,re.formatLong)}return G}).join("").match(y).map(function(G){if(G==="''")return"'";var W=G[0];if(W==="'")return w(G);var U=o.default[W];if(U)return!(E!=null&&E.useAdditionalWeekYearTokens)&&(0,d.isProtectedWeekYearToken)(G)&&(0,d.throwProtectedError)(G,S,String(_)),!(E!=null&&E.useAdditionalDayOfYearTokens)&&(0,d.isProtectedDayOfYearToken)(G)&&(0,d.throwProtectedError)(G,S,String(_)),U(ve,G,re.localize,M);if(W.match(p))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return G}).join("");return J}function w(_){var S=_.match(b);return S?S[1].replace(g,"'"):_}e.exports=t.default})(Cv,Cv.exports);var b7=Cv.exports;const w7=pa(b7);function W1(e,t,r){var n=N7(e,r.timeZone,r.locale);return n.formatToParts?k7(n,t):j7(n,t)}function k7(e,t){for(var r=e.formatToParts(t),n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function j7(e,t){var r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function N7(e,t,r){if(r&&!r.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function _7(e,t){var r=T7(t);return r.formatToParts?C7(r,e):E7(r,e)}var S7={year:0,month:1,day:2,hour:3,minute:4,second:5};function C7(e,t){try{for(var r=e.formatToParts(t),n=[],a=0;a<r.length;a++){var s=S7[r[a].type];s>=0&&(n[s]=parseInt(r[a].value,10))}return n}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function E7(e,t){var r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var og={};function T7(e){if(!og[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";og[e]=r?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return og[e]}function jb(e,t,r,n,a,s,o){var l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(n,a,s,o),l}var H1=36e5,D7=6e4,lg={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Em(e,t,r){var n,a;if(!e||(n=lg.timezoneZ.exec(e),n))return 0;var s;if(n=lg.timezoneHH.exec(e),n)return s=parseInt(n[1],10),V1(s)?-(s*H1):NaN;if(n=lg.timezoneHHMM.exec(e),n){s=parseInt(n[2],10);var o=parseInt(n[3],10);return V1(s,o)?(a=Math.abs(s)*H1+o*D7,n[1]==="+"?-a:a):NaN}if(I7(e)){t=new Date(t||Date.now());var l=r?t:P7(t),c=ix(l,e),d=r?c:O7(t,c,e);return-d}return NaN}function P7(e){return jb(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ix(e,t){var r=_7(e,t),n=jb(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),a=e.getTime(),s=a%1e3;return a-=s>=0?s:1e3+s,n-a}function O7(e,t,r){var n=e.getTime(),a=n-t,s=ix(new Date(a),r);if(t===s)return t;a-=s-t;var o=ix(new Date(a),r);return s===o?s:Math.max(s,o)}function V1(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var q1={};function I7(e){if(q1[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),q1[e]=!0,!0}catch{return!1}}var M7=60*1e3,R7={X:function(e,t,r,n){var a=cg(n.timeZone,e);if(a===0)return"Z";switch(t){case"X":return G1(a);case"XXXX":case"XX":return yo(a);case"XXXXX":case"XXX":default:return yo(a,":")}},x:function(e,t,r,n){var a=cg(n.timeZone,e);switch(t){case"x":return G1(a);case"xxxx":case"xx":return yo(a);case"xxxxx":case"xxx":default:return yo(a,":")}},O:function(e,t,r,n){var a=cg(n.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+A7(a,":");case"OOOO":default:return"GMT"+yo(a,":")}},z:function(e,t,r,n){switch(t){case"z":case"zz":case"zzz":return W1("short",e,n);case"zzzz":default:return W1("long",e,n)}}};function cg(e,t){var r=e?Em(e,t,!0)/M7:t.getTimezoneOffset();if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function fh(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}function yo(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),s=fh(Math.floor(a/60),2),o=fh(Math.floor(a%60),2);return n+s+r+o}function G1(e,t){if(e%60===0){var r=e>0?"-":"+";return r+fh(Math.abs(e)/60,2)}return yo(e,t)}function A7(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var o=t;return r+String(a)+o+fh(s,2)}var HE=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,dg=36e5,Y1=6e4,L7=2,fr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:HE};function hh(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r=t||{},n=r.additionalDigits==null?L7:V8(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=$7(e),s=z7(a.date,n),o=s.year,l=s.restDateString,c=F7(l,o);if(isNaN(c))return new Date(NaN);if(c){var d=c.getTime(),u=0,f;if(a.time&&(u=B7(a.time),isNaN(u)))return new Date(NaN);if(a.timeZone||r.timeZone){if(f=Em(a.timeZone||r.timeZone,new Date(d+u)),isNaN(f))return new Date(NaN)}else f=U1(new Date(d+u)),f=U1(new Date(d+u+f));return new Date(d+u+f)}else return new Date(NaN)}function $7(e){var t={},r=fr.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=fr.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){var a=fr.timeZone.exec(n);a?(t.time=n.replace(a[1],""),t.timeZone=a[1].trim()):t.time=n}return t}function z7(e,t){var r=fr.YYY[t],n=fr.YYYYY[t],a;if(a=fr.YYYY.exec(e)||n.exec(e),a){var s=a[1];return{year:parseInt(s,10),restDateString:e.slice(s.length)}}if(a=fr.YY.exec(e)||r.exec(e),a){var o=a[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function F7(e,t){if(t===null)return null;var r,n,a,s;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(r=fr.MM.exec(e),r)return n=new Date(0),a=parseInt(r[1],10)-1,K1(t,a)?(n.setUTCFullYear(t,a),n):new Date(NaN);if(r=fr.DDD.exec(e),r){n=new Date(0);var o=parseInt(r[1],10);return H7(t,o)?(n.setUTCFullYear(t,0,o),n):new Date(NaN)}if(r=fr.MMDD.exec(e),r){n=new Date(0),a=parseInt(r[1],10)-1;var l=parseInt(r[2],10);return K1(t,a,l)?(n.setUTCFullYear(t,a,l),n):new Date(NaN)}if(r=fr.Www.exec(e),r)return s=parseInt(r[1],10)-1,J1(t,s)?X1(t,s):new Date(NaN);if(r=fr.WwwD.exec(e),r){s=parseInt(r[1],10)-1;var c=parseInt(r[2],10)-1;return J1(t,s,c)?X1(t,s,c):new Date(NaN)}return null}function B7(e){var t,r,n;if(t=fr.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),ug(r)?r%24*dg:NaN;if(t=fr.HHMM.exec(e),t)return r=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),ug(r,n)?r%24*dg+n*Y1:NaN;if(t=fr.HHMMSS.exec(e),t){r=parseInt(t[1],10),n=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return ug(r,n,a)?r%24*dg+n*Y1+a*1e3:NaN}return null}function X1(e,t,r){t=t||0,r=r||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,s=t*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}var U7=[31,28,31,30,31,30,31,31,30,31,30,31],W7=[31,29,31,30,31,30,31,31,30,31,30,31];function VE(e){return e%400===0||e%4===0&&e%100!==0}function K1(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var n=VE(e);if(n&&r>W7[t]||!n&&r>U7[t])return!1}return!0}function H7(e,t){if(t<1)return!1;var r=VE(e);return!(r&&t>366||!r&&t>365)}function J1(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function ug(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}var V7=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function q7(e,t,r){var n=String(t),a=r||{},s=n.match(V7);if(s){var o=hh(a.originalDate||e,a);n=s.reduce(function(l,c){if(c[0]==="'")return l;var d=l.indexOf(c),u=l[d-1]==="'",f=l.replace(c,"'"+R7[c[0]](o,c,null,a)+"'");return u?f.substring(0,d-1)+f.substring(d+1):f},n)}return w7(e,n,a)}var ox={exports:{}},lx={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,a){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s]);return n}e.exports=t.default})(lx,lx.exports);var G7=lx.exports;(function(e,t){var r=xt.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=r(G7);function a(s){return(0,n.default)({},s)}e.exports=t.default})(ox,ox.exports);var Y7=ox.exports;const qE=pa(Y7);function mh(e,t,r){var n=hh(e,r),a=Em(t,n,!0),s=new Date(n.getTime()-a),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function X7(e,t,r,n){var a=qE(n);return a.timeZone=t,a.originalDate=e,q7(mh(e,t),r,a)}function K7(e,t,r){if(typeof e=="string"&&!e.match(HE)){var n=qE(r);return n.timeZone=t,hh(e,n)}var a=hh(e,r),s=jb(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()).getTime(),o=Em(t,new Date(s));return new Date(s+o)}const Vd="Europe/Belgrade",fa=(e,t=Vd)=>{if(!e)return"--:--";if(/^\d{2}:\d{2}$/.test(e))return e;if(/^\d{2}:\d{2}:\d{2}$/.test(e))return e.substring(0,5);try{const n=new Date(e);if(!isNaN(n.getTime()))return X7(n,t,"HH:mm")}catch(n){console.error("Error parsing timestamp:",e,n)}const r=e.match(/(\d{1,2}):(\d{2})/);if(r){const n=r[1].padStart(2,"0"),a=r[2];return`${n}:${a}`}return e},ia=(e,t,r=Vd)=>{const n=fa(e,r),a=fa(t,r);return!n&&!a?"":n&&!a?n:!n&&a?a:`${n} - ${a}`},pr=(e,t="d MMMM yyyy",r=Vd)=>{if(!e)return console.warn("formatRussianDate: dateString is null or undefined"),"Дата не указана";try{const n=String(e).trim();if(!n)return console.warn("formatRussianDate: dateString is empty"),"Дата не указана";const a=new Date(n);if(isNaN(a.getTime()))return console.warn("formatRussianDate: Invalid date string:",e),"Неверная дата";const s=Ma(n);if(isNaN(s.getTime()))return console.warn("formatRussianDate: parseISO failed for:",e),"Ошибка парсинга даты";const o=mh(s,r);return Ve(o,t,{locale:gn})}catch(n){return console.error("formatRussianDate: Error formatting date:",e,n),"Ошибка форматирования"}},ps=(e,t=Vd)=>{try{if(!e)return!1;const r=Ma(e);if(isNaN(r.getTime()))return!1;const n=mh(r,t),s=mh(new Date,t);return n<s}catch(r){return console.error("Error checking event date:",r),!1}},Q1=(e,t)=>{try{if(!e||!t)throw new Error("Date and time are required");const r=typeof e=="string"?Ma(e):e;if(isNaN(r.getTime()))throw new Error("Invalid date provided");const[n,a]=t.split(":").map(Number);if(isNaN(n)||isNaN(a))throw new Error("Invalid time format");const s=new Date(r);return s.setHours(n,a,0,0),K7(s,Vd).toISOString()}catch(r){return console.error("Error formatting date time for database:",r),new Date().toISOString()}},oa=e=>{if(!e)return!1;try{const t=String(e).trim();if(!t)return!1;const r=new Date(t);return!isNaN(r.getTime())}catch{return!1}},J7=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(null),[a,s]=k.useState(!0),[o,l]=k.useState(null);if(k.useEffect(()=>{(async()=>{try{s(!0);const{data:p,error:x}=await de.from("homepage_settings").select("*").single();if(x)throw x;n(p);const w=new Date().toISOString(),{data:_,error:S}=await de.from("events").select("*").eq("status","active").gte("end_at",w).order("start_at",{ascending:!0}).limit((p==null?void 0:p.events_count)||3);if(S)throw S;t(_||[])}catch(p){console.error("Error fetching data:",p),l("Failed to load events")}finally{s(!1)}})()},[]),a)return i.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 w-48 bg-gray-200 dark:bg-dark-700 rounded mb-8 mx-auto"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((g,p)=>i.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"h-48 bg-gray-200 dark:bg-dark-700"}),i.jsxs("div",{className:"p-5 space-y-3",children:[i.jsx("div",{className:"h-4 bg-gray-200 dark:bg-dark-700 rounded w-3/4"}),i.jsx("div",{className:"h-4 bg-gray-200 dark:bg-dark-700 rounded w-1/2"})]})]},p))})]})})});if(o)return i.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx("div",{className:"text-center text-red-600 dark:text-red-400",children:o})})});if(!r)return null;const{show_title:c=!0,show_date:d=!0,show_time:u=!0,show_language:f=!0,show_type:h=!0,show_age:m=!0,show_image:y=!0,show_price:v=!0,events_count:b=3}=r;return i.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-3xl font-semibold mb-12 text-left text-gray-900 dark:text-white",children:"Наши мероприятия"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.map(g=>i.jsxs(Te,{to:`/events/${g.id}`,className:"group bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[y&&i.jsxs("div",{className:"relative h-48",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${bt(g.bg_image)})`},children:i.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors"})}),c&&i.jsx("div",{className:"absolute inset-0 flex items-end p-4",children:i.jsx("h3",{className:"text-white text-lg font-semibold drop-shadow-md",children:g.title})}),m&&i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("span",{className:"px-2 py-1 bg-black/70 text-white rounded-full text-xs font-medium",children:g.age_category})})]}),i.jsxs("div",{className:"p-5",children:[d&&g.start_at&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[i.jsx(_e,{className:"h-4 w-4 flex-shrink-0"}),i.jsx("span",{children:g.start_at&&new Date(g.start_at).getTime()?pr(g.start_at,"d MMMM"):"Дата не указана"})]}),i.jsxs("div",{className:"space-y-3",children:[u&&g.start_at&&g.end_at&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(gr,{className:"h-4 w-4 flex-shrink-0"}),i.jsxs("span",{children:[fa(g.start_at)," - ",fa(g.end_at)]})]}),f&&g.languages.length>0&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(ym,{className:"h-4 w-4 flex-shrink-0"}),i.jsx("span",{children:g.languages.join(", ")})]}),h&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(St,{className:"h-4 w-4 flex-shrink-0"}),i.jsx("span",{children:g.event_type})]})]}),v&&i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-dark-700",children:i.jsx("div",{className:"text-base font-medium text-primary-600 dark:text-primary-400",children:g.payment_type==="free"?"Бесплатно":g.payment_type==="donation"?"Донейшн":g.price===null?"Подробнее":`${g.price} ${g.currency}`})})]})]},g.id)),i.jsxs(Te,{to:"/events",className:"group bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow flex flex-col items-center justify-center p-6 text-center",children:[i.jsx("div",{className:"mb-3 p-3 bg-gray-100 dark:bg-dark-800 rounded-full",children:i.jsx(Bn,{className:"h-6 w-6 text-gray-600 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:"Все мероприятия"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Смотреть полное расписание"})]})]})]})})},Q7=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(!0),[o,l]=k.useState(null);k.useEffect(()=>{(async()=>{try{const{data:u,error:f}=await de.from("speakers").select("*").eq("active",!0);if(f)throw f;if(t(u||[]),u&&u.length>0){const h=[...u].sort(()=>.5-Math.random());n(h.slice(0,4))}}catch(u){console.error("Error fetching speakers:",u),l("Не удалось загрузить спикеров")}finally{s(!1)}})()},[]);const c=()=>{if(e.length>0){const d=[...e].sort(()=>.5-Math.random());n(d.slice(0,4))}};return a?i.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-3xl font-semibold mb-12 text-center text-gray-900 dark:text-white",children:"Наши спикеры"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})]})}):o?i.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-3xl font-semibold mb-12 text-center text-gray-900 dark:text-white",children:"Наши спикеры"}),i.jsx("div",{className:"text-center text-red-600 dark:text-red-400",children:o})]})}):e.length===0?i.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-3xl font-semibold mb-12 text-center text-gray-900 dark:text-white",children:"Наши спикеры"}),i.jsx("div",{className:"text-center text-gray-600 dark:text-gray-400",children:"В данный момент нет активных спикеров"})]})}):i.jsx("section",{className:"py-16 bg-gray-50 dark:bg-dark-800",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-semibold text-gray-900 dark:text-white mb-4 md:mb-0",children:"Наши спикеры"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:c,className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium transition-colors",children:"Показать других"}),i.jsx("a",{href:"https://forms.gle/2SvevGTqxBbtCs7x5",className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium transition-colors",children:"+ стать спикером"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.map(d=>{var u,f;return i.jsxs(Te,{to:`/speakers/${d.id}`,className:"group bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"relative aspect-square",children:(f=(u=d.photos)==null?void 0:u[0])!=null&&f.url?i.jsx("img",{src:bt(d.photos[0].url),alt:d.name,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-90",onError:h=>{const m=h.target;m.onerror=null,m.src="",m.parentElement.className="relative aspect-square bg-gray-100 dark:bg-dark-700 flex items-center justify-center",m.parentElement.innerHTML='<User className="w-12 h-12 text-gray-400 dark:text-dark-500" />'}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-dark-700",children:i.jsx(Fr,{className:"w-12 h-12 text-gray-400 dark:text-dark-500"})})}),i.jsxs("div",{className:"p-5",children:[i.jsx("h3",{className:"text-lg font-semibold mb-1 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:d.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:d.field_of_expertise})]})]},d.id)}),i.jsxs(Te,{to:"/speakers",className:"group bg-white dark:bg-dark-900 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow flex flex-col items-center justify-center p-6 text-center",children:[i.jsx("div",{className:"mb-3 p-3 bg-gray-100 dark:bg-dark-800 rounded-full",children:i.jsx(Bn,{className:"h-6 w-6 text-gray-600 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:"Все спикеры"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Познакомиться со всеми"})]})]})]})})},Z7=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!0),[a,s]=k.useState(null),o=k.useRef(null),l=k.useRef(null),c=k.useRef(null);return k.useEffect(()=>{let d=!0;return(async()=>{try{const{data:f,error:h}=await de.from("site_settings").select("rent_selection").single();if(!d)return;if(h)throw h;f!=null&&f.rent_selection&&t(f.rent_selection)}catch(f){console.error("Error fetching Rent section data:",f),d&&s("Не удалось загрузить данные")}finally{d&&n(!1)}})(),()=>{d=!1}},[]),k.useEffect(()=>{if(!(e!=null&&e.image)||!o.current)return;const d=new IntersectionObserver(u=>{u.forEach(f=>{if(f.isIntersecting){const h=f.target;h.src=h.dataset.src||"",d.unobserve(h)}})},{rootMargin:"200px",threshold:.1});return d.observe(o.current),()=>{o.current&&d.unobserve(o.current)}},[e==null?void 0:e.image]),k.useEffect(()=>{if(!l.current||!c.current)return;const d=new ResizeObserver(u=>{for(let f of u)f.target===l.current&&(c.current.style.height=`${f.contentRect.height}px`)});return d.observe(l.current),()=>{d.disconnect()}},[e]),r?i.jsx("div",{className:"section bg-white dark:bg-dark-900 min-h-[400px] flex items-center justify-center",children:"Загрузка..."}):a?i.jsx("div",{className:"section bg-white dark:bg-dark-900 min-h-[400px] flex items-center justify-center text-red-500",children:a}):!e||!e.enabled?null:i.jsx("section",{className:"section bg-white dark:bg-dark-900",children:i.jsxs("div",{className:"container grid-layout items-start",children:[i.jsx("div",{className:"image-content order-1 md:order-none mt-8 md:mt-0",ref:c,children:i.jsx("div",{className:"w-full h-full rounded-lg overflow-hidden relative",children:i.jsx("img",{ref:o,"data-src":bt(e.image),alt:e.title,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy",width:"600",height:"400"})})}),i.jsxs("div",{className:"text-content order-2 md:order-none",ref:l,children:[i.jsx("h3",{className:"mb-6",children:e.title}),i.jsx("div",{className:"text-base space-y-4 mb-8",dangerouslySetInnerHTML:{__html:e.description}}),i.jsxs(Te,{to:"/rent",className:"inline-flex items-center text-primary-500 hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300 transition-colors font-medium",children:["Забронировать",i.jsx(Bn,{className:"ml-2"})]})]})]})})},ez=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!0);k.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const{data:s,error:o}=await de.from("site_settings").select("coworking_selection").single();if(o)throw o;s!=null&&s.coworking_selection&&t(s.coworking_selection)}catch(s){console.error("Error fetching Coworking section data:",s)}finally{n(!1)}};return r?i.jsx("div",{children:"Loading..."}):!e||!e.enabled?null:i.jsx("section",{className:"section bg-white dark:bg-dark-900",children:i.jsxs("div",{className:"container grid-layout items-center",children:[i.jsxs("div",{className:"text-content",children:[i.jsx("h3",{className:"mb-6",children:e.title}),i.jsx("div",{className:"text-base space-y-4 mb-8",dangerouslySetInnerHTML:{__html:e.description}}),i.jsxs(Te,{to:"/about",className:"inline-flex items-center text-primary-500 hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300 transition-colors font-medium",children:["Занять место",i.jsx(Bn,{className:"ml-2"})]})]}),i.jsx("div",{className:"image-content mt-8 md:mt-0",children:i.jsx("img",{src:bt(e.image),alt:e.title,className:"w-full h-auto rounded-lg shadow-md"})})]})})},tz=()=>i.jsxs(ut,{children:[i.jsx(RL,{}),i.jsx(AL,{}),i.jsx(J7,{}),i.jsx(Q7,{}),i.jsx(Z7,{}),i.jsx(ez,{})]}),GE=k.createContext(void 0),rz=({children:e})=>{const[t,r]=k.useState(null),[n,a]=k.useState(!0);k.useEffect(()=>{(async()=>{var f;try{const{data:{session:h}}=await de.auth.getSession();r(h!=null&&h.user?{id:h.user.id,email:h.user.email||"",name:(f=h.user.user_metadata)==null?void 0:f.name}:null)}catch(h){console.error("Error checking auth status:",h),r(null)}finally{a(!1)}})();const{data:u}=de.auth.onAuthStateChange((f,h)=>{var m;h!=null&&h.user?r({id:h.user.id,email:h.user.email||"",name:(m=h.user.user_metadata)==null?void 0:m.name}):r(null),a(!1)});return()=>{u.subscription.unsubscribe()}},[]);const s=async(d,u)=>{const{error:f}=await de.auth.signInWithPassword({email:d,password:u});if(f)throw f},o=async(d,u,f)=>{const{error:h}=await de.auth.signUp({email:d,password:u,options:{data:{name:f},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(h)throw h},l=async()=>{const{error:d}=await de.auth.signOut();if(d)throw d},c=async d=>{const{error:u}=await de.auth.resetPasswordForEmail(d,{redirectTo:`${window.location.origin}/reset-password`});if(u)throw u};return i.jsx(GE.Provider,{value:{user:t,loading:n,signIn:s,signUp:o,signOut:l,resetPassword:c},children:e})},to=()=>{const e=k.useContext(GE);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Nb=e=>{const[t,r]=k.useState([]),[n,a]=k.useState(!1),s=async()=>{if(e){a(!0);try{const{data:c,error:d}=await de.from("user_favorite_speakers").select("speaker_id").eq("user_id",e);if(d)throw d;r((c==null?void 0:c.map(u=>u.speaker_id))||[])}catch(c){console.error("Error fetching favorite speakers:",c)}finally{a(!1)}}},o=async c=>{if(!e){X.error("Войдите в систему для добавления в избранное");return}const d=t.includes(c);try{if(d){const{error:u}=await de.from("user_favorite_speakers").delete().eq("user_id",e).eq("speaker_id",c);if(u)throw u;r(f=>f.filter(h=>h!==c)),X.success("Спикер удален из избранного")}else{const{error:u}=await de.from("user_favorite_speakers").insert({user_id:e,speaker_id:c});if(u)throw u;r(f=>[...f,c]),X.success("Спикер добавлен в избранное")}}catch(u){console.error("Error toggling favorite speaker:",u),X.error("Ошибка при изменении избранного")}},l=c=>t.includes(c);return k.useEffect(()=>{s()},[e]),{favoriteSpeakers:t,loading:n,toggleFavoriteSpeaker:o,isFavoriteSpeaker:l,refetch:s}},_b=e=>{const[t,r]=k.useState([]),[n,a]=k.useState(!1),s=async()=>{if(e){a(!0);try{const{data:c,error:d}=await de.from("user_favorite_events").select("event_id").eq("user_id",e);if(d)throw d;r((c==null?void 0:c.map(u=>u.event_id))||[])}catch(c){console.error("Error fetching favorite events:",c)}finally{a(!1)}}},o=async c=>{if(!e){X.error("Войдите в систему для добавления в избранное");return}const d=t.includes(c);try{if(d){const{error:u}=await de.from("user_favorite_events").delete().eq("user_id",e).eq("event_id",c);if(u)throw u;r(f=>f.filter(h=>h!==c)),X.success("Мероприятие удалено из избранного")}else{const{error:u}=await de.from("user_favorite_events").insert({user_id:e,event_id:c});if(u)throw u;r(f=>[...f,c]),X.success("Мероприятие добавлено в избранное")}}catch(u){console.error("Error toggling favorite event:",u),X.error("Ошибка при изменении избранного")}},l=c=>t.includes(c);return k.useEffect(()=>{s()},[e]),{favoriteEvents:t,loading:n,toggleFavoriteEvent:o,isFavoriteEvent:l,refetch:s}},YE=({isFavorite:e,onClick:t,className:r="",size:n="md",loading:a=!1})=>{const s={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},o={sm:"p-1",md:"p-2",lg:"p-3"};return i.jsx("button",{onClick:t,disabled:a,className:`${o[n]} rounded-full transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed ${r}`,title:e?"Удалить из избранного":"Добавить в избранное",children:i.jsx(xn,{className:`${s[n]} transition-colors ${e?"text-red-500 fill-red-500":"text-gray-400 hover:text-red-500"} ${a?"animate-pulse":""}`})})},Z1=({eventId:e,className:t="",size:r="md"})=>{const{user:n}=to(),{toggleFavoriteEvent:a,isFavoriteEvent:s,loading:o}=_b(n==null?void 0:n.id);if(!n)return null;const l=c=>{c.preventDefault(),c.stopPropagation(),a(e)};return i.jsx(YE,{isFavorite:s(e),onClick:l,loading:o,className:t,size:r})},ej={lecture:"Лекция",workshop:"Мастер-класс","movie discussion":"Обсуждение фильма","conversation club":"Разговорный клуб",festival:"Фестиваль","stand-up":"Стендап",concert:"Концерт",excursion:"Экскурсия",discussion:"Дискуссия",swap:"Обмен",quiz:"Викторина",default:"Мероприятие"},tj=e=>{if(oa(e.start_at))try{return pr(e.start_at,"d MMMM")}catch(t){console.error("Error formatting start_at:",e.start_at,t)}if(oa(e.start_time))try{return pr(e.start_time,"d MMMM")}catch(t){console.error("Error formatting start_time:",e.start_time,t)}if(oa(e.date))try{return pr(e.date,"d MMMM")}catch(t){console.error("Error formatting date:",e.date,t)}return"Дата не указана"},rj=(e,t)=>{try{return e.start_at&&e.end_at?t?t(e.start_at,e.end_at):ia(e.start_at,e.end_at):e.start_time&&e.end_time?t?t(e.start_time,e.end_time):ia(e.start_time,e.end_time):""}catch(r){return console.error("Error formatting time range in EventsList:",r),""}},nj=e=>{try{return e.payment_type==="free"?"Бесплатно":e.payment_type==="donation"?"Донейшн":e.price===null||e.price===void 0?"Подробнее":e.price&&e.currency?`${e.price} ${e.currency}`:"Цена не указана"}catch(t){return console.error("Error formatting price:",t),"Цена не указана"}},nz=({events:e,type:t="upcoming",searchQuery:r="",viewMode:n="grid",showPrice:a=!1,className:s="",formatTimeRange:o})=>{const l=e.filter(d=>{const u=r.toLowerCase();return d.title.toLowerCase().includes(u)||d.description&&d.description.toLowerCase().includes(u)});if(l.length===0)return i.jsx("div",{className:`py-12 text-center ${s}`,children:i.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:r?"По вашему запросу ничего не найдено":"Мероприятий пока нет"})});const c=d=>{const u=d.toLowerCase().replace(/-/g,"_");return ej[u]||ej.default};return i.jsx("div",{className:`${s} ${t==="upcoming"?"upcoming-events":"past-events"}`,children:n==="list"?i.jsx("div",{className:"space-y-4",children:l.map(d=>{var u;return i.jsxs("div",{className:"card hover:shadow-md transition-shadow flex flex-col md:flex-row relative",children:[i.jsx("div",{className:"absolute top-3 right-3 z-10",children:i.jsx(Z1,{eventId:d.id.toString(),className:"bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm hover:bg-white dark:hover:bg-dark-800 shadow-sm",size:"sm"})}),i.jsx("div",{className:"md:w-1/3 h-48 md:h-auto bg-cover bg-center relative",style:{backgroundImage:`url(${bt(d.bg_image)})`},children:i.jsx("div",{className:"absolute bottom-3 left-3 flex flex-wrap gap-1",children:i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:[i.jsx(St,{className:"h-4 w-4 mr-1.5"}),d.age_category]})})}),i.jsxs("div",{className:"p-5 md:w-2/3 flex flex-col",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(u=d.languages)==null?void 0:u.map((f,h)=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[i.jsx(ym,{className:"h-4 w-4 mr-1.5"}),f]},h)),i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-violet-100 text-violet-800 dark:bg-violet-900/30 dark:text-violet-300",children:[i.jsx(tE,{className:"h-4 w-4 mr-1.5"}),c(d.event_type)]})]}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:d.title}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(_e,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:tj(d)})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(gr,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:rj(d,o)})]}),d.location&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Pt,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:d.location})]})]}),d.description&&i.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-300 line-clamp-2",children:d.description})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mt-4",children:[a&&d.payment_type&&i.jsx("div",{className:"font-medium text-primary-600 dark:text-primary-400",children:nj(d)}),i.jsx("div",{className:"flex gap-2",children:i.jsx(Te,{to:`/events/${d.id}`,className:"btn btn-primary",children:"Подробнее"})})]})]})]},d.id)})}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:l.map(d=>{var u;return i.jsxs("div",{className:"card group overflow-hidden hover:shadow-md transition-shadow relative",children:[i.jsx("div",{className:"absolute top-3 right-3 z-10",children:i.jsx(Z1,{eventId:d.id.toString(),className:"bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm hover:bg-white dark:hover:bg-dark-800 shadow-sm",size:"sm"})}),i.jsxs(Te,{to:`/events/${d.id}`,children:[i.jsxs("div",{className:"relative aspect-video bg-gray-100 dark:bg-gray-800",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-300 group-hover:scale-105",style:{backgroundImage:`url(${bt(d.bg_image)})`}}),i.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsxs("span",{className:"text-white font-medium flex items-center",children:["Подробнее ",i.jsx(Bn,{className:"ml-2 h-4 w-4"})]})}),i.jsx("div",{className:"absolute bottom-3 left-3 flex gap-1",children:i.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:d.age_category})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(u=d.languages)==null?void 0:u.slice(0,2).map((f,h)=>i.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:f},h)),i.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-violet-100 text-violet-800 dark:bg-violet-900/30 dark:text-violet-300",children:c(d.event_type)})]}),i.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:d.title}),i.jsxs("div",{className:"flex flex-col gap-1 text-sm text-gray-500 dark:text-gray-400",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(_e,{className:"h-4 w-4 mr-1 flex-shrink-0"}),i.jsx("span",{children:tj(d)})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(gr,{className:"h-4 w-4 mr-1 flex-shrink-0"}),i.jsx("span",{children:rj(d,o)})]})]}),a&&d.payment_type&&i.jsx("div",{className:"mt-3 font-medium text-primary-600 dark:text-primary-400",children:nj(d)})]})]})]},d.id)})})})};var XE={},KE={},Tm={},JE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};e.default=t})(JE);var az="Expected a function",aj=NaN,sz="[object Symbol]",iz=/^\s+|\s+$/g,oz=/^[-+]0x[0-9a-f]+$/i,lz=/^0b[01]+$/i,cz=/^0o[0-7]+$/i,dz=parseInt,uz=typeof rt=="object"&&rt&&rt.Object===Object&&rt,fz=typeof self=="object"&&self&&self.Object===Object&&self,hz=uz||fz||Function("return this")(),mz=Object.prototype,pz=mz.toString,gz=Math.max,vz=Math.min,fg=function(){return hz.Date.now()};function xz(e,t,r){var n,a,s,o,l,c,d=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(az);t=sj(t)||0,cx(r)&&(u=!!r.leading,f="maxWait"in r,s=f?gz(sj(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(S){var E=n,O=a;return n=a=void 0,d=S,o=e.apply(O,E),o}function y(S){return d=S,l=setTimeout(g,t),u?m(S):o}function v(S){var E=S-c,O=S-d,T=t-E;return f?vz(T,s-O):T}function b(S){var E=S-c,O=S-d;return c===void 0||E>=t||E<0||f&&O>=s}function g(){var S=fg();if(b(S))return p(S);l=setTimeout(g,v(S))}function p(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function x(){l!==void 0&&clearTimeout(l),d=0,n=c=a=l=void 0}function w(){return l===void 0?o:p(fg())}function _(){var S=fg(),E=b(S);if(n=arguments,a=this,c=S,E){if(l===void 0)return y(c);if(f)return l=setTimeout(g,t),m(c)}return l===void 0&&(l=setTimeout(g,t)),o}return _.cancel=x,_.flush=w,_}function cx(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function yz(e){return!!e&&typeof e=="object"}function bz(e){return typeof e=="symbol"||yz(e)&&pz.call(e)==sz}function sj(e){if(typeof e=="number")return e;if(bz(e))return aj;if(cx(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=cx(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(iz,"");var r=lz.test(e);return r||cz.test(e)?dz(e.slice(2),r?2:8):oz.test(e)?aj:+e}var wz=xz,QE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=a(s,n(l)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=a(o,l));return o}function a(s,o){return o?s?s+" "+o:s+o:s}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(QE);var qd=QE.exports;const dx=pa(qd);var ue={},Sb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(k);function r(a){return a&&a.__esModule?a:{default:a}}var n={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return t.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return t.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};e.default=n})(Sb);Object.defineProperty(ue,"__esModule",{value:!0});ue.checkSpecKeys=ue.checkNavigable=ue.changeSlide=ue.canUseDOM=ue.canGoNext=void 0;ue.clamp=e4;ue.extractObject=void 0;ue.filterSettings=Az;ue.validSettings=ue.swipeStart=ue.swipeMove=ue.swipeEnd=ue.slidesOnRight=ue.slidesOnLeft=ue.slideHandler=ue.siblingDirection=ue.safePreventDefault=ue.lazyStartIndex=ue.lazySlidesOnRight=ue.lazySlidesOnLeft=ue.lazyEndIndex=ue.keyHandler=ue.initializedState=ue.getWidth=ue.getTrackLeft=ue.getTrackCSS=ue.getTrackAnimateCSS=ue.getTotalSlides=ue.getSwipeDirection=ue.getSlideCount=ue.getRequiredLazySlides=ue.getPreClones=ue.getPostClones=ue.getOnDemandLazySlides=ue.getNavigableIndexes=ue.getHeight=void 0;var kz=ZE(k),jz=ZE(Sb);function ZE(e){return e&&e.__esModule?e:{default:e}}function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(n){Nz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nz(e,t,r){return t=_z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=Sz(e,"string");return xd(t)=="symbol"?t:String(t)}function Sz(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e4(e,t,r){return Math.max(t,Math.min(e,r))}var Go=ue.safePreventDefault=function(t){var r=["onTouchStart","onTouchMove","onWheel"];r.includes(t._reactName)||t.preventDefault()},t4=ue.getOnDemandLazySlides=function(t){for(var r=[],n=r4(t),a=n4(t),s=n;s<a;s++)t.lazyLoadedList.indexOf(s)<0&&r.push(s);return r};ue.getRequiredLazySlides=function(t){for(var r=[],n=r4(t),a=n4(t),s=n;s<a;s++)r.push(s);return r};var r4=ue.lazyStartIndex=function(t){return t.currentSlide-Cz(t)},n4=ue.lazyEndIndex=function(t){return t.currentSlide+Ez(t)},Cz=ue.lazySlidesOnLeft=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},Ez=ue.lazySlidesOnRight=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},ux=ue.getWidth=function(t){return t&&t.offsetWidth||0},a4=ue.getHeight=function(t){return t&&t.offsetHeight||0},s4=ue.getSwipeDirection=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,a,s,o;return n=t.startX-t.curX,a=t.startY-t.curY,s=Math.atan2(a,n),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":r===!0?o>=35&&o<=135?"up":"down":"vertical"},i4=ue.canGoNext=function(t){var r=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(r=!1),r};ue.extractObject=function(t,r){var n={};return r.forEach(function(a){return n[a]=t[a]}),n};ue.initializedState=function(t){var r=kz.default.Children.count(t.children),n=t.listRef,a=Math.ceil(ux(n)),s=t.trackRef&&t.trackRef.node,o=Math.ceil(ux(s)),l;if(t.vertical)l=a;else{var c=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(c*=a/100),l=Math.ceil((a-c)/t.slidesToShow)}var d=n&&a4(n.querySelector('[data-index="0"]')),u=d*t.slidesToShow,f=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(f=r-1-t.initialSlide);var h=t.lazyLoadedList||[],m=t4(lt(lt({},t),{},{currentSlide:f,lazyLoadedList:h}));h=h.concat(m);var y={slideCount:r,slideWidth:l,listWidth:a,trackWidth:o,currentSlide:f,slideHeight:d,listHeight:u,lazyLoadedList:h};return t.autoplaying===null&&t.autoplay&&(y.autoplaying="playing"),y};ue.slideHandler=function(t){var r=t.waitForAnimate,n=t.animating,a=t.fade,s=t.infinite,o=t.index,l=t.slideCount,c=t.lazyLoad,d=t.currentSlide,u=t.centerMode,f=t.slidesToScroll,h=t.slidesToShow,m=t.useCSS,y=t.lazyLoadedList;if(r&&n)return{};var v=o,b,g,p,x={},w={},_=s?o:e4(o,0,l-1);if(a){if(!s&&(o<0||o>=l))return{};o<0?v=o+l:o>=l&&(v=o-l),c&&y.indexOf(v)<0&&(y=y.concat(v)),x={animating:!0,currentSlide:v,lazyLoadedList:y,targetSlide:v},w={animating:!1,targetSlide:v}}else b=v,v<0?(b=v+l,s?l%f!==0&&(b=l-l%f):b=0):!i4(t)&&v>d?v=b=d:u&&v>=l?(v=s?l:l-1,b=s?0:l-1):v>=l&&(b=v-l,s?l%f!==0&&(b=0):b=l-h),!s&&v+h>=l&&(b=l-h),g=gh(lt(lt({},t),{},{slideIndex:v})),p=gh(lt(lt({},t),{},{slideIndex:b})),s||(g===p&&(v=b),g=p),c&&(y=y.concat(t4(lt(lt({},t),{},{currentSlide:v})))),m?(x={animating:!0,currentSlide:b,trackStyle:o4(lt(lt({},t),{},{left:g})),lazyLoadedList:y,targetSlide:_},w={animating:!1,currentSlide:b,trackStyle:ph(lt(lt({},t),{},{left:p})),swipeLeft:null,targetSlide:_}):x={currentSlide:b,trackStyle:ph(lt(lt({},t),{},{left:p})),lazyLoadedList:y,targetSlide:_};return{state:x,nextState:w}};ue.changeSlide=function(t,r){var n,a,s,o,l,c=t.slidesToScroll,d=t.slidesToShow,u=t.slideCount,f=t.currentSlide,h=t.targetSlide,m=t.lazyLoad,y=t.infinite;if(o=u%c!==0,n=o?0:(u-f)%c,r.message==="previous")s=n===0?c:d-n,l=f-s,m&&!y&&(a=f-s,l=a===-1?u-1:a),y||(l=h-c);else if(r.message==="next")s=n===0?c:n,l=f+s,m&&!y&&(l=(f+c)%u+n),y||(l=h+c);else if(r.message==="dots")l=r.index*r.slidesToScroll;else if(r.message==="children"){if(l=r.index,y){var v=Oz(lt(lt({},t),{},{targetSlide:l}));l>r.currentSlide&&v==="left"?l=l-u:l<r.currentSlide&&v==="right"&&(l=l+u)}}else r.message==="index"&&(l=Number(r.index));return l};ue.keyHandler=function(t,r,n){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!r?"":t.keyCode===37?n?"next":"previous":t.keyCode===39?n?"previous":"next":""};ue.swipeStart=function(t,r,n){return t.target.tagName==="IMG"&&Go(t),!r||!n&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}};ue.swipeMove=function(t,r){var n=r.scrolling,a=r.animating,s=r.vertical,o=r.swipeToSlide,l=r.verticalSwiping,c=r.rtl,d=r.currentSlide,u=r.edgeFriction,f=r.edgeDragged,h=r.onEdge,m=r.swiped,y=r.swiping,v=r.slideCount,b=r.slidesToScroll,g=r.infinite,p=r.touchObject,x=r.swipeEvent,w=r.listHeight,_=r.listWidth;if(!n){if(a)return Go(t);s&&o&&l&&Go(t);var S,E={},O=gh(r);p.curX=t.touches?t.touches[0].pageX:t.clientX,p.curY=t.touches?t.touches[0].pageY:t.clientY,p.swipeLength=Math.round(Math.sqrt(Math.pow(p.curX-p.startX,2)));var T=Math.round(Math.sqrt(Math.pow(p.curY-p.startY,2)));if(!l&&!y&&T>10)return{scrolling:!0};l&&(p.swipeLength=T);var D=(c?-1:1)*(p.curX>p.startX?1:-1);l&&(D=p.curY>p.startY?1:-1);var R=Math.ceil(v/b),N=s4(r.touchObject,l),C=p.swipeLength;return g||(d===0&&(N==="right"||N==="down")||d+1>=R&&(N==="left"||N==="up")||!i4(r)&&(N==="left"||N==="up"))&&(C=p.swipeLength*u,f===!1&&h&&(h(N),E.edgeDragged=!0)),!m&&x&&(x(N),E.swiped=!0),s?S=O+C*(w/_)*D:c?S=O-C*D:S=O+C*D,l&&(S=O+C*D),E=lt(lt({},E),{},{touchObject:p,swipeLeft:S,trackStyle:ph(lt(lt({},r),{},{left:S}))}),Math.abs(p.curX-p.startX)<Math.abs(p.curY-p.startY)*.8||p.swipeLength>10&&(E.swiping=!0,Go(t)),E}};ue.swipeEnd=function(t,r){var n=r.dragging,a=r.swipe,s=r.touchObject,o=r.listWidth,l=r.touchThreshold,c=r.verticalSwiping,d=r.listHeight,u=r.swipeToSlide,f=r.scrolling,h=r.onSwipe,m=r.targetSlide,y=r.currentSlide,v=r.infinite;if(!n)return a&&Go(t),{};var b=c?d/l:o/l,g=s4(s,c),p={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!s.swipeLength)return p;if(s.swipeLength>b){Go(t),h&&h(g);var x,w,_=v?y:m;switch(g){case"left":case"up":w=_+lj(r),x=u?oj(r,w):w,p.currentDirection=0;break;case"right":case"down":w=_-lj(r),x=u?oj(r,w):w,p.currentDirection=1;break;default:x=_}p.triggerSlideHandler=x}else{var S=gh(r);p.trackStyle=o4(lt(lt({},r),{},{left:S}))}return p};var Tz=ue.getNavigableIndexes=function(t){for(var r=t.infinite?t.slideCount*2:t.slideCount,n=t.infinite?t.slidesToShow*-1:0,a=t.infinite?t.slidesToShow*-1:0,s=[];n<r;)s.push(n),n=a+t.slidesToScroll,a+=Math.min(t.slidesToScroll,t.slidesToShow);return s},oj=ue.checkNavigable=function(t,r){var n=Tz(t),a=0;if(r>n[n.length-1])r=n[n.length-1];else for(var s in n){if(r<n[s]){r=a;break}a=n[s]}return r},lj=ue.getSlideCount=function(t){var r=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var n,a=t.listRef,s=a.querySelectorAll&&a.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(c){if(t.vertical){if(c.offsetTop+a4(c)/2>t.swipeLeft*-1)return n=c,!1}else if(c.offsetLeft-r+ux(c)/2>t.swipeLeft*-1)return n=c,!1;return!0}),!n)return 0;var o=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,l=Math.abs(n.dataset.index-o)||1;return l}else return t.slidesToScroll},Cb=ue.checkSpecKeys=function(t,r){return r.reduce(function(n,a){return n&&t.hasOwnProperty(a)},!0)?null:console.error("Keys Missing:",t)},ph=ue.getTrackCSS=function(t){Cb(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r,n,a=t.slideCount+2*t.slidesToShow;t.vertical?n=a*t.slideHeight:r=Pz(t)*t.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var o=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",l=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",c=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";s=lt(lt({},s),{},{WebkitTransform:o,transform:l,msTransform:c})}else t.vertical?s.top=t.left:s.left=t.left;return t.fade&&(s={opacity:1}),r&&(s.width=r),n&&(s.height=n),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?s.marginTop=t.left+"px":s.marginLeft=t.left+"px"),s},o4=ue.getTrackAnimateCSS=function(t){Cb(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var r=ph(t);return t.useTransform?(r.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,r.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?r.transition="top "+t.speed+"ms "+t.cssEase:r.transition="left "+t.speed+"ms "+t.cssEase,r},gh=ue.getTrackLeft=function(t){if(t.unslick)return 0;Cb(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var r=t.slideIndex,n=t.trackRef,a=t.infinite,s=t.centerMode,o=t.slideCount,l=t.slidesToShow,c=t.slidesToScroll,d=t.slideWidth,u=t.listWidth,f=t.variableWidth,h=t.slideHeight,m=t.fade,y=t.vertical,v=0,b,g,p=0;if(m||t.slideCount===1)return 0;var x=0;if(a?(x=-Ef(t),o%c!==0&&r+c>o&&(x=-(r>o?l-(r-o):o%c)),s&&(x+=parseInt(l/2))):(o%c!==0&&r+c>o&&(x=l-o%c),s&&(x=parseInt(l/2))),v=x*d,p=x*h,y?b=r*h*-1+p:b=r*d*-1+v,f===!0){var w,_=n&&n.node;if(w=r+Ef(t),g=_&&_.childNodes[w],b=g?g.offsetLeft*-1:0,s===!0){w=a?r+Ef(t):r,g=_&&_.children[w],b=0;for(var S=0;S<w;S++)b-=_&&_.children[S]&&_.children[S].offsetWidth;b-=parseInt(t.centerPadding),b+=g&&(u-g.offsetWidth)/2}}return b},Ef=ue.getPreClones=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},Dz=ue.getPostClones=function(t){return t.unslick||!t.infinite?0:t.slideCount},Pz=ue.getTotalSlides=function(t){return t.slideCount===1?1:Ef(t)+t.slideCount+Dz(t)},Oz=ue.siblingDirection=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+Iz(t)?"left":"right":t.targetSlide<t.currentSlide-Mz(t)?"right":"left"},Iz=ue.slidesOnRight=function(t){var r=t.slidesToShow,n=t.centerMode,a=t.rtl,s=t.centerPadding;if(n){var o=(r-1)/2+1;return parseInt(s)>0&&(o+=1),a&&r%2===0&&(o+=1),o}return a?0:r-1},Mz=ue.slidesOnLeft=function(t){var r=t.slidesToShow,n=t.centerMode,a=t.rtl,s=t.centerPadding;if(n){var o=(r-1)/2+1;return parseInt(s)>0&&(o+=1),!a&&r%2===0&&(o+=1),o}return a?r-1:0};ue.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var Rz=ue.validSettings=Object.keys(jz.default);function Az(e){return Rz.reduce(function(t,r){return e.hasOwnProperty(r)&&(t[r]=e[r]),t},{})}var Dm={};Object.defineProperty(Dm,"__esModule",{value:!0});Dm.Track=void 0;var ls=l4(k),hg=l4(qd),mg=ue;function l4(e){return e&&e.__esModule?e:{default:e}}function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fx.apply(this,arguments)}function Lz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d4(n.key),n)}}function zz(e,t,r){return t&&$z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hx(e,t)}function hx(e,t){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hx(e,t)}function Bz(e){var t=c4();return function(){var n=vh(e),a;if(t){var s=vh(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Uz(this,a)}}function Uz(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mx(e)}function mx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c4=function(){return!!e})()}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vh(e)}function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(r),!0).forEach(function(n){px(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function px(e,t,r){return t=d4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d4(e){var t=Wz(e,"string");return fl(t)=="symbol"?t:String(t)}function Wz(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pg=function(t){var r,n,a,s,o;t.rtl?o=t.slideCount-1-t.index:o=t.index,a=o<0||o>=t.slideCount,t.centerMode?(s=Math.floor(t.slidesToShow/2),n=(o-t.currentSlide)%t.slideCount===0,o>t.currentSlide-s-1&&o<=t.currentSlide+s&&(r=!0)):r=t.currentSlide<=o&&o<t.currentSlide+t.slidesToShow;var l;t.targetSlide<0?l=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?l=t.targetSlide-t.slideCount:l=t.targetSlide;var c=o===l;return{"slick-slide":!0,"slick-active":r,"slick-center":n,"slick-cloned":a,"slick-current":c}},Hz=function(t){var r={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(r.width=t.slideWidth),t.fade&&(r.position="relative",t.vertical?r.top=-t.index*parseInt(t.slideHeight):r.left=-t.index*parseInt(t.slideWidth),r.opacity=t.currentSlide===t.index?1:0,r.zIndex=t.currentSlide===t.index?999:998,t.useCSS&&(r.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),r},gg=function(t,r){return t.key||r},Vz=function(t){var r,n=[],a=[],s=[],o=ls.default.Children.count(t.children),l=(0,mg.lazyStartIndex)(t),c=(0,mg.lazyEndIndex)(t);return ls.default.Children.forEach(t.children,function(d,u){var f,h={message:"children",index:u,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(u)>=0?f=d:f=ls.default.createElement("div",null);var m=Hz(jr(jr({},t),{},{index:u})),y=f.props.className||"",v=pg(jr(jr({},t),{},{index:u}));if(n.push(ls.default.cloneElement(f,{key:"original"+gg(f,u),"data-index":u,className:(0,hg.default)(v,y),tabIndex:"-1","aria-hidden":!v["slick-active"],style:jr(jr({outline:"none"},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),t.focusOnSelect&&t.focusOnSelect(h)}})),t.infinite&&t.fade===!1){var b=o-u;b<=(0,mg.getPreClones)(t)&&(r=-b,r>=l&&(f=d),v=pg(jr(jr({},t),{},{index:r})),a.push(ls.default.cloneElement(f,{key:"precloned"+gg(f,r),"data-index":r,tabIndex:"-1",className:(0,hg.default)(v,y),"aria-hidden":!v["slick-active"],style:jr(jr({},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),t.focusOnSelect&&t.focusOnSelect(h)}}))),r=o+u,r<c&&(f=d),v=pg(jr(jr({},t),{},{index:r})),s.push(ls.default.cloneElement(f,{key:"postcloned"+gg(f,r),"data-index":r,tabIndex:"-1",className:(0,hg.default)(v,y),"aria-hidden":!v["slick-active"],style:jr(jr({},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),t.focusOnSelect&&t.focusOnSelect(h)}}))}}),t.rtl?a.concat(n,s).reverse():a.concat(n,s)};Dm.Track=function(e){Fz(r,e);var t=Bz(r);function r(){var n;Lz(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s)),px(mx(n),"node",null),px(mx(n),"handleRef",function(l){n.node=l}),n}return zz(r,[{key:"render",value:function(){var a=Vz(this.props),s=this.props,o=s.onMouseEnter,l=s.onMouseOver,c=s.onMouseLeave,d={onMouseEnter:o,onMouseOver:l,onMouseLeave:c};return ls.default.createElement("div",fx({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},d),a)}}]),r}(ls.default.PureComponent);var Pm={};function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}Object.defineProperty(Pm,"__esModule",{value:!0});Pm.Dots=void 0;var Wu=u4(k),qz=u4(qd),dj=ue;function u4(e){return e&&e.__esModule?e:{default:e}}function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(n){Yz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yz(e,t,r){return t=f4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f4(n.key),n)}}function Jz(e,t,r){return t&&Kz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f4(e){var t=Qz(e,"string");return hl(t)=="symbol"?t:String(t)}function Qz(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Zz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gx(e,t)}function gx(e,t){return gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gx(e,t)}function eF(e){var t=h4();return function(){var n=xh(e),a;if(t){var s=xh(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return tF(this,a)}}function tF(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rF(e)}function rF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!e})()}function xh(e){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xh(e)}var nF=function(t){var r;return t.infinite?r=Math.ceil(t.slideCount/t.slidesToScroll):r=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,r};Pm.Dots=function(e){Zz(r,e);var t=eF(r);function r(){return Xz(this,r),t.apply(this,arguments)}return Jz(r,[{key:"clickHandler",value:function(a,s){s.preventDefault(),this.props.clickHandler(a)}},{key:"render",value:function(){for(var a=this.props,s=a.onMouseEnter,o=a.onMouseOver,l=a.onMouseLeave,c=a.infinite,d=a.slidesToScroll,u=a.slidesToShow,f=a.slideCount,h=a.currentSlide,m=nF({slideCount:f,slidesToScroll:d,slidesToShow:u,infinite:c}),y={onMouseEnter:s,onMouseOver:o,onMouseLeave:l},v=[],b=0;b<m;b++){var g=(b+1)*d-1,p=c?g:(0,dj.clamp)(g,0,f-1),x=p-(d-1),w=c?x:(0,dj.clamp)(x,0,f-1),_=(0,qz.default)({"slick-active":c?h>=w&&h<=p:h===w}),S={message:"dots",index:b,slidesToScroll:d,currentSlide:h},E=this.clickHandler.bind(this,S);v=v.concat(Wu.default.createElement("li",{key:b,className:_},Wu.default.cloneElement(this.props.customPaging(b),{onClick:E})))}return Wu.default.cloneElement(this.props.appendDots(v),Gz({className:this.props.dotsClass},y))}}]),r}(Wu.default.PureComponent);var ml={};function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}Object.defineProperty(ml,"__esModule",{value:!0});ml.PrevArrow=ml.NextArrow=void 0;var Yo=p4(k),m4=p4(qd),aF=ue;function p4(e){return e&&e.__esModule?e:{default:e}}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(this,arguments)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){sF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sF(e,t,r){return t=x4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x4(n.key),n)}}function v4(e,t,r){return t&&iF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x4(e){var t=oF(e,"string");return pl(t)=="symbol"?t:String(t)}function oF(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function y4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vx(e,t)}function vx(e,t){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vx(e,t)}function b4(e){var t=w4();return function(){var n=wh(e),a;if(t){var s=wh(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return lF(this,a)}}function lF(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cF(e)}function cF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!e})()}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(e)}ml.PrevArrow=function(e){y4(r,e);var t=b4(r);function r(){return g4(this,r),t.apply(this,arguments)}return v4(r,[{key:"clickHandler",value:function(a,s){s&&s.preventDefault(),this.props.clickHandler(a,s)}},{key:"render",value:function(){var a={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(a["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,m4.default)(a),style:{display:"block"},onClick:s},l={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.prevArrow?c=Yo.default.cloneElement(this.props.prevArrow,bh(bh({},o),l)):c=Yo.default.createElement("button",yh({key:"0",type:"button"},o)," ","Previous"),c}}]),r}(Yo.default.PureComponent);ml.NextArrow=function(e){y4(r,e);var t=b4(r);function r(){return g4(this,r),t.apply(this,arguments)}return v4(r,[{key:"clickHandler",value:function(a,s){s&&s.preventDefault(),this.props.clickHandler(a,s)}},{key:"render",value:function(){var a={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,aF.canGoNext)(this.props)||(a["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,m4.default)(a),style:{display:"block"},onClick:s},l={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.nextArrow?c=Yo.default.cloneElement(this.props.nextArrow,bh(bh({},o),l)):c=Yo.default.createElement("button",yh({key:"1",type:"button"},o)," ","Next"),c}}]),r}(Yo.default.PureComponent);var k4=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(a,s){return a[0]===r?(n=s,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},t.prototype.set=function(r,n){var a=e(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,a=e(n,r);~a&&n.splice(a,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,s=this.__entries__;a<s.length;a++){var o=s[a];r.call(n,o[1],o[0])}},t}()}(),xx=typeof window<"u"&&typeof document<"u"&&window.document===document,kh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),dF=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(kh):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),uF=2;function fF(e,t){var r=!1,n=!1,a=0;function s(){r&&(r=!1,e()),n&&l()}function o(){dF(s)}function l(){var c=Date.now();if(r){if(c-a<uF)return;n=!0}else r=!0,n=!1,setTimeout(o,t);a=c}return l}var hF=20,mF=["top","right","bottom","left","width","height","size","weight"],pF=typeof MutationObserver<"u",gF=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=fF(this.refresh.bind(this),hF)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!xx||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pF?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!xx||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,a=mF.some(function(s){return!!~n.indexOf(s)});a&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),j4=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},gl=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||kh},N4=Om(0,0,0,0);function jh(e){return parseFloat(e)||0}function hj(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,a){var s=e["border-"+a+"-width"];return n+jh(s)},0)}function vF(e){for(var t=["top","right","bottom","left"],r={},n=0,a=t;n<a.length;n++){var s=a[n],o=e["padding-"+s];r[s]=jh(o)}return r}function xF(e){var t=e.getBBox();return Om(0,0,t.width,t.height)}function yF(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return N4;var n=gl(e).getComputedStyle(e),a=vF(n),s=a.left+a.right,o=a.top+a.bottom,l=jh(n.width),c=jh(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+s)!==t&&(l-=hj(n,"left","right")+s),Math.round(c+o)!==r&&(c-=hj(n,"top","bottom")+o)),!wF(e)){var d=Math.round(l+s)-t,u=Math.round(c+o)-r;Math.abs(d)!==1&&(l-=d),Math.abs(u)!==1&&(c-=u)}return Om(a.left,a.top,l,c)}var bF=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof gl(e).SVGGraphicsElement}:function(e){return e instanceof gl(e).SVGElement&&typeof e.getBBox=="function"}}();function wF(e){return e===gl(e).document.documentElement}function kF(e){return xx?bF(e)?xF(e):yF(e):N4}function jF(e){var t=e.x,r=e.y,n=e.width,a=e.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return j4(o,{x:t,y:r,width:n,height:a,top:r,right:t+n,bottom:a+r,left:t}),o}function Om(e,t,r,n){return{x:e,y:t,width:r,height:n}}var NF=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Om(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=kF(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),_F=function(){function e(t,r){var n=jF(r);j4(this,{target:t,contentRect:n})}return e}(),SF=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new k4,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof gl(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new NF(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof gl(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new _F(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_4=typeof WeakMap<"u"?new WeakMap:new k4,S4=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=gF.getInstance(),n=new SF(t,r,this);_4.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){S4.prototype[e]=function(){var t;return(t=_4.get(this))[e].apply(t,arguments)}});var CF=function(){return typeof kh.ResizeObserver<"u"?kh.ResizeObserver:S4}();const EF=Object.freeze(Object.defineProperty({__proto__:null,default:CF},Symbol.toStringTag,{value:"Module"})),TF=v_(EF);Object.defineProperty(Tm,"__esModule",{value:!0});Tm.InnerSlider=void 0;var or=Gd(k),DF=Gd(JE),PF=Gd(wz),OF=Gd(qd),ft=ue,IF=Dm,MF=Pm,mj=ml,RF=Gd(TF);function Gd(e){return e&&e.__esModule?e:{default:e}}function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function AF(e,t){if(e==null)return{};var r=LF(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LF(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E4(n.key),n)}}function FF(e,t,r){return t&&zF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yx(e,t)}function yx(e,t){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yx(e,t)}function UF(e){var t=C4();return function(){var n=_h(e),a;if(t){var s=_h(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return WF(this,a)}}function WF(e,t){if(t&&(Ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pe(e)}function Pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!e})()}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_h(e)}function Oe(e,t,r){return t=E4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4(e){var t=HF(e,"string");return Ui(t)=="symbol"?t:String(t)}function HF(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}Tm.InnerSlider=function(e){BF(r,e);var t=UF(r);function r(n){var a;$F(this,r),a=t.call(this,n),Oe(Pe(a),"listRefHandler",function(o){return a.list=o}),Oe(Pe(a),"trackRefHandler",function(o){return a.track=o}),Oe(Pe(a),"adaptHeight",function(){if(a.props.adaptiveHeight&&a.list){var o=a.list.querySelector('[data-index="'.concat(a.state.currentSlide,'"]'));a.list.style.height=(0,ft.getHeight)(o)+"px"}}),Oe(Pe(a),"componentDidMount",function(){if(a.props.onInit&&a.props.onInit(),a.props.lazyLoad){var o=(0,ft.getOnDemandLazySlides)(we(we({},a.props),a.state));o.length>0&&(a.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),a.props.onLazyLoad&&a.props.onLazyLoad(o))}var l=we({listRef:a.list,trackRef:a.track},a.props);a.updateState(l,!0,function(){a.adaptHeight(),a.props.autoplay&&a.autoPlay("update")}),a.props.lazyLoad==="progressive"&&(a.lazyLoadTimer=setInterval(a.progressiveLazyLoad,1e3)),a.ro=new RF.default(function(){a.state.animating?(a.onWindowResized(!1),a.callbackTimers.push(setTimeout(function(){return a.onWindowResized()},a.props.speed))):a.onWindowResized()}),a.ro.observe(a.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(c){c.onfocus=a.props.pauseOnFocus?a.onSlideFocus:null,c.onblur=a.props.pauseOnFocus?a.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",a.onWindowResized):window.attachEvent("onresize",a.onWindowResized)}),Oe(Pe(a),"componentWillUnmount",function(){a.animationEndCallback&&clearTimeout(a.animationEndCallback),a.lazyLoadTimer&&clearInterval(a.lazyLoadTimer),a.callbackTimers.length&&(a.callbackTimers.forEach(function(o){return clearTimeout(o)}),a.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",a.onWindowResized):window.detachEvent("onresize",a.onWindowResized),a.autoplayTimer&&clearInterval(a.autoplayTimer),a.ro.disconnect()}),Oe(Pe(a),"componentDidUpdate",function(o){if(a.checkImagesLoad(),a.props.onReInit&&a.props.onReInit(),a.props.lazyLoad){var l=(0,ft.getOnDemandLazySlides)(we(we({},a.props),a.state));l.length>0&&(a.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(l)}}),a.props.onLazyLoad&&a.props.onLazyLoad(l))}a.adaptHeight();var c=we(we({listRef:a.list,trackRef:a.track},a.props),a.state),d=a.didPropsChange(o);d&&a.updateState(c,d,function(){a.state.currentSlide>=or.default.Children.count(a.props.children)&&a.changeSlide({message:"index",index:or.default.Children.count(a.props.children)-a.props.slidesToShow,currentSlide:a.state.currentSlide}),a.props.autoplay?a.autoPlay("update"):a.pause("paused")})}),Oe(Pe(a),"onWindowResized",function(o){a.debouncedResize&&a.debouncedResize.cancel(),a.debouncedResize=(0,PF.default)(function(){return a.resizeWindow(o)},50),a.debouncedResize()}),Oe(Pe(a),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,l=!!(a.track&&a.track.node);if(l){var c=we(we({listRef:a.list,trackRef:a.track},a.props),a.state);a.updateState(c,o,function(){a.props.autoplay?a.autoPlay("update"):a.pause("paused")}),a.setState({animating:!1}),clearTimeout(a.animationEndCallback),delete a.animationEndCallback}}),Oe(Pe(a),"updateState",function(o,l,c){var d=(0,ft.initializedState)(o);o=we(we(we({},o),d),{},{slideIndex:d.currentSlide});var u=(0,ft.getTrackLeft)(o);o=we(we({},o),{},{left:u});var f=(0,ft.getTrackCSS)(o);(l||or.default.Children.count(a.props.children)!==or.default.Children.count(o.children))&&(d.trackStyle=f),a.setState(d,c)}),Oe(Pe(a),"ssrInit",function(){if(a.props.variableWidth){var o=0,l=0,c=[],d=(0,ft.getPreClones)(we(we(we({},a.props),a.state),{},{slideCount:a.props.children.length})),u=(0,ft.getPostClones)(we(we(we({},a.props),a.state),{},{slideCount:a.props.children.length}));a.props.children.forEach(function(E){c.push(E.props.style.width),o+=E.props.style.width});for(var f=0;f<d;f++)l+=c[c.length-1-f],o+=c[c.length-1-f];for(var h=0;h<u;h++)o+=c[h];for(var m=0;m<a.state.currentSlide;m++)l+=c[m];var y={width:o+"px",left:-l+"px"};if(a.props.centerMode){var v="".concat(c[a.state.currentSlide],"px");y.left="calc(".concat(y.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:y}}var b=or.default.Children.count(a.props.children),g=we(we(we({},a.props),a.state),{},{slideCount:b}),p=(0,ft.getPreClones)(g)+(0,ft.getPostClones)(g)+b,x=100/a.props.slidesToShow*p,w=100/p,_=-w*((0,ft.getPreClones)(g)+a.state.currentSlide)*x/100;a.props.centerMode&&(_+=(100-w*x/100)/2);var S={width:x+"%",left:_+"%"};return{slideWidth:w+"%",trackStyle:S}}),Oe(Pe(a),"checkImagesLoad",function(){var o=a.list&&a.list.querySelectorAll&&a.list.querySelectorAll(".slick-slide img")||[],l=o.length,c=0;Array.prototype.forEach.call(o,function(d){var u=function(){return++c&&c>=l&&a.onWindowResized()};if(!d.onclick)d.onclick=function(){return d.parentNode.focus()};else{var f=d.onclick;d.onclick=function(h){f(h),d.parentNode.focus()}}d.onload||(a.props.lazyLoad?d.onload=function(){a.adaptHeight(),a.callbackTimers.push(setTimeout(a.onWindowResized,a.props.speed))}:(d.onload=u,d.onerror=function(){u(),a.props.onLazyLoadError&&a.props.onLazyLoadError()}))})}),Oe(Pe(a),"progressiveLazyLoad",function(){for(var o=[],l=we(we({},a.props),a.state),c=a.state.currentSlide;c<a.state.slideCount+(0,ft.getPostClones)(l);c++)if(a.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}for(var d=a.state.currentSlide-1;d>=-(0,ft.getPreClones)(l);d--)if(a.state.lazyLoadedList.indexOf(d)<0){o.push(d);break}o.length>0?(a.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),a.props.onLazyLoad&&a.props.onLazyLoad(o)):a.lazyLoadTimer&&(clearInterval(a.lazyLoadTimer),delete a.lazyLoadTimer)}),Oe(Pe(a),"slideHandler",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=a.props,d=c.asNavFor,u=c.beforeChange,f=c.onLazyLoad,h=c.speed,m=c.afterChange,y=a.state.currentSlide,v=(0,ft.slideHandler)(we(we(we({index:o},a.props),a.state),{},{trackRef:a.track,useCSS:a.props.useCSS&&!l})),b=v.state,g=v.nextState;if(b){u&&u(y,b.currentSlide);var p=b.lazyLoadedList.filter(function(x){return a.state.lazyLoadedList.indexOf(x)<0});f&&p.length>0&&f(p),!a.props.waitForAnimate&&a.animationEndCallback&&(clearTimeout(a.animationEndCallback),m&&m(y),delete a.animationEndCallback),a.setState(b,function(){d&&a.asNavForIndex!==o&&(a.asNavForIndex=o,d.innerSlider.slideHandler(o)),g&&(a.animationEndCallback=setTimeout(function(){var x=g.animating,w=AF(g,["animating"]);a.setState(w,function(){a.callbackTimers.push(setTimeout(function(){return a.setState({animating:x})},10)),m&&m(b.currentSlide),delete a.animationEndCallback})},h))})}}),Oe(Pe(a),"changeSlide",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=we(we({},a.props),a.state),d=(0,ft.changeSlide)(c,o);if(!(d!==0&&!d)&&(l===!0?a.slideHandler(d,l):a.slideHandler(d),a.props.autoplay&&a.autoPlay("update"),a.props.focusOnSelect)){var u=a.list.querySelectorAll(".slick-current");u[0]&&u[0].focus()}}),Oe(Pe(a),"clickHandler",function(o){a.clickable===!1&&(o.stopPropagation(),o.preventDefault()),a.clickable=!0}),Oe(Pe(a),"keyHandler",function(o){var l=(0,ft.keyHandler)(o,a.props.accessibility,a.props.rtl);l!==""&&a.changeSlide({message:l})}),Oe(Pe(a),"selectHandler",function(o){a.changeSlide(o)}),Oe(Pe(a),"disableBodyScroll",function(){var o=function(c){c=c||window.event,c.preventDefault&&c.preventDefault(),c.returnValue=!1};window.ontouchmove=o}),Oe(Pe(a),"enableBodyScroll",function(){window.ontouchmove=null}),Oe(Pe(a),"swipeStart",function(o){a.props.verticalSwiping&&a.disableBodyScroll();var l=(0,ft.swipeStart)(o,a.props.swipe,a.props.draggable);l!==""&&a.setState(l)}),Oe(Pe(a),"swipeMove",function(o){var l=(0,ft.swipeMove)(o,we(we(we({},a.props),a.state),{},{trackRef:a.track,listRef:a.list,slideIndex:a.state.currentSlide}));l&&(l.swiping&&(a.clickable=!1),a.setState(l))}),Oe(Pe(a),"swipeEnd",function(o){var l=(0,ft.swipeEnd)(o,we(we(we({},a.props),a.state),{},{trackRef:a.track,listRef:a.list,slideIndex:a.state.currentSlide}));if(l){var c=l.triggerSlideHandler;delete l.triggerSlideHandler,a.setState(l),c!==void 0&&(a.slideHandler(c),a.props.verticalSwiping&&a.enableBodyScroll())}}),Oe(Pe(a),"touchEnd",function(o){a.swipeEnd(o),a.clickable=!0}),Oe(Pe(a),"slickPrev",function(){a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"previous"})},0))}),Oe(Pe(a),"slickNext",function(){a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"next"})},0))}),Oe(Pe(a),"slickGoTo",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";a.callbackTimers.push(setTimeout(function(){return a.changeSlide({message:"index",index:o,currentSlide:a.state.currentSlide},l)},0))}),Oe(Pe(a),"play",function(){var o;if(a.props.rtl)o=a.state.currentSlide-a.props.slidesToScroll;else if((0,ft.canGoNext)(we(we({},a.props),a.state)))o=a.state.currentSlide+a.props.slidesToScroll;else return!1;a.slideHandler(o)}),Oe(Pe(a),"autoPlay",function(o){a.autoplayTimer&&clearInterval(a.autoplayTimer);var l=a.state.autoplaying;if(o==="update"){if(l==="hovered"||l==="focused"||l==="paused")return}else if(o==="leave"){if(l==="paused"||l==="focused")return}else if(o==="blur"&&(l==="paused"||l==="hovered"))return;a.autoplayTimer=setInterval(a.play,a.props.autoplaySpeed+50),a.setState({autoplaying:"playing"})}),Oe(Pe(a),"pause",function(o){a.autoplayTimer&&(clearInterval(a.autoplayTimer),a.autoplayTimer=null);var l=a.state.autoplaying;o==="paused"?a.setState({autoplaying:"paused"}):o==="focused"?(l==="hovered"||l==="playing")&&a.setState({autoplaying:"focused"}):l==="playing"&&a.setState({autoplaying:"hovered"})}),Oe(Pe(a),"onDotsOver",function(){return a.props.autoplay&&a.pause("hovered")}),Oe(Pe(a),"onDotsLeave",function(){return a.props.autoplay&&a.state.autoplaying==="hovered"&&a.autoPlay("leave")}),Oe(Pe(a),"onTrackOver",function(){return a.props.autoplay&&a.pause("hovered")}),Oe(Pe(a),"onTrackLeave",function(){return a.props.autoplay&&a.state.autoplaying==="hovered"&&a.autoPlay("leave")}),Oe(Pe(a),"onSlideFocus",function(){return a.props.autoplay&&a.pause("focused")}),Oe(Pe(a),"onSlideBlur",function(){return a.props.autoplay&&a.state.autoplaying==="focused"&&a.autoPlay("blur")}),Oe(Pe(a),"render",function(){var o=(0,OF.default)("slick-slider",a.props.className,{"slick-vertical":a.props.vertical,"slick-initialized":!0}),l=we(we({},a.props),a.state),c=(0,ft.extractObject)(l,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=a.props.pauseOnHover;c=we(we({},c),{},{onMouseEnter:d?a.onTrackOver:null,onMouseLeave:d?a.onTrackLeave:null,onMouseOver:d?a.onTrackOver:null,focusOnSelect:a.props.focusOnSelect&&a.clickable?a.selectHandler:null});var u;if(a.props.dots===!0&&a.state.slideCount>=a.props.slidesToShow){var f=(0,ft.extractObject)(l,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),h=a.props.pauseOnDotsHover;f=we(we({},f),{},{clickHandler:a.changeSlide,onMouseEnter:h?a.onDotsLeave:null,onMouseOver:h?a.onDotsOver:null,onMouseLeave:h?a.onDotsLeave:null}),u=or.default.createElement(MF.Dots,f)}var m,y,v=(0,ft.extractObject)(l,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=a.changeSlide,a.props.arrows&&(m=or.default.createElement(mj.PrevArrow,v),y=or.default.createElement(mj.NextArrow,v));var b=null;a.props.vertical&&(b={height:a.state.listHeight});var g=null;a.props.vertical===!1?a.props.centerMode===!0&&(g={padding:"0px "+a.props.centerPadding}):a.props.centerMode===!0&&(g={padding:a.props.centerPadding+" 0px"});var p=we(we({},b),g),x=a.props.touchMove,w={className:"slick-list",style:p,onClick:a.clickHandler,onMouseDown:x?a.swipeStart:null,onMouseMove:a.state.dragging&&x?a.swipeMove:null,onMouseUp:x?a.swipeEnd:null,onMouseLeave:a.state.dragging&&x?a.swipeEnd:null,onTouchStart:x?a.swipeStart:null,onTouchMove:a.state.dragging&&x?a.swipeMove:null,onTouchEnd:x?a.touchEnd:null,onTouchCancel:a.state.dragging&&x?a.swipeEnd:null,onKeyDown:a.props.accessibility?a.keyHandler:null},_={className:o,dir:"ltr",style:a.props.style};return a.props.unslick&&(w={className:"slick-list"},_={className:o}),or.default.createElement("div",_,a.props.unslick?"":m,or.default.createElement("div",Nh({ref:a.listRefHandler},w),or.default.createElement(IF.Track,Nh({ref:a.trackRefHandler},c),a.props.children)),a.props.unslick?"":y,a.props.unslick?"":u)}),a.list=null,a.track=null,a.state=we(we({},DF.default),{},{currentSlide:a.props.initialSlide,targetSlide:a.props.initialSlide?a.props.initialSlide:0,slideCount:or.default.Children.count(a.props.children)}),a.callbackTimers=[],a.clickable=!0,a.debouncedResize=null;var s=a.ssrInit();return a.state=we(we({},a.state),s),a}return FF(r,[{key:"didPropsChange",value:function(a){for(var s=!1,o=0,l=Object.keys(this.props);o<l.length;o++){var c=l[o];if(!a.hasOwnProperty(c)){s=!0;break}if(!(Ui(a[c])==="object"||typeof a[c]=="function"||isNaN(a[c]))&&a[c]!==this.props[c]){s=!0;break}}return s||or.default.Children.count(this.props.children)!==or.default.Children.count(a.children)}}]),r}(or.default.Component);var VF=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()},qF=VF,GF=qF,YF=function(e){var t=/[height|width]$/;return t.test(e)},gj=function(e){var t="",r=Object.keys(e);return r.forEach(function(n,a){var s=e[n];n=GF(n),YF(n)&&typeof s=="number"&&(s=s+"px"),s===!0?t+=n:s===!1?t+="not "+n:t+="("+n+": "+s+")",a<r.length-1&&(t+=" and ")}),t},XF=function(e){var t="";return typeof e=="string"?e:e instanceof Array?(e.forEach(function(r,n){t+=gj(r),n<e.length-1&&(t+=", ")}),t):gj(e)},KF=XF,vg,vj;function JF(){if(vj)return vg;vj=1;function e(t){this.options=t,!t.deferSetup&&this.setup()}return e.prototype={constructor:e,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},vg=e,vg}var xg,xj;function T4(){if(xj)return xg;xj=1;function e(n,a){var s=0,o=n.length,l;for(s;s<o&&(l=a(n[s],s),l!==!1);s++);}function t(n){return Object.prototype.toString.apply(n)==="[object Array]"}function r(n){return typeof n=="function"}return xg={isFunction:r,isArray:t,each:e},xg}var yg,yj;function QF(){if(yj)return yg;yj=1;var e=JF(),t=T4().each;function r(n,a){this.query=n,this.isUnconditional=a,this.handlers=[],this.mql=window.matchMedia(n);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return r.prototype={constuctor:r,addHandler:function(n){var a=new e(n);this.handlers.push(a),this.matches()&&a.on()},removeHandler:function(n){var a=this.handlers;t(a,function(s,o){if(s.equals(n))return s.destroy(),!a.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(n){n.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var n=this.matches()?"on":"off";t(this.handlers,function(a){a[n]()})}},yg=r,yg}var bg,bj;function ZF(){if(bj)return bg;bj=1;var e=QF(),t=T4(),r=t.each,n=t.isFunction,a=t.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,l,c){var d=this.queries,u=c&&this.browserIsIncapable;return d[o]||(d[o]=new e(o,u)),n(l)&&(l={match:l}),a(l)||(l=[l]),r(l,function(f){n(f)&&(f={match:f}),d[o].addHandler(f)}),this},unregister:function(o,l){var c=this.queries[o];return c&&(l?c.removeHandler(l):(c.clear(),delete this.queries[o])),this}},bg=s,bg}var wg,wj;function eB(){if(wj)return wg;wj=1;var e=ZF();return wg=new e,wg}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(k),r=Tm,n=o(KF),a=o(Sb),s=ue;function o(T){return T&&T.__esModule?T:{default:T}}function l(T){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},l(T)}function c(){return c=Object.assign?Object.assign.bind():function(T){for(var D=1;D<arguments.length;D++){var R=arguments[D];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(T[N]=R[N])}return T},c.apply(this,arguments)}function d(T,D){var R=Object.keys(T);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(T);D&&(N=N.filter(function(C){return Object.getOwnPropertyDescriptor(T,C).enumerable})),R.push.apply(R,N)}return R}function u(T){for(var D=1;D<arguments.length;D++){var R=arguments[D]!=null?arguments[D]:{};D%2?d(Object(R),!0).forEach(function(N){_(T,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(R)):d(Object(R)).forEach(function(N){Object.defineProperty(T,N,Object.getOwnPropertyDescriptor(R,N))})}return T}function f(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}function h(T,D){for(var R=0;R<D.length;R++){var N=D[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,S(N.key),N)}}function m(T,D,R){return D&&h(T.prototype,D),Object.defineProperty(T,"prototype",{writable:!1}),T}function y(T,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(D&&D.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),D&&v(T,D)}function v(T,D){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,C){return N.__proto__=C,N},v(T,D)}function b(T){var D=x();return function(){var N=w(T),C;if(D){var j=w(this).constructor;C=Reflect.construct(N,arguments,j)}else C=N.apply(this,arguments);return g(this,C)}}function g(T,D){if(D&&(l(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(T)}function p(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function x(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!T})()}function w(T){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},w(T)}function _(T,D,R){return D=S(D),D in T?Object.defineProperty(T,D,{value:R,enumerable:!0,configurable:!0,writable:!0}):T[D]=R,T}function S(T){var D=E(T,"string");return l(D)=="symbol"?D:String(D)}function E(T,D){if(l(T)!="object"||!T)return T;var R=T[Symbol.toPrimitive];if(R!==void 0){var N=R.call(T,D);if(l(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(T)}var O=(0,s.canUseDOM)()&&eB();e.default=function(T){y(R,T);var D=b(R);function R(N){var C;return f(this,R),C=D.call(this,N),_(p(C),"innerSliderRefHandler",function(j){return C.innerSlider=j}),_(p(C),"slickPrev",function(){return C.innerSlider.slickPrev()}),_(p(C),"slickNext",function(){return C.innerSlider.slickNext()}),_(p(C),"slickGoTo",function(j){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C.innerSlider.slickGoTo(j,I)}),_(p(C),"slickPause",function(){return C.innerSlider.pause("paused")}),_(p(C),"slickPlay",function(){return C.innerSlider.autoPlay("play")}),C.state={breakpoint:null},C._responsiveMediaHandlers=[],C}return m(R,[{key:"media",value:function(C,j){O.register(C,j),this._responsiveMediaHandlers.push({query:C,handler:j})}},{key:"componentDidMount",value:function(){var C=this;if(this.props.responsive){var j=this.props.responsive.map(function(B){return B.breakpoint});j.sort(function(B,P){return B-P}),j.forEach(function(B,P){var A;P===0?A=(0,n.default)({minWidth:0,maxWidth:B}):A=(0,n.default)({minWidth:j[P-1]+1,maxWidth:B}),(0,s.canUseDOM)()&&C.media(A,function(){C.setState({breakpoint:B})})});var I=(0,n.default)({minWidth:j.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(I,function(){C.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(C){O.unregister(C.query,C.handler)})}},{key:"render",value:function(){var C=this,j,I;this.state.breakpoint?(I=this.props.responsive.filter(function(H){return H.breakpoint===C.state.breakpoint}),j=I[0].settings==="unslick"?"unslick":u(u(u({},a.default),this.props),I[0].settings)):j=u(u({},a.default),this.props),j.centerMode&&(j.slidesToScroll>1,j.slidesToScroll=1),j.fade&&(j.slidesToShow>1,j.slidesToScroll>1,j.slidesToShow=1,j.slidesToScroll=1);var B=t.default.Children.toArray(this.props.children);B=B.filter(function(H){return typeof H=="string"?!!H.trim():!!H}),j.variableWidth&&(j.rows>1||j.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),j.variableWidth=!1);for(var P=[],A=null,F=0;F<B.length;F+=j.rows*j.slidesPerRow){for(var L=[],$=F;$<F+j.rows*j.slidesPerRow;$+=j.slidesPerRow){for(var z=[],q=$;q<$+j.slidesPerRow&&(j.variableWidth&&B[q].props.style&&(A=B[q].props.style.width),!(q>=B.length));q+=1)z.push(t.default.cloneElement(B[q],{key:100*F+10*$+q,tabIndex:-1,style:{width:"".concat(100/j.slidesPerRow,"%"),display:"inline-block"}}));L.push(t.default.createElement("div",{key:10*F+$},z))}j.variableWidth?P.push(t.default.createElement("div",{key:F,style:{width:A}},L)):P.push(t.default.createElement("div",{key:F},L))}if(j==="unslick"){var K="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:K},B)}else P.length<=j.slidesToShow&&!j.infinite&&(j.unslick=!0);return t.default.createElement(r.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(j)),P)}}]),R}(t.default.Component)})(KE);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(KE);function r(n){return n&&n.__esModule?n:{default:n}}e.default=t.default})(XE);const tB=pa(XE),rB=({events:e,titleStyle:t={},descriptionStyle:r={},desktopTitleStyle:n={},desktopDescriptionStyle:a={},formatTimeRange:s})=>{const[o,l]=k.useState(0),c=f=>{if(oa(f.start_at))try{return pr(f.start_at,"d MMMM")}catch(h){console.error("Error formatting start_at:",f.start_at,h)}if(oa(f.start_time))try{return pr(f.start_time,"d MMMM")}catch(h){console.error("Error formatting start_time:",f.start_time,h)}if(oa(f.date))try{return pr(f.date,"d MMMM")}catch(h){console.error("Error formatting date:",f.date,h)}return"Дата не указана"},d=f=>{try{return f.start_at&&f.end_at?s?s(f.start_at,f.end_at):ia(f.start_at,f.end_at):f.start_time&&f.end_time?s?s(f.start_time,f.end_time):ia(f.start_time,f.end_time):""}catch(h){return console.error("Error formatting time range:",h),""}},u={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,beforeChange:(f,h)=>l(h),customPaging:f=>i.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${f===o?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`}),responsive:[{breakpoint:1024,settings:{arrows:!1}}]};return e.length===0?null:i.jsxs("div",{className:"relative",children:[i.jsx(tB,{...u,className:"events-slideshow",children:e.map((f,h)=>!f||!f.id?(console.warn("Invalid event data at index:",h,f),null):i.jsxs("div",{className:"relative h-[300px] sm:h-[400px] md:h-[500px]",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${bt(f.bg_image)})`,backgroundPosition:"center 30%"},children:i.jsx("div",{className:"absolute inset-0 bg-black/50"})}),i.jsx("div",{className:"relative h-full flex items-center",children:i.jsxs("div",{className:"container px-4 sm:px-6",children:[i.jsxs("div",{className:"hidden md:block max-w-2xl text-white",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",style:n,children:f.title||"Название не указано"}),i.jsx("p",{className:"text-base md:text-lg mb-6 line-clamp-2",style:a,children:f.short_description||"Описание отсутствует"}),i.jsx("div",{className:"flex flex-row flex-wrap gap-6 mb-8 text-white/90",children:i.jsx(Te,{to:`/events/${f.id}`,className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all duration-300 group","aria-label":"Подробнее о мероприятии",children:i.jsx(Bn,{className:"h-6 w-6 text-white group-hover:translate-x-1 transition-transform"})})}),i.jsxs("div",{className:"flex items-center gap-2 text-base",children:[i.jsx(_e,{className:"h-5 w-5"}),i.jsxs("span",{children:[c(f),d(f)&&i.jsxs(i.Fragment,{children:[" • ",d(f)]})]})]})]}),i.jsx("div",{className:"md:hidden absolute bottom-6 left-0 right-0 px-4 sm:px-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap justify-between items-start sm:items-center gap-3 text-white",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm sm:text-base",children:[i.jsx(_e,{className:"h-4 w-4 sm:h-5 sm:w-5"}),i.jsxs("span",{children:[c(f),d(f)&&i.jsxs(i.Fragment,{children:[" • ",d(f)]})]})]}),i.jsx(Te,{to:`/events/${f.id}`,className:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm transition-all duration-300 group","aria-label":"Подробнее о мероприятии",children:i.jsx(Bn,{className:"h-5 w-5 text-white group-hover:translate-x-1 transition-transform"})})]})})]})})]},f.id))}),i.jsx("div",{className:"md:hidden container px-4 sm:px-6 mt-4",children:e.map((f,h)=>!f||!f.id?null:i.jsxs("div",{className:`${h===o?"block":"hidden"}`,children:[i.jsx("h2",{className:"text-xl font-bold mb-2",style:t,children:f.title||"Название не указано"}),i.jsx("p",{className:"text-sm line-clamp-2",style:r,children:f.short_description||"Описание отсутствует"})]},f.id))}),i.jsx("style",{jsx:!0,global:!0,children:`
        .events-slideshow .slick-dots {
          bottom: 20px;
        }
        .events-slideshow .slick-dots li {
          margin: 0 4px;
        }
        @media (max-width: 640px) {
          .events-slideshow .slick-dots {
            bottom: 10px;
          }
        }
      `})]})},kg=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),nB=()=>{var F,L,$;const{user:e}=to(),[t,r]=k.useState(""),[n,a]=k.useState("start-asc"),[s,o]=k.useState("grid"),[l,c]=k.useState("all"),[d,u]=k.useState({active:[],past:[]}),[f,h]=k.useState(!0),[m,y]=k.useState(null),[v,b]=k.useState(10),[g,p]=k.useState(!1),[x,w]=k.useState(!1),[_,S]=k.useState([]),[E,O]=k.useState([]),{favoriteEvents:T,isFavoriteEvent:D}=_b(e==null?void 0:e.id),R=async()=>{try{const{data:z,error:q}=await kg.from("events").select("event_type").eq("status","active");if(q)throw q;const K=Array.from(new Set(z.map(H=>H.event_type)));S(K)}catch(z){console.error("Error fetching event types:",z),X.error("Не удалось загрузить типы мероприятий")}},N=async()=>{try{h(!0);let z=kg.from("events").select(`
          *,
          time_slot:time_slots_table!fk_time_slots_event(
            id,
            start_at,
            end_at
          )
        `).eq("status","active");E.length>0&&(z=z.in("event_type",E));const{data:q,error:K}=await z;if(K)throw K;const H=(q||[]).map(ve=>{var M,J,G,W;return{...ve,start_at:((J=(M=ve.time_slot)==null?void 0:M[0])==null?void 0:J.start_at)||ve.start_at,end_at:((W=(G=ve.time_slot)==null?void 0:G[0])==null?void 0:W.end_at)||ve.end_at}});let ne=[...H.filter(ve=>ve.end_at?!ps(ve.end_at):!0)];switch(n){case"start-asc":ne.sort((ve,M)=>new Date(ve.start_at||0).getTime()-new Date(M.start_at||0).getTime());break;case"start-desc":ne.sort((ve,M)=>new Date(M.start_at||0).getTime()-new Date(ve.start_at||0).getTime());break;case"title-asc":ne.sort((ve,M)=>ve.title.localeCompare(M.title));break;case"title-desc":ne.sort((ve,M)=>M.title.localeCompare(ve.title));break}const{data:re,error:ae}=await kg.from("events").select(`
          *,
          time_slot:time_slots_table!fk_time_slots_event(
            id,
            start_at,
            end_at
          )
        `).or("status.eq.past").order("start_at",{ascending:!1,foreignTable:"time_slot"}).limit(6);if(ae)throw ae;const me=(re||[]).map(ve=>{var M,J,G,W;return{...ve,start_at:((J=(M=ve.time_slot)==null?void 0:M[0])==null?void 0:J.start_at)||ve.start_at,end_at:((W=(G=ve.time_slot)==null?void 0:G[0])==null?void 0:W.end_at)||ve.end_at}}),fe=H.filter(ve=>ve.end_at&&ps(ve.end_at)),De=[...me,...fe].sort((ve,M)=>new Date(M.start_at||0).getTime()-new Date(ve.start_at||0).getTime()).slice(0,6);u({active:ne,past:De})}catch(z){console.error("Error fetching events:",z),y("Не удалось загрузить мероприятия"),X.error("Не удалось загрузить мероприятия")}finally{h(!1)}};k.useEffect(()=>{R()},[]),k.useEffect(()=>{window.scrollTo(0,0),N()},[n,E]);const C=z=>{O(q=>q.includes(z)?q.filter(K=>K!==z):[...q,z])},j=()=>{O([]),r(""),c("all")},I=k.useMemo(()=>{let z=d.active||[];if(t){const q=t.toLowerCase();z=z.filter(K=>K.title.toLowerCase().includes(q)||K.description.toLowerCase().includes(q))}return l==="favorites"&&(z=z.filter(q=>D(q.id))),z},[d.active,t,l,D]),B=k.useMemo(()=>{var z;return(z=d.active)==null?void 0:z.slice().sort((q,K)=>new Date(q.start_at||0).getTime()-new Date(K.start_at||0).getTime()).slice(0,5)},[d.active]),P=()=>{b(z=>z+10)},A=[{value:"start-asc",label:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(YC,{className:"h-4 w-4"})," Дата"]})},{value:"start-desc",label:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qC,{className:"h-4 w-4"})," Дата"]})},{value:"title-asc",label:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(OM,{className:"h-4 w-4"})," Название"]})},{value:"title-desc",label:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(PM,{className:"h-4 w-4"})," Название"]})}];return f?i.jsx(ut,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):m?i.jsx(ut,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:m})}):i.jsxs(ut,{children:[i.jsx("div",{className:"relative",children:i.jsx(rB,{events:B,titleStyle:{fontSize:"1.25rem"},descriptionStyle:{fontSize:"0.875rem"},desktopTitleStyle:{fontSize:"1.75rem"},desktopDescriptionStyle:{fontSize:"1.125rem"},formatTimeRange:ia})}),i.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsx("div",{className:"container px-4",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsxs("div",{className:"lg:flex-1",children:[i.jsxs("div",{className:"mb-6 space-y-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 justify-between",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{type:"text",placeholder:"Поиск мероприятий...",value:t,onChange:z=>r(z.target.value),className:"w-full px-4 py-2 pl-10 border border-dark-300 dark:border-dark-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-dark-800"}),i.jsx(ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-dark-400"})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>w(!x),className:`flex items-center gap-2 px-4 py-2 border rounded-md ${E.length>0?"bg-primary-100 dark:bg-primary-900 border-primary-500 text-primary-800 dark:text-primary-200":"border-dark-300 dark:border-dark-700 bg-white dark:bg-dark-800"}`,children:[i.jsx(oh,{className:"h-5 w-5"}),i.jsx("span",{children:"Фильтры"}),E.length>0&&i.jsx("span",{className:"bg-primary-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:E.length})]}),x&&i.jsxs("div",{className:"absolute right-0 mt-1 w-64 bg-white dark:bg-dark-800 border border-dark-300 dark:border-dark-700 rounded-md shadow-lg py-2 z-50",children:[i.jsxs("div",{className:"px-4 py-2 border-b border-dark-200 dark:border-dark-700 flex justify-between items-center",children:[i.jsx("p",{className:"font-medium",children:"Типы мероприятий"}),i.jsx("button",{onClick:j,className:"text-sm text-primary-600 dark:text-primary-400 hover:underline",children:"Сбросить"})]}),i.jsx("div",{className:"max-h-60 overflow-y-auto",children:_.map(z=>i.jsxs("label",{className:"flex items-center px-4 py-2 hover:bg-gray-100 dark:hover:bg-dark-700 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:E.includes(z),onChange:()=>C(z),className:"rounded text-primary-600 dark:text-primary-400 focus:ring-primary-500 dark:focus:ring-primary-400"}),i.jsx("span",{className:"ml-2",children:z})]},z))})]})]})]}),i.jsxs("div",{className:"flex gap-3 items-center",children:[i.jsxs("div",{className:"flex rounded-md shadow-sm",children:[i.jsx("button",{className:`p-2 border border-dark-300 dark:border-dark-700 rounded-l-md ${s==="grid"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-dark-800"}`,onClick:()=>o("grid"),title:"Сетка",children:i.jsx(XM,{className:"h-5 w-5"})}),i.jsx("button",{className:`p-2 border border-dark-300 dark:border-dark-700 rounded-r-md ${s==="list"?"bg-primary-600 text-white border-primary-600":"bg-white dark:bg-dark-800"}`,onClick:()=>o("list"),title:"Список",children:i.jsx(db,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"relative",style:{zIndex:999},children:[i.jsxs("button",{onClick:()=>p(!g),className:"flex items-center gap-2 px-3 py-2 border border-dark-300 dark:border-dark-700 rounded-md bg-white dark:bg-dark-800",children:[(F=A.find(z=>z.value===n))==null?void 0:F.label,i.jsx(pd,{className:`h-4 w-4 transition-transform ${g?"rotate-180":""}`})]}),g&&i.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-dark-800 border border-dark-300 dark:border-dark-700 rounded-md shadow-lg py-1 z-50",children:A.map(z=>i.jsx("button",{onClick:()=>{a(z.value),p(!1)},className:`w-full text-left px-4 py-2 text-sm flex items-center gap-2 ${n===z.value?"bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200":"hover:bg-gray-100 dark:hover:bg-dark-700"}`,children:z.label},z.value))})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(oh,{className:"h-4 w-4 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Показать:"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>c("all"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${l==="all"?"bg-primary-500 text-white":"bg-gray-200 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-dark-600"}`,children:"Все мероприятия"}),e&&i.jsxs("button",{onClick:()=>c("favorites"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors flex items-center gap-1 ${l==="favorites"?"bg-red-500 text-white":"bg-gray-200 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-dark-600"}`,children:[i.jsx(xn,{className:`h-4 w-4 ${l==="favorites"?"fill-current":""}`}),"Избранные (",T.length,")"]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[i.jsxs("span",{children:["Показано: ",I.length," из ",((L=d.active)==null?void 0:L.length)||0]}),e&&T.length>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(xn,{className:"h-4 w-4 text-red-500 fill-current"}),T.length," в избранном"]})]})]})]}),!e&&i.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["💡 ",i.jsx("strong",{children:"Совет:"})," Войдите в систему, чтобы добавлять мероприятия в избранное и создавать персональные списки."]})}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Предстоящие мероприятия"}),(E.length>0||l==="favorites")&&i.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[l==="favorites"&&i.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200",children:[i.jsx(xn,{className:"h-3 w-3 mr-1 fill-current"}),"Избранные",i.jsx("button",{onClick:()=>c("all"),className:"ml-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",children:"×"})]}),E.map(z=>i.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200",children:[z,i.jsx("button",{onClick:()=>C(z),className:"ml-2 text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200",children:"×"})]},z)),i.jsx("button",{onClick:j,className:"text-sm text-primary-600 dark:text-primary-400 hover:underline ml-2",children:"Очистить все"})]}),I.length===0&&!f&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"mb-4",children:l==="favorites"?i.jsx(xn,{className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600"}):i.jsx(ua,{className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:l==="favorites"?"Нет избранных мероприятий":"Мероприятия не найдены"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:l==="favorites"?"Добавьте мероприятия в избранное, нажав на ❤️ в их карточках":t?`По запросу "${t}" ничего не найдено. Попробуйте изменить поисковый запрос.`:"Попробуйте изменить фильтры или поисковый запрос."}),l==="favorites"&&i.jsx("button",{onClick:()=>c("all"),className:"btn btn-primary",children:"Посмотреть все мероприятия"})]}),I.length>0&&i.jsx(nz,{events:I.slice(0,v),type:"upcoming",searchQuery:"",viewMode:s,formatTimeRange:ia}),I.length>v&&i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:P,className:"px-6 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors dark:bg-primary/20 dark:hover:bg-primary/30",children:"Показать еще"})})]})]}),(($=d.past)==null?void 0:$.length)>0&&i.jsxs("div",{className:"lg:w-72 xl:w-80",children:[i.jsx("h2",{className:"text-xl font-semibold mb-3 pb-2 border-b border-dark-200 dark:border-dark-700",children:"Прошедшие мероприятия"}),i.jsx("div",{className:"space-y-3",children:d.past.map(z=>i.jsxs(Te,{to:`/events/${z.id}`,className:"flex gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-14 h-14 bg-cover bg-center rounded",style:{backgroundImage:z.bg_image?`url(https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${z.bg_image})`:"url(https://via.placeholder.com/100?text=No+image)"}})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-sm line-clamp-2",children:z.title}),i.jsxs("div",{className:"flex items-center text-xs text-dark-500 dark:text-dark-400 mt-1",children:[i.jsx(_e,{className:"h-3 w-3 mr-1"}),i.jsx("span",{children:z.start_at?pr(z.start_at):"Дата не указана"})]}),z.start_at&&z.end_at&&i.jsxs("div",{className:"flex items-center text-xs text-dark-500 dark:text-dark-400 mt-1",children:[i.jsx(gr,{className:"h-3 w-3 mr-1"}),i.jsx("span",{children:ia(z.start_at,z.end_at)})]})]})]},z.id))})]})]})})})]})},aB=async(e,t,r,n="pending")=>{try{const{error:a}=await de.rpc("sync_user_registration",{p_user_id:e,p_event_id:t,p_registration_id:r.id,p_full_name:r.full_name,p_email:r.email,p_adult_tickets:r.adult_tickets,p_child_tickets:r.child_tickets,p_total_amount:r.total_amount,p_status:r.status?"active":"cancelled",p_qr_code:r.qr_code,p_payment_status:n,p_registration_date:r.created_at});if(a)throw console.error("Error syncing user registration:",a),a}catch(a){throw console.error("Failed to sync user registration:",a),a}},sB=({isOpen:e,onClose:t,event:r})=>{const{user:n}=to(),[a,s]=k.useState({name:"",contact:"",phone:"",comment:"",adultTickets:1,childTickets:0}),[o,l]=k.useState(!1),[c,d]=k.useState(!1),[u,f]=k.useState(null);k.useEffect(()=>{e&&n&&s(x=>({...x,name:x.name||n.name||"",contact:x.contact||n.email||""}))},[e,n]);const h=r.payment_type==="free"||r.payment_type==="donation",m=x=>Math.ceil(x/100)*100,y=()=>{if(h)return 0;let x=0,w=0;if(r.couple_discount&&a.adultTickets>=2){const _=Math.floor(a.adultTickets/2),S=a.adultTickets%2,E=r.price*2*(1-r.couple_discount/100);x=_*m(E)+S*r.price}else x=a.adultTickets*r.price;if(!r.adults_only){const _=r.child_half_price?r.price/2:r.price;w=a.childTickets*_}return x+w},v=()=>{if(h)return null;const x=[],w=a.adultTickets,_=r.adults_only?0:a.childTickets;if(r.couple_discount&&w>=2){const S=Math.floor(w/2),O=w%2*r.price,T=r.price*2*(1-r.couple_discount/100),D=m(T);x.push(i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Взрослые (",w,"×)",S>0&&i.jsxs("span",{className:"text-xs text-green-500 dark:text-green-400 ml-1",children:["(",S,"×2 со скидкой ",r.couple_discount,"%)"]})]}),i.jsxs("span",{children:[S>0&&i.jsx("span",{className:"text-xs line-through text-gray-500 dark:text-gray-400 mr-1",children:r.price*2*S}),S*D+O," ",r.currency]})]},"adult"))}else x.push(i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Взрослые (",w,"×)"]}),i.jsxs("span",{children:[w*r.price," ",r.currency]})]},"adult"));if(!r.adults_only&&_>0){const S=r.child_half_price?r.price/2:r.price;x.push(i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Дети (",_,"×)",r.child_half_price&&i.jsx("span",{className:"text-xs text-green-500 dark:text-green-400 ml-1",children:"(50% скидка)"})]}),i.jsxs("span",{children:[S*_," ",r.currency]})]},"child"))}return x},b=async x=>{x.preventDefault(),l(!0);try{const w=y(),_=crypto.randomUUID(),S={id:_,full_name:a.name,email:a.contact,phone:a.phone,comment:a.comment,adult_tickets:Number(a.adultTickets),child_tickets:Number(r.adults_only?0:a.childTickets),total_amount:Number(w),status:!0,qr_code:_,created_at:new Date().toISOString(),payment_link_clicked:!1},E=await fetch("https://jfvinriqydjtwsmayxix.supabase.co/functions/v1/register-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"},body:JSON.stringify({eventId:r.id,registrationData:S})});if(!E.ok){const T=await E.json();throw new Error(T.error||"Failed to register for event")}const O=await E.json();if(n)try{await aB(n.id,r.id,S,h?"free":"pending"),console.log("User registration synced successfully")}catch(T){console.error("Failed to sync user registration:",T)}f({id:_,fullName:a.name,email:a.contact,adultTickets:a.adultTickets,childTickets:r.adults_only?0:a.childTickets,total:w}),d(!0),X.success("Регистрация успешна!")}catch(w){console.error("Registration error:",w),X.error("Ошибка при регистрации: "+(w instanceof Error?w.message:"Неизвестная ошибка"))}finally{l(!1)}},g=(x,w=0)=>Array.from({length:x-w+1},(_,S)=>w+S),p=()=>{s({name:"",contact:"",phone:"",comment:"",adultTickets:1,childTickets:0}),d(!1),f(null),t()};return i.jsx(Il,{isOpen:e,onClose:p,title:r.title,size:"md",children:i.jsx("div",{className:"p-3 space-y-3",children:c&&u?i.jsxs("div",{className:"text-center py-6 space-y-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:i.jsx(ll,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Регистрация успешна!"}),i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Имя:"})," ",u.fullName]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",u.email]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Билеты:"})," ",u.adultTickets," взрослых, ",u.childTickets," детей"]}),u.total>0&&i.jsxs("p",{children:[i.jsx("strong",{children:"Сумма:"})," ",u.total," ",r.currency]}),i.jsxs("p",{children:[i.jsx("strong",{children:"ID регистрации:"})," ",u.id]})]})]}),i.jsx("button",{onClick:p,className:"w-full border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 py-2 px-4 rounded text-sm text-gray-700 dark:text-gray-200",children:"Закрыть"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(_e,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),i.jsx("span",{children:pr(r.start_at,"dd.MM.yyyy")})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(gr,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),i.jsx("span",{children:fa(r.start_at)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Pt,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),i.jsx("span",{className:"line-clamp-1 max-w-[100px]",children:r.location})]}),!h&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(zd,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),i.jsxs("span",{children:[r.price," ",r.currency]})]})]}),i.jsxs("form",{onSubmit:b,className:"space-y-3",children:[i.jsx("input",{type:"text",placeholder:"Ваше имя",value:a.name,onChange:x=>s({...a,name:x.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",required:!0}),i.jsx("input",{type:"email",placeholder:"Email",value:a.contact,onChange:x=>s({...a,contact:x.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",required:!0}),i.jsx("input",{type:"tel",placeholder:"Телефон",value:a.phone,onChange:x=>s({...a,phone:x.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),i.jsx("textarea",{placeholder:"Комментарий",value:a.comment,onChange:x=>s({...a,comment:x.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",rows:3}),!h&&i.jsxs("div",{className:`flex gap-2 ${r.adults_only?"justify-center":""}`,children:[i.jsxs("div",{className:r.adults_only?"w-full":"flex-1",children:[i.jsx("label",{className:"block text-xs font-medium mb-1",children:"Взрослых билетов"}),i.jsx("select",{value:a.adultTickets,onChange:x=>s({...a,adultTickets:Number(x.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700",children:g(10,1).map(x=>i.jsx("option",{value:x,children:x},x))})]}),!r.adults_only&&i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-xs font-medium mb-1",children:"Детских билетов"}),i.jsx("select",{value:a.childTickets,onChange:x=>s({...a,childTickets:Number(x.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-2 text-sm bg-white dark:bg-gray-700",children:g(10,0).map(x=>i.jsx("option",{value:x,children:x},x))})]})]}),!h&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded text-sm",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Детализация стоимости:"}),i.jsxs("div",{className:"space-y-1",children:[v(),i.jsxs("div",{className:"border-t pt-1 mt-2 font-semibold flex justify-between",children:[i.jsx("span",{children:"Итого:"}),i.jsxs("span",{children:[y()," ",r.currency]})]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsx("button",{type:"button",onClick:p,className:"flex-1 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 py-2 px-4 rounded text-sm text-gray-700 dark:text-gray-200",children:"Отмена"}),i.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white py-2 px-4 rounded text-sm transition-colors",children:o?"...":"Подтвердить"})]})]})]})})})},iB=({isOpen:e,onClose:t,onSelectOption:r,hasOnlinePayment:n,paymentType:a,paymentLink:s})=>{const o=k.useRef(null);return k.useEffect(()=>{if(e&&a==="widget"&&o.current){o.current.innerHTML="";const l=document.createElement("div");l.className="oblakkarte-widget",l.setAttribute("data-organizer-public-token","Yi0idjZg"),l.setAttribute("data-event-id","YOUR_EVENT_ID"),o.current.appendChild(l),window.OblakkarteWidget&&window.OblakkarteWidget.init()}},[e,a]),i.jsxs(Il,{isOpen:e,onClose:t,title:"Выберите способ оплаты",size:"md",children:[i.jsxs("div",{className:"space-y-4",children:[n&&a==="widget"?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{ref:o,className:"w-full"}),i.jsxs("button",{onClick:()=>r("venue"),className:"w-full p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors flex items-center gap-4",children:[i.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-full",children:i.jsx(Pt,{className:"h-6 w-6 text-gray-600 dark:text-gray-400"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-medium",children:"Оплата на месте"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Оплатите при посещении мероприятия"})]})]})]}):n&&i.jsxs("button",{onClick:()=>r("online"),className:"w-full p-4 border-2 border-primary-500 rounded-lg hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors flex items-center gap-4",children:[i.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-full",children:i.jsx(zd,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-medium",children:"Онлайн оплата"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Оплатите сейчас картой или электронным кошельком"})]})]}),a!=="widget"&&i.jsxs("button",{onClick:()=>r("venue"),className:"w-full p-4 border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors flex items-center gap-4",children:[i.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-full",children:i.jsx(Pt,{className:"h-6 w-6 text-gray-600 dark:text-gray-400"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-medium",children:"Оплата на месте"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Оплатите при посещении мероприятия"})]})]})]}),i.jsx("button",{onClick:t,className:"mt-6 w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Отмена"})]})},kj=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),oB=e=>{if(!e)return[];if(Array.isArray(e))return e;if(typeof e=="string")try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(t){return console.error("Error parsing photo_gallery JSON:",t),[]}return[]},bx=e=>{if(!e)return i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Описание отсутствует"});const t=[];let r=0,n;const a=/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1(?:[^>]*?)>(.*?)<\/a>/g;for(;(n=a.exec(e))!==null;)n.index>r&&t.push({type:"text",content:e.substring(r,n.index)}),t.push({type:"link",url:n[2],text:n[3]}),r=a.lastIndex;return r<e.length&&t.push({type:"text",content:e.substring(r)}),t.length===0?i.jsx("span",{children:e}):i.jsx(i.Fragment,{children:t.map((s,o)=>s.type==="text"?i.jsx("span",{children:s.content},o):s.type==="link"?i.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:opacity-80 underline",children:s.text},o):null)})},lB=e=>{if(!e)return null;const t=e.split(/\n\s*\n/);return i.jsx("div",{className:"prose dark:prose-invert max-w-none",children:t.map((r,n)=>i.jsx("p",{className:"mb-4",children:bx(r)},n))})},cB=()=>{var E;const{id:e}=cb(),[t,r]=k.useState(null),[n,a]=k.useState([]),[s,o]=k.useState(!0),[l,c]=k.useState(null),[d,u]=k.useState(!1),[f,h]=k.useState(!1),[m,y]=k.useState(!1);k.useEffect(()=>{window.scrollTo(0,0),v()},[e]);const v=async()=>{var O,T,D,R,N;try{o(!0);const{data:C,error:j}=await kj.from("events").select(`
          *,
          time_slot:time_slots_table!fk_time_slots_event(
            id,
            start_at,
            end_at
          )
        `).eq("id",e).single();if(j)throw j;const I={...C,start_at:((T=(O=C.time_slot)==null?void 0:O[0])==null?void 0:T.start_at)||C.start_at,end_at:((R=(D=C.time_slot)==null?void 0:D[0])==null?void 0:R.end_at)||C.end_at};if(r(I),(N=C.speakers)!=null&&N.length){const{data:B,error:P}=await kj.from("speakers").select("*").in("id",C.speakers);if(P)throw P;a(B||[])}}catch(C){console.error("Error fetching event data:",C),c("Не удалось загрузить мероприятие")}finally{o(!1)}},b=async O=>{const T=window.location.href,D=t!=null&&t.start_at?pr(t.start_at):"",R=`${t==null?void 0:t.title} - ${D}`;switch(O){case"telegram":window.open(`https://t.me/share/url?url=${encodeURIComponent(T)}&text=${encodeURIComponent(R)}`);break;case"vk":window.open(`https://vk.com/share.php?url=${encodeURIComponent(T)}&title=${encodeURIComponent(R)}`);break;case"copy":try{await navigator.clipboard.writeText(T),X.success("Ссылка скопирована")}catch{X.error("Не удалось скопировать ссылку")}break}u(!1)},g=O=>{y(!1),O==="online"&&(t!=null&&t.payment_link)?window.open(t.payment_link,"_blank"):O==="venue"&&h(!0)},p=()=>{(t==null?void 0:t.payment_type)==="free"||(t==null?void 0:t.payment_type)==="donation"?h(!0):(t==null?void 0:t.price)===null&&(t!=null&&t.payment_link)?window.open(t.payment_link,"_blank"):y(!0)},x=()=>{var O;return((O=t==null?void 0:t.registrations)==null?void 0:O.max_regs)!==void 0?t.registrations.max_regs:(t==null?void 0:t.max_registrations)||null},w=()=>{var O;return((O=t==null?void 0:t.registrations)==null?void 0:O.current)!==void 0?t.registrations.current:(t==null?void 0:t.current_registration_count)||0},_=t!=null&&t.end_at?ps(t.end_at):!1;if(s)return i.jsx(ut,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})});if(l||!t)return i.jsx(ut,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600 dark:text-red-400",children:l||"Мероприятие не найдено"})});x(),w();const S=oB(t.photo_gallery);return i.jsxs(ut,{children:[i.jsxs("div",{className:"h-[400px] bg-cover bg-center relative",style:{backgroundImage:t.bg_image?`url(https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${t.bg_image})`:"url(https://via.placeholder.com/1920x400?text=No+image)"},children:[i.jsx("div",{className:"absolute inset-0 bg-black/50"}),i.jsx("div",{className:"container relative h-full flex items-end pb-12",children:i.jsxs("div",{className:"text-white",children:[i.jsxs(Te,{to:"/events",className:"inline-flex items-center text-white/80 hover:text-white mb-4",children:[i.jsx(GC,{className:"h-5 w-5 mr-2"}),"Назад к мероприятиям"]}),i.jsxs("div",{className:"hidden md:block",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:t.title}),i.jsxs("div",{className:"flex flex-wrap gap-6 text-white/90",children:[t.start_at&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_e,{className:"h-5 w-5"}),i.jsx("span",{children:pr(t.start_at)})]}),t.start_at&&t.end_at&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"h-5 w-5"}),i.jsx("span",{children:ia(t.start_at,t.end_at)})]}),t.location&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pt,{className:"h-5 w-5"}),i.jsx("span",{children:t.location})]})]})]})]})})]}),i.jsxs("div",{className:"md:hidden bg-white dark:bg-dark-800 py-6 px-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-dark-900 dark:text-white mb-4",children:t.title}),i.jsxs("div",{className:"flex flex-col gap-3 text-dark-600 dark:text-dark-300",children:[t.start_at&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_e,{className:"h-5 w-5"}),i.jsx("span",{children:pr(t.start_at)})]}),t.start_at&&t.end_at&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"h-5 w-5"}),i.jsx("span",{children:ia(t.start_at,t.end_at)})]}),t.location&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pt,{className:"h-5 w-5"}),i.jsx("span",{children:t.location})]})]})]}),i.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsxs("div",{className:"card p-6",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"О мероприятии"}),lB(t.description)]}),t.video_url&&i.jsxs("div",{className:"card p-6",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Видео"}),i.jsx("div",{className:"aspect-video",children:i.jsx("iframe",{src:t.video_url,className:"w-full h-full rounded-lg",allowFullScreen:!0,title:"Event video"})})]}),S.length>0&&i.jsxs("div",{className:"card p-6",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Фотогалерея"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:S.map((O,T)=>i.jsx("img",{src:O,alt:`Фото ${T+1}`,className:"w-full h-32 object-cover rounded-lg"},T))})]}),t.event_type==="Festival"&&t.festival_program&&t.festival_program.length>0&&i.jsxs("div",{className:"card p-6",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Программа фестиваля"}),i.jsx("div",{className:"space-y-6",children:t.festival_program.sort((O,T)=>{try{return new Date(O.start_time).getTime()-new Date(T.start_time).getTime()}catch(D){return console.error("Error sorting program items:",D),0}}).map((O,T)=>{var R,N,C;const D=O.lecturer_id?n.find(j=>j.id===O.lecturer_id):null;return i.jsx("div",{className:"border-b border-gray-200 dark:border-dark-700 pb-6 last:border-0 last:pb-0",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[O.image_url&&i.jsx("div",{className:"md:w-1/3",children:i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${O.image_url}`,alt:O.title,className:"w-full h-auto rounded-lg object-cover"})}),i.jsxs("div",{className:`${O.image_url?"md:w-2/3":"w-full"}`,children:[i.jsx("div",{className:"flex flex-wrap items-center gap-4 mb-3",children:i.jsxs("span",{className:"text-sm font-medium px-3 py-1 bg-primary-100 dark:bg-primary-900/50 text-primary-800 dark:text-primary-200 rounded-full",children:[fa(O.start_time)," - ",fa(O.end_time)]})}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:O.title}),i.jsx("div",{className:"prose dark:prose-invert max-w-none mb-4",children:bx(O.description)}),D&&i.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[i.jsx(Te,{to:`/speakers/${D.id}`,className:"shrink-0",children:((N=(R=D.photos)==null?void 0:R.find(j=>j.isMain))==null?void 0:N.url)&&i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${(C=D.photos.find(j=>j.isMain))==null?void 0:C.url}`,alt:D.name,className:"w-12 h-12 rounded-full object-cover"})}),i.jsxs("div",{children:[i.jsx(Te,{to:`/speakers/${D.id}`,className:"font-medium hover:text-primary-600 dark:hover:text-primary-400",children:D.name}),i.jsx("p",{className:"text-sm text-dark-500 dark:text-dark-400",children:D.field_of_expertise})]})]})]})]})},T)})})]}),n.length>0&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"Спикеры"}),n.map(O=>{var T;return i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx(Te,{to:`/speakers/${O.id}`,className:"shrink-0",children:i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${(T=O.photos.find(D=>D.isMain))==null?void 0:T.url}`,alt:O.name,className:"w-16 h-16 rounded-full object-cover"})}),i.jsxs("div",{children:[i.jsx(Te,{to:`/speakers/${O.id}`,className:"text-lg font-semibold hover:text-primary-600 dark:hover:text-primary-400",children:O.name}),i.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mb-2",children:O.field_of_expertise}),bx(O.description)]})]})},O.id)})]})]}),!_&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"card p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("span",{className:"block text-sm text-dark-500 dark:text-dark-400",children:"Стоимость"}),i.jsx("span",{className:"text-2xl font-bold",children:t.payment_type==="free"?"Бесплатно":t.payment_type==="donation"?"Донейшн":t.price===null?"Онлайн оплата":`${t.price} ${t.currency}`})]}),i.jsxs("button",{onClick:()=>u(!d),className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full relative",children:[i.jsx(ub,{className:"h-5 w-5"}),d&&i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-dark-800 rounded-lg shadow-lg py-2 z-50",children:[i.jsx("button",{onClick:()=>b("telegram"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700",children:"Telegram"}),i.jsx("button",{onClick:()=>b("vk"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700",children:"VKontakte"}),i.jsx("button",{onClick:()=>b("copy"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-dark-700",children:"Копировать ссылку"})]})]})]}),t.payment_widget_id&&i.jsx("div",{className:"mb-4",dangerouslySetInnerHTML:{__html:t.payment_widget_id}}),i.jsx("button",{onClick:p,className:"w-full btn-primary mb-4",children:t.price===null&&t.payment_link?"Купить онлайн":"Зарегистрироваться"}),i.jsx("div",{className:"space-y-4 text-sm",children:((E=t.languages)==null?void 0:E.length)>0&&i.jsxs("div",{className:"flex items-center gap-2 text-dark-500 dark:text-dark-400",children:[i.jsx(ym,{className:"h-5 w-5"}),i.jsx("span",{children:t.languages.join(", ")})]})})]}),t.location&&i.jsxs("div",{className:"card p-6",children:[i.jsx("p",{className:"font-semibold mb-4",children:"Место проведения"}),i.jsx("div",{className:"space-y-2",children:i.jsx("p",{className:"text-dark-600 dark:text-dark-300",children:t.location})})]})]})]})})}),i.jsx(sB,{isOpen:f,onClose:()=>h(!1),event:t}),i.jsx(iB,{isOpen:m,onClose:()=>y(!1),onSelectOption:g,hasOnlinePayment:t.payment_type!=="free"&&t.payment_type!=="donation",paymentType:t.payment_type==="widget"?"widget":"link",paymentLink:t.payment_link})]})},Xo=({title:e,subtitle:t,children:r,className:n=""})=>i.jsx("section",{className:`page-header ${n}`,children:i.jsxs("div",{className:"container flex flex-col justify-center h-full",children:[i.jsx("h1",{className:"mb-4 animate-slide-up",children:e}),t&&i.jsx("p",{className:"text-xl md:text-2xl mb-6 max-w-2xl animate-slide-up animation-delay-100",children:t}),r]})}),dB=({speakerId:e,className:t="",size:r="md"})=>{const{user:n}=to(),{toggleFavoriteSpeaker:a,isFavoriteSpeaker:s,loading:o}=Nb(n==null?void 0:n.id);if(!n)return null;const l=c=>{c.preventDefault(),c.stopPropagation(),a(e)};return i.jsx(YE,{isFavorite:s(e),onClick:l,loading:o,className:t,size:r})},uB=({speakers:e,searchQuery:t=""})=>{const r=e.filter(n=>n.name.toLowerCase().includes(t.toLowerCase())||n.field_of_expertise.toLowerCase().includes(t.toLowerCase())||n.description&&n.description.toLowerCase().includes(t.toLowerCase()));return r.length===0?i.jsx("div",{className:"py-12 text-center",children:i.jsx("p",{className:"text-lg text-dark-500 dark:text-dark-400",children:"Спикеры не найдены. Попробуйте изменить параметры поиска."})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(n=>{var s,o;const a=n.blog_visibility&&n.blogs?JSON.parse(n.blogs):null;return i.jsxs("div",{className:"card hover:shadow-lg flex flex-col md:flex-row lg:flex-col transition-shadow duration-200 relative",children:[i.jsx("div",{className:"absolute top-4 right-4 z-10",children:i.jsx(dB,{speakerId:n.id,className:"bg-white/90 dark:bg-dark-800/90 backdrop-blur-sm hover:bg-white dark:hover:bg-dark-800 shadow-md",size:"sm"})}),i.jsx("div",{className:"md:w-1/3 lg:w-full h-60 md:h-auto lg:h-60 bg-cover bg-center relative",children:(o=(s=n.photos)==null?void 0:s[0])!=null&&o.url?i.jsx("img",{src:bt(n.photos[0].url),alt:n.name,className:"w-full h-full object-cover",onError:l=>{const c=l.target;c.onerror=null,c.parentElement.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center bg-gray-100 dark:bg-dark-700">
                        <svg class="w-16 h-16 text-gray-400 dark:text-gray-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                          <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                      </div>
                    `}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-dark-700",children:i.jsx(Fr,{className:"w-16 h-16 text-gray-400 dark:text-gray-600"})})}),i.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center justify-between mb-1",children:i.jsx("h3",{className:"text-xl font-semibold",children:n.name})}),i.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-medium mb-3",children:n.field_of_expertise}),n.description&&i.jsx("p",{className:"text-dark-600 dark:text-dark-300 mb-4 line-clamp-3",children:n.description})]}),a&&a.length>0&&i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.slice(0,3).map((l,c)=>i.jsxs("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-primary-100 dark:bg-dark-700 text-primary-800 dark:text-primary-300 hover:bg-primary-200 dark:hover:bg-dark-600 transition-colors",title:l.platform,children:[i.jsx(JC,{className:"w-3 h-3 mr-1.5"}),l.platform.length>12?`${l.platform.substring(0,10)}...`:l.platform]},c)),a.length>3&&i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 self-center",children:["+",a.length-3," more"]})]})}),i.jsxs(Te,{to:`/speakers/${n.id}`,className:"text-primary-600 dark:text-primary-400 font-medium hover:text-primary-700 dark:hover:text-primary-300 inline-flex items-center mt-auto",children:["Подробнее",i.jsx(Bn,{className:"ml-2 h-5 w-5"})]})]})]},n.id)})})},fB=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),hB=()=>{const{user:e}=to(),[t,r]=k.useState(""),[n,a]=k.useState("name-asc"),[s,o]=k.useState("all"),[l,c]=k.useState([]),[d,u]=k.useState(!0),[f,h]=k.useState(null),{favoriteSpeakers:m,isFavoriteSpeaker:y}=Nb(e==null?void 0:e.id);k.useEffect(()=>{(async()=>{try{let g=fB.from("speakers").select("*").eq("active",!0);switch(n){case"name-asc":g=g.order("name",{ascending:!0});break;case"name-desc":g=g.order("name",{ascending:!1});break;case"field-asc":g=g.order("field_of_expertise",{ascending:!0});break;case"field-desc":g=g.order("field_of_expertise",{ascending:!1});break}const{data:p,error:x}=await g;if(x)throw x;c(p||[])}catch(g){console.error("Error fetching speakers:",g),h("Failed to load speakers")}finally{u(!1)}})()},[n]);const v=l.filter(b=>s==="all"||s==="favorites"&&y(b.id));return i.jsxs(ut,{children:[i.jsx(Xo,{title:"Наши спикеры",subtitle:"Учёные и эксперты в своих областях"}),i.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"mb-8 space-y-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-between",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Поиск по имени или специализации...",value:t,onChange:b=>r(b.target.value),className:"w-full md:w-80 px-4 py-2 pl-10 border border-dark-300 dark:border-dark-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-dark-800"}),i.jsx(ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-dark-400"})]}),i.jsxs("select",{value:n,onChange:b=>a(b.target.value),className:"px-4 py-2 border border-dark-300 dark:border-dark-700 rounded-md bg-white dark:bg-dark-800",children:[i.jsx("option",{value:"name-asc",children:"По имени (А-Я)"}),i.jsx("option",{value:"name-desc",children:"По имени (Я-А)"}),i.jsx("option",{value:"field-asc",children:"По специализации (А-Я)"}),i.jsx("option",{value:"field-desc",children:"По специализации (Я-А)"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(oh,{className:"h-4 w-4 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Показать:"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>o("all"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${s==="all"?"bg-primary-500 text-white":"bg-gray-200 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-dark-600"}`,children:"Все спикеры"}),e&&i.jsxs("button",{onClick:()=>o("favorites"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors flex items-center gap-1 ${s==="favorites"?"bg-red-500 text-white":"bg-gray-200 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-dark-600"}`,children:[i.jsx(xn,{className:`h-4 w-4 ${s==="favorites"?"fill-current":""}`}),"Избранные (",m.length,")"]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[i.jsxs("span",{children:["Показано: ",v.length," из ",l.length]}),e&&m.length>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(xn,{className:"h-4 w-4 text-red-500 fill-current"}),m.length," в избранном"]})]})]})]}),!e&&i.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["💡 ",i.jsx("strong",{children:"Совет:"})," Войдите в систему, чтобы добавлять спикеров в избранное и создавать персональные списки."]})}),v.length===0&&!d&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"mb-4",children:s==="favorites"?i.jsx(xn,{className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600"}):i.jsx(ua,{className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:s==="favorites"?"Нет избранных спикеров":"Спикеры не найдены"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:s==="favorites"?"Добавьте спикеров в избранное, нажав на ❤️ в их карточках":t?`По запросу "${t}" ничего не найдено. Попробуйте изменить поисковый запрос.`:"Попробуйте изменить фильтры или поисковый запрос."}),s==="favorites"&&i.jsx("button",{onClick:()=>o("all"),className:"btn-primary",children:"Посмотреть всех спикеров"})]}),v.length>0&&i.jsx(uB,{speakers:v,searchQuery:t}),d&&i.jsx("div",{className:"flex justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}),f&&i.jsxs("div",{className:"text-center py-12",children:[i.jsxs("div",{className:"text-red-500 dark:text-red-400 mb-4",children:[i.jsx("p",{className:"text-lg font-medium",children:"Ошибка загрузки"}),i.jsx("p",{className:"text-sm",children:f})]}),i.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Попробовать снова"})]})]})})]})},D4=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Im=k.createContext({}),Mm=k.createContext(null),Rm=typeof document<"u",Eb=Rm?k.useLayoutEffect:k.useEffect,P4=k.createContext({strict:!1}),Tb=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),mB="framerAppearId",O4="data-"+Tb(mB);function pB(e,t,r,n){const{visualElement:a}=k.useContext(Im),s=k.useContext(P4),o=k.useContext(Mm),l=k.useContext(D4).reducedMotion,c=k.useRef();n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;k.useInsertionEffect(()=>{d&&d.update(r,o)});const u=k.useRef(!!(r[O4]&&!window.HandoffComplete));return Eb(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function Oo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function gB(e,t,r){return k.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Oo(r)&&(r.current=n))},[t])}function yd(e){return typeof e=="string"||Array.isArray(e)}function Am(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Db=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pb=["initial",...Db];function Lm(e){return Am(e.animate)||Pb.some(t=>yd(e[t]))}function I4(e){return!!(Lm(e)||e.variants)}function vB(e,t){if(Lm(e)){const{initial:r,animate:n}=e;return{initial:r===!1||yd(r)?r:void 0,animate:yd(n)?n:void 0}}return e.inherit!==!1?t:{}}function xB(e){const{initial:t,animate:r}=vB(e,k.useContext(Im));return k.useMemo(()=>({initial:t,animate:r}),[jj(t),jj(r)])}function jj(e){return Array.isArray(e)?e.join(" "):e}const Nj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bd={};for(const e in Nj)bd[e]={isEnabled:t=>Nj[e].some(r=>!!t[r])};function yB(e){for(const t in e)bd[t]={...bd[t],...e[t]}}const Ob=k.createContext({}),M4=k.createContext({}),bB=Symbol.for("motionComponentSymbol");function wB({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&yB(e);function s(l,c){let d;const u={...k.useContext(D4),...l,layoutId:kB(l)},{isStatic:f}=u,h=xB(l),m=n(l,f);if(!f&&Rm){h.visualElement=pB(a,m,u,t);const y=k.useContext(M4),v=k.useContext(P4).strict;h.visualElement&&(d=h.visualElement.loadFeatures(u,v,e,y))}return k.createElement(Im.Provider,{value:h},d&&h.visualElement?k.createElement(d,{visualElement:h.visualElement,...u}):null,r(a,l,gB(m,h.visualElement,c),m,f,h.visualElement))}const o=k.forwardRef(s);return o[bB]=a,o}function kB({layoutId:e}){const t=k.useContext(Ob).id;return t&&e!==void 0?t+"-"+e:e}function jB(e){function t(n,a={}){return wB(e(n,a))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const NB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ib(e){return typeof e!="string"||e.includes("-")?!1:!!(NB.indexOf(e)>-1||/[A-Z]/.test(e))}const Sh={};function _B(e){Object.assign(Sh,e)}const Yd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ro=new Set(Yd);function R4(e,{layout:t,layoutId:r}){return ro.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Sh[e]||e==="opacity")}const Mr=e=>!!(e&&e.getVelocity),SB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CB=Yd.length;function EB(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,a){let s="";for(let o=0;o<CB;o++){const l=Yd[o];if(e[l]!==void 0){const c=SB[l]||l;s+=`${c}(${e[l]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),a?s=a(e,n?"":s):r&&n&&(s="none"),s}const A4=e=>t=>typeof t=="string"&&t.startsWith(e),L4=A4("--"),wx=A4("var(--"),TB=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,DB=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Us=(e,t,r)=>Math.min(Math.max(r,e),t),no={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zc={...no,transform:e=>Us(0,1,e)},Hu={...no,default:1},Fc=e=>Math.round(e*1e5)/1e5,$m=/(-)?([\d]*\.?[\d])+/g,$4=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,PB=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Xd(e){return typeof e=="string"}const Kd=e=>({test:t=>Xd(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ns=Kd("deg"),la=Kd("%"),je=Kd("px"),OB=Kd("vh"),IB=Kd("vw"),_j={...la,parse:e=>la.parse(e)/100,transform:e=>la.transform(e*100)},Sj={...no,transform:Math.round},z4={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,size:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:Hu,scaleX:Hu,scaleY:Hu,scaleZ:Hu,skew:ns,skewX:ns,skewY:ns,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:zc,originX:_j,originY:_j,originZ:je,zIndex:Sj,fillOpacity:zc,strokeOpacity:zc,numOctaves:Sj};function Mb(e,t,r,n){const{style:a,vars:s,transform:o,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const f in t){const h=t[f];if(L4(f)){s[f]=h;continue}const m=z4[f],y=DB(h,m);if(ro.has(f)){if(c=!0,o[f]=y,!u)continue;h!==(m.default||0)&&(u=!1)}else f.startsWith("origin")?(d=!0,l[f]=y):a[f]=y}if(t.transform||(c||n?a.transform=EB(e.transform,r,u,n):a.transform&&(a.transform="none")),d){const{originX:f="50%",originY:h="50%",originZ:m=0}=l;a.transformOrigin=`${f} ${h} ${m}`}}const Rb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function F4(e,t,r){for(const n in t)!Mr(t[n])&&!R4(n,r)&&(e[n]=t[n])}function MB({transformTemplate:e},t,r){return k.useMemo(()=>{const n=Rb();return Mb(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function RB(e,t,r){const n=e.style||{},a={};return F4(a,n,e),Object.assign(a,MB(e,t,r)),e.transformValues?e.transformValues(a):a}function AB(e,t,r){const n={},a=RB(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const LB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ch(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||LB.has(e)}let B4=e=>!Ch(e);function $B(e){e&&(B4=t=>t.startsWith("on")?!Ch(t):e(t))}try{$B(require("@emotion/is-prop-valid").default)}catch{}function zB(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(B4(a)||r===!0&&Ch(a)||!t&&!Ch(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Cj(e,t,r){return typeof e=="string"?e:je.transform(t+r*e)}function FB(e,t,r){const n=Cj(t,e.x,e.width),a=Cj(r,e.y,e.height);return`${n} ${a}`}const BB={offset:"stroke-dashoffset",array:"stroke-dasharray"},UB={offset:"strokeDashoffset",array:"strokeDasharray"};function WB(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?BB:UB;e[s.offset]=je.transform(-n);const o=je.transform(t),l=je.transform(r);e[s.array]=`${o} ${l}`}function Ab(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,f,h){if(Mb(e,d,u,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y,dimensions:v}=e;m.transform&&(v&&(y.transform=m.transform),delete m.transform),v&&(a!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=FB(v,a!==void 0?a:.5,s!==void 0?s:.5)),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),o!==void 0&&WB(m,o,l,c,!1)}const U4=()=>({...Rb(),attrs:{}}),Lb=e=>typeof e=="string"&&e.toLowerCase()==="svg";function HB(e,t,r,n){const a=k.useMemo(()=>{const s=U4();return Ab(s,t,{enableHardwareAcceleration:!1},Lb(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};F4(s,e.style,e),a.style={...s,...a.style}}return a}function VB(e=!1){return(r,n,a,{latestValues:s},o)=>{const c=(Ib(r)?HB:AB)(n,s,o,r),u={...zB(n,typeof r=="string",e),...c,ref:a},{children:f}=n,h=k.useMemo(()=>Mr(f)?f.get():f,[f]);return k.createElement(r,{...u,children:h})}}function W4(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const H4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V4(e,t,r,n){W4(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(H4.has(a)?a:Tb(a),t.attrs[a])}function $b(e,t){const{style:r}=e,n={};for(const a in r)(Mr(r[a])||t.style&&Mr(t.style[a])||R4(a,e))&&(n[a]=r[a]);return n}function q4(e,t){const r=$b(e,t);for(const n in e)if(Mr(e[n])||Mr(t[n])){const a=Yd.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=e[n]}return r}function zb(e,t,r,n={},a={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,a)),t}function G4(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const Eh=e=>Array.isArray(e),qB=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),GB=e=>Eh(e)?e[e.length-1]||0:e;function Tf(e){const t=Mr(e)?e.get():e;return qB(t)?t.toValue():t}function YB({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,s){const o={latestValues:XB(n,a,s,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const Y4=e=>(t,r)=>{const n=k.useContext(Im),a=k.useContext(Mm),s=()=>YB(e,t,n,a);return r?s():G4(s)};function XB(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=Tf(s[h]);let{initial:o,animate:l}=e;const c=Lm(e),d=I4(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const f=u?l:o;return f&&typeof f!="boolean"&&!Am(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=zb(e,m);if(!y)return;const{transitionEnd:v,transition:b,...g}=y;for(const p in g){let x=g[p];if(Array.isArray(x)){const w=u?x.length-1:0;x=x[w]}x!==null&&(a[p]=x)}for(const p in v)a[p]=v[p]}),a}const jt=e=>e;class Ej{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function KB(e){let t=new Ej,r=new Ej,n=0,a=!1,s=!1;const o=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const f=u&&a,h=f?t:r;return d&&o.add(c),h.add(c)&&f&&a&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(a){s=!0;return}if(a=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let d=0;d<n;d++){const u=t.order[d];u(c),o.has(u)&&(l.schedule(u),e())}a=!1,s&&(s=!1,l.process(c))}};return l}const Vu=["prepare","read","update","preRender","render","postRender"],JB=40;function QB(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=Vu.reduce((f,h)=>(f[h]=KB(()=>r=!0),f),{}),o=f=>s[f].process(a),l=()=>{const f=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(f-a.timestamp,JB),1),a.timestamp=f,a.isProcessing=!0,Vu.forEach(o),a.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,a.isProcessing||e(l)};return{schedule:Vu.reduce((f,h)=>{const m=s[h];return f[h]=(y,v=!1,b=!1)=>(r||c(),m.schedule(y,v,b)),f},{}),cancel:f=>Vu.forEach(h=>s[h].cancel(f)),state:a,steps:s}}const{schedule:et,cancel:Wa,state:er,steps:jg}=QB(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0),ZB={useVisualState:Y4({scrapeMotionValuesFromProps:q4,createRenderState:U4,onMount:(e,t,{renderState:r,latestValues:n})=>{et.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),et.render(()=>{Ab(r,n,{enableHardwareAcceleration:!1},Lb(t.tagName),e.transformTemplate),V4(t,r)})}})},eU={useVisualState:Y4({scrapeMotionValuesFromProps:$b,createRenderState:Rb})};function tU(e,{forwardMotionProps:t=!1},r,n){return{...Ib(e)?ZB:eU,preloadedFeatures:r,useRender:VB(t),createVisualElement:n,Component:e}}function Oa(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const X4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function zm(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const rU=e=>t=>X4(t)&&e(t,zm(t));function Ra(e,t,r,n){return Oa(e,t,rU(r),n)}const nU=(e,t)=>r=>t(e(r)),Rs=(...e)=>e.reduce(nU);function K4(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const Tj=K4("dragHorizontal"),Dj=K4("dragVertical");function J4(e){let t=!1;if(e==="y")t=Dj();else if(e==="x")t=Tj();else{const r=Tj(),n=Dj();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Q4(){const e=J4(!0);return e?(e(),!1):!0}class Qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Pj(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(s,o)=>{if(s.pointerType==="touch"||Q4())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&et.update(()=>l[n](s,o))};return Ra(e.current,r,a,{passive:!e.getProps()[n]})}class aU extends Qs{mount(){this.unmount=Rs(Pj(this.node,!0),Pj(this.node,!1))}unmount(){}}class sU extends Qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rs(Oa(this.node.current,"focus",()=>this.onFocus()),Oa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Z4=(e,t)=>t?e===t?!0:Z4(e,t.parentElement):!1;function Ng(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,zm(r))}class iU extends Qs{constructor(){super(...arguments),this.removeStartListeners=jt,this.removeEndListeners=jt,this.removeAccessibleListeners=jt,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=Ra(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:f}=this.node.getProps();et.update(()=>{!f&&!Z4(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Ra(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Rs(s,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ng("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&et.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Oa(this.node.current,"keyup",o),Ng("down",(l,c)=>{this.startPress(l,c)})},r=Oa(this.node.current,"keydown",t),n=()=>{this.isPressing&&Ng("cancel",(s,o)=>this.cancelPress(s,o))},a=Oa(this.node.current,"blur",n);this.removeAccessibleListeners=Rs(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&et.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Q4()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&et.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=Ra(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Oa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Rs(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kx=new WeakMap,_g=new WeakMap,oU=e=>{const t=kx.get(e.target);t&&t(e)},lU=e=>{e.forEach(oU)};function cU({root:e,...t}){const r=e||document;_g.has(r)||_g.set(r,{});const n=_g.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(lU,{root:e,...t})),n[a]}function dU(e,t,r){const n=cU(t);return kx.set(e,r),n.observe(e),()=>{kx.delete(e),n.unobserve(e)}}const uU={some:0,all:1};class fU extends Qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:uU[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=d?u:f;h&&h(c)};return dU(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(hU(t,r))&&this.startObserver()}unmount(){}}function hU({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const mU={inView:{Feature:fU},tap:{Feature:iU},focus:{Feature:sU},hover:{Feature:aU}};function e3(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function pU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function gU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Fm(e,t,r){const n=e.getProps();return zb(n,t,r!==void 0?r:n.custom,pU(e),gU(e))}let Fb=jt;const Oi=e=>e*1e3,Aa=e=>e/1e3,vU={current:!1},t3=e=>Array.isArray(e)&&typeof e[0]=="number";function r3(e){return!!(!e||typeof e=="string"&&n3[e]||t3(e)||Array.isArray(e)&&e.every(r3))}const xc=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,n3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xc([0,.65,.55,1]),circOut:xc([.55,0,1,.45]),backIn:xc([.31,.01,.66,-.59]),backOut:xc([.33,1.53,.69,.99])};function a3(e){if(e)return t3(e)?xc(e):Array.isArray(e)?e.map(a3):n3[e]}function xU(e,t,r,{delay:n=0,duration:a,repeat:s=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=a3(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function yU(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const s3=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,bU=1e-7,wU=12;function kU(e,t,r,n,a){let s,o,l=0;do o=t+(r-t)/2,s=s3(o,n,a)-e,s>0?r=o:t=o;while(Math.abs(s)>bU&&++l<wU);return o}function Jd(e,t,r,n){if(e===t&&r===n)return jt;const a=s=>kU(s,0,1,e,r);return s=>s===0||s===1?s:s3(a(s),t,n)}const jU=Jd(.42,0,1,1),NU=Jd(0,0,.58,1),i3=Jd(.42,0,.58,1),_U=e=>Array.isArray(e)&&typeof e[0]!="number",o3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,l3=e=>t=>1-e(1-t),Bb=e=>1-Math.sin(Math.acos(e)),c3=l3(Bb),SU=o3(Bb),d3=Jd(.33,1.53,.69,.99),Ub=l3(d3),CU=o3(Ub),EU=e=>(e*=2)<1?.5*Ub(e):.5*(2-Math.pow(2,-10*(e-1))),TU={linear:jt,easeIn:jU,easeInOut:i3,easeOut:NU,circIn:Bb,circInOut:SU,circOut:c3,backIn:Ub,backInOut:CU,backOut:d3,anticipate:EU},Oj=e=>{if(Array.isArray(e)){Fb(e.length===4);const[t,r,n,a]=e;return Jd(t,r,n,a)}else if(typeof e=="string")return TU[e];return e},Wb=(e,t)=>r=>!!(Xd(r)&&PB.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),u3=(e,t,r)=>n=>{if(!Xd(n))return n;const[a,s,o,l]=n.match($m);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},DU=e=>Us(0,255,e),Sg={...no,transform:e=>Math.round(DU(e))},Ei={test:Wb("rgb","red"),parse:u3("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Sg.transform(e)+", "+Sg.transform(t)+", "+Sg.transform(r)+", "+Fc(zc.transform(n))+")"};function PU(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const jx={test:Wb("#"),parse:PU,transform:Ei.transform},Io={test:Wb("hsl","hue"),parse:u3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+la.transform(Fc(t))+", "+la.transform(Fc(r))+", "+Fc(zc.transform(n))+")"},dr={test:e=>Ei.test(e)||jx.test(e)||Io.test(e),parse:e=>Ei.test(e)?Ei.parse(e):Io.test(e)?Io.parse(e):jx.parse(e),transform:e=>Xd(e)?e:e.hasOwnProperty("red")?Ei.transform(e):Io.transform(e)},mt=(e,t,r)=>-r*e+r*t+e;function Cg(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function OU({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,o=0;if(!t)a=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=Cg(c,l,e+1/3),s=Cg(c,l,e),o=Cg(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const Eg=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},IU=[jx,Ei,Io],MU=e=>IU.find(t=>t.test(e));function Ij(e){const t=MU(e);let r=t.parse(e);return t===Io&&(r=OU(r)),r}const f3=(e,t)=>{const r=Ij(e),n=Ij(t),a={...r};return s=>(a.red=Eg(r.red,n.red,s),a.green=Eg(r.green,n.green,s),a.blue=Eg(r.blue,n.blue,s),a.alpha=mt(r.alpha,n.alpha,s),Ei.transform(a))};function RU(e){var t,r;return isNaN(e)&&Xd(e)&&(((t=e.match($m))===null||t===void 0?void 0:t.length)||0)+(((r=e.match($4))===null||r===void 0?void 0:r.length)||0)>0}const h3={regex:TB,countKey:"Vars",token:"${v}",parse:jt},m3={regex:$4,countKey:"Colors",token:"${c}",parse:dr.parse},p3={regex:$m,countKey:"Numbers",token:"${n}",parse:no.parse};function Tg(e,{regex:t,countKey:r,token:n,parse:a}){const s=e.tokenised.match(t);s&&(e["num"+r]=s.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...s.map(a)))}function Th(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Tg(r,h3),Tg(r,m3),Tg(r,p3),r}function g3(e){return Th(e).values}function v3(e){const{values:t,numColors:r,numVars:n,tokenised:a}=Th(e),s=t.length;return o=>{let l=a;for(let c=0;c<s;c++)c<n?l=l.replace(h3.token,o[c]):c<n+r?l=l.replace(m3.token,dr.transform(o[c])):l=l.replace(p3.token,Fc(o[c]));return l}}const AU=e=>typeof e=="number"?0:e;function LU(e){const t=g3(e);return v3(e)(t.map(AU))}const Ws={test:RU,parse:g3,createTransformer:v3,getAnimatableNone:LU},x3=(e,t)=>r=>`${r>0?t:e}`;function y3(e,t){return typeof e=="number"?r=>mt(e,t,r):dr.test(e)?f3(e,t):e.startsWith("var(")?x3(e,t):w3(e,t)}const b3=(e,t)=>{const r=[...e],n=r.length,a=e.map((s,o)=>y3(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=a[o](s);return r}},$U=(e,t)=>{const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=y3(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}},w3=(e,t)=>{const r=Ws.createTransformer(t),n=Th(e),a=Th(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?Rs(b3(n.values,a.values),r):x3(e,t)},wd=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Mj=(e,t)=>r=>mt(e,t,r);function zU(e){return typeof e=="number"?Mj:typeof e=="string"?dr.test(e)?f3:w3:Array.isArray(e)?b3:typeof e=="object"?$U:Mj}function FU(e,t,r){const n=[],a=r||zU(e[0]),s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||jt:t;l=Rs(c,l)}n.push(l)}return n}function k3(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(Fb(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=FU(t,n,a),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const f=wd(e[u],e[u+1],d);return o[u](f)};return r?d=>c(Us(e[0],e[s-1],d)):c}function BU(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=wd(0,t,n);e.push(mt(r,1,a))}}function UU(e){const t=[0];return BU(t,e.length-1),t}function WU(e,t){return e.map(r=>r*t)}function HU(e,t){return e.map(()=>t||i3).splice(0,e.length-1)}function Dh({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=_U(n)?n.map(Oj):Oj(n),s={done:!1,value:t[0]},o=WU(r&&r.length===t.length?r:UU(t),e),l=k3(o,t,{ease:Array.isArray(a)?a:HU(t,a)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}function j3(e,t){return t?e*(1e3/t):0}const VU=5;function N3(e,t,r){const n=Math.max(t-VU,0);return j3(r-e(n),t-n)}const Dg=.001,qU=.01,GU=10,YU=.05,XU=1;function KU({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let a,s,o=1-t;o=Us(YU,XU,o),e=Us(qU,GU,Aa(e)),o<1?(a=d=>{const u=d*o,f=u*e,h=u-r,m=Nx(d,o),y=Math.exp(-f);return Dg-h/m*y},s=d=>{const f=d*o*e,h=f*r+r,m=Math.pow(o,2)*Math.pow(d,2)*e,y=Math.exp(-f),v=Nx(Math.pow(d,2),o);return(-a(d)+Dg>0?-1:1)*((h-m)*y)/v}):(a=d=>{const u=Math.exp(-d*e),f=(d-r)*e+1;return-Dg+u*f},s=d=>{const u=Math.exp(-d*e),f=(r-d)*(e*e);return u*f});const l=5/e,c=QU(a,s,l);if(e=Oi(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const JU=12;function QU(e,t,r){let n=r;for(let a=1;a<JU;a++)n=n-e(n)/t(n);return n}function Nx(e,t){return e*Math.sqrt(1-t*t)}const ZU=["duration","bounce"],e9=["stiffness","damping","mass"];function Rj(e,t){return t.some(r=>e[r]!==void 0)}function t9(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Rj(e,e9)&&Rj(e,ZU)){const r=KU(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function _3({keyframes:e,restDelta:t,restSpeed:r,...n}){const a=e[0],s=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:f,isResolvedFromDuration:h}=t9({...n,velocity:-Aa(n.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(l*d)),v=s-a,b=Aa(Math.sqrt(l/d)),g=Math.abs(v)<5;r||(r=g?.01:2),t||(t=g?.005:.5);let p;if(y<1){const x=Nx(b,y);p=w=>{const _=Math.exp(-y*b*w);return s-_*((m+y*b*v)/x*Math.sin(x*w)+v*Math.cos(x*w))}}else if(y===1)p=x=>s-Math.exp(-b*x)*(v+(m+b*v)*x);else{const x=b*Math.sqrt(y*y-1);p=w=>{const _=Math.exp(-y*b*w),S=Math.min(x*w,300);return s-_*((m+y*b*v)*Math.sinh(S)+x*v*Math.cosh(S))/x}}return{calculatedDuration:h&&u||null,next:x=>{const w=p(x);if(h)o.done=x>=u;else{let _=m;x!==0&&(y<1?_=N3(p,x,w):_=0);const S=Math.abs(_)<=r,E=Math.abs(s-w)<=t;o.done=S&&E}return o.value=o.done?s:w,o}}}function Aj({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},m=O=>l!==void 0&&O<l||c!==void 0&&O>c,y=O=>l===void 0?c:c===void 0||Math.abs(l-O)<Math.abs(c-O)?l:c;let v=r*t;const b=f+v,g=o===void 0?b:o(b);g!==b&&(v=g-f);const p=O=>-v*Math.exp(-O/n),x=O=>g+p(O),w=O=>{const T=p(O),D=x(O);h.done=Math.abs(T)<=d,h.value=h.done?g:D};let _,S;const E=O=>{m(h.value)&&(_=O,S=_3({keyframes:[h.value,y(h.value)],velocity:N3(x,O,h.value),damping:a,stiffness:s,restDelta:d,restSpeed:u}))};return E(0),{calculatedDuration:null,next:O=>{let T=!1;return!S&&_===void 0&&(T=!0,w(O),E(O)),_!==void 0&&O>_?S.next(O-_):(!T&&w(O),h)}}}const r9=e=>{const t=({timestamp:r})=>e(r);return{start:()=>et.update(t,!0),stop:()=>Wa(t),now:()=>er.isProcessing?er.timestamp:performance.now()}},Lj=2e4;function $j(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Lj;)t+=r,n=e.next(t);return t>=Lj?1/0:t}const n9={decay:Aj,inertia:Aj,tween:Dh,keyframes:Dh,spring:_3};function Ph({autoplay:e=!0,delay:t=0,driver:r=r9,keyframes:n,type:a="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:f,...h}){let m=1,y=!1,v,b;const g=()=>{b=new Promise($=>{v=$})};g();let p;const x=n9[a]||Dh;let w;x!==Dh&&typeof n[0]!="number"&&(w=k3([0,100],n,{clamp:!1}),n=[0,100]);const _=x({...h,keyframes:n});let S;l==="mirror"&&(S=x({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let E="idle",O=null,T=null,D=null;_.calculatedDuration===null&&s&&(_.calculatedDuration=$j(_));const{calculatedDuration:R}=_;let N=1/0,C=1/0;R!==null&&(N=R+o,C=N*(s+1)-o);let j=0;const I=$=>{if(T===null)return;m>0&&(T=Math.min(T,$)),m<0&&(T=Math.min($-C/m,T)),O!==null?j=O:j=Math.round($-T)*m;const z=j-t*(m>=0?1:-1),q=m>=0?z<0:z>C;j=Math.max(z,0),E==="finished"&&O===null&&(j=C);let K=j,H=_;if(s){const ae=Math.min(j,C)/N;let me=Math.floor(ae),fe=ae%1;!fe&&ae>=1&&(fe=1),fe===1&&me--,me=Math.min(me,s+1),!!(me%2)&&(l==="reverse"?(fe=1-fe,o&&(fe-=o/N)):l==="mirror"&&(H=S)),K=Us(0,1,fe)*N}const ee=q?{done:!1,value:n[0]}:H.next(K);w&&(ee.value=w(ee.value));let{done:ne}=ee;!q&&R!==null&&(ne=m>=0?j>=C:j<=0);const re=O===null&&(E==="finished"||E==="running"&&ne);return f&&f(ee.value),re&&A(),ee},B=()=>{p&&p.stop(),p=void 0},P=()=>{E="idle",B(),v(),g(),T=D=null},A=()=>{E="finished",u&&u(),B(),v()},F=()=>{if(y)return;p||(p=r(I));const $=p.now();c&&c(),O!==null?T=$-O:(!T||E==="finished")&&(T=$),E==="finished"&&g(),D=T,O=null,E="running",p.start()};e&&F();const L={then($,z){return b.then($,z)},get time(){return Aa(j)},set time($){$=Oi($),j=$,O!==null||!p||m===0?O=$:T=p.now()-$/m},get duration(){const $=_.calculatedDuration===null?$j(_):_.calculatedDuration;return Aa($)},get speed(){return m},set speed($){$===m||!p||(m=$,L.time=Aa(j))},get state(){return E},play:F,pause:()=>{E="paused",O=j},stop:()=>{y=!0,E!=="idle"&&(E="idle",d&&d(),P())},cancel:()=>{D!==null&&I(D),P()},complete:()=>{E="finished"},sample:$=>(T=0,I($))};return L}function a9(e){let t;return()=>(t===void 0&&(t=e()),t)}const s9=a9(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),i9=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),qu=10,o9=2e4,l9=(e,t)=>t.type==="spring"||e==="backgroundColor"||!r3(t.ease);function c9(e,t,{onUpdate:r,onComplete:n,...a}){if(!(s9()&&i9.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const u=()=>{c=new Promise(x=>{l=x})};u();let{keyframes:f,duration:h=300,ease:m,times:y}=a;if(l9(t,a)){const x=Ph({...a,repeat:0,delay:0});let w={done:!1,value:f[0]};const _=[];let S=0;for(;!w.done&&S<o9;)w=x.sample(S),_.push(w.value),S+=qu;y=void 0,f=_,h=S-qu,m="linear"}const v=xU(e.owner.current,t,f,{...a,duration:h,ease:m,times:y}),b=()=>{d=!1,v.cancel()},g=()=>{d=!0,et.update(b),l(),u()};return v.onfinish=()=>{d||(e.set(yU(f,a)),n&&n(),g())},{then(x,w){return c.then(x,w)},attachTimeline(x){return v.timeline=x,v.onfinish=null,jt},get time(){return Aa(v.currentTime||0)},set time(x){v.currentTime=Oi(x)},get speed(){return v.playbackRate},set speed(x){v.playbackRate=x},get duration(){return Aa(h)},play:()=>{o||(v.play(),Wa(b))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:x}=v;if(x){const w=Ph({...a,autoplay:!1});e.setWithVelocity(w.sample(x-qu).value,w.sample(x).value,qu)}g()},complete:()=>{d||v.finish()},cancel:g}}function d9({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const a=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:jt,pause:jt,stop:jt,then:s=>(s(),Promise.resolve()),cancel:jt,complete:jt});return t?Ph({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const u9={type:"spring",stiffness:500,damping:25,restSpeed:10},f9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),h9={type:"keyframes",duration:.8},m9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p9=(e,{keyframes:t})=>t.length>2?h9:ro.has(e)?e.startsWith("scale")?f9(t[1]):u9:m9,_x=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ws.test(t)||t==="0")&&!t.startsWith("url(")),g9=new Set(["brightness","contrast","saturate","opacity"]);function v9(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match($m)||[];if(!n)return e;const a=r.replace(n,"");let s=g9.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const x9=/([a-z-]*)\(.*?\)/g,Sx={...Ws,getAnimatableNone:e=>{const t=e.match(x9);return t?t.map(v9).join(" "):e}},y9={...z4,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:Sx,WebkitFilter:Sx},Hb=e=>y9[e];function S3(e,t){let r=Hb(e);return r!==Sx&&(r=Ws),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const C3=e=>/^0[^.\s]+$/.test(e);function b9(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||C3(e)}function w9(e,t,r,n){const a=_x(t,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let d=0;d<s.length;d++)s[d]===null&&(s[d]=d===0?o:s[d-1]),b9(s[d])&&c.push(d),typeof s[d]=="string"&&s[d]!=="none"&&s[d]!=="0"&&(l=s[d]);if(a&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];s[u]=S3(t,l)}return s}function k9({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function Vb(e,t){return e[t]||e.default||e}const j9={skipAnimations:!1},qb=(e,t,r,n={})=>a=>{const s=Vb(n,e)||{},o=s.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Oi(o);const c=w9(t,e,r,s),d=c[0],u=c[c.length-1],f=_x(e,d),h=_x(e,u);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:y=>{t.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{a(),s.onComplete&&s.onComplete()}};if(k9(s)||(m={...m,...p9(e,m)}),m.duration&&(m.duration=Oi(m.duration)),m.repeatDelay&&(m.repeatDelay=Oi(m.repeatDelay)),!f||!h||vU.current||s.type===!1||j9.skipAnimations)return d9(m);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=c9(t,e,m);if(y)return y}return Ph(m)};function Oh(e){return!!(Mr(e)&&e.add)}const E3=e=>/^\-?\d*\.?\d+$/.test(e);function Gb(e,t){e.indexOf(t)===-1&&e.push(t)}function Yb(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Xb{constructor(){this.subscriptions=[]}add(t){return Gb(this.subscriptions,t),()=>Yb(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const N9=e=>!isNaN(parseFloat(e));class _9{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=er;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,et.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>et.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=N9(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Xb);const n=this.events[t].add(r);return t==="change"?()=>{n(),et.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?j3(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(e,t){return new _9(e,t)}const T3=e=>t=>t.test(e),S9={test:e=>e==="auto",parse:e=>e},D3=[no,je,la,ns,IB,OB,S9],ec=e=>D3.find(T3(e)),C9=[...D3,dr,Ws],E9=e=>C9.find(T3(e));function T9(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,vl(r))}function D9(e,t){const r=Fm(e,t);let{transitionEnd:n={},transition:a={},...s}=r?e.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const o in s){const l=GB(s[o]);T9(e,o,l)}}function P9(e,t,r){var n,a;const s=Object.keys(t).filter(l=>!e.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const c=s[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(a=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&a!==void 0?a:t[c]),u!=null&&(typeof u=="string"&&(E3(u)||C3(u))?u=parseFloat(u):!E9(u)&&Ws.test(d)&&(u=S3(c,d)),e.addValue(c,vl(u,{owner:e})),r[c]===void 0&&(r[c]=u),u!==null&&e.setBaseTarget(c,u))}}function O9(e,t){return t?(t[e]||t.default||t).from:void 0}function I9(e,t,r){const n={};for(const a in e){const s=O9(a,t);if(s!==void 0)n[a]=s;else{const o=r.getValue(a);o&&(n[a]=o.get())}}return n}function M9({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function R9(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function P3(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(s=n);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const h=e.getValue(f),m=l[f];if(!h||m===void 0||u&&M9(u,f))continue;const y={delay:r,elapsed:0,...Vb(s||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[O4];if(g){const p=window.HandoffAppearAnimations(g,f,h,et);p!==null&&(y.elapsed=p,y.isHandoff=!0)}}let v=!y.isHandoff&&!R9(h,m);if(y.type==="spring"&&(h.getVelocity()||y.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(qb(f,h,m,e.shouldReduceMotion&&ro.has(f)?{type:!1}:y));const b=h.animation;Oh(c)&&(c.add(f),b.then(()=>c.remove(f))),d.push(b)}return o&&Promise.all(d).then(()=>{o&&D9(e,o)}),d}function Cx(e,t,r={}){const n=Fm(e,t,r.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(P3(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:f}=a;return A9(e,t,d+c,u,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(r.delay)])}function A9(e,t,r=0,n=0,a=1,s){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(L9).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Cx(d,t,{...s,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function L9(e,t){return e.sortNodePosition(t)}function $9(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>Cx(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=Cx(e,t,r);else{const a=typeof t=="function"?Fm(e,t,r.custom):t;n=Promise.all(P3(e,a,r))}return n.then(()=>e.notify("AnimationComplete",t))}const z9=[...Db].reverse(),F9=Db.length;function B9(e){return t=>Promise.all(t.map(({animation:r,options:n})=>$9(e,r,n)))}function U9(e){let t=B9(e);const r=H9();let n=!0;const a=(c,d)=>{const u=Fm(e,d);if(u){const{transition:f,transitionEnd:h,...m}=u;c={...c,...m,...h}}return c};function s(c){t=c(e)}function o(c,d){const u=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let y={},v=1/0;for(let g=0;g<F9;g++){const p=z9[g],x=r[p],w=u[p]!==void 0?u[p]:f[p],_=yd(w),S=p===d?x.isActive:null;S===!1&&(v=g);let E=w===f[p]&&w!==u[p]&&_;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),x.protectedKeys={...y},!x.isActive&&S===null||!w&&!x.prevProp||Am(w)||typeof w=="boolean")continue;let T=W9(x.prevProp,w)||p===d&&x.isActive&&!E&&_||g>v&&_,D=!1;const R=Array.isArray(w)?w:[w];let N=R.reduce(a,{});S===!1&&(N={});const{prevResolvedValues:C={}}=x,j={...C,...N},I=B=>{T=!0,m.has(B)&&(D=!0,m.delete(B)),x.needsAnimating[B]=!0};for(const B in j){const P=N[B],A=C[B];if(y.hasOwnProperty(B))continue;let F=!1;Eh(P)&&Eh(A)?F=!e3(P,A):F=P!==A,F?P!==void 0?I(B):m.add(B):P!==void 0&&m.has(B)?I(B):x.protectedKeys[B]=!0}x.prevProp=w,x.prevResolvedValues=N,x.isActive&&(y={...y,...N}),n&&e.blockInitialAnimation&&(T=!1),T&&(!E||D)&&h.push(...R.map(B=>({animation:B,options:{type:p,...c}})))}if(m.size){const g={};m.forEach(p=>{const x=e.getBaseTarget(p);x!==void 0&&(g[p]=x)}),h.push({animation:g})}let b=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(h):Promise.resolve()}function l(c,d,u){var f;if(r[c].isActive===d)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,d)}),r[c].isActive=d;const h=o(u,c);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r}}function W9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!e3(t,e):!1}function ai(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H9(){return{animate:ai(!0),whileInView:ai(),whileHover:ai(),whileTap:ai(),whileDrag:ai(),whileFocus:ai(),exit:ai()}}class V9 extends Qs{constructor(t){super(t),t.animationState||(t.animationState=U9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Am(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let q9=0;class G9 extends Qs{constructor(){super(...arguments),this.id=q9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Y9={animation:{Feature:V9},exit:{Feature:G9}},zj=(e,t)=>Math.abs(e-t);function X9(e,t){const r=zj(e.x,t.x),n=zj(e.y,t.y);return Math.sqrt(r**2+n**2)}class O3{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Og(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=X9(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=f,{timestamp:v}=er;this.history.push({...y,timestamp:v});const{onStart:b,onMove:g}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Pg(h,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Og(f.type==="pointercancel"?this.lastMoveEventInfo:Pg(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),y&&y(f,b)},!X4(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=zm(t),l=Pg(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=er;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,Og(l,this.history)),this.removeListeners=Rs(Ra(this.contextWindow,"pointermove",this.handlePointerMove),Ra(this.contextWindow,"pointerup",this.handlePointerUp),Ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wa(this.updatePoint)}}function Pg(e,t){return t?{point:t(e.point)}:e}function Fj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Og({point:e},t){return{point:e,delta:Fj(e,I3(t)),offset:Fj(e,K9(t)),velocity:J9(t,.1)}}function K9(e){return e[0]}function I3(e){return e[e.length-1]}function J9(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=I3(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Oi(t)));)r--;if(!n)return{x:0,y:0};const s=Aa(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Yr(e){return e.max-e.min}function Ex(e,t=0,r=.01){return Math.abs(e-t)<=r}function Bj(e,t,r,n=.5){e.origin=n,e.originPoint=mt(t.min,t.max,e.origin),e.scale=Yr(r)/Yr(t),(Ex(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=mt(r.min,r.max,e.origin)-e.originPoint,(Ex(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Bc(e,t,r,n){Bj(e.x,t.x,r.x,n?n.originX:void 0),Bj(e.y,t.y,r.y,n?n.originY:void 0)}function Uj(e,t,r){e.min=r.min+t.min,e.max=e.min+Yr(t)}function Q9(e,t,r){Uj(e.x,t.x,r.x),Uj(e.y,t.y,r.y)}function Wj(e,t,r){e.min=t.min-r.min,e.max=e.min+Yr(t)}function Uc(e,t,r){Wj(e.x,t.x,r.x),Wj(e.y,t.y,r.y)}function Z9(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?mt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?mt(r,e,n.max):Math.min(e,r)),e}function Hj(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function eW(e,{top:t,left:r,bottom:n,right:a}){return{x:Hj(e.x,r,a),y:Hj(e.y,t,n)}}function Vj(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function tW(e,t){return{x:Vj(e.x,t.x),y:Vj(e.y,t.y)}}function rW(e,t){let r=.5;const n=Yr(e),a=Yr(t);return a>n?r=wd(t.min,t.max-n,e.min):n>a&&(r=wd(e.min,e.max-a,t.min)),Us(0,1,r)}function nW(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Tx=.35;function aW(e=Tx){return e===!1?e=0:e===!0&&(e=Tx),{x:qj(e,"left","right"),y:qj(e,"top","bottom")}}function qj(e,t,r){return{min:Gj(e,t),max:Gj(e,r)}}function Gj(e,t){return typeof e=="number"?e:e[t]||0}const Yj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mo=()=>({x:Yj(),y:Yj()}),Xj=()=>({min:0,max:0}),Et=()=>({x:Xj(),y:Xj()});function fn(e){return[e("x"),e("y")]}function M3({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function sW({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iW(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ig(e){return e===void 0||e===1}function Dx({scale:e,scaleX:t,scaleY:r}){return!Ig(e)||!Ig(t)||!Ig(r)}function hi(e){return Dx(e)||R3(e)||e.z||e.rotate||e.rotateX||e.rotateY}function R3(e){return Kj(e.x)||Kj(e.y)}function Kj(e){return e&&e!=="0%"}function Ih(e,t,r){const n=e-r,a=t*n;return r+a}function Jj(e,t,r,n,a){return a!==void 0&&(e=Ih(e,a,n)),Ih(e,r,n)+t}function Px(e,t=0,r=1,n,a){e.min=Jj(e.min,t,r,n,a),e.max=Jj(e.max,t,r,n,a)}function A3(e,{x:t,y:r}){Px(e.x,t.translate,t.scale,t.originPoint),Px(e.y,r.translate,r.scale,r.originPoint)}function oW(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=r[l],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ro(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,A3(e,o)),n&&hi(s.latestValues)&&Ro(e,s.latestValues))}t.x=Qj(t.x),t.y=Qj(t.y)}function Qj(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function cs(e,t){e.min=e.min+t,e.max=e.max+t}function Zj(e,t,[r,n,a]){const s=t[a]!==void 0?t[a]:.5,o=mt(e.min,e.max,s);Px(e,t[r],t[n],o,t.scale)}const lW=["x","scaleX","originX"],cW=["y","scaleY","originY"];function Ro(e,t){Zj(e.x,t,lW),Zj(e.y,t,cW)}function L3(e,t){return M3(iW(e.getBoundingClientRect(),t))}function dW(e,t,r){const n=L3(e,r),{scroll:a}=t;return a&&(cs(n.x,a.offset.x),cs(n.y,a.offset.y)),n}const $3=({current:e})=>e?e.ownerDocument.defaultView:null,uW=new WeakMap;class fW{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(zm(u,"page").point)},s=(u,f)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=J4(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fn(b=>{let g=this.getAxisMotionValue(b).get()||0;if(la.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const x=p.layout.layoutBox[b];x&&(g=Yr(x)*(parseFloat(g)/100))}}this.originPoint[b]=g}),y&&et.update(()=>y(u,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=hW(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(u,f)},l=(u,f)=>this.stop(u,f),c=()=>fn(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new O3(t,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:$3(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&et.update(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Gu(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Z9(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&Oo(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=eW(a.layoutBox,r):this.constraints=!1,this.elastic=aW(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&fn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=nW(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Oo(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=dW(n,a.root,this.visualElement.getTransformPagePoint());let o=tW(a.layout.layoutBox,s);if(r){const l=r(sW(o));this.hasMutatedConstraints=!!l,l&&(o=M3(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=fn(u=>{if(!Gu(u,r,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,y={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(qb(t,n,0,r))}stopAnimation(){fn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){fn(r=>{const{drag:n}=this.getProps();if(!Gu(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];s.set(t[r]-mt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Oo(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fn(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=rW({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),fn(o=>{if(!Gu(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(mt(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;uW.set(this.visualElement,this);const t=this.visualElement.current,r=Ra(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Oo(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const o=Oa(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(fn(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=Tx,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Gu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function hW(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class mW extends Qs{constructor(t){super(t),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new fW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const e2=e=>(t,r)=>{e&&et.update(()=>e(t,r))};class pW extends Qs{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(t){this.session=new O3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:e2(t),onStart:e2(r),onMove:n,onEnd:(s,o)=>{delete this.session,a&&et.update(()=>a(s,o))}}}mount(){this.removePointerDownListener=Ra(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function gW(){const e=k.useContext(Mm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=k.useId();return k.useEffect(()=>n(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}const Df={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function t2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const r=t2(e,t.target.x),n=t2(e,t.target.y);return`${r}% ${n}%`}},vW={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Ws.parse(e);if(a.length>5)return n;const s=Ws.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=mt(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),s(a)}};class xW extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;_B(yW),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Df.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||et.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function z3(e){const[t,r]=gW(),n=k.useContext(Ob);return Z.createElement(xW,{...e,layoutGroup:n,switchLayoutGroup:k.useContext(M4),isPresent:t,safeToRemove:r})}const yW={borderRadius:{...tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tc,borderTopRightRadius:tc,borderBottomLeftRadius:tc,borderBottomRightRadius:tc,boxShadow:vW},F3=["TopLeft","TopRight","BottomLeft","BottomRight"],bW=F3.length,r2=e=>typeof e=="string"?parseFloat(e):e,n2=e=>typeof e=="number"||je.test(e);function wW(e,t,r,n,a,s){a?(e.opacity=mt(0,r.opacity!==void 0?r.opacity:1,kW(n)),e.opacityExit=mt(t.opacity!==void 0?t.opacity:1,0,jW(n))):s&&(e.opacity=mt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<bW;o++){const l=`border${F3[o]}Radius`;let c=a2(t,l),d=a2(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||n2(c)===n2(d)?(e[l]=Math.max(mt(r2(c),r2(d),n),0),(la.test(d)||la.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=mt(t.rotate||0,r.rotate||0,n))}function a2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kW=B3(0,.5,c3),jW=B3(.5,.95,jt);function B3(e,t,r){return n=>n<e?0:n>t?1:r(wd(e,t,n))}function s2(e,t){e.min=t.min,e.max=t.max}function an(e,t){s2(e.x,t.x),s2(e.y,t.y)}function i2(e,t,r,n,a){return e-=t,e=Ih(e,1/r,n),a!==void 0&&(e=Ih(e,1/a,n)),e}function NW(e,t=0,r=1,n=.5,a,s=e,o=e){if(la.test(t)&&(t=parseFloat(t),t=mt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=mt(s.min,s.max,n);e===s&&(l-=t),e.min=i2(e.min,t,r,l,a),e.max=i2(e.max,t,r,l,a)}function o2(e,t,[r,n,a],s,o){NW(e,t[r],t[n],t[a],t.scale,s,o)}const _W=["x","scaleX","originX"],SW=["y","scaleY","originY"];function l2(e,t,r,n){o2(e.x,t,_W,r?r.x:void 0,n?n.x:void 0),o2(e.y,t,SW,r?r.y:void 0,n?n.y:void 0)}function c2(e){return e.translate===0&&e.scale===1}function U3(e){return c2(e.x)&&c2(e.y)}function CW(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function W3(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function d2(e){return Yr(e.x)/Yr(e.y)}class EW{constructor(){this.members=[]}add(t){Gb(this.members,t),t.scheduleRender()}remove(t){if(Yb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function u2(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y;if((a||s)&&(n=`translate3d(${a}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:d,rotateY:u}=r;c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),u&&(n+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const TW=(e,t)=>e.depth-t.depth;class DW{constructor(){this.children=[],this.isDirty=!1}add(t){Gb(this.children,t),this.isDirty=!0}remove(t){Yb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TW),this.isDirty=!1,this.children.forEach(t)}}function PW(e,t){const r=performance.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Wa(n),e(s-t))};return et.read(n,!0),()=>Wa(n)}function OW(e){window.MotionDebug&&window.MotionDebug.record(e)}function IW(e){return e instanceof SVGElement&&e.tagName!=="svg"}function MW(e,t,r){const n=Mr(e)?e:vl(e);return n.start(qb("",n,t,r)),n.animation}const f2=["","X","Y","Z"],RW={visibility:"hidden"},h2=1e3;let AW=0;const mi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function H3({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=AW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mi.totalNodes=mi.resolvedTargetDeltas=mi.recalculatedProjection=0,this.nodes.forEach(zW),this.nodes.forEach(HW),this.nodes.forEach(VW),this.nodes.forEach(FW),OW(mi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new DW)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Xb),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=IW(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=PW(h,250),Df.hasAnimatedSinceResize&&(Df.hasAnimatedSinceResize=!1,this.nodes.forEach(p2))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||KW,{onLayoutAnimationStart:b,onLayoutAnimationComplete:g}=u.getProps(),p=!this.targetLayout||!W3(this.targetLayout,y)||m,x=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const w={...Vb(v,"layout"),onPlay:b,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||p2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(m2);return}this.isUpdating||this.nodes.forEach(UW),this.isUpdating=!1,this.nodes.forEach(WW),this.nodes.forEach(LW),this.nodes.forEach($W),this.clearAllSnapshots();const l=performance.now();er.delta=Us(0,1e3/60,l-er.timestamp),er.timestamp=l,er.isProcessing=!0,jg.update.process(er),jg.preRender.process(er),jg.render.process(er),er.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(BW),this.sharedNodes.forEach(GW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!U3(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||hi(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),JW(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Et();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(cs(l.x,c.offset.x),cs(l.y,c.offset.y)),l}removeElementScroll(o){const l=Et();an(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:f}=d;if(d!==this.root&&u&&f.layoutScroll){if(u.isRoot){an(l,o);const{scroll:h}=this.root;h&&(cs(l.x,-h.offset.x),cs(l.y,-h.offset.y))}cs(l.x,u.offset.x),cs(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const c=Et();an(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ro(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hi(u.latestValues)&&Ro(c,u.latestValues)}return hi(this.latestValues)&&Ro(c,this.latestValues),c}removeTransform(o){const l=Et();an(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!hi(d.latestValues))continue;Dx(d.latestValues)&&d.updateSnapshot();const u=Et(),f=d.measurePageBox();an(u,f),l2(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return hi(this.latestValues)&&l2(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==er.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=er.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Uc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):an(this.target,this.layout.layoutBox),A3(this.target,this.targetDelta)):an(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Uc(this.relativeTargetOrigin,this.target,m.target),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Dx(this.parent.latestValues)||R3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===er.timestamp&&(d=!1),d)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;an(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;oW(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=Mo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Mo(),this.projectionDeltaWithTransform=Mo());const v=this.projectionTransform;Bc(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=u2(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),mi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=Mo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Et(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,b=this.getStack(),g=!b||b.members.length<=1,p=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(XW));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const _=w/1e3;g2(f.x,o.x,_),g2(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YW(this.relativeTarget,this.relativeTargetOrigin,h,_),x&&CW(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Et()),an(x,this.relativeTarget)),v&&(this.animationValues=u,wW(u,d,this.latestValues,_,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Df.hasAnimatedSinceResize=!0,this.currentAnimation=MW(0,h2,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(h2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&V3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Et();const f=Yr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Yr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}an(l,c),Ro(l,u),Bc(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new EW),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<f2.length;u++){const f="rotate"+f2[u];c[f]&&(d[f]=c[f],o.setStaticValue(f,0))}o.render();for(const u in d)o.setStaticValue(u,d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return RW;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Tf(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Tf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!hi(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=u2(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:m,y}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Sh){if(h[v]===void 0)continue;const{correct:b,applyTo:g}=Sh[v],p=d.transform==="none"?h[v]:b(h[v],f);if(g){const x=g.length;for(let w=0;w<x;w++)d[g[w]]=p}else d[v]=p}return this.options.layoutId&&(d.pointerEvents=f===this?Tf(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(m2),this.root.sharedNodes.clear()}}}function LW(e){e.updateLayout()}function $W(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?fn(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],m=Yr(h);h.min=n[f].min,h.max=h.min+m}):V3(s,r.layoutBox,n)&&fn(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],m=Yr(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Mo();Bc(l,n,r.layoutBox);const c=Mo();o?Bc(c,e.applyTransform(a,!0),r.measuredBox):Bc(c,n,r.layoutBox);const d=!U3(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const y=Et();Uc(y,r.layoutBox,h.layoutBox);const v=Et();Uc(v,n,m.layoutBox),W3(y,v)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function zW(e){mi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function FW(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function BW(e){e.clearSnapshot()}function m2(e){e.clearMeasurements()}function UW(e){e.isLayoutDirty=!1}function WW(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function p2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function HW(e){e.resolveTargetDelta()}function VW(e){e.calcProjection()}function qW(e){e.resetRotation()}function GW(e){e.removeLeadSnapshot()}function g2(e,t,r){e.translate=mt(t.translate,0,r),e.scale=mt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function v2(e,t,r,n){e.min=mt(t.min,r.min,n),e.max=mt(t.max,r.max,n)}function YW(e,t,r,n){v2(e.x,t.x,r.x,n),v2(e.y,t.y,r.y,n)}function XW(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const KW={duration:.45,ease:[.4,0,.1,1]},x2=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),y2=x2("applewebkit/")&&!x2("chrome/")?Math.round:jt;function b2(e){e.min=y2(e.min),e.max=y2(e.max)}function JW(e){b2(e.x),b2(e.y)}function V3(e,t,r){return e==="position"||e==="preserve-aspect"&&!Ex(d2(t),d2(r),.2)}const QW=H3({attachResizeListener:(e,t)=>Oa(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mg={current:void 0},q3=H3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mg.current){const e=new QW({});e.mount(window),e.setOptions({layoutScroll:!0}),Mg.current=e}return Mg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ZW={pan:{Feature:pW},drag:{Feature:mW,ProjectionNode:q3,MeasureLayout:z3}},eH=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tH(e){const t=eH.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Ox(e,t,r=1){const[n,a]=tH(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return E3(o)?parseFloat(o):o}else return wx(a)?Ox(a,t,r+1):a}function rH(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(a=>{const s=a.get();if(!wx(s))return;const o=Ox(s,n);o&&a.set(o)});for(const a in t){const s=t[a];if(!wx(s))continue;const o=Ox(s,n);o&&(t[a]=o,r||(r={}),r[a]===void 0&&(r[a]=s))}return{target:t,transitionEnd:r}}const nH=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),G3=e=>nH.has(e),aH=e=>Object.keys(e).some(G3),w2=e=>e===no||e===je,k2=(e,t)=>parseFloat(e.split(", ")[t]),j2=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return k2(a[1],t);{const s=n.match(/^matrix\((.+)\)$/);return s?k2(s[1],e):0}},sH=new Set(["x","y","z"]),iH=Yd.filter(e=>!sH.has(e));function oH(e){const t=[];return iH.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const xl={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:j2(4,13),y:j2(5,14)};xl.translateX=xl.x;xl.translateY=xl.y;const lH=(e,t,r)=>{const n=t.measureViewportBox(),a=t.current,s=getComputedStyle(a),{display:o}=s,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(d=>{l[d]=xl[d](n,s)}),t.render();const c=t.measureViewportBox();return r.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=xl[d](c,s)}),e},cH=(e,t,r={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(G3);let s=[],o=!1;const l=[];if(a.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=r[c],f=ec(u);const h=t[c];let m;if(Eh(h)){const y=h.length,v=h[0]===null?1:0;u=h[v],f=ec(u);for(let b=v;b<y&&h[b]!==null;b++)m?Fb(ec(h[b])===m):m=ec(h[b])}else m=ec(h);if(f!==m)if(w2(f)&&w2(m)){const y=d.get();typeof y=="string"&&d.set(parseFloat(y)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&m===je&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(u===0||h===0)?u===0?d.set(m.transform(u)):t[c]=f.transform(h):(o||(s=oH(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],d.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=lH(t,e,l);return s.length&&s.forEach(([u,f])=>{e.getValue(u).set(f)}),e.render(),Rm&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:n}}else return{target:t,transitionEnd:n}};function dH(e,t,r,n){return aH(t)?cH(e,t,r,n):{target:t,transitionEnd:n}}const uH=(e,t,r,n)=>{const a=rH(e,t,n);return t=a.target,n=a.transitionEnd,dH(e,t,r,n)},Ix={current:null},Y3={current:!1};function fH(){if(Y3.current=!0,!!Rm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ix.current=e.matches;e.addListener(t),t()}else Ix.current=!1}function hH(e,t,r){const{willChange:n}=t;for(const a in t){const s=t[a],o=r[a];if(Mr(s))e.addValue(a,s),Oh(n)&&n.add(a);else if(Mr(o))e.addValue(a,vl(s,{owner:e})),Oh(n)&&n.remove(a);else if(o!==s)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(s)}else{const l=e.getStaticValue(a);e.addValue(a,vl(l!==void 0?l:s,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const N2=new WeakMap,X3=Object.keys(bd),mH=X3.length,_2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],pH=Pb.length;class gH{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>et.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=Lm(r),this.isVariantNode=I4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(r,{});for(const f in u){const h=u[f];l[f]!==void 0&&Mr(h)&&(h.set(l[f],!1),Oh(d)&&d.add(f))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,N2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Y3.current||fH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ix.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){N2.delete(this.current),this.projection&&this.projection.unmount(),Wa(this.notifyUpdate),Wa(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=ro.has(t),a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&et.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,a,s){let o,l;for(let c=0;c<mH;c++){const d=X3[c],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:m}=bd[d];h&&(o=h),u(r)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:m}=r;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||f&&Oo(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<_2.length;n++){const a=_2[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s=t["on"+a];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=hH(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<pH;n++){const a=Pb[n],s=this.props[a];(yd(s)||s===!1)&&(r[a]=s)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=vl(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(r=zb(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Mr(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Xb),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class K3 extends gH{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:a},s){let o=I9(n,t||{},this);if(a&&(r&&(r=a(r)),n&&(n=a(n)),o&&(o=a(o))),s){P9(this,n,o);const l=uH(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function vH(e){return window.getComputedStyle(e)}class xH extends K3{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(ro.has(r)){const n=Hb(r);return n&&n.default||0}else{const n=vH(t),a=(L4(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return L3(t,r)}build(t,r,n,a){Mb(t,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,r){return $b(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,a){W4(t,r,n,a)}}class yH extends K3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ro.has(r)){const n=Hb(r);return n&&n.default||0}return r=H4.has(r)?r:Tb(r),t.getAttribute(r)}measureInstanceViewportBox(){return Et()}scrapeMotionValuesFromProps(t,r){return q4(t,r)}build(t,r,n,a){Ab(t,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,n,a){V4(t,r,n,a)}mount(t){this.isSVGTag=Lb(t.tagName),super.mount(t)}}const bH=(e,t)=>Ib(e)?new yH(t,{enableHardwareAcceleration:!1}):new xH(t,{enableHardwareAcceleration:!0}),wH={layout:{ProjectionNode:q3,MeasureLayout:z3}},kH={...Y9,...mU,...ZW,...wH},Rg=jB((e,t)=>tU(e,t,kH,bH));function J3(){const e=k.useRef(!1);return Eb(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function jH(){const e=J3(),[t,r]=k.useState(0),n=k.useCallback(()=>{e.current&&r(t+1)},[t]);return[k.useCallback(()=>et.postRender(n),[n]),t]}class NH extends k.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _H({children:e,isPresent:t}){const r=k.useId(),n=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=a.current;if(t||!n.current||!s||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),k.createElement(NH,{isPresent:t,childRef:n,sizeRef:a},k.cloneElement(e,{ref:n}))}const Ag=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o})=>{const l=G4(SH),c=k.useId(),d=k.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:u=>{l.set(u,!0);for(const f of l.values())if(!f)return;n&&n()},register:u=>(l.set(u,!1),()=>l.delete(u))}),s?void 0:[r]);return k.useMemo(()=>{l.forEach((u,f)=>l.set(f,!1))},[r]),k.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=k.createElement(_H,{isPresent:r},e)),k.createElement(Mm.Provider,{value:d},e)};function SH(){return new Map}function CH(e){return k.useEffect(()=>()=>e(),[])}const pi=e=>e.key||"";function EH(e,t){e.forEach(r=>{const n=pi(r);t.set(n,r)})}function TH(e){const t=[];return k.Children.forEach(e,r=>{k.isValidElement(r)&&t.push(r)}),t}const Lg=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=k.useContext(Ob).forceRender||jH()[0],c=J3(),d=TH(e);let u=d;const f=k.useRef(new Map).current,h=k.useRef(u),m=k.useRef(new Map).current,y=k.useRef(!0);if(Eb(()=>{y.current=!1,EH(d,m),h.current=u}),CH(()=>{y.current=!0,m.clear(),f.clear()}),y.current)return k.createElement(k.Fragment,null,u.map(p=>k.createElement(Ag,{key:pi(p),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:s,mode:o},p)));u=[...u];const v=h.current.map(pi),b=d.map(pi),g=v.length;for(let p=0;p<g;p++){const x=v[p];b.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return o==="wait"&&f.size&&(u=[]),f.forEach((p,x)=>{if(b.indexOf(x)!==-1)return;const w=m.get(x);if(!w)return;const _=v.indexOf(x);let S=p;if(!S){const E=()=>{f.delete(x);const O=Array.from(m.keys()).filter(T=>!b.includes(T));if(O.forEach(T=>m.delete(T)),h.current=d.filter(T=>{const D=pi(T);return D===x||O.includes(D)}),!f.size){if(c.current===!1)return;l(),n&&n()}};S=k.createElement(Ag,{key:pi(w),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:s,mode:o},w),f.set(x,S)}u.splice(_,0,S)}),u=u.map(p=>{const x=p.key;return f.has(x)?p:k.createElement(Ag,{key:pi(p),isPresent:!0,presenceAffectsLayout:s,mode:o},p)}),k.createElement(k.Fragment,null,f.size?u:u.map(p=>k.cloneElement(p)))},S2=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),DH=()=>{var j,I,B;const{id:e}=cb(),t=Hn(),[r,n]=k.useState(null),[a,s]=k.useState(!0),[o,l]=k.useState([]),[c,d]=k.useState([]),[u,f]=k.useState(!0),[h,m]=k.useState(0),[y,v]=k.useState(!1),b=k.useRef(null),g=P=>{if(!oa(P))return"Дата не указана";try{return pr(P,"d MMMM yyyy")}catch(A){return console.error("Error formatting date in SpeakerProfile:",P,A),"Ошибка даты"}},p=P=>{if(!P)return"--:--";try{return fa(P)}catch(A){return console.error("Error formatting time in SpeakerProfile:",P,A),"--:--"}},x=P=>{try{if(P.status==="past")return!0;if(!P.end_at)return!1;const A=new Date(P.end_at);return isNaN(A.getTime())?!1:A<new Date}catch(A){return console.error("Error checking if event is past:",A),!1}};k.useEffect(()=>{(async()=>{try{const{data:A,error:F}=await S2.from("speakers").select("*").eq("id",e).single();if(F)throw F;const L=A.photos?A.photos.filter(($,z,q)=>z===q.findIndex(K=>K.url===$.url)):[];n({...A,photos:L})}catch(A){console.error("Error fetching speaker:",A),X.error("Не удалось загрузить информацию о спикере")}finally{s(!1)}})()},[e]),k.useEffect(()=>{r&&(async()=>{if(r)try{const{data:A,error:F}=await S2.from("events").select(`
            id,
            title,
            description,
            short_description,
            start_at,
            end_at,
            location,
            event_type,
            languages,
            speakers,
            bg_image,
            original_bg_image,
            status
          `).or(`speakers.cs.["${r.id}"],speakers.cs.{"id":"${r.id}"}`);if(F)throw F;const L=[],$=[];A==null||A.forEach(z=>{x(z)?$.push(z):L.push(z)}),l(L),d($)}catch(A){console.error("Error fetching events:",A),X.error("Не удалось загрузить мероприятия спикера")}finally{f(!1)}})()},[r]),k.useEffect(()=>{!a&&b.current&&b.current.focus()},[a]);const w=()=>{r&&m(P=>P===r.photos.length-1?0:P+1)},_=()=>{r&&m(P=>P===0?r.photos.length-1:P-1)},S=P=>{y&&(P.key==="Escape"?v(!1):P.key==="ArrowRight"?w():P.key==="ArrowLeft"&&_())};k.useEffect(()=>(window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)}),[y,h]);const E=P=>{try{return typeof P=="string"?JSON.parse(P):P}catch(A){return console.error("Error parsing blogs:",A),null}},O=P=>{if(!P)return i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Описание спикера отсутствует"});const A=[];let F=0,L;const $=/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1(?:[^>]*?)>(.*?)<\/a>/g;for(;(L=$.exec(P))!==null;)L.index>F&&A.push({type:"text",content:P.substring(F,L.index)}),A.push({type:"link",url:L[2],text:L[3]}),F=L.index+L[0].length;return F<P.length&&A.push({type:"text",content:P.substring(F)}),i.jsx("div",{className:"text-dark-600 dark:text-dark-300",children:A.map((z,q)=>z.type==="text"?i.jsx("span",{children:z.content},q):z.type==="link"?i.jsx("a",{href:z.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 dark:text-primary-400 hover:opacity-80 underline",children:z.text},q):null)})},T=P=>P.short_description?P.short_description:P.description?P.description.length>200?`${P.description.substring(0,200)}...`:P.description:"Описание мероприятия отсутствует",D=P=>{const A=x(P);return i.jsxs("div",{className:"relative border border-gray-200 dark:border-dark-700 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300 min-h-[250px] group",children:[i.jsx("div",{className:"absolute inset-0 z-0",children:P.bg_image?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${P.bg_image}`,alt:P.title,className:"w-full h-full object-cover opacity-60 dark:opacity-50 group-hover:opacity-70 dark:group-hover:opacity-60 transition-opacity duration-300",onError:F=>{const L=F.target;P.original_bg_image&&!L.dataset.triedOriginal?(L.dataset.triedOriginal="true",L.src=`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${P.original_bg_image}`):L.style.display="none"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/90 via-white/70 to-white/50 dark:from-dark-900/90 dark:via-dark-900/70 dark:to-dark-900/50"})]}):i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 to-primary-100 dark:from-dark-800 dark:to-dark-700 opacity-50"})}),i.jsxs("div",{className:"relative z-10 p-5 h-full flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h3",{className:"text-xl font-bold text-dark-800 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:P.title}),A&&i.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100/90 dark:bg-dark-700/90 text-gray-700 dark:text-gray-300 backdrop-blur-sm",children:"Прошедшее"})]}),i.jsx("p",{className:"text-dark-600 dark:text-dark-300 mb-4 flex-grow line-clamp-3",children:T(P)}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center text-dark-600 dark:text-dark-400",children:[i.jsx(_e,{className:"h-4 w-4 mr-2 flex-shrink-0 text-primary-500"}),i.jsx("span",{className:"font-medium",children:g(P.start_at)})]}),i.jsxs("div",{className:"flex items-center text-dark-600 dark:text-dark-400",children:[i.jsx(gr,{className:"h-4 w-4 mr-2 flex-shrink-0 text-primary-500"}),i.jsxs("span",{children:[p(P.start_at)," - ",p(P.end_at)]})]}),P.location&&i.jsxs("div",{className:"flex items-center text-dark-600 dark:text-dark-400",children:[i.jsx(Pt,{className:"h-4 w-4 mr-2 flex-shrink-0 text-primary-500"}),i.jsx("span",{className:"truncate",children:P.location})]}),P.languages&&P.languages.length>0&&i.jsxs("div",{className:"flex items-center text-dark-600 dark:text-dark-400",children:[i.jsx(WM,{className:"h-4 w-4 mr-2 flex-shrink-0 text-primary-500"}),i.jsx("span",{children:P.languages.join(", ")})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/80 dark:border-dark-700/80",children:i.jsxs("a",{href:`/events/${P.id}`,className:"inline-flex items-center text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-semibold group/link",children:[i.jsx("span",{children:"Подробнее"}),i.jsx("svg",{className:"w-4 h-4 ml-1 group-hover/link:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]},P.id)},R=()=>!r||r.photos.length===0?i.jsx("div",{className:"w-full h-64 bg-gray-100 dark:bg-dark-700 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-gray-400",children:"Нет фото"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative w-full h-64 md:h-80 lg:h-96 rounded-lg overflow-hidden bg-gray-100 dark:bg-dark-700 cursor-pointer",onClick:()=>v(!0),children:[i.jsx(Lg,{mode:"wait",children:i.jsx(Rg.img,{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${r.photos[h].url}`,alt:r.name,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},h)}),r.photos.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:P=>{P.stopPropagation(),_()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full z-10 transition-all",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("button",{onClick:P=>{P.stopPropagation(),w()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full z-10 transition-all",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),r.photos.length>1&&i.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-2",children:r.photos.map((P,A)=>i.jsx("button",{onClick:()=>m(A),className:`aspect-square overflow-hidden rounded-md transition-all ${A===h?"ring-2 ring-primary-500":"opacity-80 hover:opacity-100 hover:ring-1 hover:ring-gray-300"}`,children:i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${P.url}`,alt:`Фото ${A+1}`,className:"w-full h-full object-cover"})},A))}),i.jsx(Lg,{children:y&&i.jsxs(Rg.div,{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>v(!1),children:[i.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",onClick:P=>{P.stopPropagation(),v(!1)},children:i.jsx(_t,{className:"h-8 w-8"})}),i.jsxs("div",{className:"relative w-full max-w-6xl h-full max-h-screen",children:[i.jsx(Lg,{mode:"wait",children:i.jsx(Rg.img,{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${r.photos[h].url}`,alt:r.name,className:"w-full h-full object-contain",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},onClick:P=>P.stopPropagation()},h)}),r.photos.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:P=>{P.stopPropagation(),_()},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full z-10 transition-all",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("button",{onClick:P=>{P.stopPropagation(),w()},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full z-10 transition-all",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),i.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:r.photos.map((P,A)=>i.jsx("button",{onClick:F=>{F.stopPropagation(),m(A)},className:`h-2 rounded-full transition-all ${A===h?"w-6 bg-primary-500":"w-2 bg-white/50 hover:bg-white/80"}`},A))})]})]})})]});if(a)return i.jsx(ut,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})});if(!r)return i.jsx(ut,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-600",children:"Спикер не найден"})});const N=r.blog_visibility?E(r.blogs||"[]"):null,C=N&&N.length>0;return i.jsx(ut,{children:i.jsx("div",{className:"bg-gray-50 dark:bg-dark-800 min-h-screen",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-dark-500 hover:text-dark-700 dark:text-dark-400 dark:hover:text-dark-200 transition-colors mb-8",children:[i.jsx(GC,{className:"h-5 w-5"}),"Назад к списку спикеров"]}),i.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg overflow-hidden mb-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row",children:[i.jsx("div",{ref:b,tabIndex:-1,className:"w-full md:w-1/3 lg:w-1/4 p-6 outline-none",children:R()}),i.jsxs("div",{className:"w-full md:w-2/3 lg:w-3/4 p-6 md:p-8 flex flex-col justify-center",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-dark-800 dark:text-white mb-2",children:r.name}),i.jsx("p",{className:"text-xl text-primary-600 dark:text-primary-400 mb-6",children:r.field_of_expertise}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[((j=r.contact_info)==null?void 0:j.email)&&i.jsxs("a",{href:`mailto:${r.contact_info.email}`,className:"flex items-center gap-2 text-dark-600 dark:text-dark-300 hover:text-primary-500 transition-colors",children:[i.jsx(Tl,{className:"h-5 w-5"}),i.jsx("span",{children:r.contact_info.email})]}),((I=r.contact_info)==null?void 0:I.website)&&i.jsxs("a",{href:r.contact_info.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-dark-600 dark:text-dark-300 hover:text-primary-500 transition-colors",children:[i.jsx(ym,{className:"h-5 w-5"}),i.jsx("span",{children:r.contact_info.website})]}),((B=r.contact_info)==null?void 0:B.location)&&i.jsxs("div",{className:"flex items-center gap-2 text-dark-600 dark:text-dark-300",children:[i.jsx(Pt,{className:"h-5 w-5"}),i.jsx("span",{children:r.contact_info.location})]})]}),i.jsx("div",{className:"mb-6",children:O(r.description)}),C&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-dark-800 dark:text-white",children:"Блоги и социальные сети"}),i.jsx("div",{className:"flex flex-wrap gap-3",children:N.map((P,A)=>i.jsxs("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors text-dark-700 dark:text-dark-200",children:[i.jsx(JC,{className:"w-4 h-4 mr-2 flex-shrink-0"}),i.jsx("span",{children:P.platform})]},A))})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[Array.isArray(r.achievements)&&r.achievements.length>0&&i.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Достижения"}),i.jsx("ul",{className:"space-y-3",children:r.achievements.map((P,A)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-primary-500 mr-2 mt-1",children:"•"}),i.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:P})]},A))})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ближайшие мероприятия"}),u?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o.length>0?i.jsx("div",{className:"space-y-4",children:o.map(D)}):i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Нет запланированных мероприятий"})]}),c.length>0&&i.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Прошедшие мероприятия"}),i.jsx("div",{className:"space-y-4",children:c.map(D)})]}),Array.isArray(r.past_events)&&r.past_events.length>0&&i.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-lg p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"История выступлений"}),i.jsx("div",{className:"space-y-4",children:r.past_events.map((P,A)=>i.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200 dark:border-dark-700 last:border-0",children:[i.jsx("span",{className:"font-medium text-dark-800 dark:text-white",children:P.title}),i.jsx("span",{className:"text-dark-500 dark:text-dark-400",children:g(P.date)})]},A))})]})]})]})})})};function Q3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Q3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ii(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Q3(e))&&(n&&(n+=" "),n+=t);return n}function PH(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}PH(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Qd=e=>typeof e=="number"&&!isNaN(e),Wi=e=>typeof e=="string",Ha=e=>typeof e=="function",OH=e=>Wi(e)||Qd(e),Mx=e=>Wi(e)||Ha(e)?e:null,IH=(e,t)=>e===!1||Qd(e)&&e>0?e:t,Rx=e=>k.isValidElement(e)||Wi(e)||Ha(e)||Qd(e);function MH(e,t,r=300){let{scrollHeight:n,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)})})}function RH({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:a=300}){return function({children:s,position:o,preventExitTransition:l,done:c,nodeRef:d,isIn:u,playToast:f}){let h=r?`${e}--${o}`:e,m=r?`${t}--${o}`:t,y=k.useRef(0);return k.useLayoutEffect(()=>{let v=d.current,b=h.split(" "),g=p=>{p.target===d.current&&(f(),v.removeEventListener("animationend",g),v.removeEventListener("animationcancel",g),y.current===0&&p.type!=="animationcancel"&&v.classList.remove(...b))};v.classList.add(...b),v.addEventListener("animationend",g),v.addEventListener("animationcancel",g)},[]),k.useEffect(()=>{let v=d.current,b=()=>{v.removeEventListener("animationend",b),n?MH(v,c,a):c()};u||(l?b():(y.current=1,v.className+=` ${m}`,v.addEventListener("animationend",b)))},[u]),Z.createElement(Z.Fragment,null,s)}}function C2(e,t){return{content:Z3(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Z3(e,t,r=!1){return k.isValidElement(e)&&!Wi(e.type)?k.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Ha(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function AH({closeToast:e,theme:t,ariaLabel:r="close"}){return Z.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},Z.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Z.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function LH({delay:e,isRunning:t,closeToast:r,type:n="default",hide:a,className:s,controlledProgress:o,progress:l,rtl:c,isIn:d,theme:u}){let f=a||o&&l===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${l})`);let m=Ii("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),y=Ha(s)?s({rtl:c,type:n,defaultClassName:m}):Ii(m,s),v={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{d&&r()}};return Z.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Z.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${n}`}),Z.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:y,style:h,...v}))}var $H=1,eT=()=>`${$H++}`;function zH(e,t,r){let n=1,a=0,s=[],o=[],l=t,c=new Map,d=new Set,u=p=>(d.add(p),()=>d.delete(p)),f=()=>{o=Array.from(c.values()),d.forEach(p=>p())},h=({containerId:p,toastId:x,updateId:w})=>{let _=p?p!==e:e!==1,S=c.has(x)&&w==null;return _||S},m=(p,x)=>{c.forEach(w=>{var _;(x==null||x===w.props.toastId)&&((_=w.toggle)==null||_.call(w,p))})},y=p=>{var x,w;(w=(x=p.props)==null?void 0:x.onClose)==null||w.call(x,p.removalReason),p.isActive=!1},v=p=>{if(p==null)c.forEach(y);else{let x=c.get(p);x&&y(x)}f()},b=()=>{a-=s.length,s=[]},g=p=>{var x,w;let{toastId:_,updateId:S}=p.props,E=S==null;p.staleId&&c.delete(p.staleId),p.isActive=!0,c.set(_,p),f(),r(C2(p,E?"added":"updated")),E&&((w=(x=p.props).onOpen)==null||w.call(x))};return{id:e,props:l,observe:u,toggle:m,removeToast:v,toasts:c,clearQueue:b,buildToast:(p,x)=>{if(h(x))return;let{toastId:w,updateId:_,data:S,staleId:E,delay:O}=x,T=_==null;T&&a++;let D={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(x).filter(([N,C])=>C!=null)),toastId:w,updateId:_,data:S,isIn:!1,className:Mx(x.className||l.toastClassName),progressClassName:Mx(x.progressClassName||l.progressClassName),autoClose:x.isLoading?!1:IH(x.autoClose,l.autoClose),closeToast(N){c.get(w).removalReason=N,v(w)},deleteToast(){let N=c.get(w);if(N!=null){if(r(C2(N,"removed")),c.delete(w),a--,a<0&&(a=0),s.length>0){g(s.shift());return}f()}}};D.closeButton=l.closeButton,x.closeButton===!1||Rx(x.closeButton)?D.closeButton=x.closeButton:x.closeButton===!0&&(D.closeButton=Rx(l.closeButton)?l.closeButton:!0);let R={content:p,props:D,staleId:E};l.limit&&l.limit>0&&a>l.limit&&T?s.push(R):Qd(O)?setTimeout(()=>{g(R)},O):g(R)},setProps(p){l=p},setToggle:(p,x)=>{let w=c.get(p);w&&(w.toggle=x)},isToastActive:p=>{var x;return(x=c.get(p))==null?void 0:x.isActive},getSnapshot:()=>o}}var hr=new Map,kd=[],Ax=new Set,FH=e=>Ax.forEach(t=>t(e)),tT=()=>hr.size>0;function BH(){kd.forEach(e=>nT(e.content,e.options)),kd=[]}var UH=(e,{containerId:t})=>{var r;return(r=hr.get(t||1))==null?void 0:r.toasts.get(e)};function rT(e,t){var r;if(t)return!!((r=hr.get(t))!=null&&r.isToastActive(e));let n=!1;return hr.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function WH(e){if(!tT()){kd=kd.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||OH(e))hr.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=hr.get(e.containerId);t?t.removeToast(e.id):hr.forEach(r=>{r.removeToast(e.id)})}}var HH=(e={})=>{hr.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function nT(e,t){Rx(e)&&(tT()||kd.push({content:e,options:t}),hr.forEach(r=>{r.buildToast(e,t)}))}function VH(e){var t;(t=hr.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function aT(e,t){hr.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function qH(e){let t=e.containerId||1;return{subscribe(r){let n=zH(t,e,FH);hr.set(t,n);let a=n.observe(r);return BH(),()=>{a(),hr.delete(t)}},setProps(r){var n;(n=hr.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=hr.get(t))==null?void 0:r.getSnapshot()}}}function GH(e){return Ax.add(e),()=>{Ax.delete(e)}}function YH(e){return e&&(Wi(e.toastId)||Qd(e.toastId))?e.toastId:eT()}function Zd(e,t){return nT(e,t),t.toastId}function Bm(e,t){return{...t,type:t&&t.type||e,toastId:YH(t)}}function Um(e){return(t,r)=>Zd(t,Bm(e,r))}function Be(e,t){return Zd(e,Bm("default",t))}Be.loading=(e,t)=>Zd(e,Bm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function XH(e,{pending:t,error:r,success:n},a){let s;t&&(s=Wi(t)?Be.loading(t,a):Be.loading(t.render,{...a,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,u,f)=>{if(u==null){Be.dismiss(s);return}let h={type:d,...o,...a,data:f},m=Wi(u)?{render:u}:u;return s?Be.update(s,{...h,...m}):Be(m.render,{...h,...m}),f},c=Ha(e)?e():e;return c.then(d=>l("success",n,d)).catch(d=>l("error",r,d)),c}Be.promise=XH;Be.success=Um("success");Be.info=Um("info");Be.error=Um("error");Be.warning=Um("warning");Be.warn=Be.warning;Be.dark=(e,t)=>Zd(e,Bm("default",{theme:"dark",...t}));function KH(e){WH(e)}Be.dismiss=KH;Be.clearWaitingQueue=HH;Be.isActive=rT;Be.update=(e,t={})=>{let r=UH(e,t);if(r){let{props:n,content:a}=r,s={delay:100,...n,...t,toastId:t.toastId||e,updateId:eT()};s.toastId!==e&&(s.staleId=e);let o=s.render||a;delete s.render,Zd(o,s)}};Be.done=e=>{Be.update(e,{progress:1})};Be.onChange=GH;Be.play=e=>aT(!0,e);Be.pause=e=>aT(!1,e);function JH(e){var t;let{subscribe:r,getSnapshot:n,setProps:a}=k.useRef(qH(e)).current;a(e);let s=(t=k.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function o(l){if(!s)return[];let c=new Map;return e.newestOnTop&&s.reverse(),s.forEach(d=>{let{position:u}=d.props;c.has(u)||c.set(u,[]),c.get(u).push(d)}),Array.from(c,d=>l(d[0],d[1]))}return{getToastToRender:o,isToastActive:rT,count:s==null?void 0:s.length}}function QH(e){let[t,r]=k.useState(!1),[n,a]=k.useState(!1),s=k.useRef(null),o=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:f}=e;VH({id:e.toastId,containerId:e.containerId,fn:r}),k.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{m()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||g(),window.addEventListener("focus",b),window.addEventListener("blur",g)}function m(){window.removeEventListener("focus",b),window.removeEventListener("blur",g)}function y(E){if(e.draggable===!0||e.draggable===E.pointerType){p();let O=s.current;o.canCloseOnClick=!0,o.canDrag=!0,O.style.transition="none",e.draggableDirection==="x"?(o.start=E.clientX,o.removalDistance=O.offsetWidth*(e.draggablePercent/100)):(o.start=E.clientY,o.removalDistance=O.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function v(E){let{top:O,bottom:T,left:D,right:R}=s.current.getBoundingClientRect();E.nativeEvent.type!=="touchend"&&e.pauseOnHover&&E.clientX>=D&&E.clientX<=R&&E.clientY>=O&&E.clientY<=T?g():b()}function b(){r(!0)}function g(){r(!1)}function p(){o.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",_)}function x(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",_)}function w(E){let O=s.current;if(o.canDrag&&O){o.didMove=!0,t&&g(),e.draggableDirection==="x"?o.delta=E.clientX-o.start:o.delta=E.clientY-o.start,o.start!==E.clientX&&(o.canCloseOnClick=!1);let T=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;O.style.transform=`translate3d(${T},0)`,O.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function _(){x();let E=s.current;if(o.canDrag&&o.didMove&&E){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){a(!0),e.closeToast(!0),e.collapseAll();return}E.style.transition="transform 0.2s, opacity 0.2s",E.style.removeProperty("transform"),E.style.removeProperty("opacity")}}let S={onPointerDown:y,onPointerUp:v};return l&&c&&(S.onMouseEnter=g,e.stacked||(S.onMouseLeave=b)),f&&(S.onClick=E=>{u&&u(E),o.canCloseOnClick&&d(!0)}),{playToast:b,pauseToast:g,isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:S}}var ZH=typeof window<"u"?k.useLayoutEffect:k.useEffect,Wm=({theme:e,type:t,isLoading:r,...n})=>Z.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function eV(e){return Z.createElement(Wm,{...e},Z.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function tV(e){return Z.createElement(Wm,{...e},Z.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function rV(e){return Z.createElement(Wm,{...e},Z.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function nV(e){return Z.createElement(Wm,{...e},Z.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function aV(){return Z.createElement("div",{className:"Toastify__spinner"})}var Lx={info:tV,warning:eV,success:rV,error:nV,spinner:aV},sV=e=>e in Lx;function iV({theme:e,type:t,isLoading:r,icon:n}){let a=null,s={theme:e,type:t};return n===!1||(Ha(n)?a=n({...s,isLoading:r}):k.isValidElement(n)?a=k.cloneElement(n,s):r?a=Lx.spinner():sV(t)&&(a=Lx[t](s))),a}var oV=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:a,playToast:s}=QH(e),{closeButton:o,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:f,closeToast:h,transition:m,position:y,className:v,style:b,progressClassName:g,updateId:p,role:x,progress:w,rtl:_,toastId:S,deleteToast:E,isIn:O,isLoading:T,closeOnClick:D,theme:R,ariaLabel:N}=e,C=Ii("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":D}),j=Ha(v)?v({rtl:_,position:y,type:u,defaultClassName:C}):Ii(C,v),I=iV(e),B=!!w||!c,P={closeToast:h,type:u,theme:R},A=null;return o===!1||(Ha(o)?A=o(P):k.isValidElement(o)?A=k.cloneElement(o,P):A=AH(P)),Z.createElement(m,{isIn:O,done:E,position:y,preventExitTransition:r,nodeRef:n,playToast:s},Z.createElement("div",{id:S,tabIndex:0,onClick:d,"data-in":O,className:j,...a,style:b,ref:n,...O&&{role:x,"aria-label":N}},I!=null&&Z.createElement("div",{className:Ii("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},I),Z3(l,e,!t),A,!e.customProgressBar&&Z.createElement(LH,{...p&&!B?{key:`p-${p}`}:{},rtl:_,theme:R,delay:c,isRunning:t,isIn:O,closeToast:h,hide:f,type:u,className:g,controlledProgress:B,progress:w||0})))},lV=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),cV=RH(lV("bounce",!0)),dV={position:"top-right",transition:cV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function uV(e){let t={...dV,...e},r=e.stacked,[n,a]=k.useState(!0),s=k.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=JH(t),{className:d,style:u,rtl:f,containerId:h,hotKeys:m}=t;function y(b){let g=Ii("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return Ha(d)?d({position:b,rtl:f,defaultClassName:g}):Ii(g,Mx(d))}function v(){r&&(a(!0),Be.play())}return ZH(()=>{var b;if(r){let g=s.current.querySelectorAll('[data-in="true"]'),p=12,x=(b=t.position)==null?void 0:b.includes("top"),w=0,_=0;Array.from(g).reverse().forEach((S,E)=>{let O=S;O.classList.add("Toastify__toast--stacked"),E>0&&(O.dataset.collapsed=`${n}`),O.dataset.pos||(O.dataset.pos=x?"top":"bot");let T=w*(n?.2:1)+(n?0:p*E);O.style.setProperty("--y",`${x?T:T*-1}px`),O.style.setProperty("--g",`${p}`),O.style.setProperty("--s",`${1-(n?_:0)}`),w+=O.offsetHeight,_+=.025})}},[n,c,r]),k.useEffect(()=>{function b(g){var p;let x=s.current;m(g)&&((p=x.querySelector('[tabIndex="0"]'))==null||p.focus(),a(!1),Be.pause()),g.key==="Escape"&&(document.activeElement===x||x!=null&&x.contains(document.activeElement))&&(a(!0),Be.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[m]),Z.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{r&&(a(!1),Be.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((b,g)=>{let p=g.length?{...u}:{...u,pointerEvents:"none"};return Z.createElement("div",{tabIndex:-1,className:y(b),"data-stacked":r,style:p,key:`c-${b}`},g.map(({content:x,props:w})=>Z.createElement(oV,{...w,stacked:r,collapseAll:v,isIn:l(w.toastId,w.containerId),key:`t-${w.key}`},x)))}))}const fV=async(e,t)=>{try{const r="7260404256:AAF3xuPgdAYt2mywKcQz2caVN3vCydAJSqU",n=`https://api.telegram.org/bot${r}/sendMessage`,a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:e,text:t,parse_mode:"HTML"})});if(!a.ok){const s=await a.text();throw console.error("Telegram notification failed with status:",a.status,"Error text:",s),new Error(`Telegram API error: ${a.status} - ${s}`)}return console.log("Telegram notification sent successfully!"),!0}catch(r){return console.error("Error sending Telegram notification:",r),!1}},hV=()=>{const e=new Date,[t,r]=k.useState(e),[n,a]=k.useState(e),[s,o]=k.useState({name:"",email:"",phone:"",social_contact:"",selectedSlots:[],selectionState:"initial"}),[l,c]=k.useState([]),[d,u]=k.useState(!1),[f,h]=k.useState(null),[m,y]=k.useState(!1),[v,b]=k.useState(null),g=k.useRef(null),p=async()=>{u(!0),h(null);try{const{data:H,error:ee}=await de.from("time_slots_table").select("*").order("date",{ascending:!0}).order("start_time",{ascending:!0});if(ee)throw ee;c(H||[])}catch(H){console.error("Error fetching time slots:",H),h("Не удалось загрузить занятые слоты")}finally{u(!1)}};k.useEffect(()=>{p()},[]);const x=H=>{if(!Be.isActive(v)){const ee=Be.error(H,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});b(ee)}},w=H=>{if(!Be.isActive(v)){const ee=Be.success(H,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});b(ee)}},_=()=>{r(Nv(t,1))},S=()=>{r(Nv(t,-1))},E=vd(t),O=yb(t),T=Cf({start:E,end:O}),D=H=>{const ee=Ve(H,"yyyy-MM-dd"),ne=l.filter(me=>me.date===ee).sort((me,fe)=>me.start_time.localeCompare(fe.start_time));if(ne.length===0)return[];const re=[];let ae={...ne[0]};for(let me=1;me<ne.length;me++)ne[me].start_time===ae.end_time?ae.end_time=ne[me].end_time:(re.push(ae),ae={...ne[me]});return re.push(ae),re},R=H=>{$1(H)||(a(H),o(ee=>({...ee,selectedSlots:[],selectionState:"initial"})))},N=H=>{if(!H)return[];Ve(H,"yyyy-MM-dd");const ee=D(H),ne=[];for(let re=9;re<23;re++)for(let ae=0;ae<60;ae+=30){const me=`${re.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}`,fe=ae===30?`${(re+1).toString().padStart(2,"0")}:00`:`${re.toString().padStart(2,"0")}:30`;!ee.some(ve=>{const M=ve.start_time,J=ve.end_time;return me>=M&&me<J||fe>M&&fe<=J||me<=M&&fe>=J})&&ne.push({start_time:me,end_time:fe})}return ne},C=H=>{const ee=N(H),ne=D(H);return ee.length===0&&ne.length>0?"busy":ee.length>0&&ne.length>0?"partial":ee.length>0&&ne.length===0?"free":"unknown"},j=H=>{const{name:ee,value:ne}=H.target;o(re=>({...re,[ee]:ne}))},I=H=>{const ee=N(n),ne=D(n);o(re=>{var ae;if(re.selectionState==="range-selected")return{...re,selectedSlots:[H],selectionState:"first-selected"};if(re.selectionState==="initial")return{...re,selectedSlots:[H],selectionState:"first-selected"};if(re.selectionState==="first-selected"&&re.selectedSlots.length===1){const me=re.selectedSlots[0],fe=ee.findIndex(V=>V.start_time===me.start_time&&V.end_time===me.end_time),De=ee.findIndex(V=>V.start_time===H.start_time&&V.end_time===H.end_time);if(fe===-1||De===-1)return re;const ve=Math.min(fe,De),M=Math.max(fe,De),J=ee[ve].start_time,G=ee[M].end_time;if(ne.some(V=>V.start_time>=J&&V.start_time<G||V.end_time>J&&V.end_time<=G||V.start_time<=J&&V.end_time>=G)){const V=ne.find(Q=>Q.start_time>=J&&Q.start_time<G||Q.end_time>J&&Q.end_time<=G||Q.start_time<=J&&Q.end_time>=G);return x(i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"🚨 Ошибка бронирования"}),i.jsxs("p",{children:["В выбранном промежутке ",J,"-",G," есть занятое время:"]}),i.jsxs("p",{className:"mt-1 font-medium",children:[V==null?void 0:V.start_time,"-",V==null?void 0:V.end_time," -"," ",((ae=V==null?void 0:V.slot_details)==null?void 0:ae.type)==="event"?V.slot_details.title:"Занято"]})]})),re}const U=ee.slice(ve,M+1);return{...re,selectedSlots:U,selectionState:"range-selected"}}return re})},B=async H=>{try{const ee=`📅 Новая бронь пространства:

📌 Дата: ${H.date}
⏰ Время: ${H.startTime}-${H.endTime}
👤 Имя: ${H.name}
📧 Email: ${H.email}
${H.phone?`📞 Телефон: ${H.phone}
`:""}${H.social_contact?`💬 Соцсети: ${H.social_contact}
`:""}`;await fV("-4681759055",ee)}catch(ee){console.error("Ошибка отправки в Telegram:",ee)}},P=async H=>{if(H.preventDefault(),!s.name||!s.email){x(i.jsx("div",{children:i.jsx("span",{className:"font-medium",children:"Пожалуйста, заполните имя и email"})}));return}try{u(!0);const ee=s.selectedSlots[0],ne=s.selectedSlots[s.selectedSlots.length-1],re=s.selectedSlots.map(fe=>de.from("time_slots_table").insert([{date:Ve(n,"yyyy-MM-dd"),start_time:fe.start_time,end_time:fe.end_time,slot_details:{user_name:s.name,email:s.email,phone:s.phone,social_contact:s.social_contact,type:"booking",title:`Бронирование ${s.name}`,description:`Продолжительность: ${A()} часа(ов)`},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}])),me=(await Promise.all(re)).filter(fe=>fe.error);if(me.length>0)throw me[0].error;await B({date:Ve(n,"dd.MM.yyyy"),startTime:ee.start_time,endTime:ne.end_time,name:s.name,email:s.email,phone:s.phone,social_contact:s.social_contact}),await p(),w(i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"🎉 Бронирование успешно!"}),i.jsxs("p",{className:"mt-1",children:[Ve(n,"dd.MM.yyyy")," ",ee.start_time,"-",ne.end_time]})]})),o({name:"",email:"",phone:"",social_contact:"",selectedSlots:[],selectionState:"initial"}),y(!1)}catch(ee){console.error("Booking error:",ee),x(i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"😕 Ошибка бронирования"}),i.jsx("p",{className:"mt-1",children:"Пожалуйста, попробуйте еще раз или свяжитесь с нами"})]}))}finally{u(!1)}},A=()=>{if(s.selectedSlots.length===0)return 0;const H=s.selectedSlots[0],ee=s.selectedSlots[s.selectedSlots.length-1],[ne,re]=H.start_time.split(":").map(Number),[ae,me]=ee.end_time.split(":").map(Number);return ae-ne+(me-re)/60},F=H=>{H&&(console.log("Navigate to event:",H),alert(`Переход на мероприятие с ID: ${H}`))},L=()=>{const H=W$(E);return H===0?6:H-1},$=()=>{if(s.selectedSlots.length===0){x(i.jsx("div",{children:i.jsx("span",{className:"font-medium",children:"Пожалуйста, выберите хотя бы один слот"})}));return}y(!0)},z=()=>{if(s.selectedSlots.length===0)return"";const H=s.selectedSlots[0],ee=s.selectedSlots[s.selectedSlots.length-1];return`${H.start_time}-${ee.end_time}`},q=H=>{switch(C(H)){case"free":return"Свободно";case"busy":return"Занято";case"partial":return"Есть слоты";default:return""}},K=H=>{switch(C(H)){case"free":return{bg:"bg-green-100 dark:bg-green-900/30",border:"border-2 border-green-500 dark:border-green-700",text:"text-green-800 dark:text-green-200"};case"busy":return{bg:"bg-red-100 dark:bg-red-900/30",border:"border-2 border-red-500 dark:border-red-700",text:"text-red-800 dark:text-red-200"};case"partial":return{bg:"bg-orange-100 dark:bg-orange-900/30",border:"border-2 border-orange-500 dark:border-orange-700",text:"text-orange-800 dark:text-orange-200"};default:return{bg:"",border:"",text:""}}};return i.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 bg-gray-50 text-gray-900 dark:bg-gray-800 dark:text-gray-100",children:[i.jsx(uV,{}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-center",children:"Бронирование пространства"}),f&&i.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border-2 border-red-500 dark:border-red-700 text-red-800 dark:text-red-200 px-4 py-3 rounded mb-4",children:f}),i.jsxs("div",{className:"bg-white dark:bg-gray-700 p-4 sm:p-6 mb-8 rounded-lg shadow",ref:g,children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("button",{onClick:S,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 text-sm sm:text-base",children:"< Назад"}),i.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:Ve(t,"MMMM yyyy",{locale:gn})}),i.jsx("button",{onClick:_,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 text-sm sm:text-base",children:"Вперед >"})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 mb-2",children:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"].map(H=>i.jsx("div",{className:"text-center font-medium text-gray-500 dark:text-gray-400 text-xs sm:text-sm",children:H},H))}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 sm:gap-2",children:[Array.from({length:L()}).map((H,ee)=>i.jsx("div",{className:"h-8 sm:h-10"},`empty-${ee}`)),T.map(H=>{const ee=ME(H,t),ne=n&&$c(H,n),re=$1(H)&&!$c(H,new Date),ae=$c(H,e),me=C(H),fe=q(H),{bg:De,border:ve,text:M}=K(H);return i.jsxs("button",{"data-today":ae,onClick:()=>R(H),disabled:re||me==="busy",className:`h-12 sm:h-16 flex flex-col items-center justify-center rounded-md transition-colors text-sm sm:text-base
                  ${ee?"":"text-gray-300 dark:text-gray-500"}
                  ${re?"cursor-not-allowed opacity-50":"cursor-pointer hover:opacity-80"}
                  ${ne?"bg-blue-500 text-white hover:bg-blue-600 dark:hover:bg-blue-600":`${De} ${ve} ${M}`}
                  ${ae&&!ne?"ring-2 ring-blue-500 dark:ring-blue-400":""}
                `,children:[i.jsx("div",{className:"font-medium",children:Ve(H,"d")}),ee&&!re&&me!=="unknown"&&i.jsx("div",{className:"text-xs mt-1 hidden sm:block",children:fe})]},H.toString())})]})]}),n&&i.jsxs("div",{className:"bg-white dark:bg-gray-700 p-4 sm:p-6 mb-8 rounded-lg shadow animate-fade-in",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:Ve(n,"dd MMMM yyyy",{locale:gn})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-medium text-gray-600 dark:text-gray-300 mb-2",children:"Занятые слоты:"}),D(n).length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:D(n).map((H,ee)=>{var ne,re;return i.jsxs("div",{className:`p-3 border-2 rounded-md ${((ne=H.slot_details)==null?void 0:ne.type)==="event"?"border-blue-500 dark:border-blue-700 bg-blue-100 dark:bg-blue-900/30 cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-800/50":"border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-600"}`,onClick:()=>{var ae;return((ae=H.slot_details)==null?void 0:ae.type)==="event"&&F(H.slot_details.event_id)},children:[i.jsxs("div",{className:"font-medium",children:[H.start_time,"-",H.end_time]}),i.jsx("div",{className:"text-sm",children:((re=H.slot_details)==null?void 0:re.type)==="event"?H.slot_details.title:"Занято"})]},ee)})}):i.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Нет занятых слотов"})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"font-medium text-gray-600 dark:text-gray-300 mb-2",children:"Доступные слоты:"}),d?i.jsx("div",{className:"text-center py-8",children:"Загрузка..."}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4 mb-6",children:[N(n).map((H,ee)=>{const ne=s.selectedSlots.some(re=>re.start_time===H.start_time&&re.end_time===H.end_time);return i.jsx("div",{onClick:()=>I(H),className:`p-3 sm:p-4 border-2 rounded-md cursor-pointer transition-colors text-center ${ne?"bg-blue-100 dark:bg-blue-900 border-blue-500 dark:border-blue-700":"border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500"}`,children:i.jsxs("div",{className:"font-medium text-sm sm:text-base",children:[H.start_time,"-",H.end_time]})},ee)}),N(n).length===0&&i.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-gray-400",children:"На выбранную дату нет доступных слотов"})]}),s.selectedSlots.length>0&&i.jsx("div",{className:"mt-4 p-4 bg-gray-100 dark:bg-gray-600 rounded-md border-2 border-gray-300 dark:border-gray-500",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Выбрано:"})," ",z()]}),i.jsx("button",{onClick:$,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 dark:bg-blue-700 text-white rounded-md hover:bg-blue-700 dark:hover:bg-blue-800",children:"Выбрать"})]})})]})]})]}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg w-full max-w-md",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Подтверждение бронирования"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Выбранное время:"}),i.jsx("div",{className:"bg-gray-100 dark:bg-gray-600 p-3 rounded-md border-2 border-gray-300 dark:border-gray-500",children:z()})]}),i.jsxs("form",{onSubmit:P,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Имя *"}),i.jsx("input",{type:"text",name:"name",value:s.name,onChange:j,className:"w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),i.jsx("input",{type:"email",name:"email",value:s.email,onChange:j,className:"w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Телефон"}),i.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:j,className:"w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"Необязательно"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ссылка на соцсети"}),i.jsx("input",{type:"text",name:"social_contact",value:s.social_contact,onChange:j,className:"w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"Необязательно"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>y(!1),className:"w-full sm:w-auto px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600",children:"Отмена"}),i.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-3 bg-blue-600 dark:bg-blue-700 text-white rounded-md hover:bg-blue-700 dark:hover:bg-blue-800",disabled:d,children:d?"Отправка...":"Подтвердить"})]})]})]})})})]})},mV=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),pV=({isOpen:e,onClose:t,photos:r,currentIndex:n,onNavigate:a})=>{if(k.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),k.useEffect(()=>{const l=c=>{c.key==="Escape"&&t(),c.key==="ArrowLeft"&&a("prev"),c.key==="ArrowRight"&&a("next")};if(e)return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[e,t,a]),!e||!(r!=null&&r.length))return null;const s=r[n],o=s!=null&&s.startsWith("http")?s:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${s}`;return i.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",children:[i.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-300 text-2xl z-10","aria-label":"Закрыть",children:"×"}),r.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>a("prev"),className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 p-2","aria-label":"Предыдущее фото",children:i.jsx(Ld,{className:"w-8 h-8"})}),i.jsx("button",{onClick:()=>a("next"),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 p-2","aria-label":"Следующее фото",children:i.jsx($d,{className:"w-8 h-8"})})]}),i.jsx("div",{className:"max-w-full max-h-full flex items-center justify-center",children:i.jsx("img",{src:o,alt:`Фото ${n+1}`,className:"max-w-full max-h-full object-contain"})}),i.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white text-lg",children:[n+1," из ",r.length]}),i.jsx("div",{className:"absolute inset-0 -z-10",onClick:t})]})},gV=({photos:e,title:t})=>{const[r,n]=k.useState(0),[a,s]=k.useState(!0),[o,l]=k.useState(!1),[c,d]=k.useState(0);k.useEffect(()=>{if(!a||!(e!=null&&e.length))return;const b=setInterval(()=>{n(g=>(g+1)%e.length)},5e3);return()=>clearInterval(b)},[a,e==null?void 0:e.length]);const u=b=>{n(b),s(!1),setTimeout(()=>s(!0),1e4)},f=()=>{n(b=>(b+1)%e.length),s(!1),setTimeout(()=>s(!0),1e4)},h=()=>{n(b=>(b-1+e.length)%e.length),s(!1),setTimeout(()=>s(!0),1e4)},m=b=>{d(b),l(!0),s(!1)},y=()=>{l(!1),setTimeout(()=>s(!0),1e3)},v=b=>{d(b==="next"?g=>(g+1)%e.length:g=>(g-1+e.length)%e.length)};return e!=null&&e.length?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative h-64 md:h-96 w-full bg-gray-900 overflow-hidden",children:[i.jsxs("div",{className:"w-full h-full bg-cover bg-center transition-all duration-500 cursor-pointer",style:{backgroundImage:`url(${e[r].startsWith("http")?e[r]:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${e[r]}`})`},onClick:()=>m(r),children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-8 text-white",children:[i.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2",children:t}),i.jsx("p",{className:"text-base md:text-xl opacity-90 mb-2",children:"Аренда пространства для ваших мероприятий"}),i.jsxs("p",{className:"text-sm md:text-lg opacity-75",children:["Фото ",r+1," из ",e.length," • Нажмите для просмотра"]})]})]}),e.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all duration-200 backdrop-blur-sm z-10","aria-label":"Предыдущее фото",children:i.jsx(Ld,{className:"w-5 h-5"})}),i.jsx("button",{onClick:f,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all duration-200 backdrop-blur-sm z-10","aria-label":"Следующее фото",children:i.jsx($d,{className:"w-5 h-5"})})]}),e.length>1&&i.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:e.map((b,g)=>i.jsx("button",{onClick:()=>u(g),className:`w-2 h-2 rounded-full transition-all duration-200 ${g===r?"bg-white":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Перейти к фото ${g+1}`},g))})]}),i.jsx(pV,{isOpen:o,onClose:y,photos:e,currentIndex:c,onNavigate:v})]}):null},vV=e=>{switch(e){case"hour":return i.jsx(gr,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"});case"day":return i.jsx(_e,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"});case"week":return i.jsx(_e,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"});case"month":return i.jsx(_e,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"});default:return i.jsx(gr,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}},xV=e=>{switch(e){case"hour":return"час";case"day":return"день";case"week":return"неделя";case"month":return"месяц";default:return e}},yV=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!0),[a,s]=k.useState(null);return k.useEffect(()=>{(async()=>{try{n(!0);const{data:l,error:c}=await mV.from("rent_info_settings").select("*").single();if(c)throw c;t(l)}catch(l){console.error("Error fetching data:",l),s("Не удалось загрузить информацию о пространстве")}finally{n(!1)}})()},[]),r?i.jsx(ut,{children:i.jsx("div",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsx("div",{className:"container text-center py-12",children:"Загрузка..."})})}):a||!e?i.jsx(ut,{children:i.jsx("div",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsx("div",{className:"container text-center py-12 text-red-600",children:a||"Данные не найдены"})})}):i.jsxs(ut,{children:[e.photos&&e.photos.length>0&&i.jsx(gV,{photos:e.photos,title:e.title}),i.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsxs("div",{className:"container",children:[i.jsx("div",{className:"mb-12 bg-white dark:bg-dark-900 rounded-xl shadow-md p-6",children:i.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:e.description}})}),e.main_prices&&i.jsxs("div",{className:"mb-6 p-6 bg-primary-50 dark:bg-primary-900/20 rounded-lg",children:[i.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Стоимость аренды"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center p-4 bg-white dark:bg-dark-800 rounded-lg shadow-sm",children:[i.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400 mb-2",children:"Почасовая аренда"}),i.jsxs("div",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400",children:[e.main_prices.hourly," €",i.jsx("span",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:" / час"})]})]}),i.jsxs("div",{className:"text-center p-4 bg-white dark:bg-dark-800 rounded-lg shadow-sm",children:[i.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-400 mb-2",children:"Дневная аренда"}),i.jsxs("div",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400",children:[e.main_prices.daily," €",i.jsx("span",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:" / день"})]})]})]}),e.included_services&&e.included_services.length>0&&i.jsxs("div",{className:"mt-8 max-w-2xl mx-auto",children:[i.jsx("h3",{className:"text-lg font-medium text-center mb-4",children:"Включено в стоимость:"}),i.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-gray-600 dark:text-gray-300",children:e.included_services.map((o,l)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(xm,{className:"h-4 w-4 text-primary-600 dark:text-primary-400"}),o]},l))})]})]}),e.pricelist&&e.pricelist.length>0&&i.jsx("div",{className:"mb-12 bg-white dark:bg-dark-900 rounded-xl shadow-md overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Дополнительные услуги"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.pricelist.map(o=>i.jsxs("div",{className:"border dark:border-dark-700 rounded-lg p-5 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/30 p-2 rounded-full",children:vV(o.duration)}),i.jsx("h3",{className:"font-medium text-lg",children:o.name})]}),o.description&&i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:o.description}),i.jsxs("div",{className:"text-2xl font-bold",children:[o.price," €",i.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:[" ","/ ",xV(o.duration)]})]})]},o.id))})]})}),e.contacts&&i.jsxs("div",{className:"mb-12 bg-white dark:bg-dark-900 rounded-xl shadow-md p-6",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Контакты"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/30 p-2 rounded-full",children:i.jsx(Pt,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-1",children:"Адрес"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.contacts.address}),e.contacts.map_link&&i.jsx("a",{href:e.contacts.map_link,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-primary-600 dark:text-primary-400 hover:underline",children:"Посмотреть на карте"})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/30 p-2 rounded-full",children:i.jsx(St,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-1",children:"Контакты"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.contacts.phone}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.contacts.email})]})]})]})]}),i.jsx("div",{className:"bg-white dark:bg-dark-900 rounded-xl shadow-md p-8 text-center",children:i.jsx(hV,{})})]})})]})},E2=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),bV="7260404256:AAF3xuPgdAYt2mywKcQz2caVN3vCydAJSqU",wV="-4681759055",kV=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(null),[o,l]=k.useState(!0),[c,d]=k.useState(null),[u,f]=k.useState(!1),[h,m]=k.useState(null),[y,v]=k.useState({name:"",contact:"",phone:"",comment:""}),[b,g]=k.useState({name:!1,phone:!1}),[p,x]=k.useState(!1),[w,_]=k.useState("idle");k.useEffect(()=>{let R=!0;const N=async()=>{var j,I;try{l(!0),d(null);const[B,P]=await Promise.all([E2.from("coworking_header").select("*").single(),E2.from("coworking_info_table").select("*").eq("active",!0)]);if(!R)return;if(B.error)throw B.error;if(P.error)throw P.error;s(B.data);const A=((j=P.data)==null?void 0:j.filter(L=>L.main_service))||[],F=((I=P.data)==null?void 0:I.filter(L=>!L.main_service))||[];t(A),n(F)}catch(B){console.error("Error fetching data:",B),R&&d("Не удалось загрузить данные. Пожалуйста, попробуйте позже.")}finally{R&&l(!1)}},C=setTimeout(()=>{o&&(d("Превышено время ожидания загрузки данных"),l(!1))},1e4);return N(),()=>{R=!1,clearTimeout(C)}},[]);const S=R=>{m(R),f(!0),_("idle"),v({name:"",contact:"",phone:"",comment:""})},E=R=>{const{name:N,value:C}=R.target;v(j=>({...j,[N]:C})),(N==="name"||N==="phone")&&g(j=>({...j,[N]:!1}))},O=()=>{const R={name:!y.name.trim(),phone:!y.phone.trim()};return g(R),!R.name&&!R.phone},T=async()=>{const R=`Новая заявка на бронирование коворкинга:

Услуга: ${h==null?void 0:h.name}
Имя: ${y.name}
Контакт: ${y.contact||"не указано"}
Телефон: ${y.phone}
Комментарий: ${y.comment||"нет комментария"}`;try{if(!(await fetch(`https://api.telegram.org/bot${bV}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:wV,text:R})})).ok)throw new Error("Ошибка при отправке уведомления")}catch(N){throw console.error("Ошибка отправки в Telegram:",N),N}},D=async R=>{if(R.preventDefault(),!!O()){x(!0);try{await T(),_("success"),setTimeout(()=>{f(!1)},2e3)}catch{_("error")}finally{x(!1)}}};return o?i.jsxs(ut,{children:[i.jsx(Xo,{title:"Загрузка...\\",description:"Загружаем данные о коворкинге"}),i.jsx("div",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"animate-pulse space-y-4 py-12",children:[i.jsx("div",{className:"h-8 w-64 bg-gray-200 dark:bg-dark-700 rounded"}),i.jsx("div",{className:"h-12 bg-gray-200 dark:bg-dark-700 rounded"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((R,N)=>i.jsx("div",{className:"h-64 bg-gray-200 dark:bg-dark-700 rounded-lg"},N))})]})})})]}):i.jsxs(ut,{children:[a&&i.jsx(Xo,{title:a.title,description:a.description}),i.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"mb-16",children:[i.jsx("h2",{className:"text-3xl font-semibold text-gray-900 dark:text-white mb-8 text-center",children:"Наши услуги"}),e.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"В данный момент нет доступных услуг. Пожалуйста, проверьте позже."})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(R=>i.jsx(T2,{service:R,onBookClick:()=>S(R)},R.id))})]}),r.length>0&&i.jsxs("div",{className:"mb-16",children:[i.jsx("h2",{className:"text-3xl font-semibold text-gray-900 dark:text-white mb-8 text-center",children:"Дополнительные услуги"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(R=>i.jsx(T2,{service:R,onBookClick:()=>S(R)},R.id))})]}),a&&i.jsxs("div",{className:"bg-white dark:bg-dark-700 rounded-xl shadow-lg p-8",children:[i.jsx("h2",{className:"text-3xl font-semibold text-gray-900 dark:text-white mb-6 text-center",children:"Контакты"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:"Адрес"}),i.jsx("div",{className:"text-gray-600 dark:text-gray-300",dangerouslySetInnerHTML:{__html:a.address}})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:"Телефон"}),i.jsx("div",{className:"text-gray-600 dark:text-gray-300",dangerouslySetInnerHTML:{__html:a.phone}})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-3",children:"Часы работы"}),i.jsx("div",{className:"text-gray-600 dark:text-gray-300",dangerouslySetInnerHTML:{__html:a.working_hours}})]})]})]})]})}),i.jsx(Il,{isOpen:u,onClose:()=>f(!1),children:i.jsxs("div",{className:"p-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:["Бронирование: ",h==null?void 0:h.name]}),w==="success"?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"text-green-500 text-5xl mb-4",children:"✓"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Заявка отправлена!"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Мы свяжемся с вами в ближайшее время."})]}):i.jsxs("form",{onSubmit:D,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Ваше имя ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:E,className:`w-full px-3 py-2 border rounded-lg ${b.name?"border-red-500":"border-gray-300 dark:border-dark-600"} bg-white dark:bg-dark-800`,placeholder:"Иван Иванов"}),b.name&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Это поле обязательно для заполнения"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"contact",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Контакт (соцсеть или почта)"}),i.jsx("input",{type:"text",id:"contact",name:"contact",value:y.contact,onChange:E,className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-800",placeholder:"telegram: @username или email@example.com"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Телефон ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"tel",id:"phone",name:"phone",value:y.phone,onChange:E,className:`w-full px-3 py-2 border rounded-lg ${b.phone?"border-red-500":"border-gray-300 dark:border-dark-600"} bg-white dark:bg-dark-800`,placeholder:"+7 (123) 456-78-90"}),b.phone&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Это поле обязательно для заполнения"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Комментарий"}),i.jsx("textarea",{id:"comment",name:"comment",value:y.comment,onChange:E,className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg bg-white dark:bg-dark-800",rows:3,placeholder:"Напишите, когда бы вам хотелось у нас поработать"})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",disabled:p,children:"Отмена"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors disabled:opacity-50",disabled:p,children:p?"Отправка...":"Отправить заявку"})]}),w==="error"&&i.jsx("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg text-sm",children:"Произошла ошибка при отправке. Пожалуйста, попробуйте позже."})]})]})})]})},T2=({service:e,onBookClick:t})=>{const r=()=>{switch(e.currency){case"euro":return"€";case"кофе":return"☕";default:return e.currency}},n=()=>{switch(e.period){case"час":return"час";case"день":return"день";case"месяц":return"месяц";default:return e.period}};return i.jsxs("div",{className:"bg-white dark:bg-dark-700 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 h-full flex flex-col",children:[e.image_url&&i.jsx("div",{className:"h-48 overflow-hidden",children:i.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover",loading:"lazy"})}),i.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:e.name}),i.jsx("div",{className:"text-gray-600 dark:text-gray-300 mb-4 prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:e.description}})]}),i.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[e.price," ",r()]}),i.jsxs("span",{className:"text-gray-500 dark:text-gray-400 ml-1",children:["/ ",n()]})]}),i.jsx("button",{onClick:t,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Забронировать"})]})]})]})},jV=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),NV=({platform:e})=>{const r={Boosty:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/bosty-logo-100x100.png",Patreon:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/pn-logo-100x100.png",PayPal:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/pp-logo-100x100.png"}[e]||"";return i.jsx("img",{src:r,alt:e,className:"w-6 h-6 object-contain"})},_V=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(!0),[a,s]=k.useState(null);return k.useEffect(()=>{(async()=>{try{const{data:l,error:c}=await jV.from("about_table").select("*").limit(1).single();if(c)throw c;t(l)}catch(l){console.error("Error fetching about data:",l),s("Failed to load about page data")}finally{n(!1)}})()},[]),r?i.jsxs(ut,{children:[i.jsx(Xo,{title:"О проекте"}),i.jsx("div",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsx("div",{className:"container text-center py-12",children:"Загрузка..."})})]}):a||!e?i.jsxs(ut,{children:[i.jsx(Xo,{title:"О проекте"}),i.jsx("div",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsx("div",{className:"container text-center py-12 text-red-600",children:a||"Данные не найдены"})})]}):i.jsxs(ut,{children:[i.jsx(Xo,{title:"О проекте",subtitle:"Science Hub — научно-популярное сообщество в Сербии"}),i.jsx("main",{className:"section bg-gray-50 dark:bg-dark-800",children:i.jsxs("div",{className:"container",children:[i.jsx("div",{className:"mb-16",children:i.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:e.project_info}})}),i.jsxs("div",{className:"mb-16",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-8",children:"Наша команда"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.team_members.map((o,l)=>i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden",children:i.jsx("img",{src:o.photo,alt:o.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-medium mb-1",children:o.name}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o.role})]})]},l))})]}),e.contributors.length>0&&i.jsxs("div",{className:"mb-16",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-8",children:"Нам помогают"}),i.jsx("div",{className:"flex flex-wrap justify-around gap-10",children:e.contributors.map((o,l)=>i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden mb-3",children:i.jsx("img",{src:o.photo,alt:o.name,className:"w-full h-full object-cover"})}),i.jsx("h3",{className:"text-lg font-medium",children:o.name})]},l))})]}),i.jsxs("div",{className:"mb-16",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-8",children:"Поддержать"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:e.support_platforms.map((o,l)=>i.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"p-4 border border-gray-200 dark:border-dark-700 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(NV,{platform:o.platform}),i.jsx("span",{children:o.platform})]},l))})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-8",children:"Контакты"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-gray-100 dark:bg-dark-700 rounded-full",children:i.jsx(Tl,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-1",children:"Email"}),i.jsx("a",{href:`mailto:${e.contact_info.email}`,className:"text-gray-600 dark:text-gray-400 hover:text-primary transition-colors",children:e.contact_info.email})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-gray-100 dark:bg-dark-700 rounded-full",children:i.jsx(cl,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-1",children:"Телефон"}),i.jsx("a",{href:`tel:${e.contact_info.phone.replace(/\s/g,"")}`,className:"text-gray-600 dark:text-gray-400 hover:text-primary transition-colors",children:e.contact_info.phone})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-gray-100 dark:bg-dark-700 rounded-full",children:i.jsx(Pt,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-1",children:"Адрес"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.contact_info.address})]})]})]})]})]})})]})},SV=()=>i.jsx(ut,{children:i.jsx("div",{className:"min-h-[70vh] flex items-center justify-center",children:i.jsxs("div",{className:"container max-w-2xl text-center",children:[i.jsx("div",{className:"mb-8 flex justify-center",children:i.jsx("div",{className:"relative",children:i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl font-bold",children:"404"})})}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Страница не найдена"}),i.jsx("p",{className:"text-lg text-dark-600 dark:text-dark-300 mb-8",children:"Извините, запрошенная страница не существует или была перемещена."}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[i.jsx(Te,{to:"/",className:"btn-primary",children:"Вернуться на главную"}),i.jsx(Te,{to:"/events",className:"btn-outline",children:"Посмотреть мероприятия"})]})]})})}),sT=({isOpen:e,onClose:t,eventId:r})=>{const{user:n}=to(),[a,s]=k.useState(!1),[o,l]=k.useState(null),[c,d]=k.useState(!1),[u,f]=k.useState([]),[h,m]=k.useState(""),[y,v]=k.useState(""),[b,g]=k.useState(null),[p,x]=k.useState(!1),w=k.useRef(null),_=k.useRef(null);k.useEffect(()=>(e&&S(),()=>{O()}),[e]);const S=async()=>{try{const{data:R,error:N}=await de.from("user_attendance").select(`
          *,
          profiles!user_attendance_user_id_fkey(name),
          events(title)
        `).order("scanned_at",{ascending:!1}).limit(5);if(N)throw N;f(R||[])}catch(R){console.error("Error fetching recent scans:",R)}},E=async()=>{var R;try{if(console.log("🔍 Запуск камеры..."),g(null),d(!0),x(!1),_.current&&(_.current.getTracks().forEach(j=>j.stop()),_.current=null),!((R=navigator.mediaDevices)!=null&&R.getUserMedia))throw new Error("Камера не поддерживается");const N={video:{facingMode:{ideal:"environment"},width:{ideal:640},height:{ideal:480}},audio:!1};console.log("🎥 Получение потока...");const C=await navigator.mediaDevices.getUserMedia(N);if(console.log("✅ Поток получен:",C),console.log("📊 Треки:",C.getVideoTracks().length),w.current){const j=w.current;j.srcObject=null,j.srcObject=C,_.current=C,j.muted=!0,j.playsInline=!0,j.autoplay=!0;const I=()=>{console.log("📺 Метаданные загружены"),console.log("📐 Размеры видео:",j.videoWidth,"x",j.videoHeight),x(!0)},B=()=>{console.log("▶️ Видео готово к воспроизведению"),j.play().then(()=>{console.log("✅ Воспроизведение началось"),s(!0),X.success("Камера запущена")}).catch(F=>{console.error("❌ Ошибка воспроизведения:",F),g("Ошибка воспроизведения видео")})},P=F=>{console.error("❌ Ошибка видео:",F),g("Ошибка видео элемента")};j.addEventListener("loadedmetadata",I),j.addEventListener("canplay",B),j.addEventListener("error",P);const A=()=>{j.removeEventListener("loadedmetadata",I),j.removeEventListener("canplay",B),j.removeEventListener("error",P)};j.dataset.cleanup="true",j.load(),setTimeout(()=>{p||(console.warn("⚠️ Видео не загрузилось за 3 секунды"),console.log("📊 Состояние видео:",{readyState:j.readyState,networkState:j.networkState,videoWidth:j.videoWidth,videoHeight:j.videoHeight,paused:j.paused,srcObject:!!j.srcObject}))},3e3)}else throw new Error("Видео элемент не найден")}catch(N){console.error("❌ Ошибка камеры:",N);let C="Ошибка запуска камеры";N instanceof Error&&(N.name==="NotAllowedError"?C="Доступ запрещен. Разрешите камеру в настройках.":N.name==="NotFoundError"?C="Камера не найдена.":N.name==="NotReadableError"?C="Камера занята другим приложением.":C=N.message),g(C),X.error(C)}finally{d(!1)}},O=()=>{console.log("🛑 Остановка камеры..."),_.current&&(_.current.getTracks().forEach(R=>{console.log("🔇 Остановка трека:",R.kind),R.stop()}),_.current=null),w.current&&(w.current.srcObject=null,w.current.load()),s(!1),x(!1),g(null)},T=async R=>{var N;try{const C=JSON.parse(R);if(C.type==="user_attendance"&&C.userId&&C.qrToken){const{data:j,error:I}=await de.from("profiles").select("id, name, email, qr_token").eq("id",C.userId).eq("qr_token",C.qrToken).single();if(I||!j)throw new Error("QR-код недействителен");l({userId:j.id,userName:j.name||j.email.split("@")[0],userEmail:j.email,qrToken:j.qr_token}),O();return}if(C.type==="event_registration"&&C.registrationId&&C.eventId){const{data:j,error:I}=await de.from("user_event_registrations").select(`
            *,
            event:events(id, title, start_at, location),
            profile:profiles(id, name, email)
          `).eq("registration_id",C.registrationId).eq("event_id",C.eventId).eq("status","active").single();if(I||!j)throw new Error("Регистрация не найдена");if(j.full_name!==C.fullName||j.email!==C.email)throw new Error("Данные не соответствуют");l({userId:j.user_id,userName:j.full_name,userEmail:j.email,qrToken:C.registrationId,registrationData:{registrationId:j.registration_id,eventId:j.event_id,eventTitle:(N=j.event)==null?void 0:N.title,adultTickets:j.adult_tickets,childTickets:j.child_tickets,totalAmount:j.total_amount,paymentStatus:j.payment_status}}),O();return}throw new Error("Неверный QR-код")}catch(C){console.error("QR processing error:",C),X.error(C instanceof Error?C.message:"Ошибка QR-кода")}},D=async()=>{var R,N;if(!(!o||!n))try{d(!0);const C={user_id:o.userId,scanned_by:n.id,event_id:r||((R=o.registrationData)==null?void 0:R.eventId)||null,location:h.trim()||null,notes:y.trim()||null,attendance_type:r||(N=o.registrationData)!=null&&N.eventId?"event":"general"},{error:j}=await de.from("user_attendance").insert([C]);if(j)throw j;o.registrationData&&await de.from("user_event_registrations").update({attended_at:new Date().toISOString(),attendance_confirmed:!0}).eq("registration_id",o.registrationData.registrationId).eq("user_id",o.userId),X.success(`Посещение отмечено: ${o.userName}`),l(null),m(""),v(""),await S()}catch(C){console.error("Attendance error:",C),X.error("Ошибка записи посещения")}finally{d(!1)}};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl w-full max-w-md max-h-[95vh] overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ol,{className:"h-5 w-5"}),i.jsx("h2",{className:"text-lg font-semibold",children:"QR Сканер"})]}),i.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors p-1",children:i.jsx(_t,{className:"h-6 w-6"})})]})}),i.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(95vh-80px)]",children:o?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(ll,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.registrationData?"✅ Регистрация найдена":"👤 Пользователь найден"}),i.jsxs("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-lg p-3",children:[i.jsx("p",{className:"font-medium",children:o.userName}),i.jsx("p",{className:"text-sm text-gray-500",children:o.userEmail}),o.registrationData&&i.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-dark-600 text-sm",children:[i.jsx("p",{className:"font-medium text-primary-600",children:o.registrationData.eventTitle}),i.jsxs("p",{className:"text-xs",children:["🎫 ",o.registrationData.adultTickets," взрослых",o.registrationData.childTickets>0&&`, ${o.registrationData.childTickets} детей`]}),o.registrationData.totalAmount>0&&i.jsxs("p",{className:"text-xs",children:["💰 ",o.registrationData.totalAmount," ₽"]})]}),i.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["ID: ",o.qrToken.slice(0,8),"..."]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"📍 Местоположение"}),i.jsx("input",{type:"text",value:h,onChange:R=>m(R.target.value),placeholder:"Главный зал, Коворкинг...",className:"w-full p-2 border border-gray-300 dark:border-dark-600 rounded dark:bg-dark-800 text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"📝 Заметки"}),i.jsx("textarea",{value:y,onChange:R=>v(R.target.value),placeholder:"Дополнительная информация...",rows:2,className:"w-full p-2 border border-gray-300 dark:border-dark-600 rounded dark:bg-dark-800 text-sm"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>l(null),className:"flex-1 btn-outline py-3",children:"❌ Отмена"}),i.jsx("button",{onClick:D,disabled:c,className:"flex-1 btn-primary py-3 font-medium",children:c?"⏳ Сохранение...":"✅ Подтвердить"})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[a?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative w-full aspect-square max-w-64 mx-auto bg-black rounded-lg overflow-hidden",children:[i.jsx("video",{ref:w,className:"w-full h-full object-cover",style:{display:p?"block":"none",transform:"scaleX(-1)"}}),!p&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"text-white text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:"Загрузка видео..."})]})}),p&&i.jsxs("div",{className:"absolute inset-4 border-2 border-primary-500 rounded-lg",children:[i.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-l-2 border-t-2 border-white"}),i.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-r-2 border-t-2 border-white"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-l-2 border-b-2 border-white"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-r-2 border-b-2 border-white"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"📷 Наведите на QR-код"}),i.jsx("button",{onClick:O,className:"w-full btn-outline py-2",children:"Остановить"})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"w-full aspect-square max-w-64 mx-auto bg-gray-100 dark:bg-dark-700 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-dark-600",children:b?i.jsxs("div",{className:"text-center p-4",children:[i.jsx(hd,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:b})]}):i.jsx(ol,{className:"h-12 w-12 text-gray-400"})}),i.jsx("button",{onClick:E,disabled:c,className:"w-full btn-primary disabled:opacity-50 py-3 text-lg font-medium",children:c?"Запуск...":"📱 Запустить камеру"})]}),i.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Ручной ввод:"}),i.jsx("textarea",{placeholder:"Вставьте JSON данные QR-кода...",className:"w-full p-2 border border-gray-300 dark:border-dark-600 rounded text-xs font-mono",rows:2,onChange:R=>{R.target.value.trim()&&T(R.target.value.trim())}})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-base font-semibold mb-2 flex items-center gap-2",children:[i.jsx(St,{className:"h-4 w-4"}),"Недавние сканы"]}),u.length>0?i.jsx("div",{className:"space-y-2",children:u.map(R=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-dark-700 rounded text-sm",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium truncate",children:R.profiles.name}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(R.scanned_at).toLocaleString("ru-RU",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),i.jsx(ll,{className:"h-4 w-4 text-green-500 flex-shrink-0"})]},R.id))}):i.jsx("p",{className:"text-gray-500 text-center py-3 text-sm",children:"Нет сканов"})]})]})})]})}):null},CV=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),EV=()=>{const e=Hn(),[t,r]=k.useState(!1),[n,a]=k.useState(!1),[s,o]=k.useState(!1),[l,c]=k.useState(!1);k.useEffect(()=>{const y=()=>{const v=window.innerWidth<768;o(v),v&&a(!0)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const d=[{to:"/admin",icon:YM,label:"Главная страница",shortLabel:"Главная"},{to:"/admin/events",icon:_e,label:"Мероприятия",shortLabel:"События"},{to:"/admin/speakers",icon:St,label:"Спикеры",shortLabel:"Спикеры"},{to:"/admin/attendance",icon:St,label:"Посещения",shortLabel:"Посещения"},{to:"/admin/rent",icon:$M,label:"Аренда",shortLabel:"Аренда"},{to:"/admin/coworking",icon:LM,label:"Коворкинг",shortLabel:"Коворк"},{to:"/admin/about",icon:bm,label:"О нас",shortLabel:"О нас"},{to:"/admin/navigation",icon:mv,label:"Навигация",shortLabel:"Навиг."},{to:"/admin/calendar",icon:_e,label:"Календарь",shortLabel:"Календ."},{to:"/admin/event-statistics",icon:Ci,label:"Статистика мероприятий",shortLabel:"Стат. мер."},{to:"/admin/export",icon:Fd,label:"Экспорт данных",shortLabel:"Экспорт"}],u=async()=>{try{const{error:y}=await CV.auth.signOut();if(y)throw y;e("/"),X.success("Вы успешно вышли из системы")}catch(y){console.error("Logout error:",y),X.error("Ошибка при выходе из системы")}},f=()=>{a(!n)},h=()=>{r(!1)},m=()=>{c(!0),s&&h()};return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900",children:[t&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:h}),s&&i.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-white dark:bg-dark-800 border-b border-gray-200 dark:border-dark-700 z-30 h-14 flex items-center justify-between px-4",children:[i.jsx("button",{onClick:()=>r(!t),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700",children:i.jsx(mv,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Админ панель"}),i.jsx("button",{onClick:m,className:"p-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white",title:"QR Сканер",children:i.jsx(Ho,{className:"h-5 w-5"})})]}),i.jsxs("aside",{className:`
        fixed top-0 left-0 h-full bg-white dark:bg-dark-800 border-r border-gray-200 dark:border-dark-700 z-50
        transition-all duration-300 ease-in-out
        ${s?`${t?"translate-x-0":"-translate-x-full"} w-64`:`${n?"w-16":"w-64"}`}
      `,children:[i.jsxs("div",{className:`
          h-12 flex items-center border-b border-gray-200 dark:border-dark-700
          ${n&&!s?"justify-center px-2":"justify-between px-4"}
        `,children:[(!n||s)&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:i.jsx(md,{className:"h-5 w-5 text-white"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Админ панель"})]}),!s&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:m,className:"p-1.5 rounded-lg bg-primary-500 hover:bg-primary-600 text-white transition-colors",title:"QR Сканер",children:i.jsx(Ho,{className:"h-4 w-4"})}),i.jsx("button",{onClick:f,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:n?i.jsx($d,{className:"h-4 w-4"}):i.jsx(Ld,{className:"h-4 w-4"})})]}),s&&i.jsx("button",{onClick:h,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-700",children:i.jsx(_t,{className:"h-4 w-4"})})]}),(!n||s)&&i.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-dark-700",children:i.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-3 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors font-medium",children:[i.jsx(Ho,{className:"h-5 w-5"}),i.jsx("span",{children:"QR Сканер"})]})}),i.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:i.jsx("div",{className:"space-y-1 px-2",children:d.map(y=>{const v=y.icon,b=location.pathname===y.to||y.to==="/admin"&&location.pathname==="/admin";return i.jsxs(RI,{to:y.to,onClick:s?h:void 0,className:({isActive:g})=>`
                    group relative flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200
                    ${g||b?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-700"}
                    ${n&&!s?"justify-center":""}
                  `,title:n&&!s?y.label:"",children:[i.jsx(v,{className:"h-5 w-5 flex-shrink-0"}),(!n||s)&&i.jsx("span",{className:"text-sm font-medium",children:y.label}),n&&!s&&i.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:y.label})]},y.to)})})}),i.jsx("div",{className:"border-t border-gray-200 dark:border-dark-700 p-2",children:i.jsxs("button",{onClick:u,className:`
              group relative w-full flex items-center gap-3 px-3 py-2.5 rounded-lg
              text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20
              transition-all duration-200
              ${n&&!s?"justify-center":""}
            `,title:n&&!s?"Выйти":"",children:[i.jsx(QC,{className:"h-4 w-4 flex-shrink-0"}),(!n||s)&&i.jsx("span",{className:"text-sm",children:"Выйти"}),n&&!s&&i.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:"Выйти"})]})})]}),i.jsx("main",{className:`
        transition-all duration-300 ease-in-out
        ${s?"ml-0 pt-14":`${n?"ml-16":"ml-64"} pt-12`}
        p-3 md:p-4
      `,children:i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm p-3 md:p-6 min-h-[calc(100vh-5rem)] md:min-h-[calc(100vh-4rem)]",children:i.jsx(kI,{})})}),l&&i.jsx(sT,{isOpen:l,onClose:()=>c(!1)})]})},Yu=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),rc={style:"centered",centered:{title:"ScienceHub",subtitle:"Место для научного сообщества",logoLight:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_science_hub%20no_title.png",logoDark:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logo/logo_white_science_hub%20no_title.png"},slideshow:{slides:[],settings:{autoplaySpeed:5e3,transition:"fade"}}},$g={enabled:!0,title:"Добро пожаловать в ScienceHub",description:"Мы создаем уникальное пространство для науки, образования и инноваций. Присоединяйтесь к нашему сообществу исследователей, предпринимателей и энтузиастов.",image:"https://wummwcsqsznyyaajcxww.supabase.co/storage/v1/object/public/images/logo/logo_science_hub%20no_title.png",order:1},zg={enabled:!0,title:"Аренда помещений",description:"Предоставляем в аренду современные помещения для проведения мероприятий, конференций и лабораторных исследований.",image:"https://example.com/rent-image.jpg",order:2},Fg={enabled:!0,title:"Коворкинг пространство",description:"Комфортные рабочие места для исследователей и стартапов с доступом ко всей инфраструктуре ScienceHub.",image:"https://example.com/coworking-image.jpg",order:3},TV=()=>{const[e,t]=k.useState(null),[r,n]=k.useState(rc),[a,s]=k.useState($g),[o,l]=k.useState(zg),[c,d]=k.useState(Fg),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[y,v]=k.useState(null),[b,g]=k.useState("slide"),p=k.useRef(null);k.useEffect(()=>{x()},[]);const x=async()=>{var D;try{f(!0);const{data:R,error:N}=await Yu.from("site_settings").select("*").single();if(N){if(N.code==="PGRST116"){const{data:C,error:j}=await Yu.from("site_settings").insert([{header_settings:rc,info_section:$g,rent_selection:zg,coworking_selection:Fg}]).select().single();if(j)throw j;if(C){t(C.id);return}}throw N}R&&(t(R.id),R.header_settings&&n({...rc,...R.header_settings,slideshow:{...rc.slideshow,...R.header_settings.slideshow,settings:{...rc.slideshow.settings,...(D=R.header_settings.slideshow)==null?void 0:D.settings}}}),R.info_section&&s({...$g,...R.info_section}),R.rent_selection&&l({...zg,...R.rent_selection}),R.coworking_selection&&d({...Fg,...R.coworking_selection}))}catch(R){console.error("Error fetching settings:",R),X.error("Ошибка при загрузке настроек")}finally{f(!1)}},w=async()=>{if(!e){X.error("ID настроек не найден");return}try{m(!0);const{error:D}=await Yu.from("site_settings").update({header_settings:r,info_section:a,rent_selection:o,coworking_selection:c}).eq("id",e);if(D)throw D;X.success("Настройки успешно сохранены")}catch(D){console.error("Error saving settings:",D),X.error("Ошибка при сохранении настроек")}finally{m(!1)}},_=async D=>new Promise(R=>{const N=new FileReader;N.onload=C=>{var I;const j=new Image;j.src=(I=C.target)==null?void 0:I.result,j.onload=()=>{const B=document.createElement("canvas"),P=B.getContext("2d");let A=j.width,F=j.height;if(A>1e3){const L=1e3/A;A=1e3,F=F*L}B.width=A,B.height=F,P?(P.drawImage(j,0,0,A,F),B.toBlob(L=>{if(L&&L.size>1e6)B.toBlob($=>{if($){const z=new File([$],D.name,{type:"image/jpeg",lastModified:Date.now()});R(z)}else R(D)},"image/jpeg",.5);else if(L){const $=new File([L],D.name,{type:"image/jpeg",lastModified:Date.now()});R($)}else R(D)},"image/jpeg",.7)):R(D)}},N.readAsDataURL(D)}),S=async(D,R)=>{try{g(R);const N=await _(D);await E(N,R),X.success("Изображение успешно загружено и сжато")}catch(N){console.error("Error uploading image:",N),X.error("Ошибка при загрузке изображения")}},E=async(D,R)=>{try{const N=Date.now(),C=D.name.split(".").pop(),I=`images/${`${R}_${N}.${C}`}`,{error:B}=await Yu.storage.from("images").upload(I,D);if(B)throw B;const P=`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${I}`;R==="slide"?n(A=>({...A,slideshow:{...A.slideshow,slides:[...A.slideshow.slides,{id:crypto.randomUUID(),image:P,title:"Новый слайд",subtitle:"Описание слайда"}]}})):R==="info"?s(A=>({...A,image:P})):R==="rent"?l(A=>({...A,image:P})):R==="coworking"&&d(A=>({...A,image:P}))}catch(N){throw console.error("Error uploading image:",N),N}},O=(D,R)=>{const N=[...r.slideshow.slides],C=N.findIndex(B=>B.id===D);if(C===-1)return;const j=R==="up"?C-1:C+1;if(j<0||j>=N.length)return;const[I]=N.splice(C,1);N.splice(j,0,I),n(B=>({...B,slideshow:{...B.slideshow,slides:N}}))},T=D=>{n(R=>({...R,slideshow:{...R.slideshow,slides:R.slideshow.slides.filter(N=>N.id!==D)}}))};return u?i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsx("div",{className:"min-h-[calc(100vh-200px)] bg-gray-50 dark:bg-dark-900 py-8 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-dark-900 dark:text-white",children:"Управление главным экраном"}),i.jsx("p",{className:"text-dark-600 dark:text-dark-400 mt-1",children:"Настройте заголовок, слайдшоу и информационные разделы"})]}),i.jsxs("button",{onClick:w,disabled:h,className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg flex items-center gap-2 transition-colors disabled:opacity-70",children:[i.jsx(Wr,{className:"w-5 h-5"}),h?"Сохранение...":"Сохранить изменения"]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white mb-6",children:"Стиль шапки"}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("button",{onClick:()=>n(D=>({...D,style:"centered"})),className:`flex-1 min-w-[200px] p-4 rounded-lg border-2 flex flex-col items-center transition-colors ${r.style==="centered"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-dark-200 dark:border-dark-600 hover:border-dark-300 dark:hover:border-dark-500"}`,children:[i.jsx("div",{className:"w-16 h-16 bg-dark-100 dark:bg-dark-700 rounded-full mb-3 flex items-center justify-center",children:i.jsx(lh,{className:"w-8 h-8 text-dark-500"})}),i.jsx("span",{className:"font-medium",children:"Центрированный логотип"})]}),i.jsxs("button",{onClick:()=>n(D=>({...D,style:"slideshow"})),className:`flex-1 min-w-[200px] p-4 rounded-lg border-2 flex flex-col items-center transition-colors ${r.style==="slideshow"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-dark-200 dark:border-dark-600 hover:border-dark-300 dark:hover:border-dark-500"}`,children:[i.jsx("div",{className:"w-16 h-16 bg-dark-100 dark:bg-dark-700 rounded-lg mb-3 flex items-center justify-center",children:i.jsx(zr,{className:"w-8 h-8 text-dark-500"})}),i.jsx("span",{className:"font-medium",children:"Слайдшоу"})]})]})]}),r.style==="centered"&&i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white mb-6",children:"Настройки центрированного стиля"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Заголовок"}),i.jsx("input",{type:"text",id:"title",value:r.centered.title,onChange:D=>n(R=>({...R,centered:{...R.centered,title:D.target.value}})),className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Введите заголовок"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"subtitle",className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Подзаголовок"}),i.jsx("input",{type:"text",id:"subtitle",value:r.centered.subtitle,onChange:D=>n(R=>({...R,centered:{...R.centered,subtitle:D.target.value}})),className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Введите подзаголовок"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Логотип (светлая тема)"}),i.jsxs("div",{className:"p-4 border border-dark-300 dark:border-dark-600 rounded-lg bg-white flex flex-col items-center",children:[i.jsx("img",{src:r.centered.logoLight,alt:"Light Logo Preview",className:"h-20 w-auto object-contain mb-3"}),i.jsxs("button",{onClick:()=>{const D=document.createElement("input");D.type="file",D.accept="image/*",D.onchange=async R=>{var C;const N=(C=R.target.files)==null?void 0:C[0];N&&await S(N,"info")},D.click()},className:"px-3 py-1.5 text-sm bg-dark-100 hover:bg-dark-200 text-dark-800 rounded-lg flex items-center gap-1",children:[i.jsx(pn,{className:"w-4 h-4"}),"Изменить"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Логотип (тёмная тема)"}),i.jsxs("div",{className:"p-4 border border-dark-300 dark:border-dark-600 rounded-lg bg-dark-900 flex flex-col items-center",children:[i.jsx("img",{src:r.centered.logoDark,alt:"Dark Logo Preview",className:"h-20 w-auto object-contain mb-3"}),i.jsxs("button",{onClick:()=>{const D=document.createElement("input");D.type="file",D.accept="image/*",D.onchange=async R=>{var C;const N=(C=R.target.files)==null?void 0:C[0];N&&await S(N,"info")},D.click()},className:"px-3 py-1.5 text-sm bg-dark-700 hover:bg-dark-600 text-white rounded-lg flex items-center gap-1",children:[i.jsx(pn,{className:"w-4 h-4"}),"Изменить"]})]})]})]})]})]}),r.style==="slideshow"&&i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:"Настройки слайдшоу"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:p,onChange:async D=>{var N;const R=(N=D.target.files)==null?void 0:N[0];R&&await S(R,"slide")}}),i.jsxs("button",{onClick:()=>{var D;return(D=p.current)==null?void 0:D.click()},className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg flex items-center gap-2 transition-colors",children:[i.jsx(Nn,{className:"w-5 h-5"}),"Добавить слайд"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"autoplaySpeed",className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Скорость автопрокрутки (мс)"}),i.jsx("input",{type:"number",id:"autoplaySpeed",value:r.slideshow.settings.autoplaySpeed,onChange:D=>n(R=>({...R,slideshow:{...R.slideshow,settings:{...R.slideshow.settings,autoplaySpeed:parseInt(D.target.value)}}})),min:"1000",step:"500",className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"transition",className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Тип перехода"}),i.jsxs("select",{id:"transition",value:r.slideshow.settings.transition,onChange:D=>n(R=>({...R,slideshow:{...R.slideshow,settings:{...R.slideshow.settings,transition:D.target.value}}})),className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[i.jsx("option",{value:"fade",children:"Затухание"}),i.jsx("option",{value:"slide",children:"Скольжение"})]})]})]}),r.slideshow.slides.length>0?i.jsx("div",{className:"space-y-4",children:r.slideshow.slides.map((D,R)=>i.jsx("div",{className:"bg-dark-50 dark:bg-dark-700 rounded-lg p-4 border border-dark-200 dark:border-dark-600",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-4",children:[i.jsx("div",{className:"w-full md:w-48 flex-shrink-0 aspect-[3/1] bg-dark-200 dark:bg-dark-600 rounded-md overflow-hidden",children:i.jsx("img",{src:D.image,alt:D.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-grow space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-1",children:"Заголовок слайда"}),i.jsx("input",{type:"text",value:D.title,onChange:N=>{const C=r.slideshow.slides.map(j=>j.id===D.id?{...j,title:N.target.value}:j);n(j=>({...j,slideshow:{...j.slideshow,slides:C}}))},className:"w-full p-2 border border-dark-300 dark:border-dark-600 rounded-md dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Введите заголовок"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-1",children:"Подзаголовок слайда"}),i.jsx("input",{type:"text",value:D.subtitle,onChange:N=>{const C=r.slideshow.slides.map(j=>j.id===D.id?{...j,subtitle:N.target.value}:j);n(j=>({...j,slideshow:{...j.slideshow,slides:C}}))},className:"w-full p-2 border border-dark-300 dark:border-dark-600 rounded-md dark:bg-dark-800 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Введите подзаголовок"})]})]}),i.jsxs("div",{className:"flex gap-2 self-center md:self-start",children:[i.jsx("button",{onClick:()=>O(D.id,"up"),disabled:R===0,className:"p-2 hover:bg-dark-200 dark:hover:bg-dark-600 rounded-md disabled:opacity-50",title:"Переместить вверх",children:i.jsx(YC,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>O(D.id,"down"),disabled:R===r.slideshow.slides.length-1,className:"p-2 hover:bg-dark-200 dark:hover:bg-dark-600 rounded-md disabled:opacity-50",title:"Переместить вниз",children:i.jsx(qC,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>T(D.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 text-red-500 rounded-md",title:"Удалить слайд",children:i.jsx(Ir,{className:"w-5 h-5"})})]})]})},D.id))}):i.jsxs("div",{className:"text-center py-12 bg-dark-50 dark:bg-dark-700 rounded-lg border-2 border-dashed border-dark-300 dark:border-dark-600",children:[i.jsx(zr,{className:"mx-auto h-12 w-12 text-dark-400"}),i.jsx("h3",{className:"mt-2 text-sm font-medium text-dark-900 dark:text-white",children:"Нет добавленных слайдов"}),i.jsx("p",{className:"mt-1 text-sm text-dark-500 dark:text-dark-400",children:'Нажмите кнопку "Добавить слайд" чтобы начать'})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:i.jsx(lh,{className:"w-5 h-5"})}),i.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:'Настройки блока "О нас"'})]}),i.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:a.enabled,onChange:D=>s(R=>({...R,enabled:D.target.checked})),className:"sr-only peer"}),i.jsx("div",{className:"relative w-11 h-6 bg-dark-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-dark-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-dark-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-dark-600 peer-checked:bg-primary-600"}),i.jsx("span",{className:"ms-3 text-sm font-medium text-dark-700 dark:text-dark-300",children:a.enabled?"Активен":"Неактивен"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Заголовок"}),i.jsx("input",{type:"text",value:a.title,onChange:D=>s(R=>({...R,title:D.target.value})),className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Введите заголовок"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Описание"}),i.jsx("textarea",{value:a.description,onChange:D=>s(R=>({...R,description:D.target.value})),rows:4,className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Введите описание"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Изображение"}),i.jsxs("div",{className:"relative group aspect-[3/1] bg-dark-100 dark:bg-dark-700 rounded-lg overflow-hidden",children:[i.jsx("img",{src:a.image,alt:"Info section preview",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:i.jsx("button",{onClick:()=>{const D=document.createElement("input");D.type="file",D.accept="image/*",D.onchange=async R=>{var C;const N=(C=R.target.files)==null?void 0:C[0];N&&await S(N,"info")},D.click()},className:"p-3 bg-white/90 hover:bg-white text-dark-800 rounded-full shadow-lg",title:"Изменить изображение",children:i.jsx(pn,{className:"w-5 h-5"})})})]})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"w-24",children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Порядок"}),i.jsx("input",{type:"number",value:a.order,onChange:D=>s(R=>({...R,order:parseInt(D.target.value)})),min:"1",className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:i.jsx(gr,{className:"w-5 h-5"})}),i.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:'Настройки блока "Аренда помещений"'})]}),i.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:o.enabled,onChange:D=>l(R=>({...R,enabled:D.target.checked})),className:"sr-only peer"}),i.jsx("div",{className:"relative w-11 h-6 bg-dark-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-dark-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-dark-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-dark-600 peer-checked:bg-primary-600"}),i.jsx("span",{className:"ms-3 text-sm font-medium text-dark-700 dark:text-dark-300",children:o.enabled?"Активен":"Неактивен"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Заголовок"}),i.jsx("input",{type:"text",value:o.title,onChange:D=>l(R=>({...R,title:D.target.value})),className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Введите заголовок"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Описание"}),i.jsx("textarea",{value:o.description,onChange:D=>l(R=>({...R,description:D.target.value})),rows:4,className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Введите описание"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Изображение"}),i.jsxs("div",{className:"relative group aspect-[3/1] bg-dark-100 dark:bg-dark-700 rounded-lg overflow-hidden",children:[i.jsx("img",{src:o.image,alt:"Rent section preview",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:i.jsx("button",{onClick:()=>{const D=document.createElement("input");D.type="file",D.accept="image/*",D.onchange=async R=>{var C;const N=(C=R.target.files)==null?void 0:C[0];N&&await S(N,"rent")},D.click()},className:"p-3 bg-white/90 hover:bg-white text-dark-800 rounded-full shadow-lg",title:"Изменить изображение",children:i.jsx(pn,{className:"w-5 h-5"})})})]})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"w-24",children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Порядок"}),i.jsx("input",{type:"number",value:o.order,onChange:D=>l(R=>({...R,order:parseInt(D.target.value)})),min:"1",className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-sm border border-dark-200 dark:border-dark-700 p-6 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:i.jsx(St,{className:"w-5 h-5"})}),i.jsx("h2",{className:"text-xl font-semibold text-dark-900 dark:text-white",children:'Настройки блока "Коворкинг пространство"'})]}),i.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:c.enabled,onChange:D=>d(R=>({...R,enabled:D.target.checked})),className:"sr-only peer"}),i.jsx("div",{className:"relative w-11 h-6 bg-dark-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-dark-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-dark-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-dark-600 peer-checked:bg-primary-600"}),i.jsx("span",{className:"ms-3 text-sm font-medium text-dark-700 dark:text-dark-300",children:c.enabled?"Активен":"Неактивен"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Заголовок"}),i.jsx("input",{type:"text",value:c.title,onChange:D=>d(R=>({...R,title:D.target.value})),className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Введите заголовок"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Описание"}),i.jsx("textarea",{value:c.description,onChange:D=>d(R=>({...R,description:D.target.value})),rows:4,className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Введите описание"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Изображение"}),i.jsxs("div",{className:"relative group aspect-[3/1] bg-dark-100 dark:bg-dark-700 rounded-lg overflow-hidden",children:[i.jsx("img",{src:c.image,alt:"Coworking section preview",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:i.jsx("button",{onClick:()=>{const D=document.createElement("input");D.type="file",D.accept="image/*",D.onchange=async R=>{var C;const N=(C=R.target.files)==null?void 0:C[0];N&&await S(N,"coworking")},D.click()},className:"p-3 bg-white/90 hover:bg-white text-dark-800 rounded-full shadow-lg",title:"Изменить изображение",children:i.jsx(pn,{className:"w-5 h-5"})})})]})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"w-24",children:[i.jsx("label",{className:"block text-sm font-medium text-dark-700 dark:text-dark-300 mb-2",children:"Порядок"}),i.jsx("input",{type:"number",value:c.order,onChange:D=>d(R=>({...R,order:parseInt(D.target.value)})),min:"1",className:"w-full p-2.5 border border-dark-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})]})]})]})})},DV=({isOpen:e,onClose:t,event:r})=>{const n=Hn(),[a,s]=k.useState(null),[o,l]=k.useState({}),[c,d]=k.useState(r),[u,f]=k.useState(!1),[h,m]=k.useState(!1);k.useEffect(()=>{d(r)},[r]);const y=()=>{if(oa(r.start_at))try{return Ve(Ma(r.start_at),"d MMMM yyyy",{locale:gn})}catch(O){console.error("Error formatting start_at:",r.start_at,O)}if(oa(r.start_time))try{return Ve(Ma(r.start_time),"d MMMM yyyy",{locale:gn})}catch(O){console.error("Error formatting start_time:",r.start_time,O)}if(oa(r.date))try{return Ve(Ma(r.date),"d MMMM yyyy",{locale:gn})}catch(O){console.error("Error formatting date:",r.date,O)}return"Дата не указана"},v=()=>{var O;return(O=c.registrations)!=null&&O.reg_list?c.registrations.reg_list:c.registrations_list||[]},b=()=>{var O;return((O=c.registrations)==null?void 0:O.max_regs)!==void 0?c.registrations.max_regs:c.max_registrations||null},g=()=>{var O;return((O=c.registrations)==null?void 0:O.current)!==void 0?c.registrations.current:c.current_registration_count||0},p=O=>{s(O.id),l(O)},x=async O=>{try{if(f(!0),!o.full_name||!o.email){X.error("Имя и email обязательны для заполнения");return}const{data:T,error:D}=await de.from("events").select("registrations, registrations_list").eq("id",r.id).single();if(D)throw D;let R;if(T.registrations){const j=[...T.registrations.reg_list].map(I=>I.id===O?{...I,...o}:I);R={...T.registrations,reg_list:j}}else{const j=(T.registrations_list||[]).map(I=>I.id===O?{...I,...o}:I);R={max_regs:c.max_registrations||null,current:0,current_adults:0,current_children:0,reg_list:j}}const{error:N}=await de.from("events").update({registrations:R}).eq("id",r.id);if(N)throw N;d(C=>({...C,registrations:R})),s(null),l({}),X.success("Регистрация успешно обновлена")}catch(T){console.error("Error updating registration:",T),X.error("Ошибка при обновлении регистрации")}finally{f(!1)}},w=async O=>{if(confirm("Вы уверены, что хотите удалить эту регистрацию?"))try{m(!0);const{data:T,error:D}=await de.from("events").select("registrations, registrations_list").eq("id",r.id).single();if(D)throw D;let R;if(T.registrations){const j=[...T.registrations.reg_list].filter(I=>I.id!==O);R={...T.registrations,reg_list:j}}else{const j=(T.registrations_list||[]).filter(I=>I.id!==O);R={max_regs:c.max_registrations||null,current:0,current_adults:0,current_children:0,reg_list:j}}const{error:N}=await de.from("events").update({registrations:R}).eq("id",r.id);if(N)throw N;d(C=>({...C,registrations:R})),X.success("Регистрация удалена")}catch(T){console.error("Error deleting registration:",T),X.error("Ошибка при удалении регистрации")}finally{m(!1)}},_=v(),S=b(),E=g();return i.jsx(Il,{isOpen:e,onClose:t,title:"Детали мероприятия",size:"xl",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Основная информация"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-dark-600 dark:text-dark-300",children:[i.jsx(_e,{className:"h-5 w-5"}),i.jsx("span",{children:y()})]}),i.jsxs("div",{className:"flex items-center gap-2 text-dark-600 dark:text-dark-300",children:[i.jsx(Pt,{className:"h-5 w-5"}),i.jsx("span",{children:r.location})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Статистика"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:"Всего мест:"}),i.jsx("span",{className:"font-medium",children:S||"Не ограничено"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:"Зарегистрировано:"}),i.jsx("span",{className:"font-medium",children:E})]}),r.payment_link&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-dark-600 dark:text-dark-300",children:"Переходов по ссылке оплаты:"}),i.jsx("span",{className:"font-medium",children:r.payment_link_clicks||0})]}),S&&S>0&&i.jsx("div",{className:"h-2 bg-gray-200 dark:bg-dark-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary-600 rounded-full transition-all",style:{width:`${E/S*100}%`}})})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium mb-4",children:"Управление регистрациями"}),(_==null?void 0:_.length)>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50 dark:bg-dark-700",children:[i.jsx("th",{className:"px-4 py-3 text-left",children:"Имя"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Взрослые"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Дети"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Сумма"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Статус"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Действия"})]})}),i.jsx("tbody",{children:_.map(O=>i.jsx("tr",{className:"border-t border-gray-200 dark:border-dark-700",children:a===O.id?i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx("input",{type:"text",value:o.full_name||"",onChange:T=>l({...o,full_name:T.target.value}),className:"w-full px-2 py-1 border rounded"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("input",{type:"email",value:o.email||"",onChange:T=>l({...o,email:T.target.value}),className:"w-full px-2 py-1 border rounded"})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("input",{type:"number",value:o.adult_tickets||0,onChange:T=>l({...o,adult_tickets:parseInt(T.target.value)}),className:"w-20 px-2 py-1 border rounded text-center",min:"0"})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("input",{type:"number",value:o.child_tickets||0,onChange:T=>l({...o,child_tickets:parseInt(T.target.value)}),className:"w-20 px-2 py-1 border rounded text-center",min:"0"})}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsx("input",{type:"number",value:o.total_amount||0,onChange:T=>l({...o,total_amount:parseInt(T.target.value)}),className:"w-24 px-2 py-1 border rounded text-right",min:"0"})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsxs("select",{value:o.status?"true":"false",onChange:T=>l({...o,status:T.target.value==="true"}),className:"px-2 py-1 border rounded",children:[i.jsx("option",{value:"true",children:"Активна"}),i.jsx("option",{value:"false",children:"Отменена"})]})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsx("button",{onClick:()=>x(O.id),disabled:u,className:"p-1 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded",children:u?i.jsx(Nt,{className:"h-4 w-4 animate-spin"}):i.jsx(xm,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>s(null),className:"p-1 text-gray-600 hover:bg-gray-100 dark:hover:bg-dark-700 rounded",children:i.jsx(_t,{className:"h-4 w-4"})})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"px-4 py-3",children:O.full_name}),i.jsx("td",{className:"px-4 py-3",children:O.email}),i.jsx("td",{className:"px-4 py-3 text-center",children:O.adult_tickets}),i.jsx("td",{className:"px-4 py-3 text-center",children:O.child_tickets}),i.jsx("td",{className:"px-4 py-3 text-right",children:O.total_amount}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${O.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:O.status?"Активна":"Отменена"})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsx("button",{onClick:()=>p(O),className:"p-1 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:i.jsx(pn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>w(O.id),disabled:h,className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:h?i.jsx(Nt,{className:"h-4 w-4 animate-spin"}):i.jsx(Ir,{className:"h-4 w-4"})})]})})]})},O.id))})]})}):i.jsx("p",{className:"text-center py-4 text-dark-500 dark:text-dark-400",children:"Нет зарегистрированных участников"})]}),i.jsxs("div",{className:"flex justify-end gap-4 mt-8 pt-6 border-t border-gray-200 dark:border-dark-700",children:[i.jsx("button",{onClick:t,className:"btn-outline",children:"Закрыть"}),i.jsx("button",{onClick:()=>{t(),n(`/admin/events/${r.id}/edit`)},className:"btn-primary",children:"Редактировать"})]})]})})},D2=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),P2={active:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 dark:from-green-900/30 dark:to-green-800/30 dark:text-green-400",draft:"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 dark:from-yellow-900/30 dark:to-yellow-800/30 dark:text-yellow-400",past:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 dark:from-gray-900/30 dark:to-gray-800/30 dark:text-gray-400"},PV=e=>{if(e.length<=50){const n=e.split(" ");if(n.length<=2)return{line1:n[0]||" ",line2:n[1]||" "};const a=Math.ceil(n.length/2);return{line1:n.slice(0,a).join(" "),line2:n.slice(a).join(" ")}}return{line1:e.substring(0,30),line2:e.substring(30,47)+"..."}},OV=()=>{Hn();const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(""),[o,l]=k.useState("chronological"),[c,d]=k.useState("active"),[u,f]=k.useState([]),[h,m]=k.useState(null),[y,v]=k.useState(!1);k.useEffect(()=>{b()},[o,c]);const b=async()=>{try{n(!0);let N=D2.from("events").select(`
          *,
          time_slot:time_slots_table!fk_time_slots_event(
            id,
            start_at,
            end_at
          )
        `);c==="past"?N=N.or("status.eq.past,status.eq.active"):c!=="all"&&(N=N.eq("status",c));const{data:C,error:j}=await N;if(j)throw j;const I=(C||[]).map(P=>{var A,F,L,$;return{...P,start_at:((F=(A=P.time_slot)==null?void 0:A[0])==null?void 0:F.start_at)||P.start_at,end_at:(($=(L=P.time_slot)==null?void 0:L[0])==null?void 0:$.end_at)||P.end_at}});let B=I;switch(c==="past"?B=I.filter(P=>P.status==="past"||P.end_at&&ps(P.end_at)):c==="active"&&(B=I.filter(P=>P.status==="active"&&(!P.end_at||!ps(P.end_at)))),o){case"chronological":c==="active"?B.sort((P,A)=>{const F=new Date(P.start_at||0),L=new Date(A.start_at||0);return F.getTime()-L.getTime()}):B.sort((P,A)=>{const F=new Date(P.created_at||0);return new Date(A.created_at||0).getTime()-F.getTime()});break;case"date-asc":B.sort((P,A)=>{const F=new Date(P.start_at||0),L=new Date(A.start_at||0);return F.getTime()-L.getTime()});break;case"date-desc":B.sort((P,A)=>{const F=new Date(P.start_at||0);return new Date(A.start_at||0).getTime()-F.getTime()});break;case"title-asc":B.sort((P,A)=>P.title.localeCompare(A.title));break;case"title-desc":B.sort((P,A)=>A.title.localeCompare(P.title));break}t(B),f([])}catch(N){console.error("Error fetching events:",N),X.error("Ошибка при загрузке мероприятий")}finally{n(!1)}},g=async()=>{if(u.length===0)return;const N=u.length;if(confirm(`Вы уверены, что хотите удалить ${N} ${N===1?"мероприятие":"мероприятия"}?`))try{const{error:C}=await D2.from("events").delete().in("id",u);if(C)throw C;X.success(`Успешно удалено ${N} ${N===1?"мероприятие":"мероприятия"}`),f([]),b()}catch(C){console.error("Error deleting events:",C),X.error("Ошибка при удалении мероприятий")}},p=(N,C)=>{C.stopPropagation(),f(j=>j.includes(N)?j.filter(I=>I!==N):[...j,N])},x=N=>{N.stopPropagation(),u.length===w.length?f([]):f(w.map(C=>C.id))},w=e.filter(N=>{var j,I;return N.title.toLowerCase().includes(a.toLowerCase())||((j=N.description)==null?void 0:j.toLowerCase().includes(a.toLowerCase()))||((I=N.location)==null?void 0:I.toLowerCase().includes(a.toLowerCase()))}),_=N=>{var C;return((C=N.registrations)==null?void 0:C.current)!==void 0?N.registrations.current:N.current_registration_count||0},S=N=>{var C;return((C=N.registrations)==null?void 0:C.max_regs)!==void 0?N.registrations.max_regs:N.max_registrations||null},E=N=>{const C=N.payment_type,j=N.price;return C==="free"?"Бесплатно":C==="donation"?"Донат":C==="cost"&&j!==null&&j!==void 0?j===0?"Бесплатно":`${j} ${N.currency||"RUB"}`:"Бесплатно"},O=N=>{const C=_(N),j=S(N);return C>0||j!==null||N.payment_type!=="free"||N.status==="active"},T=N=>!!(N.registrations||N.registrations_list||N.current_registration_count!==void 0),D=N=>{if(!N.start_at)return"Время не указано";const C=pr(N.start_at),j=N.end_at?ia(N.start_at,N.end_at):fa(N.start_at);return`${C} • ${j}`},R=[{id:"active",label:"Активные",count:e.filter(N=>N.status==="active"&&(!N.end_at||!ps(N.end_at))).length},{id:"past",label:"Прошедшие",count:e.filter(N=>N.status==="past"||N.end_at&&ps(N.end_at)).length},{id:"draft",label:"Черновики",count:e.filter(N=>N.status==="draft").length}];return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-12 text-center",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-4 font-heading",children:"Управление мероприятиями"}),i.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Создавайте, редактируйте и управляйте своими мероприятиями"})]}),i.jsx("div",{className:"flex justify-center mb-10",children:i.jsxs(Te,{to:"/admin/events/new",className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg font-heading",children:[i.jsx(Nn,{className:"w-5 h-5"}),"Создать мероприятие"]})}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg mb-8 border border-gray-100 dark:border-gray-700",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(ua,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Поиск мероприятий по названию, описанию или месту...",value:a,onChange:N=>s(N.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200"})]}),i.jsx("div",{className:"flex gap-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsxs("select",{value:o,onChange:N=>l(N.target.value),className:"pl-10 pr-8 py-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",children:[i.jsx("option",{value:"chronological",children:"Хронологически"}),i.jsx("option",{value:"date-desc",children:"Сначала новые"}),i.jsx("option",{value:"date-asc",children:"Сначала старые"}),i.jsx("option",{value:"title-asc",children:"По названию (А-Я)"}),i.jsx("option",{value:"title-desc",children:"По названию (Я-А)"})]})]})})]})}),i.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-xl mx-6 my-4",children:R.map(N=>i.jsxs("button",{onClick:()=>d(N.id),className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-300 font-heading ${c===N.id?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-white dark:hover:bg-gray-600"}`,children:[N.label,N.count>0&&i.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-bold ${c===N.id?"bg-white/20 text-white":"bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400"}`,children:N.count})]},N.id))})})})]}),e.length>0&&i.jsxs("div",{className:"mb-8 flex items-center gap-4 p-4 bg-white dark:bg-dark-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700",children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:u.length>0&&u.length===w.length,onChange:x,onClick:x,className:"form-checkbox h-5 w-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 dark:border-dark-600 dark:bg-dark-700 dark:checked:bg-primary-600"}),i.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Выбрать все"})]}),u.length>0&&i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-gray-600 dark:text-gray-400 px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-sm",children:["Выбрано: ",u.length]}),i.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:[i.jsx(Ir,{className:"h-4 w-4"}),"Удалить выбранные"]})]})]}),r?i.jsxs("div",{className:"text-center py-16",children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx(Nt,{className:"w-12 h-12 animate-spin text-primary-500"}),i.jsx("div",{className:"absolute inset-0 w-12 h-12 border-2 border-primary-200 dark:border-primary-800 rounded-full"})]}),i.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300 font-medium",children:"Загрузка мероприятий..."})]}):w.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(_e,{className:"w-12 h-12 text-primary-500"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2 font-heading",children:"Мероприятия не найдены"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:a?"Попробуйте изменить параметры поиска или создайте новое мероприятие":"Создайте первое мероприятие, чтобы начать привлекать участников"}),i.jsxs(Te,{to:"/admin/events/new",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg font-heading",children:[i.jsx(Nn,{className:"h-5 w-5"}),"Создать мероприятие"]})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map(N=>{const{line1:C,line2:j}=PV(N.title),I=S(N),B=_(N),P=I?B/I*100:0,A=N.end_at?ps(N.end_at):!1;return i.jsxs("div",{className:"group relative bg-white dark:bg-dark-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700 hover:border-primary-200 dark:hover:border-primary-600 cursor-pointer",onClick:()=>{m(N),v(!0)},children:[i.jsx("div",{className:"absolute top-4 left-4 z-10",children:i.jsx("input",{type:"checkbox",checked:u.includes(N.id),onChange:F=>F.stopPropagation(),onClick:F=>p(N.id,F),className:"form-checkbox h-5 w-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 dark:border-dark-600 dark:bg-dark-700 dark:checked:bg-primary-600 shadow-lg"})}),i.jsxs("div",{className:"h-48 bg-cover bg-center relative",style:{backgroundImage:N.bg_image?`url(https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${N.bg_image})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[i.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-400 via-primary-500 to-primary-600"}),i.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[i.jsx(Te,{to:`/events/${N.id}`,className:"p-2 bg-white/90 hover:bg-white dark:bg-dark-700/90 dark:hover:bg-dark-600 rounded-full shadow-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110",title:"Просмотреть страницу",onClick:F=>F.stopPropagation(),children:i.jsx(Bd,{className:"h-4 w-4 text-gray-700 dark:text-gray-300"})}),i.jsx(Te,{to:`/admin/events/${N.id}/edit`,className:"p-2 bg-white/90 hover:bg-white dark:bg-dark-700/90 dark:hover:bg-dark-600 rounded-full shadow-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110",title:"Редактировать",onClick:F=>F.stopPropagation(),children:i.jsx(pn,{className:"h-4 w-4 text-gray-700 dark:text-gray-300"})})]}),i.jsx("div",{className:"absolute bottom-4 left-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold shadow-lg ${A?P2.past:P2[N.status]}`,children:A?"Прошло":N.status==="active"?"Активно":N.status==="draft"?"Черновик":"Прошло"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"h-[4rem] mb-4 overflow-hidden",children:i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white font-heading group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:[C,j&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),j]})]})}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 text-sm",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3",children:i.jsx(_e,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),i.jsx("span",{className:"truncate font-medium",children:D(N)})]}),N.location&&i.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 text-sm",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3",children:i.jsx(Pt,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),i.jsx("span",{className:"truncate font-medium",children:N.location})]}),O(N)&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3",children:i.jsx(St,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),i.jsx("span",{className:"font-medium",children:T(N)?"Регистрации":"Участие"})]}),i.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[B,I&&I>0?`/${I}`:""]})]}),I&&I>0&&i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:i.jsx("div",{className:"h-2 bg-gradient-to-r from-primary-400 to-primary-600 rounded-full transition-all duration-500",style:{width:`${Math.min(P,100)}%`}})}),(!I||I===0)&&B>0&&i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Без ограничений"}),!T(N)&&i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Регистрация не требуется"})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Стоимость:"}),i.jsx("span",{className:"font-bold text-lg text-primary-600 dark:text-primary-400",children:E(N)})]})]})]},N.id)})}),h&&i.jsx(DV,{isOpen:y,onClose:()=>{v(!1),m(null)},event:h})]})})},IV=["Lecture","Workshop","Movie Discussion","Conversation Club","Festival","Stand-up","Concert","Excursion","Discussion","Swap","Quiz"],MV=["cost","free","donation"],RV=["Русский","Английский","Сербский"],AV=["0+","12+","18+"],LV=["RSD","EUR","RUB"],$V=["draft","active","past"],O2=70,I2=150,M2=800,zV=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),FV=({selectedSpeakerIds:e,hideSpeakersGallery:t,onSpeakerToggle:r,onHideGalleryChange:n})=>{const[a,s]=k.useState([]),[o,l]=k.useState([]),[c,d]=k.useState(!1),[u,f]=k.useState(null),[h,m]=k.useState(""),[y,v]=k.useState(!1),b=k.useRef(null);k.useEffect(()=>{g()},[]),k.useEffect(()=>{if(e&&e.length>0&&a.length>0){const E=a.filter(O=>e.includes(O.id));l(E)}else l([])},[e,a]),k.useEffect(()=>{const E=O=>{b.current&&!b.current.contains(O.target)&&v(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const g=async()=>{try{d(!0),f(null);const{data:E,error:O}=await zV.from("speakers").select("*").order("name");if(O)throw O;s(E||[])}catch(E){console.error("Error fetching speakers:",E),f("Ошибка при загрузке спикеров")}finally{d(!1)}},p=E=>{r(E.id)},x=E=>{m(E),v(E.length>0)},w=E=>{e.includes(E.id)||p(E),m(""),v(!1)},_=a.filter(E=>h.length>0&&(E.name.toLowerCase().includes(h.toLowerCase())||E.field_of_expertise.toLowerCase().includes(h.toLowerCase()))),S=a.filter(E=>!e.includes(E.id));return i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl mr-4",children:i.jsx(Fr,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"Спикеры"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Выберите спикеров мероприятия"})]})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"checkbox",checked:t,onChange:E=>n(E.target.checked),className:"sr-only"}),i.jsx("div",{className:`w-11 h-6 rounded-full shadow-inner transition-colors duration-200 ${t?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}`,children:i.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow transform transition-transform duration-200 ${t?"translate-x-6":"translate-x-1"} mt-1`})})]}),i.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Скрыть галерею спикеров"})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",ref:b,children:[i.jsx("input",{type:"text",placeholder:"Поиск и добавление спикеров...",value:h,onChange:E=>x(E.target.value),onFocus:()=>h.length>0&&v(!0),className:"w-full p-4 pl-12 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200"}),i.jsx(ua,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),y&&_.length>0&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto",children:_.map(E=>{var O,T;return i.jsx("div",{onClick:()=>w(E),className:`p-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-150 ${e.includes(E.id)?"opacity-50 cursor-not-allowed":""}`,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3 flex-shrink-0",children:(T=(O=E.photos)==null?void 0:O[0])!=null&&T.url?i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${E.photos[0].url}`,alt:E.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Fr,{className:"w-5 h-5 text-gray-400"})})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:E.name}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:E.field_of_expertise})]}),e.includes(E.id)&&i.jsx("span",{className:"text-xs text-primary-600 dark:text-primary-400 ml-2",children:"Выбран"})]})},E.id)})}),y&&h.length>0&&_.length===0&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl shadow-lg z-50 p-4 text-center text-gray-500 dark:text-gray-400",children:"Спикеры не найдены"})]}),o.length>0&&i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[i.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:["Выбранные спикеры (",o.length,"):"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(E=>{var O,T;return i.jsxs("div",{className:"flex items-center gap-2 bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-300 px-3 py-2 rounded-full border border-primary-200 dark:border-primary-700",children:[i.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden bg-primary-200 dark:bg-primary-800 flex-shrink-0",children:(T=(O=E.photos)==null?void 0:O[0])!=null&&T.url?i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${E.photos[0].url}`,alt:E.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Fr,{className:"w-3 h-3 text-primary-600 dark:text-primary-400"})})}),i.jsx("span",{className:"text-sm font-medium",children:E.name}),i.jsx("button",{type:"button",onClick:D=>{D.stopPropagation(),p(E)},className:"text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200 hover:bg-primary-200 dark:hover:bg-primary-800 rounded-full p-0.5 transition-colors duration-150",children:i.jsx(_t,{className:"h-3 w-3"})})]},E.id)})})]}),!t&&i.jsx(i.Fragment,{children:c?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"Загрузка спикеров..."})]}):u?i.jsx("div",{className:"text-center py-8 text-red-500",children:u}):i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:["Все спикеры (",S.length," доступно)"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:S.map(E=>{var O,T;return i.jsx("div",{onClick:()=>p(E),className:"p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500 hover:shadow-md",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-2 flex-shrink-0",children:(T=(O=E.photos)==null?void 0:O[0])!=null&&T.url?i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${E.photos[0].url}`,alt:E.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Fr,{className:"w-5 h-5 text-gray-400"})})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:E.name}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:E.field_of_expertise})]})]})},E.id)})})]})})]})]})},BV=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),UV=({eventType:e,festivalProgram:t=[],allSpeakers:r,onFestivalProgramChange:n})=>{const[a,s]=k.useState(null),[o,l]=k.useState(!1),[c,d]=k.useState({title:"",description:"",image_url:"",start_time:"",end_time:"",lecturer_id:""}),[u,f]=k.useState(null),h=k.useRef(null);if(e!=="Festival")return null;const m=()=>{if(!c.title||!c.start_time||!c.end_time){X.error("Заполните обязательные поля программы");return}const p=[...t||[]];a!==null?p[a]=c:p.push(c),n(p),d({title:"",description:"",image_url:"",start_time:"",end_time:"",lecturer_id:""}),s(null),l(!1),f(null)},y=p=>{t&&(d(t[p]),s(p),l(!0),t[p].image_url?f(`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${t[p].image_url}`):f(null))},v=p=>{const x=[...t||[]];x.splice(p,1),n(x)},b=async p=>{try{const x=Date.now(),w=p.name.split(".").pop()||"jpg",_=`program-images/${x}.${w}`,{error:S}=await BV.storage.from("images").upload(_,p);if(S)throw S;d(E=>({...E,image_url:_})),f(`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${_}`),X.success("Изображение успешно загружено")}catch(x){console.error("Error uploading program image:",x),X.error("Ошибка при загрузке изображения")}},g=p=>{var w;const x=(w=p.target.files)==null?void 0:w[0];x&&b(x)};return i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-pink-100 to-pink-200 dark:from-pink-900/30 dark:to-pink-800/30 rounded-xl mr-4",children:i.jsx(_e,{className:"w-6 h-6 text-pink-600 dark:text-pink-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"Программа фестиваля"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Добавьте пункты программы"})]})]}),i.jsxs("button",{type:"button",onClick:()=>{d({title:"",description:"",image_url:"",start_time:"",end_time:"",lecturer_id:""}),s(null),l(!0),f(null)},className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[i.jsx(Nn,{className:"h-5 w-5"}),"Добавить пункт"]})]}),o?i.jsxs("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-xl p-6 mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:a!==null?"Редактирование пункта программы":"Новый пункт программы"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Название ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:c.title,onChange:p=>d({...c,title:p.target.value}),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"Название пункта программы"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Время начала ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"time",value:c.start_time,onChange:p=>d({...c,start_time:p.target.value}),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Время окончания ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"time",value:c.end_time,onChange:p=>d({...c,end_time:p.target.value}),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Описание"}),i.jsx("textarea",{value:c.description,onChange:p=>d({...c,description:p.target.value}),rows:3,className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"Описание пункта программы"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Спикер"}),i.jsxs("select",{value:c.lecturer_id,onChange:p=>d({...c,lecturer_id:p.target.value}),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",children:[i.jsx("option",{value:"",children:"Выберите спикера"}),r.map(p=>i.jsx("option",{value:p.id,children:p.name},p.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Изображение"}),u?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:u,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),i.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{var p;return(p=h.current)==null?void 0:p.click()},className:"p-2 bg-white/90 hover:bg-white text-dark-800 rounded-full shadow-lg",title:"Изменить изображение",children:i.jsx(pn,{className:"h-5 w-5"})}),i.jsx("button",{type:"button",onClick:()=>{d({...c,image_url:""}),f(null)},className:"p-2 bg-red-600/90 hover:bg-red-600 text-white rounded-full shadow-lg",title:"Удалить изображение",children:i.jsx(Ir,{className:"h-5 w-5"})})]})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-dark-600 rounded-lg p-6 text-center",children:[i.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:g,className:"hidden"}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"mb-3 p-2 bg-gray-100 dark:bg-dark-700 rounded-full",children:i.jsx(zr,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),i.jsx("button",{type:"button",onClick:()=>{var p;return(p=h.current)==null?void 0:p.click()},className:"px-3 py-1.5 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors text-sm",children:"Загрузить изображение"}),i.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Рекомендуемый размер: 800x600px"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{l(!1),d({title:"",description:"",image_url:"",start_time:"",end_time:"",lecturer_id:""}),f(null)},className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Отмена"}),i.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:a!==null?"Сохранить изменения":"Добавить пункт"})]})]})]}):null,t&&t.length>0?i.jsx("div",{className:"space-y-4",children:t.map((p,x)=>{const w=r.find(_=>_.id===p.lecturer_id);return i.jsx("div",{className:"bg-gray-50 dark:bg-dark-700 rounded-xl p-4 border border-gray-200 dark:border-dark-600",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[p.image_url&&i.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0",children:i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${p.image_url}`,alt:p.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:p.title}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mt-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(gr,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:[p.start_time," - ",p.end_time]})]}),w&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(St,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:w.name})]})]}),p.description&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2 line-clamp-2",children:p.description})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>y(x),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:i.jsx(pn,{className:"h-4 w-4"})}),i.jsx("button",{type:"button",onClick:()=>v(x),className:"p-1.5 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:i.jsx(Ir,{className:"h-4 w-4"})})]})]})},x)})}):i.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-dark-700 rounded-xl",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-dark-600 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(_e,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Нет пунктов программы"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Добавьте пункты, чтобы создать программу фестиваля"}),i.jsxs("button",{type:"button",onClick:()=>{d({title:"",description:"",image_url:"",start_time:"",end_time:"",lecturer_id:""}),s(null),l(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[i.jsx(Nn,{className:"h-5 w-5"}),"Добавить первый пункт"]})]})]})},Bg=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),R2=()=>{const{id:e}=cb(),t=Hn(),[r,n]=k.useState(!1),[a,s]=k.useState(!1),[o,l]=k.useState([]),[c,d]=k.useState(!1),[u,f]=k.useState(0),h=k.useRef(null),[m,y]=k.useState(!1),[v,b]=k.useState({id:"",title:"",short_description:"",description:"",event_type:"Lecture",bg_image:"",original_bg_image:"",start_at:"",end_at:"",location:"",age_category:"0+",price:"",currency:"RSD",status:"draft",payment_type:"cost",payment_link:"",payment_widget_id:"",widget_chooser:!1,languages:["Русский"],speakers:[],hide_speakers_gallery:!0,couple_discount:"",child_half_price:!1,festival_program:[],video_url:"",photo_gallery:[]}),[g,p]=k.useState({title:!1,start_at:!1,end_at:!1,location:!1,price:!1,payment_link:!1});k.useEffect(()=>{if(x(),e)w(e);else{const P=new Date,A=new Date(P);A.setHours(18,0,0,0);const F=new Date(P);F.setHours(20,0,0,0),b(L=>({...L,id:crypto.randomUUID(),start_at:A.toISOString(),end_at:F.toISOString()}))}},[e]);const x=async()=>{try{const{data:P,error:A}=await Bg.from("speakers").select("*").eq("active",!0);if(A)throw A;l(P||[])}catch(P){console.error("Error fetching speakers:",P),X.error("Ошибка при загрузке спикеров")}},w=async P=>{try{n(!0);const{data:A,error:F}=await Bg.from("events").select("*").eq("id",P).single();if(F)throw F;let L=A.photo_gallery||[];if(typeof L=="string")try{L=JSON.parse(L)}catch(q){console.error("Error parsing photo_gallery:",q),L=[]}Array.isArray(L)||(L=[]);let $=A.start_at||"",z=A.end_at||"";!$&&A.start_time&&($=A.start_time),!z&&A.end_time&&(z=A.end_time),!$&&A.date&&A.start_time&&($=Q1(Ma(A.date),A.start_time)),!z&&A.date&&A.end_time&&(z=Q1(Ma(A.date),A.end_time)),b({...A,price:A.price!==null?String(A.price):"",couple_discount:A.couple_discount||"",languages:A.languages||["Русский"],speakers:A.speakers||[],hide_speakers_gallery:A.hide_speakers_gallery!==!1,festival_program:A.festival_program||[],video_url:A.video_url||"",photo_gallery:L,start_at:$,end_at:z})}catch(A){console.error("Error fetching event:",A),X.error("Ошибка при загрузке мероприятия")}finally{n(!1)}},_=()=>{const P={title:!v.title.trim(),start_at:!v.start_at,end_at:!v.end_at,location:!v.location.trim(),price:!1,payment_link:!1};if(v.start_at&&v.end_at){const A=new Date(v.start_at);new Date(v.end_at)<=A&&(P.end_at=!0,X.error("Время окончания должно быть позже времени начала"))}return v.status==="active"&&v.payment_type==="cost"&&!v.price&&!v.payment_link&&(P.price=!0,P.payment_link=!0,X.error("Для активных мероприятий необходимо указать либо цену, либо ссылку на оплату")),p(P),!Object.values(P).some(Boolean)},S=P=>{const{name:A,value:F}=P.target;A==="title"&&F.length>O2||A==="short_description"&&F.length>I2||A==="description"&&F.length>M2||(b(L=>({...L,[A]:F})),A in g&&p(L=>({...L,[A]:!1})))},E=(P,A)=>{if(!A)return;const F=new Date(A).toISOString();b(L=>({...L,[P]:F})),p(L=>({...L,[P]:!1}))},O=P=>{const{name:A,checked:F}=P.target;b(L=>({...L,[A]:F}))},T=P=>{const{value:A,checked:F}=P.target;b(F?L=>({...L,languages:[...L.languages,A]}):L=>({...L,languages:L.languages.filter($=>$!==A)}))},D=P=>{b(A=>{const F=[...A.speakers];return F.includes(P)?{...A,speakers:F.filter(L=>L!==P)}:{...A,speakers:[...F,P]}})},R=P=>{b(A=>({...A,hide_speakers_gallery:P}))},N=P=>{b(A=>({...A,festival_program:P}))},C=P=>{if(!P)return"";try{const A=new Date(P);return new Date(A.getTime()-A.getTimezoneOffset()*6e4).toISOString().slice(0,16)}catch(A){return console.error("Error formatting datetime for input:",A),""}},j=async P=>{var F;const A=(F=P.target.files)==null?void 0:F[0];if(A)try{d(!0),f(0);const L=Date.now(),$=A.name.split(".").pop(),q=`events/${`${L}.${$}`}`,{data:K,error:H}=await Bg.storage.from("images").upload(q,A,{cacheControl:"3600",upsert:!1,onUploadProgress:ee=>{const ne=Math.round(ee.loaded/ee.total*100);f(ne)}});if(H)throw H;b(ee=>({...ee,bg_image:q,original_bg_image:ee.bg_image||null})),X.success("Изображение успешно загружено")}catch(L){console.error("Error uploading file:",L),X.error("Ошибка при загрузке файла")}finally{d(!1),f(0),h.current&&(h.current.value="")}},I=async P=>{if(P.preventDefault(),!_()){X.error("Пожалуйста, заполните все обязательные поля");return}try{s(!0);const A={...v,price:v.price?parseFloat(v.price):null,couple_discount:v.couple_discount?parseFloat(v.couple_discount):null,photo_gallery:Array.isArray(v.photo_gallery)?v.photo_gallery:[],date:void 0,start_time:void 0,end_time:void 0};Object.keys(A).forEach(z=>{A[z]===void 0&&delete A[z]});const F=!e,L=await fetch("https://jfvinriqydjtwsmayxix.supabase.co/functions/v1/save-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"},body:JSON.stringify({eventData:A,isNew:F})}),$=await L.json();if(!L.ok)if($.code==="PG_NET_EXTENSION_MISSING")console.warn("Database notification extension (pg_net) is not enabled. Notifications will not be sent.");else throw new Error($.error||"Error saving event");X.success(F?"Мероприятие создано":"Мероприятие обновлено"),t("/admin/events")}catch(A){console.error("Error saving event:",A),X.error(`Ошибка при сохранении мероприятия: ${A.message}`)}finally{s(!1)}},B=async()=>{if(e)try{n(!0);const P=await fetch("https://jfvinriqydjtwsmayxix.supabase.co/functions/v1/save-event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"},body:JSON.stringify({eventData:{id:e},action:"delete"})}),A=await P.json();if(!P.ok)throw new Error(A.error||"Error deleting event");X.success("Мероприятие удалено"),t("/admin/events")}catch(P){console.error("Error deleting event:",P),X.error("Ошибка при удалении мероприятия")}finally{n(!1),y(!1)}};return r?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:e?"Редактирование мероприятия":"Создание мероприятия"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e&&i.jsxs("button",{type:"button",onClick:()=>y(!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:[i.jsx(Ir,{className:"h-5 w-5"}),"Удалить"]}),i.jsx("button",{type:"button",onClick:I,disabled:a,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"h-5 w-5 animate-spin"}),"Сохранение..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Wr,{className:"h-5 w-5"}),"Сохранить"]})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 p-6 mb-6",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[i.jsx(tE,{className:"h-5 w-5 text-primary-600"}),"Статус мероприятия"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:$V.map(P=>i.jsxs("button",{type:"button",onClick:()=>b(A=>({...A,status:P})),className:`p-4 rounded-xl border-2 text-center transition-all duration-200 ${v.status===P?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-dark-500"}`,children:[i.jsx("div",{className:"font-semibold text-lg mb-1",children:P==="active"?"🟢 Активное":P==="draft"?"📝 Черновик":"⏹️ Прошедшее"}),i.jsx("div",{className:"text-sm opacity-75",children:P==="active"?"Видно пользователям":P==="draft"?"Скрыто от пользователей":"Архивное событие"})]},P))})]}),i.jsxs("form",{onSubmit:I,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[i.jsx(bm,{className:"h-5 w-5 text-primary-600"}),"Основная информация"]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"title",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:["Название мероприятия ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"title",name:"title",value:v.title,onChange:S,className:`w-full px-4 py-3 rounded-lg border transition-colors ${g.title?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`,placeholder:"Введите название мероприятия"}),i.jsxs("div",{className:"flex justify-between mt-2",children:[g.title&&i.jsx("p",{className:"text-red-500 text-sm",children:"Обязательное поле"}),i.jsxs("p",{className:"text-gray-500 text-sm text-right ml-auto",children:[v.title.length,"/",O2]})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"short_description",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Краткое описание"}),i.jsx("input",{type:"text",id:"short_description",name:"short_description",value:v.short_description,onChange:S,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",placeholder:"Краткое описание для списка мероприятий"}),i.jsxs("p",{className:"text-gray-500 text-sm text-right mt-2",children:[v.short_description.length,"/",I2]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"description",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Полное описание"}),i.jsx("textarea",{id:"description",name:"description",value:v.description,onChange:S,rows:6,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors resize-vertical",placeholder:"Подробное описание мероприятия"}),i.jsxs("p",{className:"text-gray-500 text-sm text-right mt-2",children:[v.description.length,"/",M2]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"event_type",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Тип мероприятия"}),i.jsx("select",{id:"event_type",name:"event_type",value:v.event_type,onChange:S,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",children:IV.map(P=>i.jsx("option",{value:P,children:P},P))})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"age_category",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Возрастная категория"}),i.jsx("select",{id:"age_category",name:"age_category",value:v.age_category,onChange:S,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",children:AV.map(P=>i.jsx("option",{value:P,children:P},P))})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-3 text-gray-700 dark:text-gray-300",children:"Языки"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:RV.map(P=>i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700 cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",value:P,checked:v.languages.includes(P),onChange:T,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 transition-colors"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:P})]},P))})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[i.jsx(_e,{className:"h-5 w-5 text-primary-600"}),"Дата и время проведения"]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"start_at",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:["Дата и время начала ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"datetime-local",id:"start_at",name:"start_at",value:C(v.start_at),onChange:P=>E("start_at",P.target.value),className:`w-full px-4 py-3 rounded-lg border transition-colors ${g.start_at?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`}),g.start_at&&i.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Обязательное поле"})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"end_at",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:["Дата и время окончания ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"datetime-local",id:"end_at",name:"end_at",value:C(v.end_at),onChange:P=>E("end_at",P.target.value),className:`w-full px-4 py-3 rounded-lg border transition-colors ${g.end_at?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`}),g.end_at&&i.jsx("p",{className:"text-red-500 text-sm mt-2",children:g.end_at===!0?"Время окончания должно быть позже времени начала":"Обязательное поле"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"location",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:["Место проведения ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"location",name:"location",value:v.location,onChange:S,className:`w-full px-4 py-3 rounded-lg border transition-colors ${g.location?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`,placeholder:"Адрес или название места"}),g.location&&i.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Обязательное поле"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[i.jsx(ol,{className:"h-5 w-5 text-primary-600"}),"Медиа контент"]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-3 text-gray-700 dark:text-gray-300",children:"Главное изображение мероприятия"}),v.bg_image?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${v.bg_image}`,alt:"Event preview",className:"w-full h-64 object-cover rounded-lg",onError:P=>{const A=P.target;A.src="https://via.placeholder.com/800x400?text=Image+not+found"}}),i.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{var P;return(P=h.current)==null?void 0:P.click()},className:"p-2 bg-white/90 hover:bg-white text-dark-800 rounded-full shadow-lg transition-colors",title:"Изменить изображение",children:i.jsx(fb,{className:"h-5 w-5"})}),i.jsx("button",{type:"button",onClick:()=>b(P=>({...P,bg_image:""})),className:"p-2 bg-red-600/90 hover:bg-red-600 text-white rounded-full shadow-lg transition-colors",title:"Удалить изображение",children:i.jsx(_t,{className:"h-5 w-5"})})]})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-dark-600 rounded-lg p-8 text-center",children:[i.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:j,className:"hidden"}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"mb-4 p-3 bg-gray-100 dark:bg-dark-700 rounded-full",children:i.jsx(zr,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})}),i.jsx("button",{type:"button",onClick:()=>{var P;return(P=h.current)==null?void 0:P.click()},className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",disabled:c,children:c?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Nt,{className:"h-5 w-5 animate-spin"}),i.jsxs("span",{children:["Загрузка... ",u,"%"]})]}):i.jsx("span",{children:"Загрузить изображение"})}),i.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Рекомендуемый размер: 1200x600px"})]})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"video_url",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:[i.jsx(lR,{className:"h-5 w-5 inline mr-2"}),"Ссылка на видео"]}),i.jsx("input",{type:"url",id:"video_url",name:"video_url",value:v.video_url,onChange:S,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",placeholder:"https://youtube.com/watch?v=..."})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:[i.jsx(ol,{className:"h-5 w-5 inline mr-2"}),"Галерея фотографий"]}),i.jsxs("div",{className:"space-y-2",children:[Array.isArray(v.photo_gallery)&&v.photo_gallery.filter(P=>typeof P=="string"&&P.trim()!=="").map((P,A)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[i.jsx("input",{type:"url",value:P,onChange:F=>{const L=[...v.photo_gallery];L[A]=F.target.value,b($=>({...$,photo_gallery:L}))},className:"flex-1 px-3 py-2 rounded border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-800 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500",placeholder:"URL фотографии"}),i.jsx("button",{type:"button",onClick:()=>{const F=v.photo_gallery.filter((L,$)=>$!==A);b(L=>({...L,photo_gallery:F}))},className:"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:"Удалить фотографию",children:i.jsx(_t,{className:"h-4 w-4"})})]},A)),i.jsxs("button",{type:"button",onClick:()=>{b(P=>({...P,photo_gallery:[...Array.isArray(P.photo_gallery)?P.photo_gallery:[],""]}))},className:"flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 dark:border-dark-600 rounded-lg text-gray-600 dark:text-gray-400 hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400 transition-colors w-full",children:[i.jsx(Nn,{className:"h-4 w-4"}),"Добавить фотографию"]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Вставьте прямую ссылку на изображение (например, из облачного хранилища)"}),Array.isArray(v.photo_gallery)&&v.photo_gallery.length>0&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mt-3",children:v.photo_gallery.filter(P=>typeof P=="string"&&P.trim()!=="").map((P,A)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:P,alt:`Preview ${A+1}`,className:"w-full h-32 object-cover rounded-lg",onError:F=>{const L=F.target;L.src="https://via.placeholder.com/300x200?text=Image+not+found"}}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity rounded-lg",children:i.jsx("button",{type:"button",onClick:()=>{const F=v.photo_gallery.filter((L,$)=>$!==A);b(L=>({...L,photo_gallery:F}))},className:"p-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",title:"Удалить",children:i.jsx(Ir,{className:"h-4 w-4"})})})]},A))})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[i.jsx(Ms,{className:"h-5 w-5 text-primary-600"}),"Информация об оплате"]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-3 text-gray-700 dark:text-gray-300",children:"Тип оплаты"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:MV.map(P=>i.jsxs("button",{type:"button",onClick:()=>b(A=>({...A,payment_type:P})),className:`p-4 rounded-xl border-2 text-center transition-all duration-200 ${v.payment_type===P?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-dark-500"}`,children:[i.jsx("div",{className:"font-semibold text-lg mb-1",children:P==="cost"?"💰 Платное":P==="free"?"🆓 Бесплатное":"💝 Донейшн"}),i.jsx("div",{className:"text-sm opacity-75",children:P==="cost"?"Фиксированная цена":P==="free"?"Без оплаты":"Добровольные взносы"})]},P))})]}),v.payment_type==="cost"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"price",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Цена"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",id:"price",name:"price",value:v.price,onChange:S,className:`w-full px-4 py-3 pr-16 rounded-lg border transition-colors ${g.price?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`,placeholder:"Оставьте пустым для оплаты только онлайн",min:"0",step:"100"}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:i.jsx("span",{className:"text-gray-500 font-medium",children:v.currency})})]}),g.price&&g.payment_link&&i.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Для активных мероприятий необходимо указать либо цену, либо ссылку на оплату"}),i.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Оставьте пустым для оплаты только онлайн"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"currency",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Валюта"}),i.jsx("select",{id:"currency",name:"currency",value:v.currency,onChange:S,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",children:LV.map(P=>i.jsx("option",{value:P,children:P},P))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"couple_discount",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Скидка для пар (%)"}),i.jsx("input",{type:"number",id:"couple_discount",name:"couple_discount",value:v.couple_discount,onChange:S,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors",placeholder:"Например: 10",min:"0",max:"100"})]}),i.jsx("div",{className:"form-group flex items-end",children:i.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg border border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700 cursor-pointer transition-colors w-full",children:[i.jsx("input",{type:"checkbox",name:"child_half_price",checked:v.child_half_price,onChange:O,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 transition-colors"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Детский билет за полцены"})]})})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"payment_link",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:[i.jsx(KM,{className:"h-4 w-4 inline mr-2"}),"Ссылка на оплату"]}),i.jsx("input",{type:"url",id:"payment_link",name:"payment_link",value:v.payment_link,onChange:S,className:`w-full px-4 py-3 rounded-lg border transition-colors ${g.payment_link?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-dark-600 focus:border-primary-500"} bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800`,placeholder:"https://..."}),g.price&&g.payment_link&&i.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Для активных мероприятий необходимо указать либо цену, либо ссылку на оплату"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"payment_widget_id",className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"ID виджета оплаты"}),i.jsx("textarea",{id:"payment_widget_id",name:"payment_widget_id",value:v.payment_widget_id,onChange:S,rows:3,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-colors resize-vertical",placeholder:"ID виджета или HTML-код"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-3 text-gray-700 dark:text-gray-300",children:"Виджет оплаты"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[i.jsxs("button",{type:"button",onClick:()=>b(P=>({...P,widget_chooser:!1})),className:`p-4 rounded-xl border-2 text-center transition-all duration-200 ${v.widget_chooser?"border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-dark-500":"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300"}`,children:[i.jsx("div",{className:"font-semibold text-lg mb-1",children:"🔗 Ссылка"}),i.jsx("div",{className:"text-sm opacity-75",children:"Переход по ссылке"})]}),i.jsxs("button",{type:"button",onClick:()=>b(P=>({...P,widget_chooser:!0})),className:`p-4 rounded-xl border-2 text-center transition-all duration-200 ${v.widget_chooser?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 text-gray-700 dark:text-gray-300 hover:border-gray-300 dark:hover:border-dark-500"}`,children:[i.jsx("div",{className:"font-semibold text-lg mb-1",children:"🛠️ Виджет"}),i.jsx("div",{className:"text-sm opacity-75",children:"Встроенная форма"})]})]})]})]})]}),i.jsx(FV,{selectedSpeakerIds:v.speakers,hideSpeakersGallery:v.hide_speakers_gallery,onSpeakerToggle:D,onHideGalleryChange:R,allSpeakers:o}),i.jsx(UV,{eventType:v.event_type,festivalProgram:v.festival_program,allSpeakers:o,onFestivalProgramChange:N}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-200 dark:border-dark-600",children:[i.jsx("button",{type:"button",onClick:()=>t("/admin/events"),className:"px-6 py-3 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Отмена"}),i.jsx("button",{type:"submit",disabled:a,className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 disabled:opacity-50 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"h-5 w-5 animate-spin"}),"Сохранение..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Wr,{className:"h-5 w-5"}),"Сохранить"]})})]})]}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[i.jsx(IM,{className:"h-6 w-6"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Подтверждение удаления"})]}),i.jsx("p",{className:"mb-6 text-gray-700 dark:text-gray-300",children:"Вы уверены, что хотите удалить это мероприятие? Это действие нельзя отменить."}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Отмена"}),i.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Удалить"})]})]})})]})};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){qV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function oT(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}function HV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oT(n.key),n)}}function VV(e,t,r){return t&&L2(e.prototype,t),r&&L2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qV(e,t,r){return t=oT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lT(e){return GV(e)||YV(e)||XV(e)||KV()}function GV(e){if(Array.isArray(e))return zx(e)}function YV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XV(e,t){if(e){if(typeof e=="string")return zx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zx(e,t)}}function zx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Hm=typeof window<"u"&&typeof window.document<"u",ha=Hm?window:{},Kb=Hm&&ha.document.documentElement?"ontouchstart"in ha.document.documentElement:!1,Jb=Hm?"PointerEvent"in ha:!1,ot="cropper",Qb="all",cT="crop",dT="move",uT="zoom",si="e",ii="w",ho="s",es="n",nc="ne",ac="nw",sc="se",ic="sw",Fx="".concat(ot,"-crop"),$2="".concat(ot,"-disabled"),Sr="".concat(ot,"-hidden"),z2="".concat(ot,"-hide"),JV="".concat(ot,"-invisible"),Mh="".concat(ot,"-modal"),Bx="".concat(ot,"-move"),jd="".concat(ot,"Action"),Xu="".concat(ot,"Preview"),Zb="crop",fT="move",hT="none",Ux="crop",Wx="cropend",Hx="cropmove",Vx="cropstart",F2="dblclick",QV=Kb?"touchstart":"mousedown",ZV=Kb?"touchmove":"mousemove",eq=Kb?"touchend touchcancel":"mouseup",B2=Jb?"pointerdown":QV,U2=Jb?"pointermove":ZV,W2=Jb?"pointerup pointercancel":eq,H2="ready",V2="resize",q2="wheel",qx="zoom",G2="image/jpeg",tq=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,rq=/^data:/,nq=/^data:image\/jpeg;base64,/,aq=/^img|canvas$/i,mT=200,pT=100,Y2={viewMode:0,dragMode:Zb,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:mT,minContainerHeight:pT,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},sq='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',iq=Number.isNaN||ha.isNaN;function Re(e){return typeof e=="number"&&!iq(e)}var X2=function(t){return t>0&&t<1/0};function Ug(e){return typeof e>"u"}function Hi(e){return $x(e)==="object"&&e!==null}var oq=Object.prototype.hasOwnProperty;function Ao(e){if(!Hi(e))return!1;try{var t=e.constructor,r=t.prototype;return t&&r&&oq.call(r,"isPrototypeOf")}catch{return!1}}function _r(e){return typeof e=="function"}var lq=Array.prototype.slice;function gT(e){return Array.from?Array.from(e):lq.call(e)}function Dt(e,t){return e&&_r(t)&&(Array.isArray(e)||Re(e.length)?gT(e).forEach(function(r,n){t.call(e,r,n,e)}):Hi(e)&&Object.keys(e).forEach(function(r){t.call(e,e[r],r,e)})),e}var ct=Object.assign||function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Hi(t)&&n.length>0&&n.forEach(function(s){Hi(s)&&Object.keys(s).forEach(function(o){t[o]=s[o]})}),t},cq=/\.\d*(?:0|9){12}\d*$/;function Ko(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return cq.test(e)?Math.round(e*t)/t:e}var dq=/^width|height|left|top|marginLeft|marginTop$/;function bs(e,t){var r=e.style;Dt(t,function(n,a){dq.test(a)&&Re(n)&&(n="".concat(n,"px")),r[a]=n})}function uq(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function Lt(e,t){if(t){if(Re(e.length)){Dt(e,function(n){Lt(n,t)});return}if(e.classList){e.classList.add(t);return}var r=e.className.trim();r?r.indexOf(t)<0&&(e.className="".concat(r," ").concat(t)):e.className=t}}function ca(e,t){if(t){if(Re(e.length)){Dt(e,function(r){ca(r,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function Lo(e,t,r){if(t){if(Re(e.length)){Dt(e,function(n){Lo(n,t,r)});return}r?Lt(e,t):ca(e,t)}}var fq=/([a-z\d])([A-Z])/g;function ew(e){return e.replace(fq,"$1-$2").toLowerCase()}function Gx(e,t){return Hi(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(ew(t)))}function Nd(e,t,r){Hi(r)?e[t]=r:e.dataset?e.dataset[t]=r:e.setAttribute("data-".concat(ew(t)),r)}function hq(e,t){if(Hi(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(ew(t)))}var vT=/\s\s*/,xT=function(){var e=!1;if(Hm){var t=!1,r=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(s){t=s}});ha.addEventListener("test",r,n),ha.removeEventListener("test",r,n)}return e}();function Cn(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r;t.trim().split(vT).forEach(function(s){if(!xT){var o=e.listeners;o&&o[s]&&o[s][r]&&(a=o[s][r],delete o[s][r],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete e.listeners)}e.removeEventListener(s,a,n)})}function un(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r;t.trim().split(vT).forEach(function(s){if(n.once&&!xT){var o=e.listeners,l=o===void 0?{}:o;a=function(){delete l[s][r],e.removeEventListener(s,a,n);for(var d=arguments.length,u=new Array(d),f=0;f<d;f++)u[f]=arguments[f];r.apply(e,u)},l[s]||(l[s]={}),l[s][r]&&e.removeEventListener(s,l[s][r],n),l[s][r]=a,e.listeners=l}e.addEventListener(s,a,n)})}function Jo(e,t,r){var n;return _r(Event)&&_r(CustomEvent)?n=new CustomEvent(t,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,r)),e.dispatchEvent(n)}function yT(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Wg=ha.location,mq=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function K2(e){var t=e.match(mq);return t!==null&&(t[1]!==Wg.protocol||t[2]!==Wg.hostname||t[3]!==Wg.port)}function J2(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function Wc(e){var t=e.rotate,r=e.scaleX,n=e.scaleY,a=e.translateX,s=e.translateY,o=[];Re(a)&&a!==0&&o.push("translateX(".concat(a,"px)")),Re(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),Re(t)&&t!==0&&o.push("rotate(".concat(t,"deg)")),Re(r)&&r!==1&&o.push("scaleX(".concat(r,")")),Re(n)&&n!==1&&o.push("scaleY(".concat(n,")"));var l=o.length?o.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function pq(e){var t=iT({},e),r=0;return Dt(e,function(n,a){delete t[a],Dt(t,function(s){var o=Math.abs(n.startX-s.startX),l=Math.abs(n.startY-s.startY),c=Math.abs(n.endX-s.endX),d=Math.abs(n.endY-s.endY),u=Math.sqrt(o*o+l*l),f=Math.sqrt(c*c+d*d),h=(f-u)/u;Math.abs(h)>Math.abs(r)&&(r=h)})}),r}function Ku(e,t){var r=e.pageX,n=e.pageY,a={endX:r,endY:n};return t?a:iT({startX:r,startY:n},a)}function gq(e){var t=0,r=0,n=0;return Dt(e,function(a){var s=a.startX,o=a.startY;t+=s,r+=o,n+=1}),t/=n,r/=n,{pageX:t,pageY:r}}function ws(e){var t=e.aspectRatio,r=e.height,n=e.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=X2(n),o=X2(r);if(s&&o){var l=r*t;a==="contain"&&l>n||a==="cover"&&l<n?r=n/t:n=r*t}else s?r=n/t:o&&(n=r*t);return{width:n,height:r}}function vq(e){var t=e.width,r=e.height,n=e.degree;if(n=Math.abs(n)%180,n===90)return{width:r,height:t};var a=n%90*Math.PI/180,s=Math.sin(a),o=Math.cos(a),l=t*o+r*s,c=t*s+r*o;return n>90?{width:c,height:l}:{width:l,height:c}}function xq(e,t,r,n){var a=t.aspectRatio,s=t.naturalWidth,o=t.naturalHeight,l=t.rotate,c=l===void 0?0:l,d=t.scaleX,u=d===void 0?1:d,f=t.scaleY,h=f===void 0?1:f,m=r.aspectRatio,y=r.naturalWidth,v=r.naturalHeight,b=n.fillColor,g=b===void 0?"transparent":b,p=n.imageSmoothingEnabled,x=p===void 0?!0:p,w=n.imageSmoothingQuality,_=w===void 0?"low":w,S=n.maxWidth,E=S===void 0?1/0:S,O=n.maxHeight,T=O===void 0?1/0:O,D=n.minWidth,R=D===void 0?0:D,N=n.minHeight,C=N===void 0?0:N,j=document.createElement("canvas"),I=j.getContext("2d"),B=ws({aspectRatio:m,width:E,height:T}),P=ws({aspectRatio:m,width:R,height:C},"cover"),A=Math.min(B.width,Math.max(P.width,y)),F=Math.min(B.height,Math.max(P.height,v)),L=ws({aspectRatio:a,width:E,height:T}),$=ws({aspectRatio:a,width:R,height:C},"cover"),z=Math.min(L.width,Math.max($.width,s)),q=Math.min(L.height,Math.max($.height,o)),K=[-z/2,-q/2,z,q];return j.width=Ko(A),j.height=Ko(F),I.fillStyle=g,I.fillRect(0,0,A,F),I.save(),I.translate(A/2,F/2),I.rotate(c*Math.PI/180),I.scale(u,h),I.imageSmoothingEnabled=x,I.imageSmoothingQuality=_,I.drawImage.apply(I,[e].concat(lT(K.map(function(H){return Math.floor(Ko(H))})))),I.restore(),j}var bT=String.fromCharCode;function yq(e,t,r){var n="";r+=t;for(var a=t;a<r;a+=1)n+=bT(e.getUint8(a));return n}var bq=/^data:.*,/;function wq(e){var t=e.replace(bq,""),r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n);return Dt(a,function(s,o){a[o]=r.charCodeAt(o)}),n}function kq(e,t){for(var r=[],n=8192,a=new Uint8Array(e);a.length>0;)r.push(bT.apply(null,gT(a.subarray(0,n)))),a=a.subarray(n);return"data:".concat(t,";base64,").concat(btoa(r.join("")))}function jq(e){var t=new DataView(e),r;try{var n,a,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,l=2;l+1<o;){if(t.getUint8(l)===255&&t.getUint8(l+1)===225){a=l;break}l+=1}if(a){var c=a+4,d=a+10;if(yq(t,c,4)==="Exif"){var u=t.getUint16(d);if(n=u===18761,(n||u===19789)&&t.getUint16(d+2,n)===42){var f=t.getUint32(d+4,n);f>=8&&(s=d+f)}}}if(s){var h=t.getUint16(s,n),m,y;for(y=0;y<h;y+=1)if(m=s+y*12+2,t.getUint16(m,n)===274){m+=8,r=t.getUint16(m,n),t.setUint16(m,1,n);break}}}catch{r=1}return r}function Nq(e){var t=0,r=1,n=1;switch(e){case 2:r=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:r,scaleY:n}}var _q={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,r=this.options,n=this.container,a=this.cropper,s=Number(r.minContainerWidth),o=Number(r.minContainerHeight);Lt(a,Sr),ca(t,Sr);var l={width:Math.max(n.offsetWidth,s>=0?s:mT),height:Math.max(n.offsetHeight,o>=0?o:pT)};this.containerData=l,bs(a,{width:l.width,height:l.height}),Lt(t,Sr),ca(a,Sr)},initCanvas:function(){var t=this.containerData,r=this.imageData,n=this.options.viewMode,a=Math.abs(r.rotate)%180===90,s=a?r.naturalHeight:r.naturalWidth,o=a?r.naturalWidth:r.naturalHeight,l=s/o,c=t.width,d=t.height;t.height*l>t.width?n===3?c=t.height*l:d=t.width/l:n===3?d=t.width/l:c=t.height*l;var u={aspectRatio:l,naturalWidth:s,naturalHeight:o,width:c,height:d};this.canvasData=u,this.limited=n===1||n===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(t.width-u.width)/2,u.top=(t.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=ct({},u)},limitCanvas:function(t,r){var n=this.options,a=this.containerData,s=this.canvasData,o=this.cropBoxData,l=n.viewMode,c=s.aspectRatio,d=this.cropped&&o;if(t){var u=Number(n.minCanvasWidth)||0,f=Number(n.minCanvasHeight)||0;l>1?(u=Math.max(u,a.width),f=Math.max(f,a.height),l===3&&(f*c>u?u=f*c:f=u/c)):l>0&&(u?u=Math.max(u,d?o.width:0):f?f=Math.max(f,d?o.height:0):d&&(u=o.width,f=o.height,f*c>u?u=f*c:f=u/c));var h=ws({aspectRatio:c,width:u,height:f});u=h.width,f=h.height,s.minWidth=u,s.minHeight=f,s.maxWidth=1/0,s.maxHeight=1/0}if(r)if(l>(d?0:1)){var m=a.width-s.width,y=a.height-s.height;s.minLeft=Math.min(0,m),s.minTop=Math.min(0,y),s.maxLeft=Math.max(0,m),s.maxTop=Math.max(0,y),d&&this.limited&&(s.minLeft=Math.min(o.left,o.left+(o.width-s.width)),s.minTop=Math.min(o.top,o.top+(o.height-s.height)),s.maxLeft=o.left,s.maxTop=o.top,l===2&&(s.width>=a.width&&(s.minLeft=Math.min(0,m),s.maxLeft=Math.max(0,m)),s.height>=a.height&&(s.minTop=Math.min(0,y),s.maxTop=Math.max(0,y))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=a.width,s.maxTop=a.height},renderCanvas:function(t,r){var n=this.canvasData,a=this.imageData;if(r){var s=vq({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),o=s.width,l=s.height,c=n.width*(o/n.naturalWidth),d=n.height*(l/n.naturalHeight);n.left-=(c-n.width)/2,n.top-=(d-n.height)/2,n.width=c,n.height=d,n.aspectRatio=o/l,n.naturalWidth=o,n.naturalHeight=l,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,bs(this.canvas,ct({width:n.width,height:n.height},Wc({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var r=this.canvasData,n=this.imageData,a=n.naturalWidth*(r.width/r.naturalWidth),s=n.naturalHeight*(r.height/r.naturalHeight);ct(n,{width:a,height:s,left:(r.width-a)/2,top:(r.height-s)/2}),bs(this.image,ct({width:n.width,height:n.height},Wc(ct({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,r=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,a=Number(t.autoCropArea)||.8,s={width:r.width,height:r.height};n&&(r.height*n>r.width?s.height=s.width/n:s.width=s.height*n),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*a),s.height=Math.max(s.minHeight,s.height*a),s.left=r.left+(r.width-s.width)/2,s.top=r.top+(r.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=ct({},s)},limitCropBox:function(t,r){var n=this.options,a=this.containerData,s=this.canvasData,o=this.cropBoxData,l=this.limited,c=n.aspectRatio;if(t){var d=Number(n.minCropBoxWidth)||0,u=Number(n.minCropBoxHeight)||0,f=l?Math.min(a.width,s.width,s.width+s.left,a.width-s.left):a.width,h=l?Math.min(a.height,s.height,s.height+s.top,a.height-s.top):a.height;d=Math.min(d,a.width),u=Math.min(u,a.height),c&&(d&&u?u*c>d?u=d/c:d=u*c:d?u=d/c:u&&(d=u*c),h*c>f?h=f/c:f=h*c),o.minWidth=Math.min(d,f),o.minHeight=Math.min(u,h),o.maxWidth=f,o.maxHeight=h}r&&(l?(o.minLeft=Math.max(0,s.left),o.minTop=Math.max(0,s.top),o.maxLeft=Math.min(a.width,s.left+s.width)-o.width,o.maxTop=Math.min(a.height,s.top+s.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=a.width-o.width,o.maxTop=a.height-o.height))},renderCropBox:function(){var t=this.options,r=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&Nd(this.face,jd,n.width>=r.width&&n.height>=r.height?dT:Qb),bs(this.cropBox,ct({width:n.width,height:n.height},Wc({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Jo(this.element,Ux,this.getData())}},Sq={initPreview:function(){var t=this.element,r=this.crossOrigin,n=this.options.preview,a=r?this.crossOriginUrl:this.url,s=t.alt||"The image to preview",o=document.createElement("img");if(r&&(o.crossOrigin=r),o.src=a,o.alt=s,this.viewBox.appendChild(o),this.viewBoxImage=o,!!n){var l=n;typeof n=="string"?l=t.ownerDocument.querySelectorAll(n):n.querySelector&&(l=[n]),this.previews=l,Dt(l,function(c){var d=document.createElement("img");Nd(c,Xu,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),r&&(d.crossOrigin=r),d.src=a,d.alt=s,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(d)})}},resetPreview:function(){Dt(this.previews,function(t){var r=Gx(t,Xu);bs(t,{width:r.width,height:r.height}),t.innerHTML=r.html,hq(t,Xu)})},preview:function(){var t=this.imageData,r=this.canvasData,n=this.cropBoxData,a=n.width,s=n.height,o=t.width,l=t.height,c=n.left-r.left-t.left,d=n.top-r.top-t.top;!this.cropped||this.disabled||(bs(this.viewBoxImage,ct({width:o,height:l},Wc(ct({translateX:-c,translateY:-d},t)))),Dt(this.previews,function(u){var f=Gx(u,Xu),h=f.width,m=f.height,y=h,v=m,b=1;a&&(b=h/a,v=s*b),s&&v>m&&(b=m/s,y=a*b,v=m),bs(u,{width:y,height:v}),bs(u.getElementsByTagName("img")[0],ct({width:o*b,height:l*b},Wc(ct({translateX:-c*b,translateY:-d*b},t))))}))}},Cq={bind:function(){var t=this.element,r=this.options,n=this.cropper;_r(r.cropstart)&&un(t,Vx,r.cropstart),_r(r.cropmove)&&un(t,Hx,r.cropmove),_r(r.cropend)&&un(t,Wx,r.cropend),_r(r.crop)&&un(t,Ux,r.crop),_r(r.zoom)&&un(t,qx,r.zoom),un(n,B2,this.onCropStart=this.cropStart.bind(this)),r.zoomable&&r.zoomOnWheel&&un(n,q2,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&un(n,F2,this.onDblclick=this.dblclick.bind(this)),un(t.ownerDocument,U2,this.onCropMove=this.cropMove.bind(this)),un(t.ownerDocument,W2,this.onCropEnd=this.cropEnd.bind(this)),r.responsive&&un(window,V2,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,r=this.options,n=this.cropper;_r(r.cropstart)&&Cn(t,Vx,r.cropstart),_r(r.cropmove)&&Cn(t,Hx,r.cropmove),_r(r.cropend)&&Cn(t,Wx,r.cropend),_r(r.crop)&&Cn(t,Ux,r.crop),_r(r.zoom)&&Cn(t,qx,r.zoom),Cn(n,B2,this.onCropStart),r.zoomable&&r.zoomOnWheel&&Cn(n,q2,this.onWheel,{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&Cn(n,F2,this.onDblclick),Cn(t.ownerDocument,U2,this.onCropMove),Cn(t.ownerDocument,W2,this.onCropEnd),r.responsive&&Cn(window,V2,this.onResize)}},Eq={resize:function(){if(!this.disabled){var t=this.options,r=this.container,n=this.containerData,a=r.offsetWidth/n.width,s=r.offsetHeight/n.height,o=Math.abs(a-1)>Math.abs(s-1)?a:s;if(o!==1){var l,c;t.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(Dt(l,function(d,u){l[u]=d*o})),this.setCropBoxData(Dt(c,function(d,u){c[u]=d*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===hT||this.setDragMode(uq(this.dragBox,Fx)?fT:Zb)},wheel:function(t){var r=this,n=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),t.deltaY?a=t.deltaY>0?1:-1:t.wheelDelta?a=-t.wheelDelta/120:t.detail&&(a=t.detail>0?1:-1),this.zoom(-a*n,t)))},cropStart:function(t){var r=t.buttons,n=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(Re(r)&&r!==1||Re(n)&&n!==0||t.ctrlKey))){var a=this.options,s=this.pointers,o;t.changedTouches?Dt(t.changedTouches,function(l){s[l.identifier]=Ku(l)}):s[t.pointerId||0]=Ku(t),Object.keys(s).length>1&&a.zoomable&&a.zoomOnTouch?o=uT:o=Gx(t.target,jd),tq.test(o)&&Jo(this.element,Vx,{originalEvent:t,action:o})!==!1&&(t.preventDefault(),this.action=o,this.cropping=!1,o===cT&&(this.cropping=!0,Lt(this.dragBox,Mh)))}},cropMove:function(t){var r=this.action;if(!(this.disabled||!r)){var n=this.pointers;t.preventDefault(),Jo(this.element,Hx,{originalEvent:t,action:r})!==!1&&(t.changedTouches?Dt(t.changedTouches,function(a){ct(n[a.identifier]||{},Ku(a,!0))}):ct(n[t.pointerId||0]||{},Ku(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var r=this.action,n=this.pointers;t.changedTouches?Dt(t.changedTouches,function(a){delete n[a.identifier]}):delete n[t.pointerId||0],r&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Lo(this.dragBox,Mh,this.cropped&&this.options.modal)),Jo(this.element,Wx,{originalEvent:t,action:r}))}}},Tq={change:function(t){var r=this.options,n=this.canvasData,a=this.containerData,s=this.cropBoxData,o=this.pointers,l=this.action,c=r.aspectRatio,d=s.left,u=s.top,f=s.width,h=s.height,m=d+f,y=u+h,v=0,b=0,g=a.width,p=a.height,x=!0,w;!c&&t.shiftKey&&(c=f&&h?f/h:1),this.limited&&(v=s.minLeft,b=s.minTop,g=v+Math.min(a.width,n.width,n.left+n.width),p=b+Math.min(a.height,n.height,n.top+n.height));var _=o[Object.keys(o)[0]],S={x:_.endX-_.startX,y:_.endY-_.startY},E=function(T){switch(T){case si:m+S.x>g&&(S.x=g-m);break;case ii:d+S.x<v&&(S.x=v-d);break;case es:u+S.y<b&&(S.y=b-u);break;case ho:y+S.y>p&&(S.y=p-y);break}};switch(l){case Qb:d+=S.x,u+=S.y;break;case si:if(S.x>=0&&(m>=g||c&&(u<=b||y>=p))){x=!1;break}E(si),f+=S.x,f<0&&(l=ii,f=-f,d-=f),c&&(h=f/c,u+=(s.height-h)/2);break;case es:if(S.y<=0&&(u<=b||c&&(d<=v||m>=g))){x=!1;break}E(es),h-=S.y,u+=S.y,h<0&&(l=ho,h=-h,u-=h),c&&(f=h*c,d+=(s.width-f)/2);break;case ii:if(S.x<=0&&(d<=v||c&&(u<=b||y>=p))){x=!1;break}E(ii),f-=S.x,d+=S.x,f<0&&(l=si,f=-f,d-=f),c&&(h=f/c,u+=(s.height-h)/2);break;case ho:if(S.y>=0&&(y>=p||c&&(d<=v||m>=g))){x=!1;break}E(ho),h+=S.y,h<0&&(l=es,h=-h,u-=h),c&&(f=h*c,d+=(s.width-f)/2);break;case nc:if(c){if(S.y<=0&&(u<=b||m>=g)){x=!1;break}E(es),h-=S.y,u+=S.y,f=h*c}else E(es),E(si),S.x>=0?m<g?f+=S.x:S.y<=0&&u<=b&&(x=!1):f+=S.x,S.y<=0?u>b&&(h-=S.y,u+=S.y):(h-=S.y,u+=S.y);f<0&&h<0?(l=ic,h=-h,f=-f,u-=h,d-=f):f<0?(l=ac,f=-f,d-=f):h<0&&(l=sc,h=-h,u-=h);break;case ac:if(c){if(S.y<=0&&(u<=b||d<=v)){x=!1;break}E(es),h-=S.y,u+=S.y,f=h*c,d+=s.width-f}else E(es),E(ii),S.x<=0?d>v?(f-=S.x,d+=S.x):S.y<=0&&u<=b&&(x=!1):(f-=S.x,d+=S.x),S.y<=0?u>b&&(h-=S.y,u+=S.y):(h-=S.y,u+=S.y);f<0&&h<0?(l=sc,h=-h,f=-f,u-=h,d-=f):f<0?(l=nc,f=-f,d-=f):h<0&&(l=ic,h=-h,u-=h);break;case ic:if(c){if(S.x<=0&&(d<=v||y>=p)){x=!1;break}E(ii),f-=S.x,d+=S.x,h=f/c}else E(ho),E(ii),S.x<=0?d>v?(f-=S.x,d+=S.x):S.y>=0&&y>=p&&(x=!1):(f-=S.x,d+=S.x),S.y>=0?y<p&&(h+=S.y):h+=S.y;f<0&&h<0?(l=nc,h=-h,f=-f,u-=h,d-=f):f<0?(l=sc,f=-f,d-=f):h<0&&(l=ac,h=-h,u-=h);break;case sc:if(c){if(S.x>=0&&(m>=g||y>=p)){x=!1;break}E(si),f+=S.x,h=f/c}else E(ho),E(si),S.x>=0?m<g?f+=S.x:S.y>=0&&y>=p&&(x=!1):f+=S.x,S.y>=0?y<p&&(h+=S.y):h+=S.y;f<0&&h<0?(l=ac,h=-h,f=-f,u-=h,d-=f):f<0?(l=ic,f=-f,d-=f):h<0&&(l=nc,h=-h,u-=h);break;case dT:this.move(S.x,S.y),x=!1;break;case uT:this.zoom(pq(o),t),x=!1;break;case cT:if(!S.x||!S.y){x=!1;break}w=yT(this.cropper),d=_.startX-w.left,u=_.startY-w.top,f=s.minWidth,h=s.minHeight,S.x>0?l=S.y>0?sc:nc:S.x<0&&(d-=f,l=S.y>0?ic:ac),S.y<0&&(u-=h),this.cropped||(ca(this.cropBox,Sr),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}x&&(s.width=f,s.height=h,s.left=d,s.top=u,this.action=l,this.renderCropBox()),Dt(o,function(O){O.startX=O.endX,O.startY=O.endY})}},Dq={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Lt(this.dragBox,Mh),ca(this.cropBox,Sr),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ct({},this.initialImageData),this.canvasData=ct({},this.initialCanvasData),this.cropBoxData=ct({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ct(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ca(this.dragBox,Mh),Lt(this.cropBox,Sr)),this},replace:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),r?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,Dt(this.previews,function(n){n.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ca(this.cropper,$2)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Lt(this.cropper,$2)),this},destroy:function(){var t=this.element;return t[ot]?(t[ot]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,a=n.left,s=n.top;return this.moveTo(Ug(t)?t:a+Number(t),Ug(r)?r:s+Number(r))},moveTo:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.canvasData,a=!1;return t=Number(t),r=Number(r),this.ready&&!this.disabled&&this.options.movable&&(Re(t)&&(n.left=t,a=!0),Re(r)&&(n.top=r,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(t,r){var n=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(n.width*t/n.naturalWidth,null,r)},zoomTo:function(t,r,n){var a=this.options,s=this.canvasData,o=s.width,l=s.height,c=s.naturalWidth,d=s.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&a.zoomable){var u=c*t,f=d*t;if(Jo(this.element,qx,{ratio:t,oldRatio:o/c,originalEvent:n})===!1)return this;if(n){var h=this.pointers,m=yT(this.cropper),y=h&&Object.keys(h).length?gq(h):{pageX:n.pageX,pageY:n.pageY};s.left-=(u-o)*((y.pageX-m.left-s.left)/o),s.top-=(f-l)*((y.pageY-m.top-s.top)/l)}else Ao(r)&&Re(r.x)&&Re(r.y)?(s.left-=(u-o)*((r.x-s.left)/o),s.top-=(f-l)*((r.y-s.top)/l)):(s.left-=(u-o)/2,s.top-=(f-l)/2);s.width=u,s.height=f,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),Re(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var r=this.imageData.scaleY;return this.scale(t,Re(r)?r:1)},scaleY:function(t){var r=this.imageData.scaleX;return this.scale(Re(r)?r:1,t)},scale:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=this.imageData,a=!1;return t=Number(t),r=Number(r),this.ready&&!this.disabled&&this.options.scalable&&(Re(t)&&(n.scaleX=t,a=!0),Re(r)&&(n.scaleY=r,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.options,n=this.imageData,a=this.canvasData,s=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:s.left-a.left,y:s.top-a.top,width:s.width,height:s.height};var l=n.width/n.naturalWidth;if(Dt(o,function(u,f){o[f]=u/l}),t){var c=Math.round(o.y+o.height),d=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=d-o.x,o.height=c-o.y}}else o={x:0,y:0,width:0,height:0};return r.rotatable&&(o.rotate=n.rotate||0),r.scalable&&(o.scaleX=n.scaleX||1,o.scaleY=n.scaleY||1),o},setData:function(t){var r=this.options,n=this.imageData,a=this.canvasData,s={};if(this.ready&&!this.disabled&&Ao(t)){var o=!1;r.rotatable&&Re(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,o=!0),r.scalable&&(Re(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,o=!0),Re(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var l=n.width/n.naturalWidth;Re(t.x)&&(s.left=t.x*l+a.left),Re(t.y)&&(s.top=t.y*l+a.top),Re(t.width)&&(s.width=t.width*l),Re(t.height)&&(s.height=t.height*l),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?ct({},this.containerData):{}},getImageData:function(){return this.sized?ct({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,r={};return this.ready&&Dt(["left","top","width","height","naturalWidth","naturalHeight"],function(n){r[n]=t[n]}),r},setCanvasData:function(t){var r=this.canvasData,n=r.aspectRatio;return this.ready&&!this.disabled&&Ao(t)&&(Re(t.left)&&(r.left=t.left),Re(t.top)&&(r.top=t.top),Re(t.width)?(r.width=t.width,r.height=t.width/n):Re(t.height)&&(r.height=t.height,r.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,r;return this.ready&&this.cropped&&(r={left:t.left,top:t.top,width:t.width,height:t.height}),r||{}},setCropBoxData:function(t){var r=this.cropBoxData,n=this.options.aspectRatio,a,s;return this.ready&&this.cropped&&!this.disabled&&Ao(t)&&(Re(t.left)&&(r.left=t.left),Re(t.top)&&(r.top=t.top),Re(t.width)&&t.width!==r.width&&(a=!0,r.width=t.width),Re(t.height)&&t.height!==r.height&&(s=!0,r.height=t.height),n&&(a?r.height=r.width/n:s&&(r.width=r.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var r=this.canvasData,n=xq(this.image,this.imageData,r,t);if(!this.cropped)return n;var a=this.getData(t.rounded),s=a.x,o=a.y,l=a.width,c=a.height,d=n.width/Math.floor(r.naturalWidth);d!==1&&(s*=d,o*=d,l*=d,c*=d);var u=l/c,f=ws({aspectRatio:u,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),h=ws({aspectRatio:u,width:t.minWidth||0,height:t.minHeight||0},"cover"),m=ws({aspectRatio:u,width:t.width||(d!==1?n.width:l),height:t.height||(d!==1?n.height:c)}),y=m.width,v=m.height;y=Math.min(f.width,Math.max(h.width,y)),v=Math.min(f.height,Math.max(h.height,v));var b=document.createElement("canvas"),g=b.getContext("2d");b.width=Ko(y),b.height=Ko(v),g.fillStyle=t.fillColor||"transparent",g.fillRect(0,0,y,v);var p=t.imageSmoothingEnabled,x=p===void 0?!0:p,w=t.imageSmoothingQuality;g.imageSmoothingEnabled=x,w&&(g.imageSmoothingQuality=w);var _=n.width,S=n.height,E=s,O=o,T,D,R,N,C,j;E<=-l||E>_?(E=0,T=0,R=0,C=0):E<=0?(R=-E,E=0,T=Math.min(_,l+E),C=T):E<=_&&(R=0,T=Math.min(l,_-E),C=T),T<=0||O<=-c||O>S?(O=0,D=0,N=0,j=0):O<=0?(N=-O,O=0,D=Math.min(S,c+O),j=D):O<=S&&(N=0,D=Math.min(c,S-O),j=D);var I=[E,O,T,D];if(C>0&&j>0){var B=y/l;I.push(R*B,N*B,C*B,j*B)}return g.drawImage.apply(g,[n].concat(lT(I.map(function(P){return Math.floor(Ko(P))})))),b},setAspectRatio:function(t){var r=this.options;return!this.disabled&&!Ug(t)&&(r.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var r=this.options,n=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var s=t===Zb,o=r.movable&&t===fT;t=s||o?t:hT,r.dragMode=t,Nd(n,jd,t),Lo(n,Fx,s),Lo(n,Bx,o),r.cropBoxMovable||(Nd(a,jd,t),Lo(a,Fx,s),Lo(a,Bx,o))}return this}},Pq=ha.Cropper,wT=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(HV(this,e),!t||!aq.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=ct({},Y2,Ao(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return VV(e,[{key:"init",value:function(){var r=this.element,n=r.tagName.toLowerCase(),a;if(!r[ot]){if(r[ot]=this,n==="img"){if(this.isImg=!0,a=r.getAttribute("src")||"",this.originalUrl=a,!a)return;a=r.src}else n==="canvas"&&window.HTMLCanvasElement&&(a=r.toDataURL());this.load(a)}}},{key:"load",value:function(r){var n=this;if(r){this.url=r,this.imageData={};var a=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(rq.test(r)){nq.test(r)?this.read(wq(r)):this.clone();return}var o=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=l,o.onerror=l,o.ontimeout=l,o.onprogress=function(){o.getResponseHeader("content-type")!==G2&&o.abort()},o.onload=function(){n.read(o.response)},o.onloadend=function(){n.reloading=!1,n.xhr=null},s.checkCrossOrigin&&K2(r)&&a.crossOrigin&&(r=J2(r)),o.open("GET",r,!0),o.responseType="arraybuffer",o.withCredentials=a.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(r){var n=this.options,a=this.imageData,s=jq(r),o=0,l=1,c=1;if(s>1){this.url=kq(r,G2);var d=Nq(s);o=d.rotate,l=d.scaleX,c=d.scaleY}n.rotatable&&(a.rotate=o),n.scalable&&(a.scaleX=l,a.scaleY=c),this.clone()}},{key:"clone",value:function(){var r=this.element,n=this.url,a=r.crossOrigin,s=n;this.options.checkCrossOrigin&&K2(n)&&(a||(a="anonymous"),s=J2(n)),this.crossOrigin=a,this.crossOriginUrl=s;var o=document.createElement("img");a&&(o.crossOrigin=a),o.src=s||n,o.alt=r.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),Lt(o,z2),r.parentNode.insertBefore(o,r.nextSibling)}},{key:"start",value:function(){var r=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var a=ha.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ha.navigator.userAgent),s=function(d,u){ct(r.imageData,{naturalWidth:d,naturalHeight:u,aspectRatio:d/u}),r.initialImageData=ct({},r.imageData),r.sizing=!1,r.sized=!0,r.build()};if(n.naturalWidth&&!a){s(n.naturalWidth,n.naturalHeight);return}var o=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){s(o.width,o.height),a||l.removeChild(o)},o.src=n.src,a||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(o))}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var r=this.element,n=this.options,a=this.image,s=r.parentNode,o=document.createElement("div");o.innerHTML=sq;var l=o.querySelector(".".concat(ot,"-container")),c=l.querySelector(".".concat(ot,"-canvas")),d=l.querySelector(".".concat(ot,"-drag-box")),u=l.querySelector(".".concat(ot,"-crop-box")),f=u.querySelector(".".concat(ot,"-face"));this.container=s,this.cropper=l,this.canvas=c,this.dragBox=d,this.cropBox=u,this.viewBox=l.querySelector(".".concat(ot,"-view-box")),this.face=f,c.appendChild(a),Lt(r,Sr),s.insertBefore(l,r.nextSibling),ca(a,z2),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,Lt(u,Sr),n.guides||Lt(u.getElementsByClassName("".concat(ot,"-dashed")),Sr),n.center||Lt(u.getElementsByClassName("".concat(ot,"-center")),Sr),n.background&&Lt(l,"".concat(ot,"-bg")),n.highlight||Lt(f,JV),n.cropBoxMovable&&(Lt(f,Bx),Nd(f,jd,Qb)),n.cropBoxResizable||(Lt(u.getElementsByClassName("".concat(ot,"-line")),Sr),Lt(u.getElementsByClassName("".concat(ot,"-point")),Sr)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),_r(n.ready)&&un(r,H2,n.ready,{once:!0}),Jo(r,H2)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var r=this.cropper.parentNode;r&&r.removeChild(this.cropper),ca(this.element,Sr)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Pq,e}},{key:"setDefaults",value:function(r){ct(Y2,Ao(r)&&r)}}])}();ct(wT.prototype,_q,Sq,Cq,Eq,Tq,Dq);var yi=function(){return yi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},yi.apply(this,arguments)};function Hg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}var Oq=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],Iq={opacity:0,maxWidth:"100%"},kT=Z.forwardRef(function(e,t){var r=Hg(e,[]),n=r.dragMode,a=n===void 0?"crop":n,s=r.src,o=r.style,l=r.className,c=r.crossOrigin,d=r.scaleX,u=r.scaleY,f=r.enable,h=r.zoomTo,m=r.rotateTo,y=r.alt,v=y===void 0?"picture":y,b=r.ready,g=r.onInitialized,p=Hg(r,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),x={scaleY:u,scaleX:d,enable:f,zoomTo:h,rotateTo:m},w=function(){for(var S=[],E=0;E<arguments.length;E++)S[E]=arguments[E];var O=k.useRef(null);return Z.useEffect(function(){S.forEach(function(T){T&&(typeof T=="function"?T(O.current):T.current=O.current)})},[S]),O}(t,k.useRef(null));k.useEffect(function(){var S;!((S=w.current)===null||S===void 0)&&S.cropper&&typeof h=="number"&&w.current.cropper.zoomTo(h)},[r.zoomTo]),k.useEffect(function(){var S;!((S=w.current)===null||S===void 0)&&S.cropper&&s!==void 0&&w.current.cropper.reset().clear().replace(s)},[s]),k.useEffect(function(){if(w.current!==null){var S=new wT(w.current,yi(yi({dragMode:a},p),{ready:function(E){E.currentTarget!==null&&function(O,T){T===void 0&&(T={});var D=T.enable,R=D===void 0||D,N=T.scaleX,C=N===void 0?1:N,j=T.scaleY,I=j===void 0?1:j,B=T.zoomTo,P=B===void 0?0:B,A=T.rotateTo;R?O.enable():O.disable(),O.scaleX(C),O.scaleY(I),A!==void 0&&O.rotateTo(A),P>0&&O.zoomTo(P)}(E.currentTarget.cropper,x),b&&b(E)}}));g&&g(S)}return function(){var E,O;(O=(E=w.current)===null||E===void 0?void 0:E.cropper)===null||O===void 0||O.destroy()}},[w]);var _=function(S){return Oq.reduce(function(E,O){var T=E,D=O;return T[D],Hg(T,[typeof D=="symbol"?D:D+""])},S)}(yi(yi({},p),{crossOrigin:c,src:s,alt:v}));return Z.createElement("div",{style:o,className:l},Z.createElement("img",yi({},_,{style:Iq,ref:w})))});const Q2=({aspectRatio:e=1,targetWidth:t=800,targetHeight:r=800,storageBucket:n="images",storagePathPrefix:a,onUploadSuccess:s,initialImageUrl:o,onRemoveImage:l,recommendedText:c="Рекомендуемый размер: 800x800px",className:d="",buttonText:u="Загрузить изображение"})=>{const[f,h]=k.useState(null),[m,y]=k.useState(null),[v,b]=k.useState(!1),[g,p]=k.useState(!1),[x,w]=k.useState(0),_=k.useRef(null),S=async T=>{var R;const D=(R=T.target.files)==null?void 0:R[0];if(D)try{const N=await IL(D,{maxWidthOrHeight:2e3,maxSizeMB:2,useWebWorker:!0});h(N),b(!0)}catch(N){console.error("Error processing image:",N),alert("Ошибка при обработке изображения")}},E=async()=>{if(!(!m||!f))try{p(!0),w(0);const T=m.getCroppedCanvas({width:t,height:r,fillColor:"#fff",imageSmoothingEnabled:!0,imageSmoothingQuality:"high"}),D=await new Promise(I=>{T.toBlob(B=>{if(B)I(B);else throw new Error("Failed to create blob")},"image/jpeg",.9)}),R=ML(f,a),{data:N,error:C}=await de.storage.from(n).upload(R,D,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg",onUploadProgress:I=>{const B=Math.round(I.loaded/I.total*100);w(B)}});if(C)throw C;const{data:j}=de.storage.from(n).getPublicUrl(R);s(j.publicUrl,R),b(!1),h(null),w(0)}catch(T){console.error("Error uploading image:",T),alert("Ошибка при загрузке изображения")}finally{p(!1)}},O=()=>{b(!1),h(null),_.current&&(_.current.value="")};return i.jsxs("div",{className:`image-upload-container ${d}`,children:[i.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:S,className:"hidden"}),v&&f?i.jsxs("div",{className:"space-y-4",children:[i.jsx(kT,{src:URL.createObjectURL(f),style:{height:400,width:"100%"},aspectRatio:e,guides:!0,viewMode:1,dragMode:"move",scalable:!0,cropBoxMovable:!0,cropBoxResizable:!0,onInitialized:T=>y(T),className:"max-w-full"}),g&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium",children:"Загрузка"}),i.jsxs("span",{className:"text-sm font-medium",children:[x,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-dark-700 rounded-full h-2.5",children:i.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${x}%`}})})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsxs("button",{type:"button",onClick:O,disabled:g,className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors disabled:opacity-50",children:[i.jsx(_t,{className:"h-4 w-4 mr-2 inline-block"}),"Отмена"]}),i.jsx("button",{type:"button",onClick:E,disabled:g,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:opacity-50",children:g?i.jsx(i.Fragment,{children:i.jsx("span",{className:"animate-pulse",children:"Загрузка..."})}):i.jsxs(i.Fragment,{children:[i.jsx(xm,{className:"h-4 w-4 mr-2 inline-block"}),"Сохранить"]})})]})]}):o?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:o,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),i.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{var T;return(T=_.current)==null?void 0:T.click()},className:"p-2 bg-white/90 hover:bg-white text-dark-800 rounded-full shadow-lg",title:"Изменить изображение",children:i.jsx(fb,{className:"h-5 w-5"})}),l&&i.jsx("button",{type:"button",onClick:l,className:"p-2 bg-red-600/90 hover:bg-red-600 text-white rounded-full shadow-lg",title:"Удалить изображение",children:i.jsx(_t,{className:"h-5 w-5"})})]})]}):i.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-dark-600 rounded-lg p-8 text-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"mb-4 p-3 bg-gray-100 dark:bg-dark-700 rounded-full",children:i.jsx(zr,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})}),i.jsx("button",{type:"button",onClick:()=>{var T;return(T=_.current)==null?void 0:T.click()},className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors",children:u}),i.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:c})]})})]})},jT=({speakerId:e,photos:t=[],onPhotosUpdate:r,onImageSelect:n})=>{const[a,s]=k.useState(null),[o,l]=k.useState(!1),[c,d]=k.useState(null),[u,f]=k.useState(!1),h=async b=>{l(!0);try{const g=(Array.isArray(t)?t:[]).map(x=>({...x,isMain:x.url===b})),{error:p}=await de.from("speakers").update({photos:g}).eq("id",e);if(p)throw p;r(g),X.success("Основная фотография обновлена"),n&&n(bt(b))}catch(g){console.error("Error updating main photo:",g),X.error("Ошибка при обновлении фотографии")}finally{l(!1)}},m=async b=>{var g,p;if(confirm("Вы уверены, что хотите удалить эту фотографию?")){l(!0);try{const{error:x}=await de.storage.from("images").remove([b]);if(x)throw x;const w=Array.isArray(t)?t:[],_=w.filter(E=>E.url!==b);_.length>0&&((g=w.find(E=>E.url===b))!=null&&g.isMain)&&(_[0].isMain=!0);const{error:S}=await de.from("speakers").update({photos:_}).eq("id",e);if(S)throw S;r(_),n&&((p=w.find(E=>E.url===b))!=null&&p.isMain)&&n(_.length>0?bt(_[0].url):null),X.success("Фотография удалена")}catch(x){console.error("Error deleting photo:",x),X.error("Ошибка при удалении фотографии")}finally{l(!1)}}},y=(b,g)=>{const p=Array.isArray(t)?t:[],x={url:g};p.length===0&&(x.isMain=!0);const w=[...p,x];de.from("speakers").update({photos:w}).eq("id",e).then(({error:_})=>{if(_){console.error("Error updating speaker photos:",_),X.error("Ошибка при обновлении фотографий");return}r(w),x.isMain&&n&&n(b),X.success("Фотография успешно добавлена")})},v=Array.isArray(t)?t:[];return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:v.map((b,g)=>i.jsxs("div",{className:`relative group aspect-square rounded-lg overflow-hidden border-2 ${b.isMain?"border-primary-600":"border-transparent"}`,children:[i.jsx("img",{src:bt(b.url),alt:`Фото ${g+1}`,className:"w-full h-full object-cover",onError:p=>{const x=p.target;x.src="https://via.placeholder.com/300?text=Error+loading+image"}}),i.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:()=>h(b.url),disabled:o||b.isMain,className:`p-2 rounded-full ${b.isMain?"bg-primary-600 text-white":"bg-white/90 hover:bg-white text-gray-900"}`,title:b.isMain?"Основная фотография":"Сделать основной",children:b.isMain?i.jsx(eE,{className:"h-5 w-5"}):i.jsx(iR,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>{d(b.url),f(!0)},className:"p-2 rounded-full bg-white/90 hover:bg-white text-gray-900",title:"Кадрировать",children:i.jsx(BM,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>s(b.url),className:"p-2 rounded-full bg-white/90 hover:bg-white text-gray-900",title:"Просмотреть",children:i.jsx(HM,{className:"h-5 w-5"})}),!b.isMain&&i.jsx("button",{onClick:()=>m(b.url),className:"p-2 rounded-full bg-red-500/90 hover:bg-red-500 text-white",title:"Удалить",children:i.jsx(_t,{className:"h-5 w-5"})})]}),b.isMain&&i.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-primary-600 text-white text-xs rounded-full",children:"Основная"})]},g))}),i.jsx("div",{className:"mt-4",children:i.jsx(Q2,{aspectRatio:1,targetWidth:800,targetHeight:800,storagePathPrefix:`speakers/${e}/`,onUploadSuccess:y,buttonText:"Загрузить фото",recommendedText:"Рекомендуемый размер: 800x800px"})}),u&&c&&i.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg p-6 max-w-4xl w-full",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Обрезать фотографию"}),i.jsx("button",{onClick:()=>{f(!1),d(null)},className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full",children:i.jsx(_t,{className:"h-5 w-5"})})]}),i.jsx(Q2,{aspectRatio:1,targetWidth:800,targetHeight:800,storagePathPrefix:`speakers/${e}/`,initialImageUrl:bt(c),onUploadSuccess:(b,g)=>{const p=v.map(x=>x.url===c?{...x,url:g}:x);r(p),de.from("speakers").update({photos:p}).eq("id",e).then(({error:x})=>{var w;if(x){console.error("Error updating speaker photos:",x),X.error("Ошибка при обновлении фотографий");return}(w=v.find(_=>_.url===c))!=null&&w.isMain&&n&&n(b),X.success("Фотография успешно обновлена"),f(!1),d(null)})}})]})}),a&&i.jsxs("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",children:[i.jsx("button",{onClick:()=>s(null),className:"absolute top-4 right-4 p-2 text-white hover:bg-white/10 rounded-full",children:i.jsx(_t,{className:"h-6 w-6"})}),i.jsx("img",{src:bt(a),alt:"Полный размер",className:"max-w-full max-h-[90vh] object-contain"})]})]})},Mq=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=k.useState(!1),[s,o]=k.useState([]),[l]=k.useState(()=>crypto.randomUUID()),[c,d]=k.useState(null),[u,f]=k.useState({id:l,name:"",field_of_expertise:"",description:"",date_of_birth:"",active:!0}),h=async m=>{m.preventDefault(),a(!0);try{const{error:y}=await de.from("speakers").insert([{...u,photos:s,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(y)throw y;X.success("Спикер успешно создан"),r(),t()}catch(y){console.error("Error creating speaker:",y),X.error("Ошибка при создании спикера")}finally{a(!1)}};return i.jsx(Il,{isOpen:e,onClose:t,title:"Добавить спикера",size:"lg",children:i.jsxs("form",{onSubmit:h,className:"space-y-6",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-2",children:"Фотографии"}),c&&i.jsx("div",{className:"mb-4",children:i.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 object-cover rounded-full mx-auto"})}),i.jsx(jT,{speakerId:l,photos:s,onPhotosUpdate:o,onImageSelect:d})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"name",className:"block font-medium mb-2",children:"Имя"}),i.jsx("input",{type:"text",id:"name",value:u.name,onChange:m=>f({...u,name:m.target.value}),className:"w-full px-4 py-2 rounded-md border border-gray-300 dark:border-dark-600",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"field_of_expertise",className:"block font-medium mb-2",children:"Специализация"}),i.jsx("input",{type:"text",id:"field_of_expertise",value:u.field_of_expertise,onChange:m=>f({...u,field_of_expertise:m.target.value}),className:"w-full px-4 py-2 rounded-md border border-gray-300 dark:border-dark-600",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"description",className:"block font-medium mb-2",children:"Описание"}),i.jsx("textarea",{id:"description",value:u.description,onChange:m=>f({...u,description:m.target.value}),className:"w-full px-4 py-2 rounded-md border border-gray-300 dark:border-dark-600",rows:4})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"date_of_birth",className:"block font-medium mb-2",children:"Дата рождения (необязательно)"}),i.jsx("input",{type:"date",id:"date_of_birth",value:u.date_of_birth,onChange:m=>f({...u,date_of_birth:m.target.value}),className:"w-full px-4 py-2 rounded-md border border-gray-300 dark:border-dark-600"})]}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:u.active,onChange:m=>f({...u,active:m.target.checked}),className:"form-checkbox"}),i.jsx("span",{className:"font-medium",children:"Активный спикер"})]})}),i.jsxs("div",{className:"flex justify-end gap-4 pb-2",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700",children:"Отмена"}),i.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:n?"Создание...":"Создать"})]})]})})},Ju=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),Rq=()=>{var p,x;const[e,t]=k.useState(""),[r,n]=k.useState([]),[a,s]=k.useState(null),[o,l]=k.useState(!1),[c,d]=k.useState(!1),[u,f]=k.useState({}),[h,m]=k.useState(!1);k.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:w,error:_}=await Ju.from("speakers").select("*").order("name");if(_)throw _;n(w||[])}catch(w){console.error("Error fetching speakers:",w),X.error("Failed to load speakers")}},v=async()=>{try{const{error:w}=await Ju.from("speakers").update(u).eq("id",a==null?void 0:a.id);if(w)throw w;X.success("Speaker updated successfully"),y(),d(!1)}catch(w){console.error("Error updating speaker:",w),X.error("Failed to update speaker")}},b=r.filter(w=>w.name.toLowerCase().includes(e.toLowerCase())||w.field_of_expertise.toLowerCase().includes(e.toLowerCase())),g=async w=>{if(confirm("Вы уверены, что хотите удалить этого спикера? Это действие нельзя отменить."))try{const _=r.find(O=>O.id===w),S=Array.isArray(_==null?void 0:_.photos)?_.photos:[];if(S.length){const{error:O}=await Ju.storage.from("images").remove(S.map(T=>T.url));if(O)throw O}const{error:E}=await Ju.from("speakers").delete().eq("id",w);if(E)throw E;X.success("Спикер успешно удален"),y()}catch(_){console.error("Error deleting speaker:",_),X.error("Ошибка при удалении спикера")}};return i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"Управление спикерами"}),i.jsxs("button",{className:"btn-primary flex items-center gap-2",onClick:()=>m(!0),children:[i.jsx(Nn,{className:"h-5 w-5"}),"Добавить спикера"]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Поиск спикеров...",value:e,onChange:w=>t(w.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600"})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(w=>{var _,S;return i.jsxs("div",{className:"card hover:shadow-lg",children:[i.jsx("div",{className:"relative aspect-square",children:(S=(_=w.photos)==null?void 0:_[0])!=null&&S.url?i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${w.photos[0].url}`,alt:w.name,className:"w-full h-full object-cover",onError:E=>{const O=E.target;O.src="https://via.placeholder.com/300?text=No+image"}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-dark-700",children:i.jsx(Fr,{className:"w-16 h-16 text-gray-400"})})}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold text-lg mb-1",children:w.name}),i.jsx("p",{className:"text-primary-600 dark:text-primary-400 text-sm mb-4",children:w.field_of_expertise}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>{s(w),l(!0),d(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full",children:i.jsx(Bd,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>{s(w),f(w),l(!0),d(!0)},className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full",children:i.jsx(pn,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>g(w.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-full text-red-600",title:"Удалить",children:i.jsx(Ir,{className:"h-5 w-5"})})]})]})]},w.id)})}),i.jsx(Mq,{isOpen:h,onClose:()=>m(!1),onSuccess:y}),o&&a&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold",children:c?"Редактировать спикера":"Информация о спикере"}),i.jsx("button",{onClick:()=>{l(!1),s(null),d(!1)},className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full",children:i.jsx(_t,{className:"h-5 w-5"})})]}),c?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-2",children:"Фотографии"}),i.jsx(jT,{speakerId:a.id,photos:a.photos||[],onPhotosUpdate:w=>{s({...a,photos:w}),f({...u,photos:w})}})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-2",children:"Имя"}),i.jsx("input",{type:"text",value:u.name||"",onChange:w=>f({...u,name:w.target.value}),className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-2",children:"Специализация"}),i.jsx("input",{type:"text",value:u.field_of_expertise||"",onChange:w=>f({...u,field_of_expertise:w.target.value}),className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-2",children:"Описание"}),i.jsx("textarea",{value:u.description||"",onChange:w=>f({...u,description:w.target.value}),rows:4,className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-2",children:"Дата рождения"}),i.jsx("input",{type:"date",value:u.date_of_birth||"",onChange:w=>f({...u,date_of_birth:w.target.value}),className:"form-input"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"block font-medium mb-2",children:"Google Drive"}),i.jsx("input",{type:"url",value:u.google_drive_link||"",onChange:w=>f({...u,google_drive_link:w.target.value}),className:"form-input"})]}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:u.active,onChange:w=>f({...u,active:w.target.checked}),className:"form-checkbox"}),i.jsx("span",{className:"font-medium",children:"Активный спикер"})]})}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{onClick:()=>{d(!1),f(a)},className:"btn-outline",children:"Отмена"}),i.jsx("button",{onClick:v,className:"btn-primary",children:"Сохранить"})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start gap-6",children:[i.jsx("div",{className:"w-32 h-32 flex-shrink-0",children:(x=(p=a.photos)==null?void 0:p[0])!=null&&x.url?i.jsx("img",{src:`https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/${a.photos[0].url}`,alt:a.name,className:"w-full h-full object-cover rounded-lg"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-dark-700 rounded-lg",children:i.jsx(Fr,{className:"w-12 h-12 text-gray-400"})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-semibold mb-2",children:a.name}),i.jsx("p",{className:"text-primary-600 dark:text-primary-400 mb-4",children:a.field_of_expertise}),i.jsx("p",{className:"text-dark-600 dark:text-dark-300",children:a.description})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Дата рождения"}),i.jsx("p",{children:a.date_of_birth||"Не указана"})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Статус"}),i.jsx("p",{children:a.active?"Активный":"Неактивный"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:()=>{d(!0),f(a)},className:"btn-primary",children:"Редактировать"})})]})]})})})]})},oc=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),Aq=()=>i.jsxs("div",{className:"flex justify-center items-center py-12",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Nt,{className:"w-8 h-8 animate-spin text-primary-500"}),i.jsx("div",{className:"absolute inset-0 w-8 h-8 border-2 border-primary-200 dark:border-primary-800 rounded-full"})]}),i.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300 font-medium",children:"Загрузка данных..."})]}),Lq=()=>{var E,O,T,D;const[e,t]=k.useState(null),[r,n]=k.useState(!0),[a,s]=k.useState(!1),[o,l]=k.useState({}),[c,d]=k.useState({name:"",price:0,duration:"hour",description:""}),[u,f]=k.useState(!1),h=k.useRef(null);k.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0);const{data:R,error:N}=await oc.from("rent_info_settings").select("*").single();if(N)throw N;t(R),l(R||{})}catch(R){console.error("Error fetching settings:",R),X.error("Не удалось загрузить настройки")}finally{n(!1)}},y=async()=>{try{s(!0);const{error:R}=await oc.from("rent_info_settings").update(o).eq("id",e==null?void 0:e.id);if(R)throw R;await m(),X.success("Настройки успешно сохранены")}catch(R){console.error("Error saving settings:",R),X.error("Ошибка при сохранении настроек")}finally{s(!1)}},v=()=>{if(!c.name||c.price<=0)return;const R=[...o.pricelist||[],{...c,id:Date.now().toString()}];l(N=>({...N,pricelist:R})),d({name:"",price:0,duration:"hour",description:""})},b=R=>{const N=(o.pricelist||[]).filter(C=>C.id!==R);l(C=>({...C,pricelist:N}))},g=(R,N)=>{l(C=>({...C,[N]:R.target.value}))},p=(R,N)=>{l(C=>({...C,contacts:{...C.contacts||{},[N]:R.target.value}}))},x=(R,N)=>{d(C=>({...C,[N]:N==="price"?Number(R.target.value):R.target.value}))},w=async R=>{if(R.target.files&&R.target.files.length>0){const N=R.target.files[0];if(N.size>5*1024*1024){X.error("Файл слишком большой. Максимальный размер 5MB.");return}await _(N)}},_=async R=>{try{f(!0);const N=Date.now(),C=R.name.split(".").pop(),I=`rent_photos/${`${N}.${C}`}`,{data:B,error:P}=await oc.storage.from("images").upload(I,R,{cacheControl:"3600",upsert:!1});if(P)throw P;const{data:A}=oc.storage.from("images").getPublicUrl(I),F=[...o.photos||[],A.publicUrl];l(L=>({...L,photos:F})),X.success("Фото успешно загружено"),h.current&&(h.current.value="")}catch(N){console.error("Error uploading photo:",N),X.error("Ошибка при загрузке фото")}finally{f(!1)}},S=async R=>{try{const N=R.split("/"),j=`rent_photos/${N[N.length-1]}`,{error:I}=await oc.storage.from("images").remove([j]);if(I)throw I;const B=(o.photos||[]).filter(P=>P!==R);l(P=>({...P,photos:B})),X.success("Фото успешно удалено")}catch(N){console.error("Error deleting photo:",N),X.error("Ошибка при удалении фото")}};return r?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx(Aq,{})})}):e?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:[i.jsx("input",{type:"file",ref:h,onChange:w,accept:"image/*",className:"hidden"}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-12 text-center",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-4 font-heading",children:"Управление арендой"}),i.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Настройте информацию о ваших помещениях для аренды"})]}),i.jsx("div",{className:"flex justify-center mb-10",children:i.jsx("button",{onClick:y,disabled:a,className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg font-heading",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-5 h-5 animate-spin"}),"Сохранение..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Wr,{className:"w-5 h-5"}),"Сохранить изменения"]})})}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/30 dark:to-primary-800/30 rounded-xl mr-4",children:i.jsx(bm,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"Основные настройки"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Заголовок и описание страницы аренды"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Заголовок страницы"}),i.jsx("input",{type:"text",value:o.title||"",onChange:R=>g(R,"title"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"Введите заголовок страницы аренды"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Описание страницы"}),i.jsx("textarea",{value:o.description||"",onChange:R=>g(R,"description"),rows:4,className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200 resize-none",placeholder:"Опишите ваши помещения для аренды..."})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl mr-4",children:i.jsx(zr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"Фотогалерея"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Загрузите фотографии ваших помещений"})]})]}),i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"p-8 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/30 dark:to-gray-600/30 hover:border-primary-400 dark:hover:border-primary-500 transition-all duration-200",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"p-4 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/30 dark:to-primary-800/30 rounded-full",children:u?i.jsx(Nt,{className:"w-8 h-8 text-primary-600 dark:text-primary-400 animate-spin"}):i.jsx(zr,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})})}),u?i.jsxs("div",{children:[i.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-semibold mb-2",children:"Загрузка фотографии..."}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 max-w-xs mx-auto",children:i.jsx("div",{className:"bg-primary-500 h-2 rounded-full animate-pulse"})})]}):i.jsxs("div",{children:[i.jsx("button",{onClick:()=>{var R;return(R=h.current)==null?void 0:R.click()},className:"text-primary-600 dark:text-primary-400 font-semibold hover:text-primary-700 dark:hover:text-primary-300 transition-colors duration-200",children:"Нажмите для загрузки фото"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"или перетащите файл сюда"}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"JPG, PNG (максимум 5MB)"})]})]})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Текущие фотографии"}),o.photos&&o.photos.length>0?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:o.photos.map((R,N)=>i.jsxs("div",{className:"group relative",children:[i.jsx("div",{className:"aspect-square rounded-xl overflow-hidden border-2 border-gray-200 dark:border-gray-600 shadow-lg hover:shadow-xl transition-all duration-300",children:i.jsx("img",{src:R,alt:`Rent photo ${N+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),i.jsx("button",{onClick:()=>S(R),className:"absolute top-2 right-2 p-2 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 transform hover:scale-110 shadow-lg",title:"Удалить фото",children:i.jsx(Ir,{className:"w-4 h-4"})})]},N))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(zr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Нет загруженных фотографий"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Добавьте фотографии ваших помещений"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 rounded-xl mr-4",children:i.jsx(Ms,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"Прайс-лист"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Варианты аренды и цены"})]})]}),i.jsxs("button",{onClick:v,disabled:!c.name||c.price<=0,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg font-heading disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[i.jsx(Nn,{className:"w-5 h-5"}),"Добавить вариант"]})]}),i.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-xl border border-gray-200 dark:border-gray-700",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Добавить новый вариант"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Название"}),i.jsx("input",{type:"text",value:c.name,onChange:R=>x(R,"name"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"Стандартный зал"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Цена (₽)"}),i.jsx("input",{type:"number",value:c.price,onChange:R=>x(R,"price"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"1000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Период"}),i.jsxs("select",{value:c.duration,onChange:R=>x(R,"duration"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",children:[i.jsx("option",{value:"hour",children:"Почасово"}),i.jsx("option",{value:"day",children:"Посуточно"}),i.jsx("option",{value:"week",children:"Понедельно"}),i.jsx("option",{value:"month",children:"Помесячно"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Описание"}),i.jsx("input",{type:"text",value:c.description||"",onChange:R=>x(R,"description"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"Дополнительная информация"})]})]})]}),i.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 dark:border-gray-700",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Название"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Цена"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Период"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Описание"}),i.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Действия"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-dark-800 divide-y divide-gray-200 dark:divide-gray-700",children:(o.pricelist||[]).length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[i.jsx(Ms,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Нет вариантов аренды"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Добавьте варианты аренды с ценами"})]})}):(o.pricelist||[]).map(R=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors duration-200",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:R.name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:[R.price.toLocaleString("ru-RU")," ₽"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:{hour:"Час",day:"День",week:"Неделя",month:"Месяц"}[R.duration]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-xs",children:R.description||"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsx("button",{onClick:()=>b(R.id),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-all duration-200 transform hover:scale-110",title:"Удалить",children:i.jsx(Ir,{className:"w-4 h-4"})})})]},R.id))})]})})})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl mr-4",children:i.jsx(cl,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"Контактная информация"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Способы связи для аренды"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[i.jsx(Pt,{className:"w-4 h-4 text-orange-500"}),"Адрес"]}),i.jsx("input",{type:"text",value:((E=o.contacts)==null?void 0:E.address)||"",onChange:R=>p(R,"address"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"г. Москва, ул. Примерная, д. 1"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[i.jsx(cl,{className:"w-4 h-4 text-orange-500"}),"Телефон"]}),i.jsx("input",{type:"tel",value:((O=o.contacts)==null?void 0:O.phone)||"",onChange:R=>p(R,"phone"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"+7 (999) 123-45-67"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[i.jsx(Tl,{className:"w-4 h-4 text-orange-500"}),"Email"]}),i.jsx("input",{type:"email",value:((T=o.contacts)==null?void 0:T.email)||"",onChange:R=>p(R,"email"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"example@mail.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[i.jsx(Pt,{className:"w-4 h-4 text-orange-500"}),"Ссылка на карту"]}),i.jsx("input",{type:"url",value:((D=o.contacts)==null?void 0:D.map_link)||"",onChange:R=>p(R,"map_link"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"https://yandex.ru/maps/..."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Загружено фото"}),i.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:(o.photos||[]).length})]}),i.jsx("div",{className:"p-3 bg-blue-200 dark:bg-blue-800 rounded-xl",children:i.jsx(zr,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})]})}),i.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-2xl p-6 border border-green-200 dark:border-green-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Вариантов аренды"}),i.jsx("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:(o.pricelist||[]).length})]}),i.jsx("div",{className:"p-3 bg-green-200 dark:bg-green-800 rounded-xl",children:i.jsx(Ms,{className:"w-8 h-8 text-green-600 dark:text-green-400"})})]})}),i.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Мин. цена"}),i.jsx("p",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:(o.pricelist||[]).length>0?`${Math.min(...(o.pricelist||[]).map(R=>R.price)).toLocaleString("ru-RU")} ₽`:"—"})]}),i.jsx("div",{className:"p-3 bg-purple-200 dark:bg-purple-800 rounded-xl",children:i.jsx(lh,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})})]})})]})]}),i.jsx("div",{className:"fixed bottom-6 right-6 md:hidden",children:i.jsx("button",{onClick:y,disabled:a,className:"flex items-center gap-2 px-6 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white rounded-full shadow-2xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:a?i.jsx(Nt,{className:"w-6 h-6 animate-spin"}):i.jsx(Wr,{className:"w-6 h-6"})})})]})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"text-center py-12",children:i.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:"Настройки аренды не найдены. Создайте новую запись."})})})})};var $q=Object.defineProperty,zq=(e,t,r)=>t in e?$q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,it=(e,t,r)=>zq(e,typeof t!="symbol"?t+"":t,r);const Rh={x:0,y:0,width:0,height:0,unit:"px"},mo=(e,t,r)=>Math.min(Math.max(e,t),r),Fq=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),Z2=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function Bq(e,t,r,n){const a=Qn(e,r,n);return e.width&&(a.height=a.width/t),e.height&&(a.width=a.height*t),a.y+a.height>n&&(a.height=n-a.y,a.width=a.height*t),a.x+a.width>r&&(a.width=r-a.x,a.height=a.width/t),e.unit==="%"?ds(a,r,n):a}function Uq(e,t,r){const n=Qn(e,t,r);return n.x=(t-n.width)/2,n.y=(r-n.height)/2,e.unit==="%"?ds(n,t,r):n}function ds(e,t,r){return e.unit==="%"?{...Rh,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/r*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/r*100:0}}function Qn(e,t,r){return e.unit?e.unit==="px"?{...Rh,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*r/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*r/100:0}:{...Rh,...e,unit:"px"}}function eN(e,t,r,n,a,s=0,o=0,l=n,c=a){const d={...e};let u=Math.min(s,n),f=Math.min(o,a),h=Math.min(l,n),m=Math.min(c,a);t&&(t>1?(u=o?o*t:u,f=u/t,h=l*t):(f=s?s/t:f,u=f*t,m=c/t)),d.y<0&&(d.height=Math.max(d.height+d.y,f),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,u),d.x=0);const y=n-(d.x+d.width);y<0&&(d.x=Math.min(d.x,n-u),d.width+=y);const v=a-(d.y+d.height);if(v<0&&(d.y=Math.min(d.y,a-f),d.height+=v),d.width<u&&((r==="sw"||r=="nw")&&(d.x-=u-d.width),d.width=u),d.height<f&&((r==="nw"||r=="ne")&&(d.y-=f-d.height),d.height=f),d.width>h&&((r==="sw"||r=="nw")&&(d.x-=h-d.width),d.width=h),d.height>m&&((r==="nw"||r=="ne")&&(d.y-=m-d.height),d.height=m),t){const b=d.width/d.height;if(b<t){const g=Math.max(d.width/t,f);(r==="nw"||r=="ne")&&(d.y-=g-d.height),d.height=g}else if(b>t){const g=Math.max(d.height*t,u);(r==="sw"||r=="nw")&&(d.x-=g-d.width),d.width=g}}return d}function Wq(e,t,r,n){const a={...e};return t==="ArrowLeft"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="w"?(a.x-=r,a.width+=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="e"?a.width-=r:n==="se"&&(a.width-=r,a.height-=r):t==="ArrowRight"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="w"?(a.x+=r,a.width-=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="e"?a.width+=r:n==="se"&&(a.width+=r,a.height+=r)),t==="ArrowUp"?n==="nw"?(a.x-=r,a.y-=r,a.width+=r,a.height+=r):n==="n"?(a.y-=r,a.height+=r):n==="ne"?(a.y-=r,a.width+=r,a.height+=r):n==="sw"?(a.x+=r,a.width-=r,a.height-=r):n==="s"?a.height-=r:n==="se"&&(a.width-=r,a.height-=r):t==="ArrowDown"&&(n==="nw"?(a.x+=r,a.y+=r,a.width-=r,a.height-=r):n==="n"?(a.y+=r,a.height-=r):n==="ne"?(a.y+=r,a.width-=r,a.height-=r):n==="sw"?(a.x-=r,a.width+=r,a.height+=r):n==="s"?a.height+=r:n==="se"&&(a.width+=r,a.height+=r)),a}const po={capture:!0,passive:!1};let Hq=0;const as=class Dn extends k.PureComponent{constructor(){super(...arguments),it(this,"docMoveBound",!1),it(this,"mouseDownOnCrop",!1),it(this,"dragStarted",!1),it(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),it(this,"componentRef",k.createRef()),it(this,"mediaRef",k.createRef()),it(this,"resizeObserver"),it(this,"initChangeCalled",!1),it(this,"instanceId",`rc-${Hq++}`),it(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),it(this,"onCropPointerDown",t=>{const{crop:r,disabled:n}=this.props,a=this.getBox();if(!r)return;const s=Qn(r,a.width,a.height);if(n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=t.target.dataset.ord,l=!!o;let c=t.clientX,d=t.clientY,u=s.x,f=s.y;if(o){const h=t.clientX-a.x,m=t.clientY-a.y;let y=0,v=0;o==="ne"||o=="e"?(y=h-(s.x+s.width),v=m-s.y,u=s.x,f=s.y+s.height):o==="se"||o==="s"?(y=h-(s.x+s.width),v=m-(s.y+s.height),u=s.x,f=s.y):o==="sw"||o=="w"?(y=h-s.x,v=m-(s.y+s.height),u=s.x+s.width,f=s.y):(o==="nw"||o=="n")&&(y=h-s.x,v=m-s.y,u=s.x+s.width,f=s.y+s.height),c=u+a.x+y,d=f+a.y+v}this.evData={startClientX:c,startClientY:d,startCropX:u,startCropY:f,clientX:t.clientX,clientY:t.clientY,isResize:l,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),it(this,"onComponentPointerDown",t=>{const{crop:r,disabled:n,locked:a,keepSelection:s,onChange:o}=this.props,l=this.getBox();if(n||a||s&&r)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=t.clientX-l.x,d=t.clientY-l.y,u={unit:"px",x:c,y:d,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:c,startCropY:d,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(Qn(u,l.width,l.height),ds(u,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),it(this,"onDocPointerMove",t=>{const{crop:r,disabled:n,onChange:a,onDragStart:s}=this.props,o=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,s&&s(t));const{evData:l}=this;l.clientX=t.clientX,l.clientY=t.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),Z2(r,c)||a(Qn(c,o.width,o.height),ds(c,o.width,o.height))}),it(this,"onComponentKeyDown",t=>{const{crop:r,disabled:n,onChange:a,onComplete:s}=this.props;if(n)return;const o=t.key;let l=!1;if(!r)return;const c=this.getBox(),d=this.makePixelCrop(c),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Dn.nudgeStepLarge:t.shiftKey?Dn.nudgeStepMedium:Dn.nudgeStep;if(o==="ArrowLeft"?(d.x-=u,l=!0):o==="ArrowRight"?(d.x+=u,l=!0):o==="ArrowUp"?(d.y-=u,l=!0):o==="ArrowDown"&&(d.y+=u,l=!0),l){t.cancelable&&t.preventDefault(),d.x=mo(d.x,0,c.width-d.width),d.y=mo(d.y,0,c.height-d.height);const f=Qn(d,c.width,c.height),h=ds(d,c.width,c.height);a(f,h),s&&s(f,h)}}),it(this,"onHandlerKeyDown",(t,r)=>{const{aspect:n=0,crop:a,disabled:s,minWidth:o=0,minHeight:l=0,maxWidth:c,maxHeight:d,onChange:u,onComplete:f}=this.props,h=this.getBox();if(s||!a)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const m=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Dn.nudgeStepLarge:t.shiftKey?Dn.nudgeStepMedium:Dn.nudgeStep,y=Qn(a,h.width,h.height),v=Wq(y,t.key,m,r),b=eN(v,n,r,h.width,h.height,o,l,c,d);if(!Z2(a,b)){const g=ds(b,h.width,h.height);u(b,g),f&&f(b,g)}}),it(this,"onDocPointerDone",t=>{const{crop:r,disabled:n,onComplete:a,onDragEnd:s}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,s&&s(t),a&&a(Qn(r,o.width,o.height),ds(r,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),it(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:a,height:s}=t.getBoundingClientRect();return{x:r,y:n,width:a,height:s}}componentDidUpdate(t){const{crop:r,onComplete:n}=this.props;if(n&&!t.crop&&r){const{width:a,height:s}=this.getBox();a&&s&&n(Qn(r,a,s),ds(r,a,s))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,po),this.document.addEventListener("pointerup",this.onDocPointerDone,po),this.document.addEventListener("pointercancel",this.onDocPointerDone,po),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,po),this.document.removeEventListener("pointerup",this.onDocPointerDone,po),this.document.removeEventListener("pointercancel",this.onDocPointerDone,po),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,r=this.getBox(),n=this.makePixelCrop(r),a=t.clientX-t.startClientX,s=t.clientY-t.startClientY;return n.x=mo(t.startCropX+a,0,r.width-n.width),n.y=mo(t.startCropY+s,0,r.height-n.height),n}getPointRegion(t,r,n,a){const{evData:s}=this,o=s.clientX-t.x,l=s.clientY-t.y;let c;a&&r?c=r==="nw"||r==="n"||r==="ne":c=l<s.startCropY;let d;return n&&r?d=r==="nw"||r==="w"||r==="sw":d=o<s.startCropX,d?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(t,r,n=0,a=0){const s=Math.min(n,t.width),o=Math.min(a,t.height);return!r||!s&&!o?[s,o]:r>1?s?[s,s/r]:[o*r,o]:o?[o*r,o]:[s,s/r]}resizeCrop(){const{evData:t}=this,{aspect:r=0,maxWidth:n,maxHeight:a}=this.props,s=this.getBox(),[o,l]=this.resolveMinDimensions(s,r,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(s);const d=this.getPointRegion(s,t.ord,o,l),u=t.ord||d;let f=t.clientX-t.startClientX,h=t.clientY-t.startClientY;(o&&u==="nw"||u==="w"||u==="sw")&&(f=Math.min(f,-o)),(l&&u==="nw"||u==="n"||u==="ne")&&(h=Math.min(h,-l));const m={unit:"px",x:0,y:0,width:0,height:0};d==="ne"?(m.x=t.startCropX,m.width=f,r?(m.height=m.width/r,m.y=t.startCropY-m.height):(m.height=Math.abs(h),m.y=t.startCropY-m.height)):d==="se"?(m.x=t.startCropX,m.y=t.startCropY,m.width=f,r?m.height=m.width/r:m.height=h):d==="sw"?(m.x=t.startCropX+f,m.y=t.startCropY,m.width=Math.abs(f),r?m.height=m.width/r:m.height=h):d==="nw"&&(m.x=t.startCropX+f,m.width=Math.abs(f),r?(m.height=m.width/r,m.y=t.startCropY-m.height):(m.height=Math.abs(h),m.y=t.startCropY+h));const y=eN(m,r,d,s.width,s.height,o,l,n,a);return r||Dn.xyOrds.indexOf(u)>-1?c=y:Dn.xOrds.indexOf(u)>-1?(c.x=y.x,c.width=y.width):Dn.yOrds.indexOf(u)>-1&&(c.y=y.y,c.height=y.height),c.x=mo(c.x,0,s.width-c.width),c.y=mo(c.y,0,s.height-c.height),c}renderCropSelection(){const{ariaLabels:t=Dn.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:a,ruleOfThirds:s,crop:o}=this.props,l=this.getCropStyle();if(o)return Z.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&Z.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Z.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Z.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Z.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Z.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Z.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),Z.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),Z.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),Z.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),Z.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),Z.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),Z.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),Z.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),a&&Z.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},a(this.state)),s&&Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Z.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const r={...Rh,...this.props.crop||{}};return Qn(r,t.width,t.height)}render(){const{aspect:t,children:r,circularCrop:n,className:a,crop:s,disabled:o,locked:l,style:c,ruleOfThirds:d}=this.props,{cropIsActive:u,newCropIsBeingDrawn:f}=this.state,h=s?this.renderCropSelection():null,m=Fq("ReactCrop",a,u&&"ReactCrop--active",o&&"ReactCrop--disabled",l&&"ReactCrop--locked",f&&"ReactCrop--new-crop",s&&t&&"ReactCrop--fixed-aspect",s&&n&&"ReactCrop--circular-crop",s&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return Z.createElement("div",{ref:this.componentRef,className:m,style:c},Z.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),s?Z.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Z.createElement("defs",null,Z.createElement("mask",{id:`hole-${this.instanceId}`},Z.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?Z.createElement("ellipse",{cx:`${s.x+s.width/2}${s.unit}`,cy:`${s.y+s.height/2}${s.unit}`,rx:`${s.width/2}${s.unit}`,ry:`${s.height/2}${s.unit}`,fill:"black"}):Z.createElement("rect",{x:`${s.x}${s.unit}`,y:`${s.y}${s.unit}`,width:`${s.width}${s.unit}`,height:`${s.height}${s.unit}`,fill:"black"}))),Z.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,h)}};it(as,"xOrds",["e","w"]),it(as,"yOrds",["n","s"]),it(as,"xyOrds",["nw","ne","se","sw"]),it(as,"nudgeStep",1),it(as,"nudgeStepMedium",10),it(as,"nudgeStepLarge",100),it(as,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Vq=as;async function qq(e,t,r){const n=t.getContext("2d");if(!n)throw new Error("No 2d context");t.width=r.width,t.height=r.height;const a=e.naturalWidth/e.width,s=e.naturalHeight/e.height,o=r.x*a,l=r.y*s,c=r.width*a,d=r.height*s;n.clearRect(0,0,t.width,t.height),n.drawImage(e,o,l,c,d,0,0,r.width,r.height)}const En=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8");function Gq(e,t,r){return Uq(Bq({unit:"%",width:90},r,e,t),e,t)}const Yq=()=>{const[e,t]=k.useState(""),[r,n]=k.useState([]),[a,s]=k.useState({id:"",title:"",description:""}),[o,l]=k.useState(!0),[c,d]=k.useState(null),[u,f]=k.useState(null),[h,m]=k.useState({name:"",description:"",price:0,currency:"euro",period:"час",active:!0,image_url:"",main_service:!0}),[y,v]=k.useState(!1),[b,g]=k.useState(""),[p,x]=k.useState(),[w,_]=k.useState(),[S,E]=k.useState(!1),O=k.useRef(null),T=k.useRef(null);k.useEffect(()=>{D()},[]),k.useEffect(()=>{w!=null&&w.width&&(w!=null&&w.height)&&O.current&&T.current&&qq(O.current,T.current,w)},[w]);const D=async()=>{try{l(!0);const{data:L,error:$}=await En.from("coworking_info_table").select("*").order("order",{ascending:!0});if($)throw $;n(L||[]);const{data:z,error:q}=await En.from("coworking_header").select("*").maybeSingle();if(q)throw q;s(z||{id:"",title:"",description:""})}catch(L){console.error("Error fetching data:",L),d("Не удалось загрузить данные")}finally{l(!1)}},R=L=>{if(L.target.files&&L.target.files.length>0){x(void 0);const $=new FileReader;$.addEventListener("load",()=>{var z;g(((z=$.result)==null?void 0:z.toString())||"")}),$.readAsDataURL(L.target.files[0])}},N=L=>{const{width:$,height:z}=L.currentTarget,q=Gq($,z,1);x(q)},C=async()=>{if(!(!T.current||!w||!O.current)){E(!0);try{const L=document.createElement("canvas"),$=L.getContext("2d");if(!$)return;L.width=500,L.height=500;const z=O.current.naturalWidth/O.current.width,q=O.current.naturalHeight/O.current.height,K=w.x*z,H=w.y*q,ee=w.width*z,ne=w.height*q;$.drawImage(O.current,K,H,ee,ne,0,0,500,500),L.toBlob(async re=>{if(!re)return;const fe=`coworking/${`${Math.random()}.jpg`}`,{error:De}=await En.storage.from("images").upload(fe,re);if(De)throw De;const{data:{publicUrl:ve}}=En.storage.from("images").getPublicUrl(fe);u!=null&&u.id?f({...u,image_url:ve}):m({...h,image_url:ve}),g(""),E(!1)},"image/jpeg",.9)}catch(L){console.error("Error uploading image:",L),d("Ошибка при загрузке изображения"),E(!1)}}},j=async()=>{try{const L={...a};if(L.id||(L.id=crypto.randomUUID()),a.id){const{error:$}=await En.from("coworking_header").update(L).eq("id",a.id);if($)throw $}else{const{error:$}=await En.from("coworking_header").insert([L]);if($)throw $}s(L),d(null)}catch(L){console.error("Error saving header:",L),d("Ошибка при сохранении заголовка")}},I=async()=>{try{if(!u)return;const{error:L}=await En.from("coworking_info_table").update(u).eq("id",u.id);if(L)throw L;await D(),f(null),v(!1)}catch(L){console.error("Error saving service:",L),d("Ошибка при сохранении")}},B=async()=>{try{if(!h.name||h.price<=0)return;const L=r.reduce((q,K)=>K.order>q?K.order:q,0),{data:$,error:z}=await En.from("coworking_info_table").insert([{...h,order:L+1}]).select();if(z)throw z;n(q=>[...q,...$||[]]),m({name:"",description:"",price:0,currency:"euro",period:"час",active:!0,image_url:"",main_service:!0}),v(!1)}catch(L){console.error("Error adding service:",L),d("Ошибка при добавлении услуги")}},P=async L=>{try{const{error:$}=await En.from("coworking_info_table").delete().eq("id",L);if($)throw $;n(z=>z.filter(q=>q.id!==L))}catch($){console.error("Error deleting service:",$),d("Ошибка при удалении услуги")}},A=async(L,$)=>{try{const z=r.findIndex(ee=>ee.id===L);if(z===-1)return;const q=$==="up"?z-1:z+1;if(q<0||q>=r.length)return;const K=r[z].order,H=[...r];H[z].order=H[q].order,H[q].order=K,n(H.sort((ee,ne)=>ee.order-ne.order)),await En.from("coworking_info_table").update({order:H[z].order}).eq("id",H[z].id),await En.from("coworking_info_table").update({order:H[q].order}).eq("id",H[q].id)}catch(z){console.error("Error moving service:",z),d("Ошибка при изменении порядка")}},F=L=>{const $=L.currency==="euro"?"€":L.currency==="кофе"?"☕":"RSD";return`${L.price} ${$}/${L.period}`};return o?i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-8 w-64 bg-gray-200 dark:bg-dark-700 rounded"}),i.jsx("div",{className:"h-12 bg-gray-200 dark:bg-dark-700 rounded"}),i.jsx("div",{className:"h-64 bg-gray-200 dark:bg-dark-700 rounded"})]})}):c?i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"text-red-600 dark:text-red-400 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:c})}):i.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Управление услугами коворкинга"}),i.jsxs("button",{onClick:()=>{f(null),m({name:"",description:"",price:0,currency:"euro",period:"час",active:!0,image_url:"",main_service:!0}),v(!0)},className:"flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[i.jsx(Nn,{size:18}),"Добавить услугу"]})]}),i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow overflow-hidden mb-8",children:i.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700",children:[i.jsx("h3",{className:"font-medium mb-4 text-gray-900 dark:text-white",children:"Заголовок страницы"}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Заголовок"}),i.jsx("input",{type:"text",value:a.title,onChange:L=>s({...a,title:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-dark-800"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Описание"}),i.jsx("textarea",{value:a.description,onChange:L=>s({...a,description:L.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-dark-800"})]})]}),i.jsx("div",{className:"mt-6 flex justify-end",children:i.jsxs("button",{onClick:j,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[i.jsx(Wr,{size:18,className:"inline mr-2"}),"Сохранить заголовок"]})})]})}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow overflow-hidden mb-8",children:[i.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-dark-700",children:i.jsxs("div",{className:"relative w-64",children:[i.jsx(ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500"}),i.jsx("input",{type:"text",placeholder:"Поиск услуг...",value:e,onChange:L=>t(L.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700"})]})}),y&&i.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-700/30",children:[i.jsx("h3",{className:"font-medium mb-4 text-gray-900 dark:text-white",children:u?"Редактирование услуги":"Добавление новой услуги"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Название"}),i.jsx("input",{type:"text",value:u?u.name||"":h.name,onChange:L=>u?f({...u,name:L.target.value}):m({...h,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-dark-800"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Цена"}),i.jsx("input",{type:"number",value:u?u.price||0:h.price,onChange:L=>u?f({...u,price:Number(L.target.value)}):m({...h,price:Number(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-dark-800"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Валюта"}),i.jsxs("select",{value:u?u.currency||"euro":h.currency,onChange:L=>u?f({...u,currency:L.target.value}):m({...h,currency:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-dark-800",children:[i.jsx("option",{value:"euro",children:"Евро (€)"}),i.jsx("option",{value:"кофе",children:"Кофе (☕)"}),i.jsx("option",{value:"RSD",children:"Серб. динар (RSD)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Период"}),i.jsxs("select",{value:u?u.period||"час":h.period,onChange:L=>u?f({...u,period:L.target.value}):m({...h,period:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-dark-800",children:[i.jsx("option",{value:"час",children:"Час"}),i.jsx("option",{value:"день",children:"День"}),i.jsx("option",{value:"месяц",children:"Месяц"}),i.jsx("option",{value:"Страница",children:"Страница"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Описание"}),i.jsx("textarea",{value:u?u.description||"":h.description,onChange:L=>u?f({...u,description:L.target.value}):m({...h,description:L.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-dark-700 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-dark-800"})]}),i.jsx("div",{className:"md:col-span-2",children:i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:u?u.main_service!==!1:h.main_service!==!1,onChange:L=>u?f({...u,main_service:L.target.checked}):m({...h,main_service:L.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 dark:border-dark-600 dark:bg-dark-700"}),i.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Основная услуга (если выключено - будет отображаться как дополнительная)"})]})}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Изображение"}),((u==null?void 0:u.image_url)||h.image_url)&&!b&&i.jsx("div",{className:"mb-4",children:i.jsx("img",{src:u?u.image_url:h.image_url,alt:"Current service",className:"h-32 w-32 object-cover rounded-lg"})}),b?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex flex-col items-center",children:i.jsx(Vq,{crop:p,onChange:L=>x(L),onComplete:L=>_(L),aspect:1,className:"max-h-64",children:i.jsx("img",{ref:O,alt:"Crop me",src:b,onLoad:N,className:"max-h-64"})})}),w&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Предпросмотр:"}),i.jsx("canvas",{ref:T,style:{display:"block",objectFit:"contain",width:150,height:150}})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>g(""),className:"px-4 py-2 border border-gray-300 dark:border-dark-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:"Отмена"}),i.jsx("button",{onClick:C,disabled:!w||S,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors disabled:opacity-50",children:S?"Загрузка...":"Сохранить изображение"})]})]}):i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 hover:bg-gray-200 dark:hover:bg-dark-600 rounded-lg cursor-pointer transition-colors",children:[i.jsx(fb,{size:18}),"Загрузить новое изображение",i.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"hidden"})]}),((u==null?void 0:u.image_url)||h.image_url)&&i.jsx("button",{onClick:()=>u?f({...u,image_url:""}):m({...h,image_url:""}),className:"text-red-600 hover:text-red-700",children:"Удалить изображение"})]})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:u?u.active!==!1:h.active,onChange:L=>u?f({...u,active:L.target.checked}):m({...h,active:L.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 dark:border-dark-600 dark:bg-dark-700"}),i.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Активна"})]})})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{f(null),v(!1),g("")},className:"px-4 py-2 border border-gray-300 dark:border-dark-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-700 transition-colors",children:"Отмена"}),i.jsxs("button",{onClick:u?I:B,disabled:!(u!=null&&u.name)&&!h.name,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[i.jsx(Wr,{size:18,className:"inline mr-2"}),u?"Сохранить":"Добавить"]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-dark-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-dark-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Порядок"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Название"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Описание"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Тип"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Стоимость"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Статус"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Действия"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-dark-800 divide-y divide-gray-200 dark:divide-dark-700",children:r.filter(L=>L.name.toLowerCase().includes(e.toLowerCase())||L.description.toLowerCase().includes(e.toLowerCase())).map(L=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-700/50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("button",{onClick:()=>A(L.id,"up"),className:"text-gray-500 hover:text-primary-600 p-1",disabled:L.order===1,children:i.jsx(zM,{size:18})}),i.jsx("span",{className:"text-sm font-medium",children:L.order}),i.jsx("button",{onClick:()=>A(L.id,"down"),className:"text-gray-500 hover:text-primary-600 p-1",disabled:L.order===r.length,children:i.jsx(pd,{size:18})})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[L.image_url&&i.jsx("img",{src:L.image_url,alt:L.name,className:"h-10 w-10 rounded-full object-cover mr-3"}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.name})]})}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:i.jsx("div",{className:"line-clamp-2",children:L.description})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.main_service?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:L.main_service?"Основная":"Дополнительная"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:F(L)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:L.active?"Активна":"Неактивна"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{f(L),v(!0),g("")},className:"text-primary-600 hover:text-primary-700",title:"Редактировать",children:i.jsx(pn,{size:18})}),i.jsx("button",{onClick:()=>P(L.id),className:"text-red-600 hover:text-red-700",title:"Удалить",children:i.jsx(Ir,{size:18})})]})})]},L.id))})]})})]})]})},lc=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),Xq=()=>i.jsxs("div",{className:"flex justify-center items-center py-12",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Nt,{className:"w-8 h-8 animate-spin text-primary-500"}),i.jsx("div",{className:"absolute inset-0 w-8 h-8 border-2 border-primary-200 dark:border-primary-800 rounded-full"})]}),i.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300 font-medium",children:"Загрузка данных..."})]}),Kq=()=>{var B,P,A,F;const[e,t]=k.useState(null),[r,n]=k.useState(!0),[a,s]=k.useState(!1),[o,l]=k.useState({}),[c,d]=k.useState({name:"",price:0,duration:"hour",description:""}),[u,f]=k.useState(!1),[h,m]=k.useState(null),[y,v]=k.useState(null),[b,g]=k.useState(!1),p=k.useRef(null),x=k.useRef(null);k.useEffect(()=>{w()},[]);const w=async()=>{try{n(!0);const{data:L,error:$}=await lc.from("rent_info_settings").select("*").single();if($)throw $;t(L),l(L||{})}catch(L){console.error("Error fetching settings:",L),X.error("Не удалось загрузить настройки")}finally{n(!1)}},_=async()=>{try{s(!0);const{error:L}=await lc.from("rent_info_settings").update(o).eq("id",e==null?void 0:e.id);if(L)throw L;await w(),X.success("Настройки успешно сохранены")}catch(L){console.error("Error saving settings:",L),X.error("Ошибка при сохранении настроек")}finally{s(!1)}},S=()=>{if(!c.name||c.price<=0)return;const L=[...o.pricelist||[],{...c,id:Date.now().toString()}];l($=>({...$,pricelist:L})),d({name:"",price:0,duration:"hour",description:""})},E=L=>{const $=(o.pricelist||[]).filter(z=>z.id!==L);l(z=>({...z,pricelist:$}))},O=(L,$)=>{l(z=>({...z,[$]:L.target.value}))},T=(L,$)=>{l(z=>({...z,contacts:{...z.contacts||{},[$]:L.target.value}}))},D=(L,$)=>{d(z=>({...z,[$]:$==="price"?Number(L.target.value):L.target.value}))},R=async L=>{if(L.target.files&&L.target.files.length>0){const $=L.target.files[0];if($.size>5*1024*1024){X.error("Файл слишком большой. Максимальный размер 5MB.");return}m($),g(!0)}},N=()=>{if(p.current&&p.current.cropper){const L=p.current.cropper.getCroppedCanvas();v(L.toDataURL("image/jpeg",.8))}},C=async()=>{if(!(!y||!h))try{f(!0);const L=await fetch(y).then(ae=>ae.blob()),$=Date.now(),z=h.name.split(".").pop(),K=`rent_photos/${`${$}.${z}`}`,{data:H,error:ee}=await lc.storage.from("images").upload(K,L,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(ee)throw ee;const{data:ne}=lc.storage.from("images").getPublicUrl(K),re=[...o.photos||[],ne.publicUrl];l(ae=>({...ae,photos:re})),X.success("Фото успешно загружено"),I()}catch(L){console.error("Error uploading photo:",L),X.error("Ошибка при загрузке фото")}finally{f(!1)}},j=async L=>{try{const $=L.split("/"),q=`rent_photos/${$[$.length-1]}`,{error:K}=await lc.storage.from("images").remove([q]);if(K)throw K;const H=(o.photos||[]).filter(ee=>ee!==L);l(ee=>({...ee,photos:H})),X.success("Фото успешно удалено")}catch($){console.error("Error deleting photo:",$),X.error("Ошибка при удалении фото")}},I=()=>{m(null),v(null),g(!1),x.current&&(x.current.value="")};return r?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx(Xq,{})})}):e?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:[i.jsx("input",{type:"file",ref:x,onChange:R,accept:"image/*",className:"hidden"}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-12 text-center",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-4 font-heading",children:"Управление арендой"}),i.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Настройте информацию о ваших помещениях для аренды"})]}),i.jsx("div",{className:"flex justify-center mb-10",children:i.jsx("button",{onClick:_,disabled:a,className:"inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg font-heading",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-5 h-5 animate-spin"}),"Сохранение..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Wr,{className:"w-5 h-5"}),"Сохранить изменения"]})})}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/30 dark:to-primary-800/30 rounded-xl mr-4",children:i.jsx(bm,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"Основные настройки"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Заголовок и описание страницы аренды"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Заголовок страницы"}),i.jsx("input",{type:"text",value:o.title||"",onChange:L=>O(L,"title"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"Введите заголовок страницы аренды"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Описание страницы"}),i.jsx("textarea",{value:o.description||"",onChange:L=>O(L,"description"),rows:4,className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200 resize-none",placeholder:"Опишите ваши помещения для аренды..."})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl mr-4",children:i.jsx(zr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"Фотогалерея"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Загрузите фотографии ваших помещений"})]})]}),i.jsx("div",{className:"mb-8",children:b?i.jsxs("div",{className:"space-y-6 p-6 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-xl border border-gray-200 dark:border-gray-700",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Обрезка изображения"}),i.jsx("div",{className:"h-64 w-full relative rounded-lg overflow-hidden",children:i.jsx(kT,{src:h?URL.createObjectURL(h):"",style:{height:"100%",width:"100%"},initialAspectRatio:16/9,guides:!0,ref:p,crop:N,viewMode:1,minCropBoxHeight:100,minCropBoxWidth:100,responsive:!0,autoCropArea:1,checkOrientation:!1})}),y&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Предпросмотр:"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("img",{src:y,alt:"Cropped preview",className:"max-h-40 rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-lg"})})]}),i.jsxs("div",{className:"flex gap-3 justify-center",children:[i.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-6 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200",children:[i.jsx(_t,{className:"w-5 h-5"}),"Отмена"]}),i.jsx("button",{onClick:C,disabled:u||!y,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 disabled:transform-none",children:u?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-5 h-5 animate-spin"}),"Загрузка..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Wr,{className:"w-5 h-5"}),"Загрузить фото"]})})]})]}):i.jsx("div",{className:"p-8 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700/30 dark:to-gray-600/30 hover:border-primary-400 dark:hover:border-primary-500 transition-all duration-200",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"p-4 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/30 dark:to-primary-800/30 rounded-full",children:i.jsx(zr,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})})}),i.jsx("button",{onClick:()=>{var L;return(L=x.current)==null?void 0:L.click()},className:"text-primary-600 dark:text-primary-400 font-semibold hover:text-primary-700 dark:hover:text-primary-300 transition-colors duration-200",children:"Нажмите для загрузки фото"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"или перетащите файл сюда"}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"JPG, PNG (максимум 5MB)"})]})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Текущие фотографии"}),o.photos&&o.photos.length>0?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:o.photos.map((L,$)=>i.jsxs("div",{className:"group relative",children:[i.jsx("div",{className:"aspect-square rounded-xl overflow-hidden border-2 border-gray-200 dark:border-gray-600 shadow-lg hover:shadow-xl transition-all duration-300",children:i.jsx("img",{src:L,alt:`Rent photo ${$+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),i.jsx("button",{onClick:()=>j(L),className:"absolute top-2 right-2 p-2 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 transform hover:scale-110 shadow-lg",title:"Удалить фото",children:i.jsx(Ir,{className:"w-4 h-4"})})]},$))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(zr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Нет загруженных фотографий"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Добавьте фотографии ваших помещений"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 rounded-xl mr-4",children:i.jsx(Ms,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"Прайс-лист"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Варианты аренды и цены"})]})]}),i.jsxs("button",{onClick:S,disabled:!c.name||c.price<=0,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg font-heading disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[i.jsx(Nn,{className:"w-5 h-5"}),"Добавить вариант"]})]}),i.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-xl border border-gray-200 dark:border-gray-700",children:[i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Добавить новый вариант"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Название"}),i.jsx("input",{type:"text",value:c.name,onChange:L=>D(L,"name"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"Стандартный зал"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Цена (₽)"}),i.jsx("input",{type:"number",value:c.price,onChange:L=>D(L,"price"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"1000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Период"}),i.jsxs("select",{value:c.duration,onChange:L=>D(L,"duration"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",children:[i.jsx("option",{value:"hour",children:"Почасово"}),i.jsx("option",{value:"day",children:"Посуточно"}),i.jsx("option",{value:"week",children:"Понедельно"}),i.jsx("option",{value:"month",children:"Помесячно"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Описание"}),i.jsx("input",{type:"text",value:c.description||"",onChange:L=>D(L,"description"),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-primary-500 focus:ring-2 focus:ring-primary-200 dark:focus:ring-primary-800 transition-all duration-200",placeholder:"Дополнительная информация"})]})]})]}),i.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 dark:border-gray-700",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Название"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Цена"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Период"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Описание"}),i.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Действия"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-dark-800 divide-y divide-gray-200 dark:divide-gray-700",children:(o.pricelist||[]).length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[i.jsx(Ms,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Нет вариантов аренды"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Добавьте варианты аренды с ценами"})]})}):(o.pricelist||[]).map(L=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors duration-200",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:L.name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:[L.price.toLocaleString("ru-RU")," ₽"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:{hour:"Час",day:"День",week:"Неделя",month:"Месяц"}[L.duration]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-xs",children:L.description||"-"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:i.jsx("button",{onClick:()=>E(L.id),className:"inline-flex items-center justify-center w-8 h-8 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-all duration-200 transform hover:scale-110",title:"Удалить",children:i.jsx(Ir,{className:"w-4 h-4"})})})]},L.id))})]})})})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-2xl shadow-lg p-8 border border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl mr-4",children:i.jsx(cl,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white font-heading",children:"Контактная информация"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Способы связи для аренды"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[i.jsx(Pt,{className:"w-4 h-4 text-orange-500"}),"Адрес"]}),i.jsx("input",{type:"text",value:((B=o.contacts)==null?void 0:B.address)||"",onChange:L=>T(L,"address"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"г. Москва, ул. Примерная, д. 1"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[i.jsx(cl,{className:"w-4 h-4 text-orange-500"}),"Телефон"]}),i.jsx("input",{type:"tel",value:((P=o.contacts)==null?void 0:P.phone)||"",onChange:L=>T(L,"phone"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"+7 (999) 123-45-67"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[i.jsx(Tl,{className:"w-4 h-4 text-orange-500"}),"Email"]}),i.jsx("input",{type:"email",value:((A=o.contacts)==null?void 0:A.email)||"",onChange:L=>T(L,"email"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"example@mail.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:[i.jsx(Pt,{className:"w-4 h-4 text-orange-500"}),"Ссылка на карту"]}),i.jsx("input",{type:"url",value:((F=o.contacts)==null?void 0:F.map_link)||"",onChange:L=>T(L,"map_link"),className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 dark:focus:ring-orange-800 transition-all duration-200",placeholder:"https://yandex.ru/maps/..."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Загружено фото"}),i.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:(o.photos||[]).length})]}),i.jsx("div",{className:"p-3 bg-blue-200 dark:bg-blue-800 rounded-xl",children:i.jsx(zr,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})]})}),i.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-2xl p-6 border border-green-200 dark:border-green-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Вариантов аренды"}),i.jsx("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:(o.pricelist||[]).length})]}),i.jsx("div",{className:"p-3 bg-green-200 dark:bg-green-800 rounded-xl",children:i.jsx(Ms,{className:"w-8 h-8 text-green-600 dark:text-green-400"})})]})}),i.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Мин. цена"}),i.jsx("p",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:(o.pricelist||[]).length>0?`${Math.min(...(o.pricelist||[]).map(L=>L.price)).toLocaleString("ru-RU")} ₽`:"—"})]}),i.jsx("div",{className:"p-3 bg-purple-200 dark:bg-purple-800 rounded-xl",children:i.jsx(lh,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})})]})})]})]}),i.jsx("div",{className:"fixed bottom-6 right-6 md:hidden",children:i.jsx("button",{onClick:_,disabled:a,className:"flex items-center gap-2 px-6 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white rounded-full shadow-2xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:a?i.jsx(Nt,{className:"w-6 h-6 animate-spin"}):i.jsx(Wr,{className:"w-6 h-6"})})})]})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8 font-sans",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"text-center py-12",children:i.jsx("div",{className:"text-yellow-600 dark:text-yellow-400 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:"Настройки аренды не найдены. Создайте новую запись."})})})})};function NT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Sv(e,t)}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},be.apply(null,arguments)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){G$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var nN=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),aN=function(){return Math.random().toString(36).substring(7).split("").join(".")},sN={INIT:"@@redux/INIT"+aN(),REPLACE:"@@redux/REPLACE"+aN()};function Jq(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function _T(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Nr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Nr(1));return r(_T)(e,t)}if(typeof e!="function")throw new Error(Nr(2));var a=e,s=t,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw new Error(Nr(3));return s}function f(v){if(typeof v!="function")throw new Error(Nr(4));if(c)throw new Error(Nr(5));var b=!0;return d(),l.push(v),function(){if(b){if(c)throw new Error(Nr(6));b=!1,d();var p=l.indexOf(v);l.splice(p,1),o=null}}}function h(v){if(!Jq(v))throw new Error(Nr(7));if(typeof v.type>"u")throw new Error(Nr(8));if(c)throw new Error(Nr(9));try{c=!0,s=a(s,v)}finally{c=!1}for(var b=o=l,g=0;g<b.length;g++){var p=b[g];p()}return v}function m(v){if(typeof v!="function")throw new Error(Nr(10));a=v,h({type:sN.REPLACE})}function y(){var v,b=f;return v={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(Nr(11));function x(){p.next&&p.next(u())}x();var w=b(x);return{unsubscribe:w}}},v[nN]=function(){return this},v}return h({type:sN.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:m},n[nN]=y,n}function iN(e,t){return function(){return t(e.apply(this,arguments))}}function oN(e,t){if(typeof e=="function")return iN(e,t);if(typeof e!="object"||e===null)throw new Error(Nr(16));var r={};for(var n in e){var a=e[n];typeof a=="function"&&(r[n]=iN(a,t))}return r}function ST(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function Qq(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),s=function(){throw new Error(Nr(15))},o={getState:a.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return s=ST.apply(void 0,l)(a.dispatch),rN(rN({},a),{},{dispatch:s})}}}var CT={exports:{}},Zq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eG=Zq,tG=eG;function ET(){}function TT(){}TT.resetWarningCache=ET;var rG=function(){function e(n,a,s,o,l,c){if(c!==tG){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TT,resetWarningCache:ET};return r.PropTypes=r,r};CT.exports=rG();var DT=CT.exports,PT=Z.createContext(null);function nG(e){e()}var OT=nG,aG=function(t){return OT=t},sG=function(){return OT};function iG(){var e=sG(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],s=t;s;)a.push(s),s=s.next;return a},subscribe:function(a){var s=!0,o=r={callback:a,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var lN={notify:function(){},get:function(){return[]}};function IT(e,t){var r,n=lN;function a(f){return c(),n.subscribe(f)}function s(){n.notify()}function o(){u.onStateChange&&u.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=iG())}function d(){r&&(r(),r=void 0,n.clear(),n=lN)}var u={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return n}};return u}var MT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect;function oG(e){var t=e.store,r=e.context,n=e.children,a=k.useMemo(function(){var l=IT(t);return{store:t,subscription:l}},[t]),s=k.useMemo(function(){return t.getState()},[t]);MT(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,s]);var o=r||PT;return Z.createElement(o.Provider,{value:a},n)}function Ah(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RT={exports:{}},Ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=typeof Symbol=="function"&&Symbol.for,tw=Ut?Symbol.for("react.element"):60103,rw=Ut?Symbol.for("react.portal"):60106,Vm=Ut?Symbol.for("react.fragment"):60107,qm=Ut?Symbol.for("react.strict_mode"):60108,Gm=Ut?Symbol.for("react.profiler"):60114,Ym=Ut?Symbol.for("react.provider"):60109,Xm=Ut?Symbol.for("react.context"):60110,nw=Ut?Symbol.for("react.async_mode"):60111,Km=Ut?Symbol.for("react.concurrent_mode"):60111,Jm=Ut?Symbol.for("react.forward_ref"):60112,Qm=Ut?Symbol.for("react.suspense"):60113,lG=Ut?Symbol.for("react.suspense_list"):60120,Zm=Ut?Symbol.for("react.memo"):60115,ep=Ut?Symbol.for("react.lazy"):60116,cG=Ut?Symbol.for("react.block"):60121,dG=Ut?Symbol.for("react.fundamental"):60117,uG=Ut?Symbol.for("react.responder"):60118,fG=Ut?Symbol.for("react.scope"):60119;function Jr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tw:switch(e=e.type,e){case nw:case Km:case Vm:case Gm:case qm:case Qm:return e;default:switch(e=e&&e.$$typeof,e){case Xm:case Jm:case ep:case Zm:case Ym:return e;default:return t}}case rw:return t}}}function AT(e){return Jr(e)===Km}Ge.AsyncMode=nw;Ge.ConcurrentMode=Km;Ge.ContextConsumer=Xm;Ge.ContextProvider=Ym;Ge.Element=tw;Ge.ForwardRef=Jm;Ge.Fragment=Vm;Ge.Lazy=ep;Ge.Memo=Zm;Ge.Portal=rw;Ge.Profiler=Gm;Ge.StrictMode=qm;Ge.Suspense=Qm;Ge.isAsyncMode=function(e){return AT(e)||Jr(e)===nw};Ge.isConcurrentMode=AT;Ge.isContextConsumer=function(e){return Jr(e)===Xm};Ge.isContextProvider=function(e){return Jr(e)===Ym};Ge.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tw};Ge.isForwardRef=function(e){return Jr(e)===Jm};Ge.isFragment=function(e){return Jr(e)===Vm};Ge.isLazy=function(e){return Jr(e)===ep};Ge.isMemo=function(e){return Jr(e)===Zm};Ge.isPortal=function(e){return Jr(e)===rw};Ge.isProfiler=function(e){return Jr(e)===Gm};Ge.isStrictMode=function(e){return Jr(e)===qm};Ge.isSuspense=function(e){return Jr(e)===Qm};Ge.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Vm||e===Km||e===Gm||e===qm||e===Qm||e===lG||typeof e=="object"&&e!==null&&(e.$$typeof===ep||e.$$typeof===Zm||e.$$typeof===Ym||e.$$typeof===Xm||e.$$typeof===Jm||e.$$typeof===dG||e.$$typeof===uG||e.$$typeof===fG||e.$$typeof===cG)};Ge.typeOf=Jr;RT.exports=Ge;var hG=RT.exports,aw=hG,mG={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pG={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},LT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sw={};sw[aw.ForwardRef]=gG;sw[aw.Memo]=LT;function cN(e){return aw.isMemo(e)?LT:sw[e.$$typeof]||mG}var vG=Object.defineProperty,xG=Object.getOwnPropertyNames,dN=Object.getOwnPropertySymbols,yG=Object.getOwnPropertyDescriptor,bG=Object.getPrototypeOf,uN=Object.prototype;function $T(e,t,r){if(typeof t!="string"){if(uN){var n=bG(t);n&&n!==uN&&$T(e,n,r)}var a=xG(t);dN&&(a=a.concat(dN(t)));for(var s=cN(e),o=cN(t),l=0;l<a.length;++l){var c=a[l];if(!pG[c]&&!(r&&r[c])&&!(o&&o[c])&&!(s&&s[c])){var d=yG(t,c);try{vG(e,c,d)}catch{}}}}return e}var wG=$T;const fN=pa(wG);var zT={exports:{}},Je={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=60103,rp=60106,eu=60107,tu=60108,ru=60114,nu=60109,au=60110,su=60112,iu=60113,iw=60120,ou=60115,lu=60116,FT=60121,BT=60122,UT=60117,WT=60129,HT=60131;if(typeof Symbol=="function"&&Symbol.for){var Wt=Symbol.for;tp=Wt("react.element"),rp=Wt("react.portal"),eu=Wt("react.fragment"),tu=Wt("react.strict_mode"),ru=Wt("react.profiler"),nu=Wt("react.provider"),au=Wt("react.context"),su=Wt("react.forward_ref"),iu=Wt("react.suspense"),iw=Wt("react.suspense_list"),ou=Wt("react.memo"),lu=Wt("react.lazy"),FT=Wt("react.block"),BT=Wt("react.server.block"),UT=Wt("react.fundamental"),WT=Wt("react.debug_trace_mode"),HT=Wt("react.legacy_hidden")}function Vn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tp:switch(e=e.type,e){case eu:case ru:case tu:case iu:case iw:return e;default:switch(e=e&&e.$$typeof,e){case au:case su:case lu:case ou:case nu:return e;default:return t}}case rp:return t}}}var kG=nu,jG=tp,NG=su,_G=eu,SG=lu,CG=ou,EG=rp,TG=ru,DG=tu,PG=iu;Je.ContextConsumer=au;Je.ContextProvider=kG;Je.Element=jG;Je.ForwardRef=NG;Je.Fragment=_G;Je.Lazy=SG;Je.Memo=CG;Je.Portal=EG;Je.Profiler=TG;Je.StrictMode=DG;Je.Suspense=PG;Je.isAsyncMode=function(){return!1};Je.isConcurrentMode=function(){return!1};Je.isContextConsumer=function(e){return Vn(e)===au};Je.isContextProvider=function(e){return Vn(e)===nu};Je.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tp};Je.isForwardRef=function(e){return Vn(e)===su};Je.isFragment=function(e){return Vn(e)===eu};Je.isLazy=function(e){return Vn(e)===lu};Je.isMemo=function(e){return Vn(e)===ou};Je.isPortal=function(e){return Vn(e)===rp};Je.isProfiler=function(e){return Vn(e)===ru};Je.isStrictMode=function(e){return Vn(e)===tu};Je.isSuspense=function(e){return Vn(e)===iu};Je.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===eu||e===ru||e===WT||e===tu||e===iu||e===iw||e===HT||typeof e=="object"&&e!==null&&(e.$$typeof===lu||e.$$typeof===ou||e.$$typeof===nu||e.$$typeof===au||e.$$typeof===su||e.$$typeof===UT||e.$$typeof===FT||e[0]===BT)};Je.typeOf=Vn;zT.exports=Je;var OG=zT.exports,IG=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],MG=["reactReduxForwardedRef"],RG=[],AG=[null,null];function LG(e,t){var r=e[1];return[t.payload,r+1]}function hN(e,t,r){MT(function(){return e.apply(void 0,t)},r)}function $G(e,t,r,n,a,s,o){e.current=n,t.current=a,r.current=!1,s.current&&(s.current=null,o())}function zG(e,t,r,n,a,s,o,l,c,d){if(e){var u=!1,f=null,h=function(){if(!u){var v=t.getState(),b,g;try{b=n(v,a.current)}catch(p){g=p,f=p}g||(f=null),b===s.current?o.current||c():(s.current=b,l.current=b,o.current=!0,d({type:"STORE_UPDATED",payload:{error:g}}))}};r.onStateChange=h,r.trySubscribe(),h();var m=function(){if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return m}}var FG=function(){return[null,0]};function BG(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,a=n===void 0?function(x){return"ConnectAdvanced("+x+")"}:n,s=r.methodName,o=s===void 0?"connectAdvanced":s,l=r.renderCountProp,c=l===void 0?void 0:l,d=r.shouldHandleStateChanges,u=d===void 0?!0:d,f=r.storeKey,h=f===void 0?"store":f;r.withRef;var m=r.forwardRef,y=m===void 0?!1:m,v=r.context,b=v===void 0?PT:v,g=Ah(r,IG),p=b;return function(w){var _=w.displayName||w.name||"Component",S=a(_),E=be({},g,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:u,storeKey:h,displayName:S,wrappedComponentName:_,WrappedComponent:w}),O=g.pure;function T(j){return e(j.dispatch,E)}var D=O?k.useMemo:function(j){return j()};function R(j){var I=k.useMemo(function(){var V=j.reactReduxForwardedRef,Q=Ah(j,MG);return[j.context,V,Q]},[j]),B=I[0],P=I[1],A=I[2],F=k.useMemo(function(){return B&&B.Consumer&&OG.isContextConsumer(Z.createElement(B.Consumer,null))?B:p},[B,p]),L=k.useContext(F),$=!!j.store&&!!j.store.getState&&!!j.store.dispatch;L&&L.store;var z=$?j.store:L.store,q=k.useMemo(function(){return T(z)},[z]),K=k.useMemo(function(){if(!u)return AG;var V=IT(z,$?null:L.subscription),Q=V.notifyNestedSubs.bind(V);return[V,Q]},[z,$,L]),H=K[0],ee=K[1],ne=k.useMemo(function(){return $?L:be({},L,{subscription:H})},[$,L,H]),re=k.useReducer(LG,RG,FG),ae=re[0],me=ae[0],fe=re[1];if(me&&me.error)throw me.error;var De=k.useRef(),ve=k.useRef(A),M=k.useRef(),J=k.useRef(!1),G=D(function(){return M.current&&A===ve.current?M.current:q(z.getState(),A)},[z,me,A]);hN($G,[ve,De,J,A,G,M,ee]),hN(zG,[u,z,H,q,ve,De,J,M,ee,fe],[z,H,q]);var W=k.useMemo(function(){return Z.createElement(w,be({},G,{ref:P}))},[P,w,G]),U=k.useMemo(function(){return u?Z.createElement(F.Provider,{value:ne},W):W},[F,W,ne]);return U}var N=O?Z.memo(R):R;if(N.WrappedComponent=w,N.displayName=R.displayName=S,y){var C=Z.forwardRef(function(I,B){return Z.createElement(N,be({},I,{reactReduxForwardedRef:B}))});return C.displayName=S,C.WrappedComponent=w,fN(C,w)}return fN(N,w)}}function mN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Vg(e,t){if(mN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!mN(e[r[a]],t[r[a]]))return!1;return!0}function UG(e,t){var r={},n=function(o){var l=e[o];typeof l=="function"&&(r[o]=function(){return t(l.apply(void 0,arguments))})};for(var a in e)n(a);return r}function ow(e){return function(r,n){var a=e(r,n);function s(){return a}return s.dependsOnOwnProps=!1,s}}function pN(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function VT(e,t){return function(n,a){a.displayName;var s=function(l,c){return s.dependsOnOwnProps?s.mapToProps(l,c):s.mapToProps(l)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,c){s.mapToProps=e,s.dependsOnOwnProps=pN(e);var d=s(l,c);return typeof d=="function"&&(s.mapToProps=d,s.dependsOnOwnProps=pN(d),d=s(l,c)),d},s}}function WG(e){return typeof e=="function"?VT(e):void 0}function HG(e){return e?void 0:ow(function(t){return{dispatch:t}})}function VG(e){return e&&typeof e=="object"?ow(function(t){return UG(e,t)}):void 0}const qG=[WG,HG,VG];function GG(e){return typeof e=="function"?VT(e):void 0}function YG(e){return e?void 0:ow(function(){return{}})}const XG=[GG,YG];function KG(e,t,r){return be({},r,e,t)}function JG(e){return function(r,n){n.displayName;var a=n.pure,s=n.areMergedPropsEqual,o=!1,l;return function(d,u,f){var h=e(d,u,f);return o?(!a||!s(h,l))&&(l=h):(o=!0,l=h),l}}}function QG(e){return typeof e=="function"?JG(e):void 0}function ZG(e){return e?void 0:function(){return KG}}const eY=[QG,ZG];var tY=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function rY(e,t,r,n){return function(s,o){return r(e(s,o),t(n,o),o)}}function nY(e,t,r,n,a){var s=a.areStatesEqual,o=a.areOwnPropsEqual,l=a.areStatePropsEqual,c=!1,d,u,f,h,m;function y(x,w){return d=x,u=w,f=e(d,u),h=t(n,u),m=r(f,h,u),c=!0,m}function v(){return f=e(d,u),t.dependsOnOwnProps&&(h=t(n,u)),m=r(f,h,u),m}function b(){return e.dependsOnOwnProps&&(f=e(d,u)),t.dependsOnOwnProps&&(h=t(n,u)),m=r(f,h,u),m}function g(){var x=e(d,u),w=!l(x,f);return f=x,w&&(m=r(f,h,u)),m}function p(x,w){var _=!o(w,u),S=!s(x,d,w,u);return d=x,u=w,_&&S?v():_?b():S?g():m}return function(w,_){return c?p(w,_):y(w,_)}}function aY(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,s=Ah(t,tY),o=r(e,s),l=n(e,s),c=a(e,s),d=s.pure?nY:rY;return d(o,l,c,e,s)}var sY=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function qg(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(s,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function iY(e,t){return e===t}function oY(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?BG:r,a=t.mapStateToPropsFactories,s=a===void 0?XG:a,o=t.mapDispatchToPropsFactories,l=o===void 0?qG:o,c=t.mergePropsFactories,d=c===void 0?eY:c,u=t.selectorFactory,f=u===void 0?aY:u;return function(m,y,v,b){b===void 0&&(b={});var g=b,p=g.pure,x=p===void 0?!0:p,w=g.areStatesEqual,_=w===void 0?iY:w,S=g.areOwnPropsEqual,E=S===void 0?Vg:S,O=g.areStatePropsEqual,T=O===void 0?Vg:O,D=g.areMergedPropsEqual,R=D===void 0?Vg:D,N=Ah(g,sY),C=qg(m,s,"mapStateToProps"),j=qg(y,l,"mapDispatchToProps"),I=qg(v,d,"mergeProps");return n(f,be({methodName:"connect",getDisplayName:function(P){return"Connect("+P+")"},shouldHandleStateChanges:!!m,initMapStateToProps:C,initMapDispatchToProps:j,initMergeProps:I,pure:x,areStatesEqual:_,areOwnPropsEqual:E,areStatePropsEqual:T,areMergedPropsEqual:R},N))}}const qT=oY();aG(hm.unstable_batchedUpdates);function lY(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function GT(e,t){var r=k.useState(function(){return{inputs:t,result:e()}})[0],n=k.useRef(!0),a=k.useRef(r),s=n.current||!!(t&&a.current.inputs&&lY(t,a.current.inputs)),o=s?a.current:{inputs:t,result:e()};return k.useEffect(function(){n.current=!1,a.current=o},[o]),o.result}function cY(e,t){return GT(function(){return e},t)}var ze=GT,ye=cY,dY="Invariant failed";function uY(e,t){throw new Error(dY)}var An=function(t){var r=t.top,n=t.right,a=t.bottom,s=t.left,o=n-s,l=a-r,c={top:r,right:n,bottom:a,left:s,width:o,height:l,x:s,y:r,center:{x:(n+s)/2,y:(a+r)/2}};return c},lw=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},gN=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},fY=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Gg={top:0,right:0,bottom:0,left:0},cw=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?Gg:n,s=t.border,o=s===void 0?Gg:s,l=t.padding,c=l===void 0?Gg:l,d=An(lw(r,a)),u=An(gN(r,o)),f=An(gN(u,c));return{marginBox:d,borderBox:An(r),paddingBox:u,contentBox:f,margin:a,border:o,padding:c}},sn=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&uY(),a},hY=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Lh=function(t,r){var n=t.borderBox,a=t.border,s=t.margin,o=t.padding,l=fY(n,r);return cw({borderBox:l,border:a,margin:s,padding:o})},$h=function(t,r){return r===void 0&&(r=hY()),Lh(t,r)},YT=function(t,r){var n={top:sn(r.marginTop),right:sn(r.marginRight),bottom:sn(r.marginBottom),left:sn(r.marginLeft)},a={top:sn(r.paddingTop),right:sn(r.paddingRight),bottom:sn(r.paddingBottom),left:sn(r.paddingLeft)},s={top:sn(r.borderTopWidth),right:sn(r.borderRightWidth),bottom:sn(r.borderBottomWidth),left:sn(r.borderLeftWidth)};return cw({borderBox:t,margin:n,padding:a,border:s})},XT=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return YT(r,n)},vN=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function mY(e,t){return!!(e===t||vN(e)&&vN(t))}function pY(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!mY(e[r],t[r]))return!1;return!0}function Ft(e,t){t===void 0&&(t=pY);var r,n=[],a,s=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return s&&r===this&&t(l,n)||(a=e.apply(this,l),s=!0,r=this,n=l),a}return o}var _d=function(t){var r=[],n=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function KT(e,t){}KT.bind(null,"warn");KT.bind(null,"error");function As(){}function gY(e,t){return be({},e,{},t)}function yn(e,t,r){var n=t.map(function(a){var s=gY(r,a.options);return e.addEventListener(a.eventName,a.fn,s),function(){e.removeEventListener(a.eventName,a.fn,s)}});return function(){n.forEach(function(s){s()})}}var vY="Invariant failed";function zh(e){this.message=e}zh.prototype.toString=function(){return this.message};function ce(e,t){throw new zh(vY)}var xY=function(e){NT(t,e);function t(){for(var n,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=e.call.apply(e,[this].concat(s))||this,n.callbacks=null,n.unbind=As,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof zh&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=yn(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof zh){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Z.Component),yY=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Fh=function(t){return t+1},bY=function(t){return`
  You have lifted an item in position `+Fh(t.source.index)+`
`},JT=function(t,r){var n=t.droppableId===r.droppableId,a=Fh(t.index),s=Fh(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+s+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+s+`
  `},QT=function(t,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},wY=function(t){var r=t.destination;if(r)return JT(t.source,r);var n=t.combine;return n?QT(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},xN=function(t){return`
  The item has returned to its starting position
  of `+Fh(t.index)+`
`},kY=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+xN(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+JT(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+QT(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+xN(t.source)+`
  `},Pf={dragHandleUsageInstructions:yY,onDragStart:bY,onDragUpdate:wY,onDragEnd:kY},Bt={x:0,y:0},Gt=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Br=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Ls=function(t,r){return t.x===r.x&&t.y===r.y},Rl=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Vi=function(t,r,n){var a;return n===void 0&&(n=0),a={},a[t]=r,a[t==="x"?"y":"x"]=n,a},Sd=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},yN=function(t,r){return Math.min.apply(Math,r.map(function(n){return Sd(t,n)}))},ZT=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},jY=function(e,t){var r=An({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},cu=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},bN=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},NY={top:0,right:0,bottom:0,left:0},_Y=function(t,r){return r?cu(t,r.scroll.diff.displacement):t},SY=function(t,r,n){if(n&&n.increasedBy){var a;return be({},t,(a={},a[r.end]=t[r.end]+n.increasedBy[r.line],a))}return t},CY=function(t,r){return r&&r.shouldClipSubject?jY(r.pageMarginBox,t):An(t)},yl=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,s=_Y(t.marginBox,a),o=SY(s,n,r),l=CY(o,a);return{page:t,withPlaceholder:r,active:l}},dw=function(e,t){e.frame||ce();var r=e.frame,n=Br(t,r.scroll.initial),a=Rl(n),s=be({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),o=yl({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s}),l=be({},e,{frame:s,subject:o});return l};function Bh(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function uw(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Zs(e,t){if(e.find)return e.find(t);var r=uw(e,t);if(r!==-1)return e[r]}function e5(e){return Array.prototype.slice.call(e)}var t5=Ft(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),r5=Ft(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),np=Ft(function(e){return Bh(e)}),EY=Ft(function(e){return Bh(e)}),Al=Ft(function(e,t){var r=EY(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function fw(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function ap(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var sp=Ft(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),TY=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,s=e.previousImpact;if(!n.isCombineEnabled)return null;var o=fw(s);if(!o)return null;function l(v){var b={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return be({},s,{at:b})}var c=s.displaced.all,d=c.length?c[0]:null;if(t)return d?l(d):null;var u=sp(r,a);if(!d){if(!u.length)return null;var f=u[u.length-1];return l(f.descriptor.id)}var h=uw(u,function(v){return v.descriptor.id===d});h===-1&&ce();var m=h-1;if(m<0)return null;var y=u[m];return l(y.descriptor.id)},Ll=function(e,t){return e.descriptor.droppableId===t.descriptor.id},n5={point:Bt,value:0},Cd={invisible:{},visible:{},all:[]},DY={displaced:Cd,displacedBy:n5,at:null},wn=function(e,t){return function(r){return e<=r&&r<=t}},a5=function(e){var t=wn(e.top,e.bottom),r=wn(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var s=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),l=s&&o;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right,u=c&&d;if(u)return!0;var f=c&&o||d&&s;return f}},PY=function(e){var t=wn(e.top,e.bottom),r=wn(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return a}},hw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},s5={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},OY=function(e){return function(t){var r=wn(t.top,t.bottom),n=wn(t.left,t.right);return function(a){return e===hw?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},IY=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Bt;return cu(t,n)},MY=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},RY=function(t,r,n){return n(r)(t)},mw=function(t){var r=t.target,n=t.destination,a=t.viewport,s=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=s?IY(r,n):r;return MY(l,n,o)&&RY(l,a,o)},AY=function(t){return mw(be({},t,{isVisibleThroughFrameFn:a5}))},i5=function(t){return mw(be({},t,{isVisibleThroughFrameFn:PY}))},LY=function(t){return mw(be({},t,{isVisibleThroughFrameFn:OY(t.destination.axis)}))},$Y=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,s=r.visible;if(a[t])return!1;var o=s[t];return o?o.shouldAnimate:!0};function zY(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return An(lw(r,n))}function Ed(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,s=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,d){var u=zY(d,n),f=d.descriptor.id;c.all.push(f);var h=AY({target:u,destination:r,viewport:a,withDroppableDisplacement:!0});if(!h)return c.invisible[d.descriptor.id]=!0,c;var m=$Y(f,o,s),y={draggableId:f,shouldAnimate:m};return c.visible[f]=y,c},{all:[],visible:{},invisible:{}})}function FY(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function wN(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,s=FY(t,{inHomeList:r});return{displaced:Cd,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:s}}}}function Uh(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,s=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,d=Ll(t,n);if(l==null)return wN({insideDestination:r,inHomeList:d,displacedBy:s,destination:n});var u=Zs(r,function(v){return v.descriptor.index===l});if(!u)return wN({insideDestination:r,inHomeList:d,displacedBy:s,destination:n});var f=sp(t,r),h=r.indexOf(u),m=f.slice(h),y=Ed({afterDragging:m,destination:n,displacedBy:s,last:o,viewport:a.frame,forceShouldAnimate:c});return{displaced:y,displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Hs(e,t){return!!t.effected[e]}var BY=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,s=e.afterCritical;if(!r.isCombineEnabled)return null;var o=a.draggableId,l=n[o],c=l.descriptor.index,d=Hs(o,s);return d?t?c:c-1:t?c+1:c},UY=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var s=a.index,o=t?s+1:s-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=r?c:c+1;return o<l||o>d?null:o},WY=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,s=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,u=l.at;if(u||ce(),u.type==="REORDER"){var f=UY({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:o});return f==null?null:Uh({draggable:n,insideDestination:o,destination:s,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})}var h=BY({isMovingForward:t,destination:s,displaced:l.displaced,draggables:a,combine:u.combine,afterCritical:d});return h==null?null:Uh({draggable:n,insideDestination:o,destination:s,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},HY=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,s=!!(t.visible[n]||t.invisible[n]);return Hs(n,r)?s?Bt:Rl(a.point):s?a.point:Bt},VY=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=ap(r);a||ce();var s=a.draggableId,o=n[s].page.borderBox.center,l=HY({displaced:r.displaced,afterCritical:t,combineWith:s,displacedBy:r.displacedBy});return Gt(o,l)},o5=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},qY=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},pw=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},kN=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Vi(r.line,n.marginBox[r.end]+o5(r,a),pw(r,n.marginBox,a))},jN=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Vi(r.line,n.marginBox[r.start]-qY(r,a),pw(r,n.marginBox,a))},GY=function(t){var r=t.axis,n=t.moveInto,a=t.isMoving;return Vi(r.line,n.contentBox[r.start]+o5(r,a),pw(r,n.contentBox,a))},YY=function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,s=e.afterCritical,o=Al(a.descriptor.id,n),l=r.page,c=a.axis;if(!o.length)return GY({axis:c,moveInto:a.page,isMoving:l});var d=t.displaced,u=t.displacedBy,f=d.all[0];if(f){var h=n[f];if(Hs(f,s))return jN({axis:c,moveRelativeTo:h.page,isMoving:l});var m=Lh(h.page,u.point);return jN({axis:c,moveRelativeTo:m,isMoving:l})}var y=o[o.length-1];if(y.descriptor.id===r.descriptor.id)return l.borderBox.center;if(Hs(y.descriptor.id,s)){var v=Lh(y.page,Rl(s.displacedBy.point));return kN({axis:c,moveRelativeTo:v,isMoving:l})}return kN({axis:c,moveRelativeTo:y.page,isMoving:l})},Yx=function(e,t){var r=e.frame;return r?Gt(t,r.scroll.diff.displacement):t},XY=function(t){var r=t.impact,n=t.draggable,a=t.droppable,s=t.draggables,o=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!a||!c?l:c.type==="REORDER"?YY({impact:r,draggable:n,draggables:s,droppable:a,afterCritical:o}):VY({impact:r,draggables:s,afterCritical:o})},ip=function(e){var t=XY(e),r=e.droppable,n=r?Yx(r,t):t;return n},l5=function(e,t){var r=Br(t,e.scroll.initial),n=Rl(r),a=An({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),s={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return s};function NN(e,t){return e.map(function(r){return t[r]})}function KY(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var JY=function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,s=e.maxScrollChange,o=l5(r,Gt(r.scroll.current,s)),l=n.frame?dw(n,Gt(n.frame.scroll.current,s)):n,c=t.displaced,d=Ed({afterDragging:NN(c.all,a),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),u=Ed({afterDragging:NN(c.all,a),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},h={},m=[c,d,u];c.all.forEach(function(v){var b=KY(v,m);if(b){h[v]=b;return}f[v]=!0});var y=be({},t,{displaced:{all:c.all,invisible:f,visible:h}});return y},QY=function(e,t){return Gt(e.scroll.diff.displacement,t)},gw=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,a=QY(n,t),s=Br(a,r.page.borderBox.center);return Gt(r.client.borderBox.center,s)},c5=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,s=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=Br(n,t.page.borderBox.center),d=cu(t.page.borderBox,c),u={target:d,destination:r,withDroppableDisplacement:s,viewport:a};return l?LY(u):i5(u)},ZY=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,s=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!n.isEnabled)return null;var u=Al(n.descriptor.id,a),f=Ll(r,n),h=TY({isMovingForward:t,draggable:r,destination:n,insideDestination:u,previousImpact:s})||WY({isMovingForward:t,isInHomeList:f,draggable:r,draggables:a,destination:n,insideDestination:u,previousImpact:s,viewport:o,afterCritical:d});if(!h)return null;var m=ip({impact:h,draggable:r,droppable:n,draggables:a,afterCritical:d}),y=c5({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(y){var v=gw({pageBorderBoxCenter:m,draggable:r,viewport:o});return{clientSelection:v,impact:h,scrollJumpRequest:null}}var b=Br(m,l),g=JY({impact:h,viewport:o,destination:n,draggables:a,maxScrollChange:b});return{clientSelection:c,impact:g,scrollJumpRequest:b}},lr=function(t){var r=t.subject.active;return r||ce(),r},eX=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,s=e.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,c=wn(o[l.start],o[l.end]),d=np(a).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return a5(s.frame)(lr(f))}).filter(function(f){var h=lr(f);return t?o[l.crossAxisEnd]<h[l.crossAxisEnd]:h[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(f){var h=lr(f),m=wn(h[l.start],h[l.end]);return c(h[l.start])||c(h[l.end])||m(o[l.start])||m(o[l.end])}).sort(function(f,h){var m=lr(f)[l.crossAxisStart],y=lr(h)[l.crossAxisStart];return t?m-y:y-m}).filter(function(f,h,m){return lr(f)[l.crossAxisStart]===lr(m[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var u=d.filter(function(f){var h=wn(lr(f)[l.start],lr(f)[l.end]);return h(r[l.line])});return u.length===1?u[0]:u.length>1?u.sort(function(f,h){return lr(f)[l.start]-lr(h)[l.start]})[0]:d.sort(function(f,h){var m=yN(r,bN(lr(f))),y=yN(r,bN(lr(h)));return m!==y?m-y:lr(f)[l.start]-lr(h)[l.start]})[0]},_N=function(t,r){var n=t.page.borderBox.center;return Hs(t.descriptor.id,r)?Br(n,r.displacedBy.point):n},tX=function(t,r){var n=t.page.borderBox;return Hs(t.descriptor.id,r)?cu(n,Rl(r.displacedBy.point)):n},rX=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,s=e.afterCritical,o=a.filter(function(l){return i5({target:tX(l,s),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=Sd(t,Yx(n,_N(l,s))),u=Sd(t,Yx(n,_N(c,s)));return d<u?-1:u<d?1:l.descriptor.index-c.descriptor.index});return o[0]||null},du=Ft(function(t,r){var n=r[t.line];return{value:n,point:Vi(t.line,n)}}),nX=function(t,r,n){var a=t.axis;if(t.descriptor.mode==="virtual")return Vi(a.line,r[a.line]);var s=t.subject.page.contentBox[a.size],o=Al(t.descriptor.id,n),l=o.reduce(function(u,f){return u+f.client.marginBox[a.size]},0),c=l+r[a.line],d=c-s;return d<=0?null:Vi(a.line,d)},d5=function(t,r){return be({},t,{scroll:be({},t.scroll,{max:r})})},u5=function(t,r,n){var a=t.frame;Ll(r,t)&&ce(),t.subject.withPlaceholder&&ce();var s=du(t.axis,r.displaceBy).point,o=nX(t,s,n),l={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var c=yl({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return be({},t,{subject:c})}var d=o?Gt(a.scroll.max,o):a.scroll.max,u=d5(a,d),f=yl({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:u});return be({},t,{subject:f,frame:u})},aX=function(t){var r=t.subject.withPlaceholder;r||ce();var n=t.frame;if(!n){var a=yl({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return be({},t,{subject:a})}var s=r.oldFrameMaxScroll;s||ce();var o=d5(n,s),l=yl({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return be({},t,{subject:l,frame:o})},sX=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,s=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var d={displaced:Cd,displacedBy:n5,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=ip({impact:d,draggable:a,droppable:o,draggables:s,afterCritical:c}),f=Ll(a,o)?o:u5(o,a,s),h=c5({draggable:a,destination:f,newPageBorderBoxCenter:u,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?d:null}var m=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],y=function(){var b=r.descriptor.index;return r.descriptor.id===a.descriptor.id||m?b:b+1}(),v=du(o.axis,a.displaceBy);return Uh({draggable:a,insideDestination:n,destination:o,viewport:l,displacedBy:v,last:Cd,index:y})},iX=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,s=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,d=eX({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:o,viewport:l});if(!d)return null;var u=Al(d.descriptor.id,s),f=rX({pageBorderBoxCenter:r,viewport:l,destination:d,insideDestination:u,afterCritical:c}),h=sX({previousPageBorderBoxCenter:r,destination:d,draggable:n,draggables:s,moveRelativeTo:f,insideDestination:u,viewport:l,afterCritical:c});if(!h)return null;var m=ip({impact:h,draggable:n,droppable:d,draggables:s,afterCritical:c}),y=gw({pageBorderBoxCenter:m,draggable:n,viewport:l});return{clientSelection:y,impact:h,scrollJumpRequest:null}},Hr=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},oX=function(t,r){var n=Hr(t);return n?r[n]:null},lX=function(e){var t=e.state,r=e.type,n=oX(t.impact,t.dimensions.droppables),a=!!n,s=t.dimensions.droppables[t.critical.droppable.id],o=n||s,l=o.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!a)return null;var d=r==="MOVE_DOWN"||r==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,m=h.draggables,y=h.droppables;return c?ZY({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:u,destination:o,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):iX({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:u,isOver:o,draggables:m,droppables:y,viewport:t.viewport,afterCritical:t.afterCritical})};function gi(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function f5(e){var t=wn(e.top,e.bottom),r=wn(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function cX(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function dX(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,s=n.map(function(o){var l=o.axis,c=Vi(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:Sd(a,c)}}).sort(function(o,l){return l.distance-o.distance});return s[0]?s[0].id:null}function uX(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=np(n).filter(function(s){if(!s.isEnabled)return!1;var o=s.subject.active;if(!o||!cX(t,o))return!1;if(f5(o)(t.center))return!0;var l=s.axis,c=o.center[l.crossAxisLine],d=t[l.crossAxisStart],u=t[l.crossAxisEnd],f=wn(o[l.crossAxisStart],o[l.crossAxisEnd]),h=f(d),m=f(u);return!h&&!m?!0:h?d<c:u>c});return a.length?a.length===1?a[0].descriptor.id:dX({pageBorderBox:t,draggable:r,candidates:a}):null}var h5=function(t,r){return An(cu(t,r))},fX=function(e,t){var r=e.frame;return r?h5(t,r.scroll.diff.value):t};function m5(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function hX(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var mX=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,s=e.last,o=e.viewport,l=e.afterCritical,c=n.axis,d=du(n.axis,r.displaceBy),u=d.value,f=t[c.start],h=t[c.end],m=sp(r,a),y=Zs(m,function(b){var g=b.descriptor.id,p=b.page.borderBox.center[c.line],x=Hs(g,l),w=m5({displaced:s,id:g});return x?w?h<=p:f<p-u:w?h<=p+u:f<p}),v=hX({draggable:r,closest:y,inHomeList:Ll(r,n)});return Uh({draggable:r,insideDestination:a,destination:n,viewport:o,last:s,displacedBy:d,index:v})},pX=4,gX=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,s=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,c=du(a.axis,t.displaceBy),d=c.value,u=r[l.start],f=r[l.end],h=sp(t,s),m=Zs(h,function(v){var b=v.descriptor.id,g=v.page.borderBox,p=g[l.size],x=p/pX,w=Hs(b,o),_=m5({displaced:n.displaced,id:b});return w?_?f>g[l.start]+x&&f<g[l.end]-x:u>g[l.start]-d+x&&u<g[l.end]-d-x:_?f>g[l.start]+d+x&&f<g[l.end]+d-x:u>g[l.start]+x&&u<g[l.end]-x});if(!m)return null;var y={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:a.descriptor.id}}};return y},p5=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,s=e.previousImpact,o=e.viewport,l=e.afterCritical,c=h5(r.page.borderBox,t),d=uX({pageBorderBox:c,draggable:r,droppables:a});if(!d)return DY;var u=a[d],f=Al(u.descriptor.id,n),h=fX(u,c);return gX({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:s,destination:u,insideDestination:f,afterCritical:l})||mX({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:u,insideDestination:f,last:s.displaced,viewport:o,afterCritical:l})},vw=function(e,t){var r;return be({},e,(r={},r[t.descriptor.id]=t,r))},vX=function(t){var r=t.previousImpact,n=t.impact,a=t.droppables,s=Hr(r),o=Hr(n);if(!s||s===o)return a;var l=a[s];if(!l.subject.withPlaceholder)return a;var c=aX(l);return vw(a,c)},xX=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,s=e.impact,o=vX({previousImpact:a,impact:s,droppables:n}),l=Hr(s);if(!l)return o;var c=n[l];if(Ll(t,c)||c.subject.withPlaceholder)return o;var d=u5(c,t,r);return vw(o,d)},Hc=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,s=e.impact,o=e.scrollJumpRequest,l=a||t.viewport,c=n||t.dimensions,d=r||t.current.client.selection,u=Br(d,t.initial.client.selection),f={offset:u,selection:d,borderBoxCenter:Gt(t.initial.client.borderBoxCenter,u)},h={selection:Gt(f.selection,l.scroll.current),borderBoxCenter:Gt(f.borderBoxCenter,l.scroll.current),offset:Gt(f.offset,l.scroll.diff.value)},m={client:f,page:h};if(t.phase==="COLLECTING")return be({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var y=c.draggables[t.critical.draggable.id],v=s||p5({pageOffset:h.offset,draggable:y,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),b=xX({draggable:y,impact:v,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),g=be({},t,{current:m,dimensions:{draggables:c.draggables,droppables:b},impact:v,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return g};function yX(e,t){return e.map(function(r){return t[r]})}var g5=function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,s=e.forceShouldAnimate,o=t.displaced,l=yX(o.all,n),c=Ed({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:s,last:o});return be({},t,{displaced:c})},v5=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,s=e.viewport,o=e.afterCritical,l=ip({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:o});return gw({pageBorderBoxCenter:l,draggable:r,viewport:s})},x5=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&ce();var a=t.impact,s=n||t.viewport,o=r||t.dimensions,l=o.draggables,c=o.droppables,d=l[t.critical.draggable.id],u=Hr(a);u||ce();var f=c[u],h=g5({impact:a,viewport:s,destination:f,draggables:l}),m=v5({impact:h,draggable:d,droppable:f,draggables:l,viewport:s,afterCritical:t.afterCritical});return Hc({impact:h,clientSelection:m,state:t,dimensions:o,viewport:s})},bX=function(e){return{index:e.index,droppableId:e.droppableId}},y5=function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,s=du(r.axis,t.displaceBy),o=Al(r.descriptor.id,n),l=o.indexOf(t);l===-1&&ce();var c=o.slice(l+1),d=c.reduce(function(m,y){return m[y.descriptor.id]=!0,m},{}),u={inVirtualList:r.descriptor.mode==="virtual",displacedBy:s,effected:d},f=Ed({afterDragging:c,destination:r,displacedBy:s,last:null,viewport:a.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:s,at:{type:"REORDER",destination:bX(t.descriptor)}};return{impact:h,afterCritical:u}},wX=function(e,t){return{draggables:e.draggables,droppables:vw(e.droppables,t)}},kX=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=Lh(t.client,r),s=$h(a,n),o=be({},t,{placeholder:be({},t.placeholder,{client:a}),client:a,page:s});return o},jX=function(e){var t=e.frame;return t||ce(),t},NX=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map(function(s){var o=s.descriptor.droppableId,l=r[o],c=jX(l),d=c.scroll.diff.value,u=Gt(a,d),f=kX({draggable:s,offset:u,initialWindowScroll:n.scroll.initial});return f})},_X=function(e){var t=e.state,r=e.published,n=r.modified.map(function(x){var w=t.dimensions.droppables[x.droppableId],_=dw(w,x.scroll);return _}),a=be({},t.dimensions.droppables,{},t5(n)),s=r5(NX({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),o=be({},t.dimensions.draggables,{},s);r.removals.forEach(function(x){delete o[x]});var l={droppables:a,draggables:o},c=Hr(t.impact),d=c?l.droppables[c]:null,u=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],h=y5({draggable:u,home:f,draggables:o,viewport:t.viewport}),m=h.impact,y=h.afterCritical,v=d&&d.isCombineEnabled?t.impact:m,b=p5({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:t.viewport,afterCritical:y}),g=be({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:m,dimensions:l,afterCritical:y,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return g;var p=be({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return p},Xx=function(t){return t.movementMode==="SNAP"},Yg=function(t,r,n){var a=wX(t.dimensions,r);return!Xx(t)||n?Hc({state:t,dimensions:a}):x5({state:t,dimensions:a})};function Xg(e){return e.isDragging&&e.movementMode==="SNAP"?be({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var SN={phase:"IDLE",completed:null,shouldFlush:!1},SX=function(e,t){if(e===void 0&&(e=SN),t.type==="FLUSH")return be({},SN,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ce();var r=t.payload,n=r.critical,a=r.clientSelection,s=r.viewport,o=r.dimensions,l=r.movementMode,c=o.draggables[n.draggable.id],d=o.droppables[n.droppable.id],u={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Bt},f={client:u,page:{selection:Gt(u.selection,s.scroll.initial),borderBoxCenter:Gt(u.selection,s.scroll.initial),offset:Gt(u.selection,s.scroll.diff.value)}},h=np(o.droppables).every(function(fe){return!fe.isFixedOnPage}),m=y5({draggable:c,home:d,draggables:o.draggables,viewport:s}),y=m.impact,v=m.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:f,current:f,isWindowScrollAllowed:h,impact:y,afterCritical:v,onLiftImpact:y,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ce();var g=be({phase:"COLLECTING"},e,{phase:"COLLECTING"});return g}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ce(),_X({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;gi(e)||ce();var p=t.payload.client;return Ls(p,e.current.client.selection)?e:Hc({state:e,clientSelection:p,impact:Xx(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Xg(e);gi(e)||ce();var x=t.payload,w=x.id,_=x.newScroll,S=e.dimensions.droppables[w];if(!S)return e;var E=dw(S,_);return Yg(e,E,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;gi(e)||ce();var O=t.payload,T=O.id,D=O.isEnabled,R=e.dimensions.droppables[T];R||ce(),R.isEnabled===D&&ce();var N=be({},R,{isEnabled:D});return Yg(e,N,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;gi(e)||ce();var C=t.payload,j=C.id,I=C.isCombineEnabled,B=e.dimensions.droppables[j];B||ce(),B.isCombineEnabled===I&&ce();var P=be({},B,{isCombineEnabled:I});return Yg(e,P,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;gi(e)||ce(),e.isWindowScrollAllowed||ce();var A=t.payload.newScroll;if(Ls(e.viewport.scroll.current,A))return Xg(e);var F=l5(e.viewport,A);return Xx(e)?x5({state:e,viewport:F}):Hc({state:e,viewport:F})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!gi(e))return e;var L=t.payload.maxScroll;if(Ls(L,e.viewport.scroll.max))return e;var $=be({},e.viewport,{scroll:be({},e.viewport.scroll,{max:L})});return be({phase:"DRAGGING"},e,{viewport:$})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ce();var z=lX({state:e,type:t.type});return z?Hc({state:e,impact:z.impact,clientSelection:z.clientSelection,scrollJumpRequest:z.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var q=t.payload.reason;e.phase!=="COLLECTING"&&ce();var K=be({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:q});return K}if(t.type==="DROP_ANIMATE"){var H=t.payload,ee=H.completed,ne=H.dropDuration,re=H.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ce();var ae={phase:"DROP_ANIMATING",completed:ee,dropDuration:ne,newHomeClientOffset:re,dimensions:e.dimensions};return ae}if(t.type==="DROP_COMPLETE"){var me=t.payload.completed;return{phase:"IDLE",completed:me,shouldFlush:!1}}return e},CX=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},EX=function(t){return{type:"LIFT",payload:t}},TX=function(t){return{type:"INITIAL_PUBLISH",payload:t}},DX=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},PX=function(){return{type:"COLLECTION_STARTING",payload:null}},OX=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},IX=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},MX=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},b5=function(t){return{type:"MOVE",payload:t}},RX=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},AX=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},LX=function(){return{type:"MOVE_UP",payload:null}},$X=function(){return{type:"MOVE_DOWN",payload:null}},zX=function(){return{type:"MOVE_RIGHT",payload:null}},FX=function(){return{type:"MOVE_LEFT",payload:null}},xw=function(){return{type:"FLUSH",payload:null}},BX=function(t){return{type:"DROP_ANIMATE",payload:t}},yw=function(t){return{type:"DROP_COMPLETE",payload:t}},w5=function(t){return{type:"DROP",payload:t}},UX=function(t){return{type:"DROP_PENDING",payload:t}},k5=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},WX=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(a){return function(s){if(s.type!=="LIFT"){a(s);return}var o=s.payload,l=o.id,c=o.clientSelection,d=o.movementMode,u=r();u.phase==="DROP_ANIMATING"&&n(yw({completed:u.completed})),r().phase!=="IDLE"&&ce(),n(xw()),n(CX({draggableId:l,movementMode:d}));var f={shouldPublishImmediately:d==="SNAP"},h={draggableId:l,scrollOptions:f},m=e.startPublishing(h),y=m.critical,v=m.dimensions,b=m.viewport;n(TX({critical:y,dimensions:v,clientSelection:c,movementMode:d,viewport:b}))}}}},HX=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},bw={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Td={opacity:{drop:0,combining:.7},scale:{drop:.75}},ww={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},oi=ww.outOfTheWay+"s "+bw.outOfTheWay,Vc={fluid:"opacity "+oi,snap:"transform "+oi+", opacity "+oi,drop:function(t){var r=t+"s "+bw.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+oi,placeholder:"height "+oi+", width "+oi+", margin "+oi},CN=function(t){return Ls(t,Bt)?null:"translate("+t.x+"px, "+t.y+"px)"},Kx={moveTo:CN,drop:function(t,r){var n=CN(t);return n?r?n+" scale("+Td.scale.drop+")":n:null}},Jx=ww.minDropTime,j5=ww.maxDropTime,VX=j5-Jx,EN=1500,qX=.6,GX=function(e){var t=e.current,r=e.destination,n=e.reason,a=Sd(t,r);if(a<=0)return Jx;if(a>=EN)return j5;var s=a/EN,o=Jx+VX*s,l=n==="CANCEL"?o*qX:o;return Number(l.toFixed(2))},YX=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,s=e.afterCritical,o=n.draggables,l=n.droppables,c=Hr(t),d=c?l[c]:null,u=l[r.descriptor.droppableId],f=v5({impact:t,draggable:r,draggables:o,afterCritical:s,droppable:d||u,viewport:a}),h=Br(f,r.client.borderBox.center);return h},XX=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,s=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=g5({draggables:t,impact:o,destination:a,viewport:s,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=be({},n,{displaced:Cd});return{impact:c,didDropInsideDroppable:!0}},KX=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var s=t(),o=a.payload.reason;if(s.phase==="COLLECTING"){r(UX({reason:o}));return}if(s.phase!=="IDLE"){var l=s.phase==="DROP_PENDING"&&s.isWaiting;l&&ce(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||ce();var c=s.critical,d=s.dimensions,u=d.draggables[s.critical.draggable.id],f=XX({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),h=f.impact,m=f.didDropInsideDroppable,y=m?fw(h):null,v=m?ap(h):null,b={index:c.draggable.index,droppableId:c.droppable.id},g={draggableId:u.descriptor.id,type:u.descriptor.type,source:b,reason:o,mode:s.movementMode,destination:y,combine:v},p=YX({impact:h,draggable:u,dimensions:d,viewport:s.viewport,afterCritical:s.afterCritical}),x={critical:s.critical,afterCritical:s.afterCritical,result:g,impact:h},w=!Ls(s.current.client.offset,p)||!!g.combine;if(!w){r(yw({completed:x}));return}var _=GX({current:s.current.client.offset,destination:p,reason:o}),S={newHomeClientOffset:p,dropDuration:_,completed:x};r(BX(S))}}}},N5=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function JX(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function QX(e){var t=e.onWindowScroll;function r(){t(N5())}var n=_d(r),a=JX(n),s=As;function o(){return s!==As}function l(){o()&&ce(),s=yn(window,[a])}function c(){o()||ce(),n.cancel(),s(),s=As}return{start:l,stop:c,isActive:o}}var ZX=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},eK=function(e){var t=QX({onWindowScroll:function(n){e.dispatch(RX({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&ZX(n)&&t.stop(),r(n)}}},tK=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return a.wasCalled=function(){return t},a},rK=function(){var e=[],t=function(s){var o=uw(e,function(d){return d.timerId===s});o===-1&&ce();var l=e.splice(o,1),c=l[0];c.callback()},r=function(s){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:s};e.push(l)},n=function(){if(e.length){var s=[].concat(e);e.length=0,s.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},nK=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},aK=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},sK=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&a},cc=function(t,r){r()},Qu=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Kg=function(t,r,n,a){if(!t){n(a(r));return}var s=tK(n),o={announce:s};t(r,o),s.wasCalled()||n(a(r))},iK=function(e,t){var r=rK(),n=null,a=function(h,m){n&&ce(),cc("onBeforeCapture",function(){var y=e().onBeforeCapture;if(y){var v={draggableId:h,mode:m};y(v)}})},s=function(h,m){n&&ce(),cc("onBeforeDragStart",function(){var y=e().onBeforeDragStart;y&&y(Qu(h,m))})},o=function(h,m){n&&ce();var y=Qu(h,m);n={mode:m,lastCritical:h,lastLocation:y.source,lastCombine:null},r.add(function(){cc("onDragStart",function(){return Kg(e().onDragStart,y,t,Pf.onDragStart)})})},l=function(h,m){var y=fw(m),v=ap(m);n||ce();var b=!sK(h,n.lastCritical);b&&(n.lastCritical=h);var g=!nK(n.lastLocation,y);g&&(n.lastLocation=y);var p=!aK(n.lastCombine,v);if(p&&(n.lastCombine=v),!(!b&&!g&&!p)){var x=be({},Qu(h,n.mode),{combine:v,destination:y});r.add(function(){cc("onDragUpdate",function(){return Kg(e().onDragUpdate,x,t,Pf.onDragUpdate)})})}},c=function(){n||ce(),r.flush()},d=function(h){n||ce(),n=null,cc("onDragEnd",function(){return Kg(e().onDragEnd,h,t,Pf.onDragEnd)})},u=function(){if(n){var h=be({},Qu(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});d(h)}};return{beforeCapture:a,beforeStart:s,start:o,update:l,flush:c,drop:d,abort:u}},oK=function(e,t){var r=iK(e,t);return function(n){return function(a){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var o=s.payload.critical;r.beforeStart(o,s.payload.movementMode),a(s),r.start(o,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var l=s.payload.completed.result;r.flush(),a(s),r.drop(l);return}if(a(s),s.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},lK=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&ce(),e.dispatch(yw({completed:n.completed}))}}},cK=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&n(),a(s),s.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(k5())}};r=requestAnimationFrame(function(){r=null,t=yn(window,[o])})}}}},dK=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},uK=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},fK=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},hK=function(e){return function(t){return function(r){return function(n){if(fK(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=t.getState();a.phase!=="DRAGGING"&&ce(),e.start(a);return}r(n),e.scroll(t.getState())}}}},mK=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(w5({reason:n.reason})))}}}},pK=ST,gK=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,s=e.announce,o=e.autoScroller;return _T(SX,pK(Qq(HX(n),dK(t),WX(t),KX,lK,cK,mK,hK(o),eK,uK(r),oK(a,s))))},Jg=function(){return{additions:{},removals:{},modified:{}}};function vK(e){var t=e.registry,r=e.callbacks,n=Jg(),a=null,s=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var u=n,f=u.additions,h=u.removals,m=u.modified,y=Object.keys(f).map(function(g){return t.draggable.getById(g).getDimension(Bt)}).sort(function(g,p){return g.descriptor.index-p.descriptor.index}),v=Object.keys(m).map(function(g){var p=t.droppable.getById(g),x=p.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:x}}),b={additions:y,removals:Object.keys(h),modified:v};n=Jg(),r.publish(b)}))},o=function(u){var f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],s()},l=function(u){var f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],s()},c=function(){a&&(cancelAnimationFrame(a),a=null,n=Jg())};return{add:o,remove:l,stop:c}}var _5=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,s=Br({x:r,y:t},{x:a,y:n}),o={x:Math.max(0,s.x),y:Math.max(0,s.y)};return o},S5=function(){var e=document.documentElement;return e||ce(),e},C5=function(){var e=S5(),t=_5({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},xK=function(){var e=N5(),t=C5(),r=e.y,n=e.x,a=S5(),s=a.clientWidth,o=a.clientHeight,l=n+s,c=r+o,d=An({top:r,left:n,right:l,bottom:c}),u={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:Bt,displacement:Bt}}};return u},yK=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,a=xK(),s=a.scroll.current,o=t.droppable,l=n.droppable.getAllByType(o.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(s,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(s)}),d={draggables:r5(c),droppables:t5(l)},u={dimensions:d,critical:t,viewport:a};return u};function TN(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var bK=function(e,t){var r=null,n=vK({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(m,y){e.droppable.exists(m)||ce(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:y})},s=function(m,y){r&&(e.droppable.exists(m)||ce(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:y}))},o=function(m,y){r&&(e.droppable.exists(m)||ce(),t.updateDroppableScroll({id:m,newScroll:y}))},l=function(m,y){r&&e.droppable.getById(m).callbacks.scroll(y)},c=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(y){return y.callbacks.dragStopped()}),r.unsubscribe(),r=null}},d=function(m){r||ce();var y=r.critical.draggable;m.type==="ADDITION"&&TN(e,y,m.value)&&n.add(m.value),m.type==="REMOVAL"&&TN(e,y,m.value)&&n.remove(m.value)},u=function(m){r&&ce();var y=e.draggable.getById(m.draggableId),v=e.droppable.getById(y.descriptor.droppableId),b={draggable:y.descriptor,droppable:v.descriptor},g=e.subscribe(d);return r={critical:b,unsubscribe:g},yK({critical:b,registry:e,scrollOptions:m.scrollOptions})},f={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:s,scrollDroppable:l,updateDroppableScroll:o,startPublishing:u,stopPublishing:c};return f},E5=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},wK=function(e){window.scrollBy(e.x,e.y)},kK=Ft(function(e){return np(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),jK=function(t,r){var n=Zs(kK(r),function(a){return a.frame||ce(),f5(a.frame.pageMarginBox)(t)});return n},NK=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}var s=jK(t,n);return s},$s={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},_K=function(e,t){var r=e[t.size]*$s.startFromPercentage,n=e[t.size]*$s.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},T5=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;if(a===0)return 0;var s=n-t,o=s/a;return o},kw=1,SK=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return $s.maxPixelScroll;if(e===t.startScrollingFrom)return kw;var r=T5({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,a=$s.maxPixelScroll*$s.ease(n);return Math.ceil(a)},DN=$s.durationDampening.accelerateAt,PN=$s.durationDampening.stopDampeningAt,CK=function(e,t){var r=t,n=PN,a=Date.now(),s=a-r;if(s>=PN)return e;if(s<DN)return kw;var o=T5({startOfRange:DN,endOfRange:n,current:s}),l=e*$s.ease(o);return Math.ceil(l)},ON=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,s=SK(t,r);return s===0?0:a?Math.max(CK(s,n),kw):s},IN=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,s=e.shouldUseTimeDampening,o=_K(t,a),l=r[a.end]<r[a.start];return l?ON({distanceToEdge:r[a.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s}):-1*ON({distanceToEdge:r[a.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:s})},EK=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,s=r.width>t.width;return!s&&!a?n:s&&a?null:{x:s?0:n.x,y:a?0:n.y}},TK=ZT(function(e){return e===0?0:e}),D5=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,s=e.shouldUseTimeDampening,o={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},l=IN({container:r,distanceToEdges:o,dragStartTime:t,axis:hw,shouldUseTimeDampening:s}),c=IN({container:r,distanceToEdges:o,dragStartTime:t,axis:s5,shouldUseTimeDampening:s}),d=TK({x:c,y:l});if(Ls(d,Bt))return null;var u=EK({container:r,subject:n,proposedScroll:d});return u?Ls(u,Bt)?null:u:null},DK=ZT(function(e){return e===0?0:e>0?1:-1}),jw=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,a=t.change,s=Gt(r,a),o={x:e(s.x,n.x),y:e(s.y,n.y)};return Ls(o,Bt)?null:o}}(),P5=function(t){var r=t.max,n=t.current,a=t.change,s={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=DK(a),l=jw({max:s,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},Nw=function(t,r){return P5({current:t.scroll.current,max:t.scroll.max,change:r})},PK=function(t,r){if(!Nw(t,r))return null;var n=t.scroll.max,a=t.scroll.current;return jw({current:a,max:n,change:r})},_w=function(t,r){var n=t.frame;return n?P5({current:n.scroll.current,max:n.scroll.max,change:r}):!1},OK=function(t,r){var n=t.frame;return!n||!_w(t,r)?null:jw({current:n.scroll.current,max:n.scroll.max,change:r})},IK=function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,s=e.shouldUseTimeDampening,o=D5({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:s});return o&&Nw(t,o)?o:null},MK=function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,s=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=D5({dragStartTime:a,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:s});return l&&_w(t,l)?l:null},MN=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,s=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,u=IK({dragStartTime:r,viewport:d,subject:c,center:o,shouldUseTimeDampening:n});if(u){a(u);return}}var f=NK({center:o,destination:Hr(t.impact),droppables:t.dimensions.droppables});if(f){var h=MK({dragStartTime:r,droppable:f,subject:c,center:o,shouldUseTimeDampening:n});h&&s(f.descriptor.id,h)}},RK=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=_d(t),a=_d(r),s=null,o=function(u){s||ce();var f=s,h=f.shouldUseTimeDampening,m=f.dragStartTime;MN({state:u,scrollWindow:n,scrollDroppable:a,dragStartTime:m,shouldUseTimeDampening:h})},l=function(u){s&&ce();var f=Date.now(),h=!1,m=function(){h=!0};MN({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),s={dragStartTime:f,shouldUseTimeDampening:h},h&&o(u)},c=function(){s&&(n.cancel(),a.cancel(),s=null)};return{start:l,stop:c,scroll:o}},AK=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(d,u){var f=Gt(d.current.client.selection,u);t({client:f})},s=function(d,u){if(!_w(d,u))return u;var f=OK(d,u);if(!f)return r(d.descriptor.id,u),null;var h=Br(u,f);r(d.descriptor.id,h);var m=Br(u,h);return m},o=function(d,u,f){if(!d||!Nw(u,f))return f;var h=PK(u,f);if(!h)return n(f),null;var m=Br(f,h);n(m);var y=Br(f,m);return y},l=function(d){var u=d.scrollJumpRequest;if(u){var f=Hr(d.impact);f||ce();var h=s(d.dimensions.droppables[f],u);if(h){var m=d.viewport,y=o(d.isWindowScrollAllowed,m,h);y&&a(d,y)}}};return l},LK=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=RK({scrollWindow:r,scrollDroppable:t}),s=AK({move:n,scrollWindow:r,scrollDroppable:t}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&s(d)}},l={scroll:o,start:a.start,stop:a.stop};return l},bl="data-rbd",wl=function(){var e=bl+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Qx=function(){var e=bl+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),$K=function(){var e=bl+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),RN={contextId:bl+"-scroll-container-context-id"},zK=function(t){return function(r){return"["+r+'="'+t+'"]'}},dc=function(t,r){return t.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},FK="pointer-events: none;",BK=function(e){var t=zK(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(wl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:FK,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+Vc.outOfTheWay+`;
    `;return{selector:t(Qx.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:t($K.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,a,s];return{always:dc(o,"always"),resting:dc(o,"resting"),dragging:dc(o,"dragging"),dropAnimating:dc(o,"dropAnimating"),userCancel:dc(o,"userCancel")}},Vr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect,Qg=function(){var t=document.querySelector("head");return t||ce(),t},AN=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function UK(e,t){var r=ze(function(){return BK(e)},[e]),n=k.useRef(null),a=k.useRef(null),s=ye(Ft(function(f){var h=a.current;h||ce(),h.textContent=f}),[]),o=ye(function(f){var h=n.current;h||ce(),h.textContent=f},[]);Vr(function(){!n.current&&!a.current||ce();var f=AN(t),h=AN(t);return n.current=f,a.current=h,f.setAttribute(bl+"-always",e),h.setAttribute(bl+"-dynamic",e),Qg().appendChild(f),Qg().appendChild(h),o(r.always),s(r.resting),function(){var m=function(v){var b=v.current;b||ce(),Qg().removeChild(b),v.current=null};m(n),m(a)}},[t,o,s,r.always,r.resting,e]);var l=ye(function(){return s(r.dragging)},[s,r.dragging]),c=ye(function(f){if(f==="DROP"){s(r.dropAnimating);return}s(r.userCancel)},[s,r.dropAnimating,r.userCancel]),d=ye(function(){a.current&&s(r.resting)},[s,r.resting]),u=ze(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return u}var O5=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function op(e){return e instanceof O5(e).HTMLElement}function WK(e,t){var r="["+wl.contextId+'="'+e+'"]',n=e5(document.querySelectorAll(r));if(!n.length)return null;var a=Zs(n,function(s){return s.getAttribute(wl.draggableId)===t});return!a||!op(a)?null:a}function HK(e){var t=k.useRef({}),r=k.useRef(null),n=k.useRef(null),a=k.useRef(!1),s=ye(function(h,m){var y={id:h,focus:m};return t.current[h]=y,function(){var b=t.current,g=b[h];g!==y&&delete b[h]}},[]),o=ye(function(h){var m=WK(e,h);m&&m!==document.activeElement&&m.focus()},[e]),l=ye(function(h,m){r.current===h&&(r.current=m)},[]),c=ye(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var h=r.current;h&&o(h)}))},[o]),d=ye(function(h){r.current=null;var m=document.activeElement;m&&m.getAttribute(wl.draggableId)===h&&(r.current=h)},[]);Vr(function(){return a.current=!0,function(){a.current=!1;var h=n.current;h&&cancelAnimationFrame(h)}},[]);var u=ze(function(){return{register:s,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[s,d,c,l]);return u}function VK(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function n(f){t.length&&t.forEach(function(h){return h(f)})}function a(f){return e.draggables[f]||null}function s(f){var h=a(f);return h||ce(),h}var o={register:function(h){e.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:function(h,m){var y=e.draggables[m.descriptor.id];y&&y.uniqueId===h.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var m=h.descriptor.id,y=a(m);y&&h.uniqueId===y.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:h}))},getById:s,findById:a,exists:function(h){return!!a(h)},getAllByType:function(h){return Bh(e.draggables).filter(function(m){return m.descriptor.type===h})}};function l(f){return e.droppables[f]||null}function c(f){var h=l(f);return h||ce(),h}var d={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var m=l(h.descriptor.id);m&&h.uniqueId===m.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:l,exists:function(h){return!!l(h)},getAllByType:function(h){return Bh(e.droppables).filter(function(m){return m.descriptor.type===h})}};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function qK(){var e=ze(VK,[]);return k.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Sw=Z.createContext(null),Wh=function(){var e=document.body;return e||ce(),e},GK={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},YK=function(t){return"rbd-announcement-"+t};function XK(e){var t=ze(function(){return YK(e)},[e]),r=k.useRef(null);k.useEffect(function(){var s=document.createElement("div");return r.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),be(s.style,GK),Wh().appendChild(s),function(){setTimeout(function(){var c=Wh();c.contains(s)&&c.removeChild(s),s===r.current&&(r.current=null)})}},[t]);var n=ye(function(a){var s=r.current;if(s){s.textContent=a;return}},[]);return n}var KK=0,JK={separator:"::"};function Cw(e,t){return t===void 0&&(t=JK),ze(function(){return""+e+t.separator+KK++},[t.separator,e])}function QK(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function ZK(e){var t=e.contextId,r=e.text,n=Cw("hidden-text",{separator:"-"}),a=ze(function(){return QK({contextId:t,uniqueId:n})},[n,t]);return k.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=r,o.style.display="none",Wh().appendChild(o),function(){var c=Wh();c.contains(o)&&c.removeChild(o)}},[a,r]),a}var lp=Z.createContext(null);function I5(e){var t=k.useRef(e);return k.useEffect(function(){t.current=e}),t}function eJ(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&ce();var l={abandon:o};return e=l,l}function a(){e||ce(),e=null}function s(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:s}}var tJ=9,rJ=13,Ew=27,M5=32,nJ=33,aJ=34,sJ=35,iJ=36,oJ=37,lJ=38,cJ=39,dJ=40,Zu,uJ=(Zu={},Zu[rJ]=!0,Zu[tJ]=!0,Zu),R5=function(e){uJ[e.keyCode]&&e.preventDefault()},cp=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Zs(t,function(n){return"on"+n in document});return r||e}(),A5=0,LN=5;function fJ(e,t){return Math.abs(t.x-e.x)>=LN||Math.abs(t.y-e.y)>=LN}var $N={type:"IDLE"};function hJ(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,d=o.clientY;if(l===A5){var u={x:c,y:d},f=n();if(f.type==="DRAGGING"){o.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&ce();var h=f.point;if(fJ(h,u)){o.preventDefault();var m=f.actions.fluidLift(u);a({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){t();return}if(o.keyCode===Ew){o.preventDefault(),t();return}R5(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&ce(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:cp,fn:t}]}function mJ(e){var t=k.useRef($N),r=k.useRef(As),n=ze(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===A5&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var m=e.tryGetLock(h,o,{sourceEvent:f});if(m){f.preventDefault();var y={x:f.clientX,y:f.clientY};r.current(),d(m,y)}}}}}},[e]),a=ze(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var m=e.findOptionsForDraggable(h);m&&(m.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),s=ye(function(){var f={passive:!1,capture:!0};r.current=yn(window,[a,n],f)},[a,n]),o=ye(function(){var u=t.current;u.type!=="IDLE"&&(t.current=$N,r.current(),s())},[s]),l=ye(function(){var u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=ye(function(){var f={capture:!0,passive:!1},h=hJ({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(y){t.current=y}});r.current=yn(window,h,f)},[l,o]),d=ye(function(f,h){t.current.type!=="IDLE"&&ce(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);Vr(function(){return s(),function(){r.current()}},[s])}var go;function pJ(){}var gJ=(go={},go[aJ]=!0,go[nJ]=!0,go[iJ]=!0,go[sJ]=!0,go);function vJ(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===Ew){s.preventDefault(),r();return}if(s.keyCode===M5){s.preventDefault(),n();return}if(s.keyCode===dJ){s.preventDefault(),e.moveDown();return}if(s.keyCode===lJ){s.preventDefault(),e.moveUp();return}if(s.keyCode===cJ){s.preventDefault(),e.moveRight();return}if(s.keyCode===oJ){s.preventDefault(),e.moveLeft();return}if(gJ[s.keyCode]){s.preventDefault();return}R5(s)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:cp,fn:r}]}function xJ(e){var t=k.useRef(pJ),r=ze(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==M5)return;var o=e.findClosestDraggableId(s);if(!o)return;var l=e.tryGetLock(o,u,{sourceEvent:s});if(!l)return;s.preventDefault();var c=!0,d=l.snapLift();t.current();function u(){c||ce(),c=!1,t.current(),n()}t.current=yn(window,vJ(d,u),{capture:!0,passive:!1})}}},[e]),n=ye(function(){var s={passive:!1,capture:!0};t.current=yn(window,[r],s)},[r]);Vr(function(){return n(),function(){t.current()}},[n])}var Zg={type:"IDLE"},yJ=120,bJ=.15;function wJ(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===Ew&&a.preventDefault(),t()}},{eventName:cp,fn:t}]}function kJ(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=s.touches[0],c=l.clientX,d=l.clientY,u={x:c,y:d};s.preventDefault(),o.actions.move(u)}},{eventName:"touchend",fn:function(s){var o=n();if(o.type!=="DRAGGING"){t();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(s){if(n().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(s){var o=n();o.type==="IDLE"&&ce();var l=s.touches[0];if(l){var c=l.force>=bJ;if(c){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&t();return}if(d){if(o.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}}}},{eventName:cp,fn:t}]}function jJ(e){var t=k.useRef(Zg),r=k.useRef(As),n=ye(function(){return t.current},[]),a=ye(function(m){t.current=m},[]),s=ze(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var y=e.findClosestDraggableId(m);if(y){var v=e.tryGetLock(y,l,{sourceEvent:m});if(v){var b=m.touches[0],g=b.clientX,p=b.clientY,x={x:g,y:p};r.current(),f(v,x)}}}}}},[e]),o=ye(function(){var m={capture:!0,passive:!1};r.current=yn(window,[s],m)},[s]),l=ye(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),a(Zg),r.current(),o())},[o,a]),c=ye(function(){var h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),d=ye(function(){var m={capture:!0,passive:!1},y={cancel:c,completed:l,getPhase:n},v=yn(window,kJ(y),m),b=yn(window,wJ(y),m);r.current=function(){v(),b()}},[c,n,l]),u=ye(function(){var m=n();m.type!=="PENDING"&&ce();var y=m.actions.fluidLift(m.point);a({type:"DRAGGING",actions:y,hasMoved:!1})},[n,a]),f=ye(function(m,y){n().type!=="IDLE"&&ce();var v=setTimeout(u,yJ);a({type:"PENDING",point:y,actions:m,longPressTimerId:v}),d()},[d,n,a,u]);Vr(function(){return o(),function(){r.current();var y=n();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),a(Zg))}},[n,o,a]),Vr(function(){var m=yn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var NJ={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function L5(e,t){if(t==null)return!1;var r=!!NJ[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:L5(e,t.parentElement)}function _J(e,t){var r=t.target;return op(r)?L5(e,r):!1}var SJ=function(e){return An(e.getBoundingClientRect()).center};function CJ(e){return e instanceof O5(e).Element}var EJ=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Zs(t,function(n){return n in Element.prototype});return r||e}();function $5(e,t){return e==null?null:e[EJ](t)?e:$5(e.parentElement,t)}function TJ(e,t){return e.closest?e.closest(t):$5(e,t)}function DJ(e){return"["+wl.contextId+'="'+e+'"]'}function PJ(e,t){var r=t.target;if(!CJ(r))return null;var n=DJ(e),a=TJ(r,n);return!a||!op(a)?null:a}function OJ(e,t){var r=PJ(e,t);return r?r.getAttribute(wl.draggableId):null}function IJ(e,t){var r="["+Qx.contextId+'="'+e+'"]',n=e5(document.querySelectorAll(r)),a=Zs(n,function(s){return s.getAttribute(Qx.id)===t});return!a||!op(a)?null:a}function MJ(e){e.preventDefault()}function ef(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function z5(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var s=n.draggable.findById(a);return!(!s||!s.options.isEnabled||!E5(r.getState(),a))}function RJ(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,s=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=z5({lockAPI:t,store:n,registry:a,draggableId:s});if(!c)return null;var d=a.draggable.getById(s),u=IJ(r,d.descriptor.id);if(!u||l&&!d.options.canDragInteractiveElements&&_J(u,l))return null;var f=t.claim(o||As),h="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function y(){return t.isActive(f)}function v(S,E){ef({expected:S,phase:h,isLockActive:y,shouldWarn:!0})&&n.dispatch(E())}var b=v.bind(null,"DRAGGING");function g(S){function E(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(E(),h!=="PRE_DRAG"&&ce()),n.dispatch(EX(S.liftActionArgs)),h="DRAGGING";function O(T,D){if(D===void 0&&(D={shouldBlockNextClick:!1}),S.cleanup(),D.shouldBlockNextClick){var R=yn(window,[{eventName:"click",fn:MJ,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(R)}E(),n.dispatch(w5({reason:T}))}return be({isActive:function(){return ef({expected:"DRAGGING",phase:h,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(D){return O("DROP",D)},cancel:function(D){return O("CANCEL",D)}},S.actions)}function p(S){var E=_d(function(T){b(function(){return b5({client:T})})}),O=g({liftActionArgs:{id:s,clientSelection:S,movementMode:"FLUID"},cleanup:function(){return E.cancel()},actions:{move:E}});return be({},O,{move:E})}function x(){var S={moveUp:function(){return b(LX)},moveRight:function(){return b(zX)},moveDown:function(){return b($X)},moveLeft:function(){return b(FX)}};return g({liftActionArgs:{id:s,clientSelection:SJ(u),movementMode:"SNAP"},cleanup:As,actions:S})}function w(){var S=ef({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!0});S&&t.release()}var _={isActive:function(){return ef({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:p,snapLift:x,abort:w};return _}var AJ=[mJ,xJ,jJ];function LJ(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,s=e.enableDefaultSensors,o=[].concat(s?AJ:[],a||[]),l=k.useState(function(){return eJ()})[0],c=ye(function(p,x){p.isDragging&&!x.isDragging&&l.tryAbandon()},[l]);Vr(function(){var p=r.getState(),x=r.subscribe(function(){var w=r.getState();c(p,w),p=w});return x},[l,r,c]),Vr(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=ye(function(g){return z5({lockAPI:l,registry:n,store:r,draggableId:g})},[l,n,r]),u=ye(function(g,p,x){return RJ({lockAPI:l,registry:n,contextId:t,store:r,draggableId:g,forceSensorStop:p,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null})},[t,l,n,r]),f=ye(function(g){return OJ(t,g)},[t]),h=ye(function(g){var p=n.draggable.findById(g);return p?p.options:null},[n.draggable]),m=ye(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(xw()))},[l,r]),y=ye(l.isClaimed,[l]),v=ze(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:y}},[d,u,f,h,m,y]),b=0;b<o.length;b++)o[b](v)}var $J=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function uc(e){return e.current||ce(),e.current}function zJ(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,s=e.dragHandleUsageInstructions,o=k.useRef(null),l=I5(e),c=ye(function(){return $J(l.current)},[l]),d=XK(t),u=ZK({contextId:t,text:s}),f=UK(t,a),h=ye(function(T){uc(o).dispatch(T)},[]),m=ze(function(){return oN({publishWhileDragging:DX,updateDroppableScroll:OX,updateDroppableIsEnabled:IX,updateDroppableIsCombineEnabled:MX,collectionStarting:PX},h)},[h]),y=qK(),v=ze(function(){return bK(y,m)},[y,m]),b=ze(function(){return LK(be({scrollWindow:wK,scrollDroppable:v.scrollDroppable},oN({move:b5},h)))},[v.scrollDroppable,h]),g=HK(t),p=ze(function(){return gK({announce:d,autoScroller:b,dimensionMarshal:v,focusMarshal:g,getResponders:c,styleMarshal:f})},[d,b,v,g,c,f]);o.current=p;var x=ye(function(){var T=uc(o),D=T.getState();D.phase!=="IDLE"&&T.dispatch(xw())},[]),w=ye(function(){var T=uc(o).getState();return T.isDragging||T.phase==="DROP_ANIMATING"},[]),_=ze(function(){return{isDragging:w,tryAbort:x}},[w,x]);r(_);var S=ye(function(T){return E5(uc(o).getState(),T)},[]),E=ye(function(){return gi(uc(o).getState())},[]),O=ze(function(){return{marshal:v,focus:g,contextId:t,canLift:S,isMovementAllowed:E,dragHandleUsageInstructionsId:u,registry:y}},[t,v,u,g,S,E,y]);return LJ({contextId:t,store:p,registry:y,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),k.useEffect(function(){return x},[x]),Z.createElement(lp.Provider,{value:O},Z.createElement(oG,{context:Sw,store:p},e.children))}var FJ=0;function BJ(){return ze(function(){return""+FJ++},[])}function UJ(e){var t=BJ(),r=e.dragHandleUsageInstructions||Pf.dragHandleUsageInstructions;return Z.createElement(xY,null,function(n){return Z.createElement(zJ,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var F5=function(t){return function(r){return t===r}},WJ=F5("scroll"),HJ=F5("auto"),zN=function(t,r){return r(t.overflowX)||r(t.overflowY)},VJ=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return zN(n,WJ)||zN(n,HJ)},qJ=function(){return!1},GJ=function e(t){return t==null?null:t===document.body?qJ()?t:null:t===document.documentElement?null:VJ(t)?t:e(t.parentElement)},Zx=function(e){return{x:e.scrollLeft,y:e.scrollTop}},YJ=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},XJ=function(e){var t=GJ(e),r=YJ(e);return{closestScrollable:t,isFixedOnPage:r}},KJ=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,s=e.direction,o=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var m=c.scrollSize,y=c.client,v=_5({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:y,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:v,diff:{value:Bt,displacement:Bt}}}}(),u=s==="vertical"?hw:s5,f=yl({page:l,withPlaceholder:null,axis:u,frame:d}),h={descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:u,isEnabled:r,client:o,page:l,frame:d,subject:f};return h},JJ=function(t,r){var n=XT(t);if(!r||t!==r)return n;var a=n.paddingBox.top-r.scrollTop,s=n.paddingBox.left-r.scrollLeft,o=a+r.scrollHeight,l=s+r.scrollWidth,c={top:a,right:l,bottom:o,left:s},d=lw(c,n.border),u=cw({borderBox:d,margin:n.margin,border:n.border,padding:n.padding});return u},QJ=function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,s=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=n.closestScrollable,u=JJ(t,d),f=$h(u,a),h=function(){if(!d)return null;var y=XT(d),v={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:y,page:$h(y,a),scroll:Zx(d),scrollSize:v,shouldClipSubject:c}}(),m=KJ({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:f,closest:h});return m},ZJ={passive:!1},eQ={passive:!0},FN=function(e){return e.shouldPublishImmediately?ZJ:eQ};function Hh(e){var t=k.useContext(e);return t||ce(),t}var tf=function(t){return t&&t.env.closestScrollable||null};function tQ(e){var t=k.useRef(null),r=Hh(lp),n=Cw("droppable"),a=r.registry,s=r.marshal,o=I5(e),l=ze(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=k.useRef(l),d=ze(function(){return Ft(function(w,_){t.current||ce();var S={x:w,y:_};s.updateDroppableScroll(l.id,S)})},[l.id,s]),u=ye(function(){var w=t.current;return!w||!w.env.closestScrollable?Bt:Zx(w.env.closestScrollable)},[]),f=ye(function(){var w=u();d(w.x,w.y)},[u,d]),h=ze(function(){return _d(f)},[f]),m=ye(function(){var w=t.current,_=tf(w);w&&_||ce();var S=w.scrollOptions;if(S.shouldPublishImmediately){f();return}h()},[h,f]),y=ye(function(w,_){t.current&&ce();var S=o.current,E=S.getDroppableRef();E||ce();var O=XJ(E),T={ref:E,descriptor:l,env:O,scrollOptions:_};t.current=T;var D=QJ({ref:E,descriptor:l,env:O,windowScroll:w,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),R=O.closestScrollable;return R&&(R.setAttribute(RN.contextId,r.contextId),R.addEventListener("scroll",m,FN(T.scrollOptions))),D},[r.contextId,l,m,o]),v=ye(function(){var w=t.current,_=tf(w);return w&&_||ce(),Zx(_)},[]),b=ye(function(){var w=t.current;w||ce();var _=tf(w);t.current=null,_&&(h.cancel(),_.removeAttribute(RN.contextId),_.removeEventListener("scroll",m,FN(w.scrollOptions)))},[m,h]),g=ye(function(w){var _=t.current;_||ce();var S=tf(_);S||ce(),S.scrollTop+=w.y,S.scrollLeft+=w.x},[]),p=ze(function(){return{getDimensionAndWatchScroll:y,getScrollWhileDragging:v,dragStopped:b,scroll:g}},[b,y,v,g]),x=ze(function(){return{uniqueId:n,descriptor:l,callbacks:p}},[p,l,n]);Vr(function(){return c.current=x.descriptor,a.droppable.register(x),function(){t.current&&b(),a.droppable.unregister(x)}},[p,l,b,x,s,a.droppable]),Vr(function(){t.current&&s.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),Vr(function(){t.current&&s.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function e0(){}var BN={width:0,height:0,margin:NY},rQ=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate;return r||a==="close"?BN:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},nQ=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate,s=rQ({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Vc.placeholder:null}};function aQ(e){var t=k.useRef(null),r=ye(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,a=e.onTransitionEnd,s=e.onClose,o=e.contextId,l=k.useState(e.animate==="open"),c=l[0],d=l[1];k.useEffect(function(){return c?n!=="open"?(r(),d(!1),e0):t.current?e0:(t.current=setTimeout(function(){t.current=null,d(!1)}),r):e0},[n,c,r]);var u=ye(function(h){h.propertyName==="height"&&(a(),n==="close"&&s())},[n,s,a]),f=nQ({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Z.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})}var sQ=Z.memo(aQ),Tw=Z.createContext(null),iQ=function(e){NT(t,e);function t(){for(var n,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=e.call.apply(e,[this].concat(s))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(a,s){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(Z.PureComponent),UN={dragging:5e3,dropAnimating:4500},oQ=function(t,r){return r?Vc.drop(r.duration):t?Vc.snap:Vc.fluid},lQ=function(t,r){return t?r?Td.opacity.drop:Td.opacity.combining:null},cQ=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function dQ(e){var t=e.dimension,r=t.client,n=e.offset,a=e.combineWith,s=e.dropping,o=!!a,l=cQ(e),c=!!s,d=c?Kx.drop(n,o):Kx.moveTo(n),u={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:oQ(l,s),transform:d,opacity:lQ(o,c),zIndex:c?UN.dropAnimating:UN.dragging,pointerEvents:"none"};return u}function uQ(e){return{transform:Kx.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function fQ(e){return e.type==="DRAGGING"?dQ(e):uQ(e)}function hQ(e,t,r){r===void 0&&(r=Bt);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),s=YT(a,n),o=$h(s,r),l={client:s,tagName:t.tagName.toLowerCase(),display:n.display},c={x:s.marginBox.width,y:s.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:s,page:o};return d}function mQ(e){var t=Cw("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,s=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=ze(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:l}},[s,l,o]),d=ye(function(m){var y=a();return y||ce(),hQ(r,y,m)},[r,a]),u=ze(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:d}},[r,d,c,t]),f=k.useRef(u),h=k.useRef(!0);Vr(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),Vr(function(){if(h.current){h.current=!1;return}var m=f.current;f.current=u,n.draggable.update(u,m)},[u,n.draggable])}function pQ(e){e.preventDefault()}function gQ(e){var t=k.useRef(null),r=ye(function(T){t.current=T},[]),n=ye(function(){return t.current},[]),a=Hh(lp),s=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,c=Hh(Tw),d=c.type,u=c.droppableId,f=ze(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}},[e.draggableId,e.index,d,u]),h=e.children,m=e.draggableId,y=e.isEnabled,v=e.shouldRespectForcePress,b=e.canDragInteractiveElements,g=e.isClone,p=e.mapped,x=e.dropAnimationFinished;if(!g){var w=ze(function(){return{descriptor:f,registry:l,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:v,isEnabled:y}},[f,l,n,b,v,y]);mQ(w)}var _=ze(function(){return y?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:pQ}:null},[s,o,m,y]),S=ye(function(T){p.type==="DRAGGING"&&p.dropping&&T.propertyName==="transform"&&x()},[x,p]),E=ze(function(){var T=fQ(p),D=p.type==="DRAGGING"&&p.dropping?S:null,R={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":m,style:T,onTransitionEnd:D},dragHandleProps:_};return R},[s,_,m,p,S,r]),O=ze(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(E,p.snapshot,O)}var B5=function(e,t){return e===t},U5=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},vQ=function(t){return t.combine?t.combine.draggableId:null},xQ=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function yQ(){var e=Ft(function(a,s){return{x:a,y:s}}),t=Ft(function(a,s,o,l,c){return{isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=Ft(function(a,s,o,l,c,d,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:s,offset:a,dimension:o,forceShouldAnimate:u,snapshot:t(s,l,c,d,null)}}}),n=function(s,o){if(s.isDragging){if(s.critical.draggable.id!==o.draggableId)return null;var l=s.current.client.offset,c=s.dimensions.draggables[o.draggableId],d=Hr(s.impact),u=xQ(s.impact),f=s.forceShouldAnimate;return r(e(l.x,l.y),s.movementMode,c,o.isClone,d,u,f)}if(s.phase==="DROP_ANIMATING"){var h=s.completed;if(h.result.draggableId!==o.draggableId)return null;var m=o.isClone,y=s.dimensions.draggables[o.draggableId],v=h.result,b=v.mode,g=U5(v),p=vQ(v),x=s.dropDuration,w={duration:x,curve:bw.drop,moveTo:s.newHomeClientOffset,opacity:p?Td.opacity.drop:null,scale:p?Td.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:y,dropping:w,draggingOver:g,combineWith:p,mode:b,forceShouldAnimate:null,snapshot:t(b,m,g,p,w)}}}return null};return n}function W5(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var bQ={mapped:{type:"SECONDARY",offset:Bt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:W5(null)}};function wQ(){var e=Ft(function(o,l){return{x:o,y:l}}),t=Ft(W5),r=Ft(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(Bt,l,!0):null},a=function(l,c,d,u){var f=d.displaced.visible[l],h=!!(u.inVirtualList&&u.effected[l]),m=ap(d),y=m&&m.draggableId===l?c:null;if(!f){if(!h)return n(y);if(d.displaced.invisible[l])return null;var v=Rl(u.displacedBy.point),b=e(v.x,v.y);return r(b,y,!0)}if(h)return n(y);var g=d.displacedBy.point,p=e(g.x,g.y);return r(p,y,f.shouldAnimate)},s=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:a(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return s}var kQ=function(){var t=yQ(),r=wQ(),n=function(s,o){return t(s,o)||r(s,o)||bQ};return n},jQ={dropAnimationFinished:k5},NQ=qT(kQ,jQ,null,{context:Sw,pure:!0,areStatePropsEqual:B5})(gQ);function H5(e){var t=Hh(Tw),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Z.createElement(NQ,e)}function _Q(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Z.createElement(H5,be({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function SQ(e){var t=k.useContext(lp);t||ce();var r=t.contextId,n=t.isMovementAllowed,a=k.useRef(null),s=k.useRef(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,u=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,y=e.snapshot,v=e.useClone,b=e.updateViewportMaxScroll,g=e.getContainerForClone,p=ye(function(){return a.current},[]),x=ye(function(R){a.current=R},[]);ye(function(){return s.current},[]);var w=ye(function(R){s.current=R},[]),_=ye(function(){n()&&b({maxScroll:C5()})},[n,b]);tQ({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:p});var S=Z.createElement(iQ,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(R){var N=R.onClose,C=R.data,j=R.animate;return Z.createElement(sQ,{placeholder:C,onClose:N,innerRef:w,animate:j,contextId:r,onTransitionEnd:_})}),E=ze(function(){return{innerRef:x,placeholder:S,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,S,x]),O=v?v.dragging.draggableId:null,T=ze(function(){return{droppableId:l,type:c,isUsingCloneFor:O}},[l,O,c]);function D(){if(!v)return null;var R=v.dragging,N=v.render,C=Z.createElement(H5,{draggableId:R.draggableId,index:R.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(j,I){return N(j,I,R)});return PO.createPortal(C,g())}return Z.createElement(Tw.Provider,{value:T},o(E,y),D())}var t0=function(t,r){return t===r.droppable.type},WN=function(t,r){return r.draggables[t.draggable.id]},CQ=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=be({},t,{shouldAnimatePlaceholder:!1}),n=Ft(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=Ft(function(o,l,c,d,u,f){var h=u.descriptor.id,m=u.descriptor.droppableId===o;if(m){var y=f?{render:f,dragging:n(u.descriptor)}:null,v={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:y}}if(!l)return r;if(!d)return t;var b={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),s=function(l,c){var d=c.droppableId,u=c.type,f=!c.isDropDisabled,h=c.renderClone;if(l.isDragging){var m=l.critical;if(!t0(u,m))return r;var y=WN(m,l.dimensions),v=Hr(l.impact)===d;return a(d,f,v,v,y,h)}if(l.phase==="DROP_ANIMATING"){var b=l.completed;if(!t0(u,b.critical))return r;var g=WN(b.critical,l.dimensions);return a(d,f,U5(b.result)===d,Hr(b.impact)===d,g,h)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var p=l.completed;if(!t0(u,p.critical))return r;var x=Hr(p.impact)===d,w=!!(p.impact.at&&p.impact.at.type==="COMBINE"),_=p.critical.droppable.id===d;return x?w?t:r:_?t:r}return r};return s},EQ={updateViewportMaxScroll:AX};function TQ(){return document.body||ce(),document.body}var DQ={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:TQ},V5=qT(CQ,EQ,null,{context:Sw,pure:!0,areStatePropsEqual:B5})(SQ);V5.defaultProps=DQ;const r0=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),PQ=()=>{const[e,t]=k.useState([]),[r,n]=k.useState({email:"",phone:"",address:"",workingHours:"",socialLinks:{telegram:"",instagram:"",youtube:""}}),[a,s]=k.useState({alignment:"center",style:"classic",spacing:"normal",height:"compact",showBorder:!0,showShadow:!0,backgroundColor:"white",animation:"slide",mobileCollapse:!0,showIcons:!1,showBadges:!0,stickyHeader:!0,maxWidth:"container"}),[o,l]=k.useState(!0),[c,d]=k.useState(!1),[u,f]=k.useState(null),[h,m]=k.useState("navigation"),[y,v]=k.useState(null),[b,g]=k.useState({label:"",path:"",badge:""}),[p,x]=k.useState(!1);k.useEffect(()=>{w()},[]);const w=async()=>{try{l(!0);const{data:N,error:C}=await r0.from("site_settings").select("*").limit(1).single();if(C&&C.code!=="PGRST116")throw console.error("Fetch error:",C),C;if(N){console.log("Loaded settings:",N),f(N.id);const j=(N.navigation_items||[]).map((I,B)=>({...I,order:I.order!==void 0?I.order:B})).sort((I,B)=>I.order-B.order);t(j),n({...r,...N.footer_settings||{}}),s({...a,...N.topbar_settings||{}})}else{console.log("Creating new settings record");const j={navigation_items:[],footer_settings:r,topbar_settings:a},{data:I,error:B}=await r0.from("site_settings").insert([j]).select("*").single();if(B)throw console.error("Insert error:",B),B;console.log("Created new settings:",I),f(I.id)}}catch(N){console.error("Error fetching settings:",N),X.error("Ошибка при загрузке настроек: "+N.message)}finally{l(!1)}},_=N=>{if(!N.destination)return;const C=Array.from(e),[j]=C.splice(N.source.index,1);C.splice(N.destination.index,0,j);const I=C.map((B,P)=>({...B,order:P}));t(I)},S=N=>{t(C=>C.map(j=>j.id===N?{...j,visible:!j.visible}:j))},E=(N,C,j)=>{t(I=>I.map(B=>B.id===N?{...B,[C]:j}:B))},O=()=>{if(!b.label||!b.path){X.error("Заполните название и путь");return}const C={id:b.label.toLowerCase().replace(/\s+/g,"-"),label:b.label,path:b.path,visible:!0,order:e.length,badge:b.badge?parseInt(b.badge):void 0};t(j=>[...j,C]),g({label:"",path:"",badge:""}),x(!1),X.success("Элемент навигации добавлен")},T=N=>{confirm("Удалить элемент навигации?")&&(t(C=>C.filter(j=>j.id!==N)),X.success("Элемент навигации удален"))},D=()=>{s({alignment:"center",style:"classic",spacing:"normal",height:"compact",showBorder:!0,showShadow:!0,backgroundColor:"white",animation:"slide",mobileCollapse:!0,showIcons:!1,showBadges:!0,stickyHeader:!0,maxWidth:"container"}),X.info("Настройки топбара сброшены к значениям по умолчанию")},R=async()=>{try{if(!u){X.error("ID настроек не найден");return}d(!0),console.log("Saving settings...",{navigation_items:e,footer_settings:r,topbar_settings:a});const{data:N,error:C}=await r0.from("site_settings").update({navigation_items:e,footer_settings:r,topbar_settings:a}).eq("id",u).select();if(C)throw console.error("Save error:",C),C;console.log("Settings saved successfully:",N),X.success("Настройки сохранены")}catch(N){console.error("Error saving settings:",N),X.error("Ошибка при сохранении: "+N.message)}finally{d(!1)}};return o?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Nt,{className:"h-8 w-8 animate-spin text-primary-600"}),i.jsx("span",{className:"text-lg text-gray-900 dark:text-white",children:"Загрузка настроек..."})]})}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Управление навигацией"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Настройка меню, топбара и футера сайта"})]}),i.jsx("button",{onClick:R,disabled:c,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"h-5 w-5 animate-spin"}),"Сохранение..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Wr,{className:"h-5 w-5"}),"Сохранить изменения"]})})]}),i.jsx("div",{className:"border-b border-gray-200 dark:border-gray-600",children:i.jsx("nav",{className:"flex space-x-8",children:[{id:"navigation",label:"Навигация",icon:Zp},{id:"topbar",label:"Топбар",icon:Ic},{id:"footer",label:"Футер",icon:p1}].map(N=>{const C=N.icon;return i.jsxs("button",{onClick:()=>m(N.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${h===N.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[i.jsx(C,{className:"h-4 w-4"}),N.label]},N.id)})})}),h==="navigation"&&i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Основное меню"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Перетаскивайте элементы для изменения порядка"})]}),i.jsxs("button",{onClick:()=>x(!p),className:"btn btn-outline flex items-center gap-2",children:[i.jsx(Nn,{className:"h-4 w-4"}),"Добавить элемент"]})]}),p&&i.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-dark-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[i.jsx("h4",{className:"font-medium mb-3 text-gray-900 dark:text-white",children:"Новый элемент навигации"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Название *"}),i.jsx("input",{type:"text",placeholder:"Например: Контакты",value:b.label,onChange:N=>g(C=>({...C,label:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Путь *"}),i.jsx("input",{type:"text",placeholder:"Например: /contacts",value:b.path,onChange:N=>g(C=>({...C,path:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Бейдж (опционально)"}),i.jsx("input",{type:"number",placeholder:"5",value:b.badge,onChange:N=>g(C=>({...C,badge:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx("button",{onClick:O,className:"btn-primary",children:"Добавить"}),i.jsx("button",{onClick:()=>x(!1),className:"btn btn-outline",children:"Отмена"})]})]}),e.length===0?i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(Zp,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Элементы навигации не найдены"}),i.jsx("p",{className:"text-sm",children:"Добавьте первый элемент меню"})]}):i.jsx(UJ,{onDragEnd:_,children:i.jsx(V5,{droppableId:"nav-items",children:N=>i.jsxs("div",{...N.droppableProps,ref:N.innerRef,className:"space-y-3",children:[e.map((C,j)=>i.jsx(_Q,{draggableId:C.id,index:j,children:(I,B)=>i.jsxs("div",{ref:I.innerRef,...I.draggableProps,className:`flex items-center justify-between p-4 bg-gray-50 dark:bg-dark-700 rounded-lg border transition-all ${B.isDragging?"border-primary-300 shadow-lg bg-white dark:bg-dark-600":"border-gray-200 dark:border-gray-600"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("span",{...I.dragHandleProps,className:"cursor-grab active:cursor-grabbing",children:i.jsx(GM,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})}),i.jsx("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-3",children:y===C.id?i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"text",value:C.label,onChange:P=>E(C.id,"label",P.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white text-sm",placeholder:"Название"}),i.jsx("input",{type:"text",value:C.path,onChange:P=>E(C.id,"path",P.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white text-sm",placeholder:"Путь"}),i.jsx("input",{type:"number",value:C.badge||"",onChange:P=>E(C.id,"badge",P.target.value?parseInt(P.target.value):void 0),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white text-sm",placeholder:"Бейдж"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:C.label}),!C.visible&&i.jsx("span",{className:"ml-2 text-xs text-gray-500 bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded",children:"Скрыт"})]}),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:C.path}),i.jsxs("div",{className:"flex items-center gap-2",children:[C.badge&&i.jsxs("span",{className:"text-xs bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200 px-2 py-1 rounded-full",children:["Бейдж: ",C.badge]}),i.jsxs("span",{className:"text-xs text-gray-400",children:["#",j+1]})]})]})})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[y===C.id?i.jsx("button",{onClick:()=>v(null),className:"p-2 text-primary-600 hover:bg-primary-100 dark:hover:bg-primary-900/20 rounded-md transition-colors",title:"Сохранить изменения",children:i.jsx(Wr,{className:"h-4 w-4"})}):i.jsx("button",{onClick:()=>v(C.id),className:"p-2 text-primary-600 hover:bg-primary-100 dark:hover:bg-primary-900/20 rounded-md transition-colors",title:"Редактировать",children:i.jsx(tR,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>S(C.id),className:`p-2 rounded-md transition-colors ${C.visible?"text-primary-600 hover:bg-primary-100 dark:hover:bg-primary-900/20":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600"}`,title:C.visible?"Скрыть элемент":"Показать элемент",children:C.visible?i.jsx(Bd,{className:"h-4 w-4"}):i.jsx(VM,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>T(C.id),className:"p-2 text-primary-600 hover:bg-primary-100 dark:hover:bg-primary-900/20 rounded-md transition-colors",title:"Удалить элемент",children:i.jsx(Ir,{className:"h-4 w-4"})})]})]})},C.id)),N.placeholder]})})})]})}),h==="topbar"&&i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Настройки топбара"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Настройте внешний вид и поведение верхней панели"})]}),i.jsxs("button",{onClick:D,className:"btn btn-outline flex items-center gap-2",children:[i.jsx(rR,{className:"h-4 w-4"}),"Сбросить"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(Zp,{className:"h-5 w-5 text-primary-600"}),"Расположение и стиль"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Выравнивание навигации"}),i.jsxs("select",{value:a.alignment,onChange:N=>s(C=>({...C,alignment:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"left",children:"Слева"}),i.jsx("option",{value:"center",children:"По центру"}),i.jsx("option",{value:"right",children:"Справа"}),i.jsx("option",{value:"space-between",children:"Растянуть"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Стиль навигации"}),i.jsxs("select",{value:a.style,onChange:N=>s(C=>({...C,style:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"classic",children:"Классический (линия снизу)"}),i.jsx("option",{value:"modern",children:"Современный"}),i.jsx("option",{value:"minimal",children:"Минимальный"}),i.jsx("option",{value:"rounded",children:"Скругленный"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Отступы"}),i.jsxs("select",{value:a.spacing,onChange:N=>s(C=>({...C,spacing:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"compact",children:"Компактные"}),i.jsx("option",{value:"normal",children:"Обычные"}),i.jsx("option",{value:"relaxed",children:"Увеличенные"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Высота топбара"}),i.jsxs("select",{value:a.height,onChange:N=>s(C=>({...C,height:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"compact",children:"Компактная"}),i.jsx("option",{value:"normal",children:"Обычная"}),i.jsx("option",{value:"large",children:"Увеличенная"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Максимальная ширина"}),i.jsxs("select",{value:a.maxWidth,onChange:N=>s(C=>({...C,maxWidth:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"container",children:"Контейнер (1280px)"}),i.jsx("option",{value:"screen-xl",children:"Большой экран (1536px)"}),i.jsx("option",{value:"full",children:"Полная ширина"})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(eR,{className:"h-5 w-5 text-primary-600"}),"Внешний вид"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Фон топбара"}),i.jsxs("select",{value:a.backgroundColor,onChange:N=>s(C=>({...C,backgroundColor:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"white",children:"Белый"}),i.jsx("option",{value:"transparent",children:"Прозрачный"}),i.jsx("option",{value:"blur",children:"Размытый"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Анимация"}),i.jsxs("select",{value:a.animation,onChange:N=>s(C=>({...C,animation:N.target.value})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white",children:[i.jsx("option",{value:"none",children:"Без анимации"}),i.jsx("option",{value:"slide",children:"Слайд"}),i.jsx("option",{value:"fade",children:"Затухание"}),i.jsx("option",{value:"bounce",children:"Подпрыгивание"})]})]}),i.jsx("div",{className:"space-y-3",children:[{key:"showBorder",label:"Показывать границу",desc:"Тонкая линия под топбаром"},{key:"showShadow",label:"Показывать тень",desc:"Мягкая тень под панелью"},{key:"stickyHeader",label:"Закрепленный заголовок",desc:"Топбар остается наверху при прокрутке"},{key:"showIcons",label:"Показывать иконки",desc:"Иконки рядом с пунктами меню"},{key:"showBadges",label:"Показывать бейджи",desc:"Числовые индикаторы на элементах"},{key:"mobileCollapse",label:"Сворачивать на мобильных",desc:"Гамбургер-меню на малых экранах"}].map(N=>i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:a[N.key],onChange:C=>s(j=>({...j,[N.key]:C.target.checked})),className:"mt-1"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-900 dark:text-white",children:N.label}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:N.desc})]})]},N.key))})]})]})]}),i.jsxs("div",{className:"mt-8 p-6 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[i.jsx("h4",{className:"font-medium mb-4 text-gray-900 dark:text-white",children:"Предварительный просмотр"}),i.jsxs("div",{className:`
                border rounded-lg bg-white dark:bg-dark-800 transition-all
                ${a.showBorder?"border-gray-200 dark:border-gray-600":"border-transparent"}
                ${a.showShadow?"shadow-lg":""}
                ${a.backgroundColor==="blur"?"backdrop-blur-sm bg-white/80 dark:bg-dark-800/80":""}
                ${a.backgroundColor==="transparent"?"bg-transparent":""}
              `,children:[i.jsxs("div",{className:"flex items-center justify-between p-4",children:[i.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"ScienceHub"}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsx("span",{children:"Войти"}),i.jsx("span",{children:"🌙"})]})]}),i.jsx("div",{className:`
                  flex items-center p-4
                  ${a.alignment==="left"?"justify-start":""}
                  ${a.alignment==="center"?"justify-center":""}
                  ${a.alignment==="right"?"justify-end":""}
                  ${a.alignment==="space-between"?"justify-between":""}
                  ${a.spacing==="compact"?"gap-2":""}
                  ${a.spacing==="normal"?"gap-4":""}
                  ${a.spacing==="relaxed"?"gap-6":""}
                `,children:e.filter(N=>N.visible).slice(0,4).map((N,C)=>i.jsx("div",{className:`
                        px-3 py-2 text-sm font-medium cursor-pointer transition-all duration-300 relative
                        ${a.style==="classic"?"hover:text-primary-600 border-b-2 border-transparent hover:border-primary-600":""}
                        ${a.style==="modern"?"hover:bg-primary-100 dark:hover:bg-primary-900/20 rounded-lg":""}
                        ${a.style==="minimal"?"hover:opacity-80":""}
                        ${a.style==="rounded"?"hover:bg-primary-100 dark:hover:bg-primary-900/20 rounded-full":""}
                        ${a.animation==="slide"?"hover:transform hover:-translate-y-0.5":""}
                        ${a.animation==="fade"?"hover:opacity-70":""}
                        ${a.animation==="bounce"?"hover:animate-pulse":""}
                        ${C===0&&a.style==="classic"?"text-primary-600 border-b-2 border-primary-600":""}
                      `,children:i.jsxs("div",{className:"flex items-center gap-2",children:[N.label,a.showBadges&&N.badge&&i.jsx("span",{className:"bg-primary-500 text-white text-xs rounded-full px-1.5 py-0.5 min-w-[18px] h-4 flex items-center justify-center",children:N.badge})]})},N.id))})]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Это примерный вид топбара с текущими настройками. Первый элемент показан как активный."})]})]})}),h==="footer"&&i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Настройки футера"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Контактная информация и социальные сети"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(p1,{className:"h-5 w-5 text-primary-600"}),"Контактная информация"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Email"}),i.jsx("input",{type:"email",value:r.email,onChange:N=>n(C=>({...C,email:N.target.value})),placeholder:"sciencehubrs@gmail.com",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Телефон"}),i.jsx("input",{type:"tel",value:r.phone,onChange:N=>n(C=>({...C,phone:N.target.value})),placeholder:"+381 629434798",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Адрес"}),i.jsx("input",{type:"text",value:r.address,onChange:N=>n(C=>({...C,address:N.target.value})),placeholder:"Sarajevska 48, Belgrade",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Часы работы"}),i.jsx("input",{type:"text",value:r.workingHours,onChange:N=>n(C=>({...C,workingHours:N.target.value})),placeholder:"Пн-Пт: 9:00-22:00, Сб-Вс: 10:00-20:00",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[i.jsx(sR,{className:"h-5 w-5 text-primary-600"}),"Социальные сети"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Telegram"}),i.jsx("input",{type:"url",placeholder:"https://t.me/sciencehub",value:r.socialLinks.telegram,onChange:N=>n(C=>({...C,socialLinks:{...C.socialLinks,telegram:N.target.value}})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Instagram"}),i.jsx("input",{type:"url",placeholder:"https://instagram.com/sciencehub",value:r.socialLinks.instagram,onChange:N=>n(C=>({...C,socialLinks:{...C.socialLinks,instagram:N.target.value}})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-2 text-gray-700 dark:text-gray-300",children:"YouTube"}),i.jsx("input",{type:"url",placeholder:"https://youtube.com/sciencehub",value:r.socialLinks.youtube,onChange:N=>n(C=>({...C,socialLinks:{...C.socialLinks,youtube:N.target.value}})),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-dark-800 text-gray-900 dark:text-white"})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[i.jsx("h5",{className:"font-medium mb-3 text-gray-900 dark:text-white",children:"Предварительный просмотр ссылок"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(r.socialLinks).map(([N,C])=>{if(!C)return null;const j={telegram:"Telegram",instagram:"Instagram",youtube:"YouTube"};return i.jsxs("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1 bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300 rounded-full text-sm hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors",children:[j[N],i.jsx("span",{className:"text-xs",children:"↗"})]},N)})}),Object.values(r.socialLinks).every(N=>!N)&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Добавьте ссылки на социальные сети"})]})]})]}),i.jsxs("div",{className:"mt-8 p-6 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[i.jsx("h4",{className:"font-medium mb-4 text-gray-900 dark:text-white",children:"Предварительный просмотр футера"}),i.jsx("div",{className:"bg-dark-900 text-white p-6 rounded-lg",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3",children:"Контакты"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[r.email&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"📧"}),i.jsx("span",{children:r.email})]}),r.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"📞"}),i.jsx("span",{children:r.phone})]}),r.address&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"📍"}),i.jsx("span",{children:r.address})]}),r.workingHours&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"🕒"}),i.jsx("span",{children:r.workingHours})]})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3",children:"Навигация"}),i.jsx("div",{className:"space-y-1 text-sm",children:e.filter(N=>N.visible).slice(0,5).map(N=>i.jsx("div",{className:"hover:text-primary-400 cursor-pointer",children:N.label},N.id))})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3",children:"Мы в соцсетях"}),i.jsx("div",{className:"flex gap-3",children:Object.entries(r.socialLinks).map(([N,C])=>{if(!C)return null;const j={telegram:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/tg-logo-100x100.png",instagram:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/ist-logo-100x100.png",youtube:"https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/logos/yt_100x100.png"};return i.jsx("img",{src:j[N],alt:N,className:"w-8 h-8 cursor-pointer hover:scale-110 transition-transform"},N)})})]})]})})]})]})})]})};function rf(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var q5={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,a,s){function o(d,u){if(!a[d]){if(!n[d]){var f=typeof rf=="function"&&rf;if(!u&&f)return f(d,!0);if(l)return l(d,!0);var h=new Error("Cannot find module '"+d+"'");throw h.code="MODULE_NOT_FOUND",h}var m=a[d]={exports:{}};n[d][0].call(m.exports,function(y){var v=n[d][1][y];return o(v||y)},m,m.exports,r,n,a,s)}return a[d].exports}for(var l=typeof rf=="function"&&rf,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(r,n,a){var s=r("./utils"),o=r("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(c){for(var d,u,f,h,m,y,v,b=[],g=0,p=c.length,x=p,w=s.getTypeOf(c)!=="string";g<c.length;)x=p-g,f=w?(d=c[g++],u=g<p?c[g++]:0,g<p?c[g++]:0):(d=c.charCodeAt(g++),u=g<p?c.charCodeAt(g++):0,g<p?c.charCodeAt(g++):0),h=d>>2,m=(3&d)<<4|u>>4,y=1<x?(15&u)<<2|f>>6:64,v=2<x?63&f:64,b.push(l.charAt(h)+l.charAt(m)+l.charAt(y)+l.charAt(v));return b.join("")},a.decode=function(c){var d,u,f,h,m,y,v=0,b=0,g="data:";if(c.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var p,x=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&x--,c.charAt(c.length-2)===l.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=o.uint8array?new Uint8Array(0|x):new Array(0|x);v<c.length;)d=l.indexOf(c.charAt(v++))<<2|(h=l.indexOf(c.charAt(v++)))>>4,u=(15&h)<<4|(m=l.indexOf(c.charAt(v++)))>>2,f=(3&m)<<6|(y=l.indexOf(c.charAt(v++))),p[b++]=d,m!==64&&(p[b++]=u),y!==64&&(p[b++]=f);return p}},{"./support":30,"./utils":32}],2:[function(r,n,a){var s=r("./external"),o=r("./stream/DataWorker"),l=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function d(u,f,h,m,y){this.compressedSize=u,this.uncompressedSize=f,this.crc32=h,this.compression=m,this.compressedContent=y}d.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(u,f,h){return u.pipe(new l).pipe(new c("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},n.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,a){var s=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,a){var s=r("./utils"),o=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var u=0;u<8;u++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();n.exports=function(l,c){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(d,u,f,h){var m=o,y=h+f;d^=-1;for(var v=h;v<y;v++)d=d>>>8^m[255&(d^u[v])];return-1^d}(0|c,l,l.length,0):function(d,u,f,h){var m=o,y=h+f;d^=-1;for(var v=h;v<y;v++)d=d>>>8^m[255&(d^u.charCodeAt(v))];return-1^d}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(r,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,n,a){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),l=r("./utils"),c=r("./stream/GenericWorker"),d=s?"uint8array":"array";function u(f,h){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}a.magic="\b\0",l.inherits(u,c),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,f.data),!1)},u.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},a.compressWorker=function(f){return new u("Deflate",f)},a.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,a){function s(m,y){var v,b="";for(v=0;v<y;v++)b+=String.fromCharCode(255&m),m>>>=8;return b}function o(m,y,v,b,g,p){var x,w,_=m.file,S=m.compression,E=p!==d.utf8encode,O=l.transformTo("string",p(_.name)),T=l.transformTo("string",d.utf8encode(_.name)),D=_.comment,R=l.transformTo("string",p(D)),N=l.transformTo("string",d.utf8encode(D)),C=T.length!==_.name.length,j=N.length!==D.length,I="",B="",P="",A=_.dir,F=_.date,L={crc32:0,compressedSize:0,uncompressedSize:0};y&&!v||(L.crc32=m.crc32,L.compressedSize=m.compressedSize,L.uncompressedSize=m.uncompressedSize);var $=0;y&&($|=8),E||!C&&!j||($|=2048);var z=0,q=0;A&&(z|=16),g==="UNIX"?(q=798,z|=function(H,ee){var ne=H;return H||(ne=ee?16893:33204),(65535&ne)<<16}(_.unixPermissions,A)):(q=20,z|=function(H){return 63&(H||0)}(_.dosPermissions)),x=F.getUTCHours(),x<<=6,x|=F.getUTCMinutes(),x<<=5,x|=F.getUTCSeconds()/2,w=F.getUTCFullYear()-1980,w<<=4,w|=F.getUTCMonth()+1,w<<=5,w|=F.getUTCDate(),C&&(B=s(1,1)+s(u(O),4)+T,I+="up"+s(B.length,2)+B),j&&(P=s(1,1)+s(u(R),4)+N,I+="uc"+s(P.length,2)+P);var K="";return K+=`
\0`,K+=s($,2),K+=S.magic,K+=s(x,2),K+=s(w,2),K+=s(L.crc32,4),K+=s(L.compressedSize,4),K+=s(L.uncompressedSize,4),K+=s(O.length,2),K+=s(I.length,2),{fileRecord:f.LOCAL_FILE_HEADER+K+O+I,dirRecord:f.CENTRAL_FILE_HEADER+s(q,2)+K+s(R.length,2)+"\0\0\0\0"+s(z,4)+s(b,4)+O+I+R}}var l=r("../utils"),c=r("../stream/GenericWorker"),d=r("../utf8"),u=r("../crc32"),f=r("../signature");function h(m,y,v,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=v,this.encodeFileName=b,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(h,c),h.prototype.push=function(m){var y=m.meta.percent||0,v=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:v?(y+100*(v-b-1))/v:100}}))},h.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var y=this.streamFiles&&!m.file.dir;if(y){var v=o(m,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(m){this.accumulate=!1;var y=this.streamFiles&&!m.file.dir,v=o(m,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),y)this.push({data:function(b){return f.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var m=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var v=this.bytesWritten-m,b=function(g,p,x,w,_){var S=l.transformTo("string",_(w));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(p,4)+s(x,4)+s(S.length,2)+S}(this.dirRecords.length,v,m,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(m){this._sources.push(m);var y=this;return m.on("data",function(v){y.processChunk(v)}),m.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),m.on("error",function(v){y.error(v)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(m){var y=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var v=0;v<y.length;v++)try{y[v].error(m)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,y=0;y<m.length;y++)m[y].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,a){var s=r("../compressions"),o=r("./ZipFileWorker");a.generateWorker=function(l,c,d){var u=new o(c.streamFiles,d,c.platform,c.encodeFileName),f=0;try{l.forEach(function(h,m){f++;var y=function(p,x){var w=p||x,_=s[w];if(!_)throw new Error(w+" is not a valid compression method !");return _}(m.options.compression,c.compression),v=m.options.compressionOptions||c.compressionOptions||{},b=m.dir,g=m.date;m._compressWorker(y,v).withStreamInfo("file",{name:h,dir:b,date:g,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,a){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,a){var s=r("./utils"),o=r("./external"),l=r("./utf8"),c=r("./zipEntries"),d=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function f(h){return new o.Promise(function(m,y){var v=h.decompressed.getContentWorker().pipe(new d);v.on("error",function(b){y(b)}).on("end",function(){v.streamInfo.crc32!==h.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(h,m){var y=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),u.isNode&&u.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,m.optimizedBinaryString,m.base64).then(function(v){var b=new c(m);return b.load(v),b}).then(function(v){var b=[o.Promise.resolve(v)],g=v.files;if(m.checkCRC32)for(var p=0;p<g.length;p++)b.push(f(g[p]));return o.Promise.all(b)}).then(function(v){for(var b=v.shift(),g=b.files,p=0;p<g.length;p++){var x=g[p],w=x.fileNameStr,_=s.resolve(x.fileNameStr);y.file(_,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:m.createFolders}),x.dir||(y.file(_).unsafeOriginalName=w)}return b.zipComment.length&&(y.comment=b.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,a){var s=r("../utils"),o=r("../stream/GenericWorker");function l(c,d){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}s.inherits(l,o),l.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(u){d.push({data:u,meta:{percent:0}})}).on("error",function(u){d.isPaused?this.generatedError=u:d.error(u)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,a){var s=r("readable-stream").Readable;function o(l,c,d){s.call(this,c),this._helper=l;var u=this;l.on("data",function(f,h){u.push(f)||u._helper.pause(),d&&d(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,a){function s(_,S,E){var O,T=l.getTypeOf(S),D=l.extend(E||{},u);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(_=g(_)),D.createFolders&&(O=b(_))&&p.call(this,O,!0);var R=T==="string"&&D.binary===!1&&D.base64===!1;E&&E.binary!==void 0||(D.binary=!R),(S instanceof f&&S.uncompressedSize===0||D.dir||!S||S.length===0)&&(D.base64=!1,D.binary=!0,S="",D.compression="STORE",T="string");var N=null;N=S instanceof f||S instanceof c?S:y.isNode&&y.isStream(S)?new v(_,S):l.prepareContent(_,S,D.binary,D.optimizedBinaryString,D.base64);var C=new h(_,N,D);this.files[_]=C}var o=r("./utf8"),l=r("./utils"),c=r("./stream/GenericWorker"),d=r("./stream/StreamHelper"),u=r("./defaults"),f=r("./compressedObject"),h=r("./zipObject"),m=r("./generate"),y=r("./nodejsUtils"),v=r("./nodejs/NodejsStreamInputAdapter"),b=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var S=_.lastIndexOf("/");return 0<S?_.substring(0,S):""},g=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},p=function(_,S){return S=S!==void 0?S:u.createFolders,_=g(_),this.files[_]||s.call(this,_,null,{dir:!0,createFolders:S}),this.files[_]};function x(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var S,E,O;for(S in this.files)O=this.files[S],(E=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&_(E,O)},filter:function(_){var S=[];return this.forEach(function(E,O){_(E,O)&&S.push(O)}),S},file:function(_,S,E){if(arguments.length!==1)return _=this.root+_,s.call(this,_,S,E),this;if(x(_)){var O=_;return this.filter(function(D,R){return!R.dir&&O.test(D)})}var T=this.files[this.root+_];return T&&!T.dir?T:null},folder:function(_){if(!_)return this;if(x(_))return this.filter(function(T,D){return D.dir&&_.test(T)});var S=this.root+_,E=p.call(this,S),O=this.clone();return O.root=E.name,O},remove:function(_){_=this.root+_;var S=this.files[_];if(S||(_.slice(-1)!=="/"&&(_+="/"),S=this.files[_]),S&&!S.dir)delete this.files[_];else for(var E=this.filter(function(T,D){return D.name.slice(0,_.length)===_}),O=0;O<E.length;O++)delete this.files[E[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var S,E={};try{if((E=l.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");l.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var O=E.comment||this.comment||"";S=m.generateWorker(this,E,O)}catch(T){(S=new c("error")).error(T)}return new d(S,E.type||"string",E.mimeType)},generateAsync:function(_,S){return this.generateInternalStream(_).accumulate(S)},generateNodeStream:function(_,S){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(S)}};n.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,a){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,a){var s=r("./DataReader");function o(l){s.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}r("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),d=l.charCodeAt(1),u=l.charCodeAt(2),f=l.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===d&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),d=l.charCodeAt(1),u=l.charCodeAt(2),f=l.charCodeAt(3),h=this.readData(4);return c===h[0]&&d===h[1]&&u===h[2]&&f===h[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,a){var s=r("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,d=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=l,d},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,a){var s=r("./Uint8ArrayReader");function o(l){s.call(this,l)}r("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,a){var s=r("./DataReader");function o(l){s.call(this,l)}r("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,a){var s=r("./ArrayReader");function o(l){s.call(this,l)}r("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,a){var s=r("../utils"),o=r("../support"),l=r("./ArrayReader"),c=r("./StringReader"),d=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new d(f):o.uint8array?new u(s.transformTo("uint8array",f)):new l(s.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,a){var s=r("./GenericWorker"),o=r("../utils");function l(c){s.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(l,s),l.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,a){var s=r("./GenericWorker"),o=r("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(l,s),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,a){var s=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(l,o),l.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}o.prototype.processChunk.call(this,c)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,a){var s=r("../utils"),o=r("./GenericWorker");function l(c){o.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(u){d.dataIsReady=!0,d.data=u,d.max=u&&u.length||0,d.type=s.getTypeOf(u),d.isPaused||d._tickAndRepeat()},function(u){d.error(u)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,a){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(c){l.processChunk(c)}),o.on("end",function(){l.end()}),o.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(r,n,a){var s=r("../utils"),o=r("./ConvertWorker"),l=r("./GenericWorker"),c=r("../base64"),d=r("../support"),u=r("../external"),f=null;if(d.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(y,v){return new u.Promise(function(b,g){var p=[],x=y._internalType,w=y._outputType,_=y._mimeType;y.on("data",function(S,E){p.push(S),v&&v(E)}).on("error",function(S){p=[],g(S)}).on("end",function(){try{var S=function(E,O,T){switch(E){case"blob":return s.newBlob(s.transformTo("arraybuffer",O),T);case"base64":return c.encode(O);default:return s.transformTo(E,O)}}(w,function(E,O){var T,D=0,R=null,N=0;for(T=0;T<O.length;T++)N+=O[T].length;switch(E){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(R=new Uint8Array(N),T=0;T<O.length;T++)R.set(O[T],D),D+=O[T].length;return R;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+E+"'")}}(x,p),_);b(S)}catch(E){g(E)}p=[]}).resume()})}function m(y,v,b){var g=v;switch(v){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=v,this._mimeType=b,s.checkSupport(g),this._worker=y.pipe(new o(g)),y.lock()}catch(p){this._worker=new l("error"),this._worker.error(p)}}m.prototype={accumulate:function(y){return h(this,y)},on:function(y,v){var b=this;return y==="data"?this._worker.on(y,function(g){v.call(b,g.data,g.meta)}):this._worker.on(y,function(){s.delay(v,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var s=new ArrayBuffer(0);try{a.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,a){for(var s=r("./utils"),o=r("./support"),l=r("./nodejsUtils"),c=r("./stream/GenericWorker"),d=new Array(256),u=0;u<256;u++)d[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;d[254]=d[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}a.utf8encode=function(m){return o.nodebuffer?l.newBufferFrom(m,"utf-8"):function(y){var v,b,g,p,x,w=y.length,_=0;for(p=0;p<w;p++)(64512&(b=y.charCodeAt(p)))==55296&&p+1<w&&(64512&(g=y.charCodeAt(p+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),p++),_+=b<128?1:b<2048?2:b<65536?3:4;for(v=o.uint8array?new Uint8Array(_):new Array(_),p=x=0;x<_;p++)(64512&(b=y.charCodeAt(p)))==55296&&p+1<w&&(64512&(g=y.charCodeAt(p+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),p++),b<128?v[x++]=b:(b<2048?v[x++]=192|b>>>6:(b<65536?v[x++]=224|b>>>12:(v[x++]=240|b>>>18,v[x++]=128|b>>>12&63),v[x++]=128|b>>>6&63),v[x++]=128|63&b);return v}(m)},a.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(y){var v,b,g,p,x=y.length,w=new Array(2*x);for(v=b=0;v<x;)if((g=y[v++])<128)w[b++]=g;else if(4<(p=d[g]))w[b++]=65533,v+=p-1;else{for(g&=p===2?31:p===3?15:7;1<p&&v<x;)g=g<<6|63&y[v++],p--;1<p?w[b++]=65533:g<65536?w[b++]=g:(g-=65536,w[b++]=55296|g>>10&1023,w[b++]=56320|1023&g)}return w.length!==b&&(w.subarray?w=w.subarray(0,b):w.length=b),s.applyFromCharCode(w)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(f,c),f.prototype.processChunk=function(m){var y=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=y;(y=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),y.set(v,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var b=function(p,x){var w;for((x=x||p.length)>p.length&&(x=p.length),w=x-1;0<=w&&(192&p[w])==128;)w--;return w<0||w===0?x:w+d[p[w]]>x?w:x}(y),g=y;b!==y.length&&(o.uint8array?(g=y.subarray(0,b),this.leftOver=y.subarray(b,y.length)):(g=y.slice(0,b),this.leftOver=y.slice(b,y.length))),this.push({data:a.utf8decode(g),meta:m.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=f,s.inherits(h,c),h.prototype.processChunk=function(m){this.push({data:a.utf8encode(m.data),meta:m.meta})},a.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,a){var s=r("./support"),o=r("./base64"),l=r("./nodejsUtils"),c=r("./external");function d(v){return v}function u(v,b){for(var g=0;g<v.length;++g)b[g]=255&v.charCodeAt(g);return b}r("setimmediate"),a.newBlob=function(v,b){a.checkSupport("blob");try{return new Blob([v],{type:b})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(v),g.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(v,b,g){var p=[],x=0,w=v.length;if(w<=g)return String.fromCharCode.apply(null,v);for(;x<w;)b==="array"||b==="nodebuffer"?p.push(String.fromCharCode.apply(null,v.slice(x,Math.min(x+g,w)))):p.push(String.fromCharCode.apply(null,v.subarray(x,Math.min(x+g,w)))),x+=g;return p.join("")},stringifyByChar:function(v){for(var b="",g=0;g<v.length;g++)b+=String.fromCharCode(v[g]);return b},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function h(v){var b=65536,g=a.getTypeOf(v),p=!0;if(g==="uint8array"?p=f.applyCanBeUsed.uint8array:g==="nodebuffer"&&(p=f.applyCanBeUsed.nodebuffer),p)for(;1<b;)try{return f.stringifyByChunk(v,g,b)}catch{b=Math.floor(b/2)}return f.stringifyByChar(v)}function m(v,b){for(var g=0;g<v.length;g++)b[g]=v[g];return b}a.applyFromCharCode=h;var y={};y.string={string:d,array:function(v){return u(v,new Array(v.length))},arraybuffer:function(v){return y.string.uint8array(v).buffer},uint8array:function(v){return u(v,new Uint8Array(v.length))},nodebuffer:function(v){return u(v,l.allocBuffer(v.length))}},y.array={string:h,array:d,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(v)}},y.arraybuffer={string:function(v){return h(new Uint8Array(v))},array:function(v){return m(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:d,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(new Uint8Array(v))}},y.uint8array={string:h,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:d,nodebuffer:function(v){return l.newBufferFrom(v)}},y.nodebuffer={string:h,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return y.nodebuffer.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:d},a.transformTo=function(v,b){if(b=b||"",!v)return b;a.checkSupport(v);var g=a.getTypeOf(b);return y[g][v](b)},a.resolve=function(v){for(var b=v.split("/"),g=[],p=0;p<b.length;p++){var x=b[p];x==="."||x===""&&p!==0&&p!==b.length-1||(x===".."?g.pop():g.push(x))}return g.join("/")},a.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(v){var b,g,p="";for(g=0;g<(v||"").length;g++)p+="\\x"+((b=v.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return p},a.delay=function(v,b,g){setImmediate(function(){v.apply(g||null,b||[])})},a.inherits=function(v,b){function g(){}g.prototype=b.prototype,v.prototype=new g},a.extend=function(){var v,b,g={};for(v=0;v<arguments.length;v++)for(b in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],b)&&g[b]===void 0&&(g[b]=arguments[v][b]);return g},a.prepareContent=function(v,b,g,p,x){return c.Promise.resolve(b).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new c.Promise(function(_,S){var E=new FileReader;E.onload=function(O){_(O.target.result)},E.onerror=function(O){S(O.target.error)},E.readAsArrayBuffer(w)}):w}).then(function(w){var _=a.getTypeOf(w);return _?(_==="arraybuffer"?w=a.transformTo("uint8array",w):_==="string"&&(x?w=o.decode(w):g&&p!==!0&&(w=function(S){return u(S,s.uint8array?new Uint8Array(S.length):new Array(S.length))}(w))),w):c.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,a){var s=r("./reader/readerFor"),o=r("./utils"),l=r("./signature"),c=r("./zipEntry"),d=r("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(f)+")")}},isSignature:function(f,h){var m=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===h;return this.reader.setIndex(m),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=d.uint8array?"uint8array":"array",m=o.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,m,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),h=this.reader.readInt(4),m=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var y=h-m;if(0<y)this.isSignature(h,l.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,a){var s=r("./reader/readerFor"),o=r("./utils"),l=r("./compressedObject"),c=r("./crc32"),d=r("./utf8"),u=r("./compressions"),f=r("./support");function h(m,y){this.options=m,this.loadOptions=y}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var y,v;if(m.skip(22),this.fileNameLength=m.readInt(2),v=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(b){for(var g in u)if(Object.prototype.hasOwnProperty.call(u,g)&&u[g].magic===b)return u[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,y,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var y=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(y),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var y,v,b,g=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<g;)y=m.readInt(2),v=m.readInt(2),b=m.readData(v),this.extraFields[y]={id:y,length:v,value:b};m.setIndex(g)},handleUTF8:function(){var m=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var v=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var y=s(m.value);return y.readInt(1)!==1||c(this.fileName)!==y.readInt(4)?null:d.utf8decode(y.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var y=s(m.value);return y.readInt(1)!==1||c(this.fileComment)!==y.readInt(4)?null:d.utf8decode(y.readData(m.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,a){function s(y,v,b){this.name=y,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=v,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=r("./stream/StreamHelper"),l=r("./stream/DataWorker"),c=r("./utf8"),d=r("./compressedObject"),u=r("./stream/GenericWorker");s.prototype={internalStream:function(y){var v=null,b="string";try{if(!y)throw new Error("No output type specified.");var g=(b=y.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),v=this._decompressWorker();var p=!this._dataBinary;p&&!g&&(v=v.pipe(new c.Utf8EncodeWorker)),!p&&g&&(v=v.pipe(new c.Utf8DecodeWorker))}catch(x){(v=new u("error")).error(x)}return new o(v,b,"")},async:function(y,v){return this.internalStream(y).accumulate(v)},nodeStream:function(y,v){return this.internalStream(y||"nodebuffer").toNodejsStream(v)},_compressWorker:function(y,v){if(this._data instanceof d&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(b,y,v)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof u?this._data:new l(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<f.length;m++)s.prototype[f[m]]=h;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,a){(function(s){var o,l,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var d=0,u=new c(y),f=s.document.createTextNode("");u.observe(f,{characterData:!0}),o=function(){f.data=d=++d%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){y(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(y,0)};else{var h=new s.MessageChannel;h.port1.onmessage=y,o=function(){h.port2.postMessage(0)}}var m=[];function y(){var v,b;l=!0;for(var g=m.length;g;){for(b=m,m=[],v=-1;++v<g;)b[v]();g=m.length}l=!1}n.exports=function(v){m.push(v)!==1||l||o()}}).call(this,typeof rt<"u"?rt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,a){var s=r("immediate");function o(){}var l={},c=["REJECTED"],d=["FULFILLED"],u=["PENDING"];function f(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,g!==o&&v(this,g)}function h(g,p,x){this.promise=g,typeof p=="function"&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function m(g,p,x){s(function(){var w;try{w=p(x)}catch(_){return l.reject(g,_)}w===g?l.reject(g,new TypeError("Cannot resolve promise with itself")):l.resolve(g,w)})}function y(g){var p=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof p=="function")return function(){p.apply(g,arguments)}}function v(g,p){var x=!1;function w(E){x||(x=!0,l.reject(g,E))}function _(E){x||(x=!0,l.resolve(g,E))}var S=b(function(){p(_,w)});S.status==="error"&&w(S.value)}function b(g,p){var x={};try{x.value=g(p),x.status="success"}catch(w){x.status="error",x.value=w}return x}(n.exports=f).prototype.finally=function(g){if(typeof g!="function")return this;var p=this.constructor;return this.then(function(x){return p.resolve(g()).then(function(){return x})},function(x){return p.resolve(g()).then(function(){throw x})})},f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,p){if(typeof g!="function"&&this.state===d||typeof p!="function"&&this.state===c)return this;var x=new this.constructor(o);return this.state!==u?m(x,this.state===d?g:p,this.outcome):this.queue.push(new h(x,g,p)),x},h.prototype.callFulfilled=function(g){l.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){m(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){l.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){m(this.promise,this.onRejected,g)},l.resolve=function(g,p){var x=b(y,p);if(x.status==="error")return l.reject(g,x.value);var w=x.value;if(w)v(g,w);else{g.state=d,g.outcome=p;for(var _=-1,S=g.queue.length;++_<S;)g.queue[_].callFulfilled(p)}return g},l.reject=function(g,p){g.state=c,g.outcome=p;for(var x=-1,w=g.queue.length;++x<w;)g.queue[x].callRejected(p);return g},f.resolve=function(g){return g instanceof this?g:l.resolve(new this(o),g)},f.reject=function(g){var p=new this(o);return l.reject(p,g)},f.all=function(g){var p=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,w=!1;if(!x)return this.resolve([]);for(var _=new Array(x),S=0,E=-1,O=new this(o);++E<x;)T(g[E],E);return O;function T(D,R){p.resolve(D).then(function(N){_[R]=N,++S!==x||w||(w=!0,l.resolve(O,_))},function(N){w||(w=!0,l.reject(O,N))})}},f.race=function(g){var p=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,w=!1;if(!x)return this.resolve([]);for(var _=-1,S=new this(o);++_<x;)E=g[_],p.resolve(E).then(function(O){w||(w=!0,l.resolve(S,O))},function(O){w||(w=!0,l.reject(S,O))});var E;return S}},{immediate:36}],38:[function(r,n,a){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,a){var s=r("./zlib/deflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/messages"),d=r("./zlib/zstream"),u=Object.prototype.toString,f=0,h=-1,m=0,y=8;function v(g){if(!(this instanceof v))return new v(g);this.options=o.assign({level:h,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},g||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(x!==f)throw new Error(c[x]);if(p.header&&s.deflateSetHeader(this.strm,p.header),p.dictionary){var w;if(w=typeof p.dictionary=="string"?l.string2buf(p.dictionary):u.call(p.dictionary)==="[object ArrayBuffer]"?new Uint8Array(p.dictionary):p.dictionary,(x=s.deflateSetDictionary(this.strm,w))!==f)throw new Error(c[x]);this._dict_set=!0}}function b(g,p){var x=new v(p);if(x.push(g,!0),x.err)throw x.msg||c[x.err];return x.result}v.prototype.push=function(g,p){var x,w,_=this.strm,S=this.options.chunkSize;if(this.ended)return!1;w=p===~~p?p:p===!0?4:0,typeof g=="string"?_.input=l.string2buf(g):u.call(g)==="[object ArrayBuffer]"?_.input=new Uint8Array(g):_.input=g,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(S),_.next_out=0,_.avail_out=S),(x=s.deflate(_,w))!==1&&x!==f)return this.onEnd(x),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&x!==1);return w===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===f):w!==2||(this.onEnd(f),!(_.avail_out=0))},v.prototype.onData=function(g){this.chunks.push(g)},v.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},a.Deflate=v,a.deflate=b,a.deflateRaw=function(g,p){return(p=p||{}).raw=!0,b(g,p)},a.gzip=function(g,p){return(p=p||{}).gzip=!0,b(g,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,a){var s=r("./zlib/inflate"),o=r("./utils/common"),l=r("./utils/strings"),c=r("./zlib/constants"),d=r("./zlib/messages"),u=r("./zlib/zstream"),f=r("./zlib/gzheader"),h=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||v&&v.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,b.windowBits);if(g!==c.Z_OK)throw new Error(d[g]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function y(v,b){var g=new m(b);if(g.push(v,!0),g.err)throw g.msg||d[g.err];return g.result}m.prototype.push=function(v,b){var g,p,x,w,_,S,E=this.strm,O=this.options.chunkSize,T=this.options.dictionary,D=!1;if(this.ended)return!1;p=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof v=="string"?E.input=l.binstring2buf(v):h.call(v)==="[object ArrayBuffer]"?E.input=new Uint8Array(v):E.input=v,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(O),E.next_out=0,E.avail_out=O),(g=s.inflate(E,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&T&&(S=typeof T=="string"?l.string2buf(T):h.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,g=s.inflateSetDictionary(this.strm,S)),g===c.Z_BUF_ERROR&&D===!0&&(g=c.Z_OK,D=!1),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&g!==c.Z_STREAM_END&&(E.avail_in!==0||p!==c.Z_FINISH&&p!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=l.utf8border(E.output,E.next_out),w=E.next_out-x,_=l.buf2string(E.output,x),E.next_out=w,E.avail_out=O-w,w&&o.arraySet(E.output,E.output,x,w,0),this.onData(_)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(D=!0)}while((0<E.avail_in||E.avail_out===0)&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(p=c.Z_FINISH),p===c.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):p!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(E.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},a.Inflate=m,a.inflate=y,a.inflateRaw=function(v,b){return(b=b||{}).raw=!0,y(v,b)},a.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var u=d.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])}}return c},a.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var o={arraySet:function(c,d,u,f,h){if(d.subarray&&c.subarray)c.set(d.subarray(u,u+f),h);else for(var m=0;m<f;m++)c[h+m]=d[u+m]},flattenChunks:function(c){var d,u,f,h,m,y;for(d=f=0,u=c.length;d<u;d++)f+=c[d].length;for(y=new Uint8Array(f),d=h=0,u=c.length;d<u;d++)m=c[d],y.set(m,h),h+=m.length;return y}},l={arraySet:function(c,d,u,f,h){for(var m=0;m<f;m++)c[h+m]=d[u+m]},flattenChunks:function(c){return[].concat.apply([],c)}};a.setTyped=function(c){c?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(s)},{}],42:[function(r,n,a){var s=r("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new s.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function u(f,h){if(h<65537&&(f.subarray&&l||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var m="",y=0;y<h;y++)m+=String.fromCharCode(f[y]);return m}c[254]=c[254]=1,a.string2buf=function(f){var h,m,y,v,b,g=f.length,p=0;for(v=0;v<g;v++)(64512&(m=f.charCodeAt(v)))==55296&&v+1<g&&(64512&(y=f.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),v++),p+=m<128?1:m<2048?2:m<65536?3:4;for(h=new s.Buf8(p),v=b=0;b<p;v++)(64512&(m=f.charCodeAt(v)))==55296&&v+1<g&&(64512&(y=f.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),v++),m<128?h[b++]=m:(m<2048?h[b++]=192|m>>>6:(m<65536?h[b++]=224|m>>>12:(h[b++]=240|m>>>18,h[b++]=128|m>>>12&63),h[b++]=128|m>>>6&63),h[b++]=128|63&m);return h},a.buf2binstring=function(f){return u(f,f.length)},a.binstring2buf=function(f){for(var h=new s.Buf8(f.length),m=0,y=h.length;m<y;m++)h[m]=f.charCodeAt(m);return h},a.buf2string=function(f,h){var m,y,v,b,g=h||f.length,p=new Array(2*g);for(m=y=0;m<g;)if((v=f[m++])<128)p[y++]=v;else if(4<(b=c[v]))p[y++]=65533,m+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&m<g;)v=v<<6|63&f[m++],b--;1<b?p[y++]=65533:v<65536?p[y++]=v:(v-=65536,p[y++]=55296|v>>10&1023,p[y++]=56320|1023&v)}return u(p,y)},a.utf8border=function(f,h){var m;for((h=h||f.length)>f.length&&(h=f.length),m=h-1;0<=m&&(192&f[m])==128;)m--;return m<0||m===0?h:m+c[f[m]]>h?m:h}},{"./common":41}],43:[function(r,n,a){n.exports=function(s,o,l,c){for(var d=65535&s|0,u=s>>>16&65535|0,f=0;l!==0;){for(l-=f=2e3<l?2e3:l;u=u+(d=d+o[c++]|0)|0,--f;);d%=65521,u%=65521}return d|u<<16|0}},{}],44:[function(r,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,a){var s=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();n.exports=function(o,l,c,d){var u=s,f=d+c;o^=-1;for(var h=d;h<f;h++)o=o>>>8^u[255&(o^l[h])];return-1^o}},{}],46:[function(r,n,a){var s,o=r("../utils/common"),l=r("./trees"),c=r("./adler32"),d=r("./crc32"),u=r("./messages"),f=0,h=4,m=0,y=-2,v=-1,b=4,g=2,p=8,x=9,w=286,_=30,S=19,E=2*w+1,O=15,T=3,D=258,R=D+T+1,N=42,C=113,j=1,I=2,B=3,P=4;function A(M,J){return M.msg=u[J],J}function F(M){return(M<<1)-(4<M?9:0)}function L(M){for(var J=M.length;0<=--J;)M[J]=0}function $(M){var J=M.state,G=J.pending;G>M.avail_out&&(G=M.avail_out),G!==0&&(o.arraySet(M.output,J.pending_buf,J.pending_out,G,M.next_out),M.next_out+=G,J.pending_out+=G,M.total_out+=G,M.avail_out-=G,J.pending-=G,J.pending===0&&(J.pending_out=0))}function z(M,J){l._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,J),M.block_start=M.strstart,$(M.strm)}function q(M,J){M.pending_buf[M.pending++]=J}function K(M,J){M.pending_buf[M.pending++]=J>>>8&255,M.pending_buf[M.pending++]=255&J}function H(M,J){var G,W,U=M.max_chain_length,V=M.strstart,Q=M.prev_length,te=M.nice_match,Y=M.strstart>M.w_size-R?M.strstart-(M.w_size-R):0,ie=M.window,he=M.w_mask,le=M.prev,xe=M.strstart+D,Ae=ie[V+Q-1],Ee=ie[V+Q];M.prev_length>=M.good_match&&(U>>=2),te>M.lookahead&&(te=M.lookahead);do if(ie[(G=J)+Q]===Ee&&ie[G+Q-1]===Ae&&ie[G]===ie[V]&&ie[++G]===ie[V+1]){V+=2,G++;do;while(ie[++V]===ie[++G]&&ie[++V]===ie[++G]&&ie[++V]===ie[++G]&&ie[++V]===ie[++G]&&ie[++V]===ie[++G]&&ie[++V]===ie[++G]&&ie[++V]===ie[++G]&&ie[++V]===ie[++G]&&V<xe);if(W=D-(xe-V),V=xe-D,Q<W){if(M.match_start=J,te<=(Q=W))break;Ae=ie[V+Q-1],Ee=ie[V+Q]}}while((J=le[J&he])>Y&&--U!=0);return Q<=M.lookahead?Q:M.lookahead}function ee(M){var J,G,W,U,V,Q,te,Y,ie,he,le=M.w_size;do{if(U=M.window_size-M.lookahead-M.strstart,M.strstart>=le+(le-R)){for(o.arraySet(M.window,M.window,le,le,0),M.match_start-=le,M.strstart-=le,M.block_start-=le,J=G=M.hash_size;W=M.head[--J],M.head[J]=le<=W?W-le:0,--G;);for(J=G=le;W=M.prev[--J],M.prev[J]=le<=W?W-le:0,--G;);U+=le}if(M.strm.avail_in===0)break;if(Q=M.strm,te=M.window,Y=M.strstart+M.lookahead,ie=U,he=void 0,he=Q.avail_in,ie<he&&(he=ie),G=he===0?0:(Q.avail_in-=he,o.arraySet(te,Q.input,Q.next_in,he,Y),Q.state.wrap===1?Q.adler=c(Q.adler,te,he,Y):Q.state.wrap===2&&(Q.adler=d(Q.adler,te,he,Y)),Q.next_in+=he,Q.total_in+=he,he),M.lookahead+=G,M.lookahead+M.insert>=T)for(V=M.strstart-M.insert,M.ins_h=M.window[V],M.ins_h=(M.ins_h<<M.hash_shift^M.window[V+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[V+T-1])&M.hash_mask,M.prev[V&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=V,V++,M.insert--,!(M.lookahead+M.insert<T)););}while(M.lookahead<R&&M.strm.avail_in!==0)}function ne(M,J){for(var G,W;;){if(M.lookahead<R){if(ee(M),M.lookahead<R&&J===f)return j;if(M.lookahead===0)break}if(G=0,M.lookahead>=T&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+T-1])&M.hash_mask,G=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),G!==0&&M.strstart-G<=M.w_size-R&&(M.match_length=H(M,G)),M.match_length>=T)if(W=l._tr_tally(M,M.strstart-M.match_start,M.match_length-T),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=T){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+T-1])&M.hash_mask,G=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else W=l._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(W&&(z(M,!1),M.strm.avail_out===0))return j}return M.insert=M.strstart<T-1?M.strstart:T-1,J===h?(z(M,!0),M.strm.avail_out===0?B:P):M.last_lit&&(z(M,!1),M.strm.avail_out===0)?j:I}function re(M,J){for(var G,W,U;;){if(M.lookahead<R){if(ee(M),M.lookahead<R&&J===f)return j;if(M.lookahead===0)break}if(G=0,M.lookahead>=T&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+T-1])&M.hash_mask,G=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=T-1,G!==0&&M.prev_length<M.max_lazy_match&&M.strstart-G<=M.w_size-R&&(M.match_length=H(M,G),M.match_length<=5&&(M.strategy===1||M.match_length===T&&4096<M.strstart-M.match_start)&&(M.match_length=T-1)),M.prev_length>=T&&M.match_length<=M.prev_length){for(U=M.strstart+M.lookahead-T,W=l._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-T),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=U&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+T-1])&M.hash_mask,G=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=T-1,M.strstart++,W&&(z(M,!1),M.strm.avail_out===0))return j}else if(M.match_available){if((W=l._tr_tally(M,0,M.window[M.strstart-1]))&&z(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return j}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(W=l._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<T-1?M.strstart:T-1,J===h?(z(M,!0),M.strm.avail_out===0?B:P):M.last_lit&&(z(M,!1),M.strm.avail_out===0)?j:I}function ae(M,J,G,W,U){this.good_length=M,this.max_lazy=J,this.nice_length=G,this.max_chain=W,this.func=U}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*S+1)),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(O+1),this.heap=new o.Buf16(2*w+1),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*w+1),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fe(M){var J;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=g,(J=M.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?N:C,M.adler=J.wrap===2?0:1,J.last_flush=f,l._tr_init(J),m):A(M,y)}function De(M){var J=fe(M);return J===m&&function(G){G.window_size=2*G.w_size,L(G.head),G.max_lazy_match=s[G.level].max_lazy,G.good_match=s[G.level].good_length,G.nice_match=s[G.level].nice_length,G.max_chain_length=s[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=T-1,G.match_available=0,G.ins_h=0}(M.state),J}function ve(M,J,G,W,U,V){if(!M)return y;var Q=1;if(J===v&&(J=6),W<0?(Q=0,W=-W):15<W&&(Q=2,W-=16),U<1||x<U||G!==p||W<8||15<W||J<0||9<J||V<0||b<V)return A(M,y);W===8&&(W=9);var te=new me;return(M.state=te).strm=M,te.wrap=Q,te.gzhead=null,te.w_bits=W,te.w_size=1<<te.w_bits,te.w_mask=te.w_size-1,te.hash_bits=U+7,te.hash_size=1<<te.hash_bits,te.hash_mask=te.hash_size-1,te.hash_shift=~~((te.hash_bits+T-1)/T),te.window=new o.Buf8(2*te.w_size),te.head=new o.Buf16(te.hash_size),te.prev=new o.Buf16(te.w_size),te.lit_bufsize=1<<U+6,te.pending_buf_size=4*te.lit_bufsize,te.pending_buf=new o.Buf8(te.pending_buf_size),te.d_buf=1*te.lit_bufsize,te.l_buf=3*te.lit_bufsize,te.level=J,te.strategy=V,te.method=G,De(M)}s=[new ae(0,0,0,0,function(M,J){var G=65535;for(G>M.pending_buf_size-5&&(G=M.pending_buf_size-5);;){if(M.lookahead<=1){if(ee(M),M.lookahead===0&&J===f)return j;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var W=M.block_start+G;if((M.strstart===0||M.strstart>=W)&&(M.lookahead=M.strstart-W,M.strstart=W,z(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-R&&(z(M,!1),M.strm.avail_out===0))return j}return M.insert=0,J===h?(z(M,!0),M.strm.avail_out===0?B:P):(M.strstart>M.block_start&&(z(M,!1),M.strm.avail_out),j)}),new ae(4,4,8,4,ne),new ae(4,5,16,8,ne),new ae(4,6,32,32,ne),new ae(4,4,16,16,re),new ae(8,16,32,32,re),new ae(8,16,128,128,re),new ae(8,32,128,256,re),new ae(32,128,258,1024,re),new ae(32,258,258,4096,re)],a.deflateInit=function(M,J){return ve(M,J,p,15,8,0)},a.deflateInit2=ve,a.deflateReset=De,a.deflateResetKeep=fe,a.deflateSetHeader=function(M,J){return M&&M.state?M.state.wrap!==2?y:(M.state.gzhead=J,m):y},a.deflate=function(M,J){var G,W,U,V;if(!M||!M.state||5<J||J<0)return M?A(M,y):y;if(W=M.state,!M.output||!M.input&&M.avail_in!==0||W.status===666&&J!==h)return A(M,M.avail_out===0?-5:y);if(W.strm=M,G=W.last_flush,W.last_flush=J,W.status===N)if(W.wrap===2)M.adler=0,q(W,31),q(W,139),q(W,8),W.gzhead?(q(W,(W.gzhead.text?1:0)+(W.gzhead.hcrc?2:0)+(W.gzhead.extra?4:0)+(W.gzhead.name?8:0)+(W.gzhead.comment?16:0)),q(W,255&W.gzhead.time),q(W,W.gzhead.time>>8&255),q(W,W.gzhead.time>>16&255),q(W,W.gzhead.time>>24&255),q(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),q(W,255&W.gzhead.os),W.gzhead.extra&&W.gzhead.extra.length&&(q(W,255&W.gzhead.extra.length),q(W,W.gzhead.extra.length>>8&255)),W.gzhead.hcrc&&(M.adler=d(M.adler,W.pending_buf,W.pending,0)),W.gzindex=0,W.status=69):(q(W,0),q(W,0),q(W,0),q(W,0),q(W,0),q(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),q(W,3),W.status=C);else{var Q=p+(W.w_bits-8<<4)<<8;Q|=(2<=W.strategy||W.level<2?0:W.level<6?1:W.level===6?2:3)<<6,W.strstart!==0&&(Q|=32),Q+=31-Q%31,W.status=C,K(W,Q),W.strstart!==0&&(K(W,M.adler>>>16),K(W,65535&M.adler)),M.adler=1}if(W.status===69)if(W.gzhead.extra){for(U=W.pending;W.gzindex<(65535&W.gzhead.extra.length)&&(W.pending!==W.pending_buf_size||(W.gzhead.hcrc&&W.pending>U&&(M.adler=d(M.adler,W.pending_buf,W.pending-U,U)),$(M),U=W.pending,W.pending!==W.pending_buf_size));)q(W,255&W.gzhead.extra[W.gzindex]),W.gzindex++;W.gzhead.hcrc&&W.pending>U&&(M.adler=d(M.adler,W.pending_buf,W.pending-U,U)),W.gzindex===W.gzhead.extra.length&&(W.gzindex=0,W.status=73)}else W.status=73;if(W.status===73)if(W.gzhead.name){U=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>U&&(M.adler=d(M.adler,W.pending_buf,W.pending-U,U)),$(M),U=W.pending,W.pending===W.pending_buf_size)){V=1;break}V=W.gzindex<W.gzhead.name.length?255&W.gzhead.name.charCodeAt(W.gzindex++):0,q(W,V)}while(V!==0);W.gzhead.hcrc&&W.pending>U&&(M.adler=d(M.adler,W.pending_buf,W.pending-U,U)),V===0&&(W.gzindex=0,W.status=91)}else W.status=91;if(W.status===91)if(W.gzhead.comment){U=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>U&&(M.adler=d(M.adler,W.pending_buf,W.pending-U,U)),$(M),U=W.pending,W.pending===W.pending_buf_size)){V=1;break}V=W.gzindex<W.gzhead.comment.length?255&W.gzhead.comment.charCodeAt(W.gzindex++):0,q(W,V)}while(V!==0);W.gzhead.hcrc&&W.pending>U&&(M.adler=d(M.adler,W.pending_buf,W.pending-U,U)),V===0&&(W.status=103)}else W.status=103;if(W.status===103&&(W.gzhead.hcrc?(W.pending+2>W.pending_buf_size&&$(M),W.pending+2<=W.pending_buf_size&&(q(W,255&M.adler),q(W,M.adler>>8&255),M.adler=0,W.status=C)):W.status=C),W.pending!==0){if($(M),M.avail_out===0)return W.last_flush=-1,m}else if(M.avail_in===0&&F(J)<=F(G)&&J!==h)return A(M,-5);if(W.status===666&&M.avail_in!==0)return A(M,-5);if(M.avail_in!==0||W.lookahead!==0||J!==f&&W.status!==666){var te=W.strategy===2?function(Y,ie){for(var he;;){if(Y.lookahead===0&&(ee(Y),Y.lookahead===0)){if(ie===f)return j;break}if(Y.match_length=0,he=l._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++,he&&(z(Y,!1),Y.strm.avail_out===0))return j}return Y.insert=0,ie===h?(z(Y,!0),Y.strm.avail_out===0?B:P):Y.last_lit&&(z(Y,!1),Y.strm.avail_out===0)?j:I}(W,J):W.strategy===3?function(Y,ie){for(var he,le,xe,Ae,Ee=Y.window;;){if(Y.lookahead<=D){if(ee(Y),Y.lookahead<=D&&ie===f)return j;if(Y.lookahead===0)break}if(Y.match_length=0,Y.lookahead>=T&&0<Y.strstart&&(le=Ee[xe=Y.strstart-1])===Ee[++xe]&&le===Ee[++xe]&&le===Ee[++xe]){Ae=Y.strstart+D;do;while(le===Ee[++xe]&&le===Ee[++xe]&&le===Ee[++xe]&&le===Ee[++xe]&&le===Ee[++xe]&&le===Ee[++xe]&&le===Ee[++xe]&&le===Ee[++xe]&&xe<Ae);Y.match_length=D-(Ae-xe),Y.match_length>Y.lookahead&&(Y.match_length=Y.lookahead)}if(Y.match_length>=T?(he=l._tr_tally(Y,1,Y.match_length-T),Y.lookahead-=Y.match_length,Y.strstart+=Y.match_length,Y.match_length=0):(he=l._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++),he&&(z(Y,!1),Y.strm.avail_out===0))return j}return Y.insert=0,ie===h?(z(Y,!0),Y.strm.avail_out===0?B:P):Y.last_lit&&(z(Y,!1),Y.strm.avail_out===0)?j:I}(W,J):s[W.level].func(W,J);if(te!==B&&te!==P||(W.status=666),te===j||te===B)return M.avail_out===0&&(W.last_flush=-1),m;if(te===I&&(J===1?l._tr_align(W):J!==5&&(l._tr_stored_block(W,0,0,!1),J===3&&(L(W.head),W.lookahead===0&&(W.strstart=0,W.block_start=0,W.insert=0))),$(M),M.avail_out===0))return W.last_flush=-1,m}return J!==h?m:W.wrap<=0?1:(W.wrap===2?(q(W,255&M.adler),q(W,M.adler>>8&255),q(W,M.adler>>16&255),q(W,M.adler>>24&255),q(W,255&M.total_in),q(W,M.total_in>>8&255),q(W,M.total_in>>16&255),q(W,M.total_in>>24&255)):(K(W,M.adler>>>16),K(W,65535&M.adler)),$(M),0<W.wrap&&(W.wrap=-W.wrap),W.pending!==0?m:1)},a.deflateEnd=function(M){var J;return M&&M.state?(J=M.state.status)!==N&&J!==69&&J!==73&&J!==91&&J!==103&&J!==C&&J!==666?A(M,y):(M.state=null,J===C?A(M,-3):m):y},a.deflateSetDictionary=function(M,J){var G,W,U,V,Q,te,Y,ie,he=J.length;if(!M||!M.state||(V=(G=M.state).wrap)===2||V===1&&G.status!==N||G.lookahead)return y;for(V===1&&(M.adler=c(M.adler,J,he,0)),G.wrap=0,he>=G.w_size&&(V===0&&(L(G.head),G.strstart=0,G.block_start=0,G.insert=0),ie=new o.Buf8(G.w_size),o.arraySet(ie,J,he-G.w_size,G.w_size,0),J=ie,he=G.w_size),Q=M.avail_in,te=M.next_in,Y=M.input,M.avail_in=he,M.next_in=0,M.input=J,ee(G);G.lookahead>=T;){for(W=G.strstart,U=G.lookahead-(T-1);G.ins_h=(G.ins_h<<G.hash_shift^G.window[W+T-1])&G.hash_mask,G.prev[W&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=W,W++,--U;);G.strstart=W,G.lookahead=T-1,ee(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=T-1,G.match_available=0,M.next_in=te,M.input=Y,M.avail_in=Q,G.wrap=V,m},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,a){n.exports=function(s,o){var l,c,d,u,f,h,m,y,v,b,g,p,x,w,_,S,E,O,T,D,R,N,C,j,I;l=s.state,c=s.next_in,j=s.input,d=c+(s.avail_in-5),u=s.next_out,I=s.output,f=u-(o-s.avail_out),h=u+(s.avail_out-257),m=l.dmax,y=l.wsize,v=l.whave,b=l.wnext,g=l.window,p=l.hold,x=l.bits,w=l.lencode,_=l.distcode,S=(1<<l.lenbits)-1,E=(1<<l.distbits)-1;e:do{x<15&&(p+=j[c++]<<x,x+=8,p+=j[c++]<<x,x+=8),O=w[p&S];t:for(;;){if(p>>>=T=O>>>24,x-=T,(T=O>>>16&255)===0)I[u++]=65535&O;else{if(!(16&T)){if(!(64&T)){O=w[(65535&O)+(p&(1<<T)-1)];continue t}if(32&T){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}D=65535&O,(T&=15)&&(x<T&&(p+=j[c++]<<x,x+=8),D+=p&(1<<T)-1,p>>>=T,x-=T),x<15&&(p+=j[c++]<<x,x+=8,p+=j[c++]<<x,x+=8),O=_[p&E];r:for(;;){if(p>>>=T=O>>>24,x-=T,!(16&(T=O>>>16&255))){if(!(64&T)){O=_[(65535&O)+(p&(1<<T)-1)];continue r}s.msg="invalid distance code",l.mode=30;break e}if(R=65535&O,x<(T&=15)&&(p+=j[c++]<<x,(x+=8)<T&&(p+=j[c++]<<x,x+=8)),m<(R+=p&(1<<T)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(p>>>=T,x-=T,(T=u-f)<R){if(v<(T=R-T)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(C=g,(N=0)===b){if(N+=y-T,T<D){for(D-=T;I[u++]=g[N++],--T;);N=u-R,C=I}}else if(b<T){if(N+=y+b-T,(T-=b)<D){for(D-=T;I[u++]=g[N++],--T;);if(N=0,b<D){for(D-=T=b;I[u++]=g[N++],--T;);N=u-R,C=I}}}else if(N+=b-T,T<D){for(D-=T;I[u++]=g[N++],--T;);N=u-R,C=I}for(;2<D;)I[u++]=C[N++],I[u++]=C[N++],I[u++]=C[N++],D-=3;D&&(I[u++]=C[N++],1<D&&(I[u++]=C[N++]))}else{for(N=u-R;I[u++]=I[N++],I[u++]=I[N++],I[u++]=I[N++],2<(D-=3););D&&(I[u++]=I[N++],1<D&&(I[u++]=I[N++]))}break}}break}}while(c<d&&u<h);c-=D=x>>3,p&=(1<<(x-=D<<3))-1,s.next_in=c,s.next_out=u,s.avail_in=c<d?d-c+5:5-(c-d),s.avail_out=u<h?h-u+257:257-(u-h),l.hold=p,l.bits=x}},{}],49:[function(r,n,a){var s=r("../utils/common"),o=r("./adler32"),l=r("./crc32"),c=r("./inffast"),d=r("./inftrees"),u=1,f=2,h=0,m=-2,y=1,v=852,b=592;function g(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(N){var C;return N&&N.state?(C=N.state,N.total_in=N.total_out=C.total=0,N.msg="",C.wrap&&(N.adler=1&C.wrap),C.mode=y,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new s.Buf32(v),C.distcode=C.distdyn=new s.Buf32(b),C.sane=1,C.back=-1,h):m}function w(N){var C;return N&&N.state?((C=N.state).wsize=0,C.whave=0,C.wnext=0,x(N)):m}function _(N,C){var j,I;return N&&N.state?(I=N.state,C<0?(j=0,C=-C):(j=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?m:(I.window!==null&&I.wbits!==C&&(I.window=null),I.wrap=j,I.wbits=C,w(N))):m}function S(N,C){var j,I;return N?(I=new p,(N.state=I).window=null,(j=_(N,C))!==h&&(N.state=null),j):m}var E,O,T=!0;function D(N){if(T){var C;for(E=new s.Buf32(512),O=new s.Buf32(32),C=0;C<144;)N.lens[C++]=8;for(;C<256;)N.lens[C++]=9;for(;C<280;)N.lens[C++]=7;for(;C<288;)N.lens[C++]=8;for(d(u,N.lens,0,288,E,0,N.work,{bits:9}),C=0;C<32;)N.lens[C++]=5;d(f,N.lens,0,32,O,0,N.work,{bits:5}),T=!1}N.lencode=E,N.lenbits=9,N.distcode=O,N.distbits=5}function R(N,C,j,I){var B,P=N.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new s.Buf8(P.wsize)),I>=P.wsize?(s.arraySet(P.window,C,j-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(I<(B=P.wsize-P.wnext)&&(B=I),s.arraySet(P.window,C,j-I,B,P.wnext),(I-=B)?(s.arraySet(P.window,C,j-I,I,0),P.wnext=I,P.whave=P.wsize):(P.wnext+=B,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=B))),0}a.inflateReset=w,a.inflateReset2=_,a.inflateResetKeep=x,a.inflateInit=function(N){return S(N,15)},a.inflateInit2=S,a.inflate=function(N,C){var j,I,B,P,A,F,L,$,z,q,K,H,ee,ne,re,ae,me,fe,De,ve,M,J,G,W,U=0,V=new s.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return m;(j=N.state).mode===12&&(j.mode=13),A=N.next_out,B=N.output,L=N.avail_out,P=N.next_in,I=N.input,F=N.avail_in,$=j.hold,z=j.bits,q=F,K=L,J=h;e:for(;;)switch(j.mode){case y:if(j.wrap===0){j.mode=13;break}for(;z<16;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}if(2&j.wrap&&$===35615){V[j.check=0]=255&$,V[1]=$>>>8&255,j.check=l(j.check,V,2,0),z=$=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&$)<<8)+($>>8))%31){N.msg="incorrect header check",j.mode=30;break}if((15&$)!=8){N.msg="unknown compression method",j.mode=30;break}if(z-=4,M=8+(15&($>>>=4)),j.wbits===0)j.wbits=M;else if(M>j.wbits){N.msg="invalid window size",j.mode=30;break}j.dmax=1<<M,N.adler=j.check=1,j.mode=512&$?10:12,z=$=0;break;case 2:for(;z<16;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}if(j.flags=$,(255&j.flags)!=8){N.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){N.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=$>>8&1),512&j.flags&&(V[0]=255&$,V[1]=$>>>8&255,j.check=l(j.check,V,2,0)),z=$=0,j.mode=3;case 3:for(;z<32;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}j.head&&(j.head.time=$),512&j.flags&&(V[0]=255&$,V[1]=$>>>8&255,V[2]=$>>>16&255,V[3]=$>>>24&255,j.check=l(j.check,V,4,0)),z=$=0,j.mode=4;case 4:for(;z<16;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}j.head&&(j.head.xflags=255&$,j.head.os=$>>8),512&j.flags&&(V[0]=255&$,V[1]=$>>>8&255,j.check=l(j.check,V,2,0)),z=$=0,j.mode=5;case 5:if(1024&j.flags){for(;z<16;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}j.length=$,j.head&&(j.head.extra_len=$),512&j.flags&&(V[0]=255&$,V[1]=$>>>8&255,j.check=l(j.check,V,2,0)),z=$=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(F<(H=j.length)&&(H=F),H&&(j.head&&(M=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),s.arraySet(j.head.extra,I,P,H,M)),512&j.flags&&(j.check=l(j.check,I,H,P)),F-=H,P+=H,j.length-=H),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(F===0)break e;for(H=0;M=I[P+H++],j.head&&M&&j.length<65536&&(j.head.name+=String.fromCharCode(M)),M&&H<F;);if(512&j.flags&&(j.check=l(j.check,I,H,P)),F-=H,P+=H,M)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(F===0)break e;for(H=0;M=I[P+H++],j.head&&M&&j.length<65536&&(j.head.comment+=String.fromCharCode(M)),M&&H<F;);if(512&j.flags&&(j.check=l(j.check,I,H,P)),F-=H,P+=H,M)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;z<16;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}if($!==(65535&j.check)){N.msg="header crc mismatch",j.mode=30;break}z=$=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),N.adler=j.check=0,j.mode=12;break;case 10:for(;z<32;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}N.adler=j.check=g($),z=$=0,j.mode=11;case 11:if(j.havedict===0)return N.next_out=A,N.avail_out=L,N.next_in=P,N.avail_in=F,j.hold=$,j.bits=z,2;N.adler=j.check=1,j.mode=12;case 12:if(C===5||C===6)break e;case 13:if(j.last){$>>>=7&z,z-=7&z,j.mode=27;break}for(;z<3;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}switch(j.last=1&$,z-=1,3&($>>>=1)){case 0:j.mode=14;break;case 1:if(D(j),j.mode=20,C!==6)break;$>>>=2,z-=2;break e;case 2:j.mode=17;break;case 3:N.msg="invalid block type",j.mode=30}$>>>=2,z-=2;break;case 14:for($>>>=7&z,z-=7&z;z<32;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}if((65535&$)!=($>>>16^65535)){N.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&$,z=$=0,j.mode=15,C===6)break e;case 15:j.mode=16;case 16:if(H=j.length){if(F<H&&(H=F),L<H&&(H=L),H===0)break e;s.arraySet(B,I,P,H,A),F-=H,P+=H,L-=H,A+=H,j.length-=H;break}j.mode=12;break;case 17:for(;z<14;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}if(j.nlen=257+(31&$),$>>>=5,z-=5,j.ndist=1+(31&$),$>>>=5,z-=5,j.ncode=4+(15&$),$>>>=4,z-=4,286<j.nlen||30<j.ndist){N.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;z<3;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}j.lens[Q[j.have++]]=7&$,$>>>=3,z-=3}for(;j.have<19;)j.lens[Q[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,G={bits:j.lenbits},J=d(0,j.lens,0,19,j.lencode,0,j.work,G),j.lenbits=G.bits,J){N.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;ae=(U=j.lencode[$&(1<<j.lenbits)-1])>>>16&255,me=65535&U,!((re=U>>>24)<=z);){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}if(me<16)$>>>=re,z-=re,j.lens[j.have++]=me;else{if(me===16){for(W=re+2;z<W;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}if($>>>=re,z-=re,j.have===0){N.msg="invalid bit length repeat",j.mode=30;break}M=j.lens[j.have-1],H=3+(3&$),$>>>=2,z-=2}else if(me===17){for(W=re+3;z<W;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}z-=re,M=0,H=3+(7&($>>>=re)),$>>>=3,z-=3}else{for(W=re+7;z<W;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}z-=re,M=0,H=11+(127&($>>>=re)),$>>>=7,z-=7}if(j.have+H>j.nlen+j.ndist){N.msg="invalid bit length repeat",j.mode=30;break}for(;H--;)j.lens[j.have++]=M}}if(j.mode===30)break;if(j.lens[256]===0){N.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,G={bits:j.lenbits},J=d(u,j.lens,0,j.nlen,j.lencode,0,j.work,G),j.lenbits=G.bits,J){N.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,G={bits:j.distbits},J=d(f,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,G),j.distbits=G.bits,J){N.msg="invalid distances set",j.mode=30;break}if(j.mode=20,C===6)break e;case 20:j.mode=21;case 21:if(6<=F&&258<=L){N.next_out=A,N.avail_out=L,N.next_in=P,N.avail_in=F,j.hold=$,j.bits=z,c(N,K),A=N.next_out,B=N.output,L=N.avail_out,P=N.next_in,I=N.input,F=N.avail_in,$=j.hold,z=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;ae=(U=j.lencode[$&(1<<j.lenbits)-1])>>>16&255,me=65535&U,!((re=U>>>24)<=z);){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}if(ae&&!(240&ae)){for(fe=re,De=ae,ve=me;ae=(U=j.lencode[ve+(($&(1<<fe+De)-1)>>fe)])>>>16&255,me=65535&U,!(fe+(re=U>>>24)<=z);){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}$>>>=fe,z-=fe,j.back+=fe}if($>>>=re,z-=re,j.back+=re,j.length=me,ae===0){j.mode=26;break}if(32&ae){j.back=-1,j.mode=12;break}if(64&ae){N.msg="invalid literal/length code",j.mode=30;break}j.extra=15&ae,j.mode=22;case 22:if(j.extra){for(W=j.extra;z<W;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}j.length+=$&(1<<j.extra)-1,$>>>=j.extra,z-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;ae=(U=j.distcode[$&(1<<j.distbits)-1])>>>16&255,me=65535&U,!((re=U>>>24)<=z);){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}if(!(240&ae)){for(fe=re,De=ae,ve=me;ae=(U=j.distcode[ve+(($&(1<<fe+De)-1)>>fe)])>>>16&255,me=65535&U,!(fe+(re=U>>>24)<=z);){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}$>>>=fe,z-=fe,j.back+=fe}if($>>>=re,z-=re,j.back+=re,64&ae){N.msg="invalid distance code",j.mode=30;break}j.offset=me,j.extra=15&ae,j.mode=24;case 24:if(j.extra){for(W=j.extra;z<W;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}j.offset+=$&(1<<j.extra)-1,$>>>=j.extra,z-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){N.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(L===0)break e;if(H=K-L,j.offset>H){if((H=j.offset-H)>j.whave&&j.sane){N.msg="invalid distance too far back",j.mode=30;break}ee=H>j.wnext?(H-=j.wnext,j.wsize-H):j.wnext-H,H>j.length&&(H=j.length),ne=j.window}else ne=B,ee=A-j.offset,H=j.length;for(L<H&&(H=L),L-=H,j.length-=H;B[A++]=ne[ee++],--H;);j.length===0&&(j.mode=21);break;case 26:if(L===0)break e;B[A++]=j.length,L--,j.mode=21;break;case 27:if(j.wrap){for(;z<32;){if(F===0)break e;F--,$|=I[P++]<<z,z+=8}if(K-=L,N.total_out+=K,j.total+=K,K&&(N.adler=j.check=j.flags?l(j.check,B,K,A-K):o(j.check,B,K,A-K)),K=L,(j.flags?$:g($))!==j.check){N.msg="incorrect data check",j.mode=30;break}z=$=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;z<32;){if(F===0)break e;F--,$+=I[P++]<<z,z+=8}if($!==(4294967295&j.total)){N.msg="incorrect length check",j.mode=30;break}z=$=0}j.mode=29;case 29:J=1;break e;case 30:J=-3;break e;case 31:return-4;case 32:default:return m}return N.next_out=A,N.avail_out=L,N.next_in=P,N.avail_in=F,j.hold=$,j.bits=z,(j.wsize||K!==N.avail_out&&j.mode<30&&(j.mode<27||C!==4))&&R(N,N.output,N.next_out,K-N.avail_out)?(j.mode=31,-4):(q-=N.avail_in,K-=N.avail_out,N.total_in+=q,N.total_out+=K,j.total+=K,j.wrap&&K&&(N.adler=j.check=j.flags?l(j.check,B,K,N.next_out-K):o(j.check,B,K,N.next_out-K)),N.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(q==0&&K===0||C===4)&&J===h&&(J=-5),J)},a.inflateEnd=function(N){if(!N||!N.state)return m;var C=N.state;return C.window&&(C.window=null),N.state=null,h},a.inflateGetHeader=function(N,C){var j;return N&&N.state&&2&(j=N.state).wrap?((j.head=C).done=!1,h):m},a.inflateSetDictionary=function(N,C){var j,I=C.length;return N&&N.state?(j=N.state).wrap!==0&&j.mode!==11?m:j.mode===11&&o(1,C,I,0)!==j.check?-3:R(N,C,I,I)?(j.mode=31,-4):(j.havedict=1,h):m},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,a){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,f,h,m,y,v,b,g){var p,x,w,_,S,E,O,T,D,R=g.bits,N=0,C=0,j=0,I=0,B=0,P=0,A=0,F=0,L=0,$=0,z=null,q=0,K=new s.Buf16(16),H=new s.Buf16(16),ee=null,ne=0;for(N=0;N<=15;N++)K[N]=0;for(C=0;C<m;C++)K[f[h+C]]++;for(B=R,I=15;1<=I&&K[I]===0;I--);if(I<B&&(B=I),I===0)return y[v++]=20971520,y[v++]=20971520,g.bits=1,0;for(j=1;j<I&&K[j]===0;j++);for(B<j&&(B=j),N=F=1;N<=15;N++)if(F<<=1,(F-=K[N])<0)return-1;if(0<F&&(u===0||I!==1))return-1;for(H[1]=0,N=1;N<15;N++)H[N+1]=H[N]+K[N];for(C=0;C<m;C++)f[h+C]!==0&&(b[H[f[h+C]]++]=C);if(E=u===0?(z=ee=b,19):u===1?(z=o,q-=257,ee=l,ne-=257,256):(z=c,ee=d,-1),N=j,S=v,A=C=$=0,w=-1,_=(L=1<<(P=B))-1,u===1&&852<L||u===2&&592<L)return 1;for(;;){for(O=N-A,D=b[C]<E?(T=0,b[C]):b[C]>E?(T=ee[ne+b[C]],z[q+b[C]]):(T=96,0),p=1<<N-A,j=x=1<<P;y[S+($>>A)+(x-=p)]=O<<24|T<<16|D|0,x!==0;);for(p=1<<N-1;$&p;)p>>=1;if(p!==0?($&=p-1,$+=p):$=0,C++,--K[N]==0){if(N===I)break;N=f[h+b[C]]}if(B<N&&($&_)!==w){for(A===0&&(A=B),S+=j,F=1<<(P=N-A);P+A<I&&!((F-=K[P+A])<=0);)P++,F<<=1;if(L+=1<<P,u===1&&852<L||u===2&&592<L)return 1;y[w=$&_]=B<<24|P<<16|S-v|0}}return $!==0&&(y[S+$]=N-A<<24|64<<16|0),g.bits=B,0}},{"../utils/common":41}],51:[function(r,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,a){var s=r("../utils/common"),o=0,l=1;function c(U){for(var V=U.length;0<=--V;)U[V]=0}var d=0,u=29,f=256,h=f+1+u,m=30,y=19,v=2*h+1,b=15,g=16,p=7,x=256,w=16,_=17,S=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(h+2));c(R);var N=new Array(2*m);c(N);var C=new Array(512);c(C);var j=new Array(256);c(j);var I=new Array(u);c(I);var B,P,A,F=new Array(m);function L(U,V,Q,te,Y){this.static_tree=U,this.extra_bits=V,this.extra_base=Q,this.elems=te,this.max_length=Y,this.has_stree=U&&U.length}function $(U,V){this.dyn_tree=U,this.max_code=0,this.stat_desc=V}function z(U){return U<256?C[U]:C[256+(U>>>7)]}function q(U,V){U.pending_buf[U.pending++]=255&V,U.pending_buf[U.pending++]=V>>>8&255}function K(U,V,Q){U.bi_valid>g-Q?(U.bi_buf|=V<<U.bi_valid&65535,q(U,U.bi_buf),U.bi_buf=V>>g-U.bi_valid,U.bi_valid+=Q-g):(U.bi_buf|=V<<U.bi_valid&65535,U.bi_valid+=Q)}function H(U,V,Q){K(U,Q[2*V],Q[2*V+1])}function ee(U,V){for(var Q=0;Q|=1&U,U>>>=1,Q<<=1,0<--V;);return Q>>>1}function ne(U,V,Q){var te,Y,ie=new Array(b+1),he=0;for(te=1;te<=b;te++)ie[te]=he=he+Q[te-1]<<1;for(Y=0;Y<=V;Y++){var le=U[2*Y+1];le!==0&&(U[2*Y]=ee(ie[le]++,le))}}function re(U){var V;for(V=0;V<h;V++)U.dyn_ltree[2*V]=0;for(V=0;V<m;V++)U.dyn_dtree[2*V]=0;for(V=0;V<y;V++)U.bl_tree[2*V]=0;U.dyn_ltree[2*x]=1,U.opt_len=U.static_len=0,U.last_lit=U.matches=0}function ae(U){8<U.bi_valid?q(U,U.bi_buf):0<U.bi_valid&&(U.pending_buf[U.pending++]=U.bi_buf),U.bi_buf=0,U.bi_valid=0}function me(U,V,Q,te){var Y=2*V,ie=2*Q;return U[Y]<U[ie]||U[Y]===U[ie]&&te[V]<=te[Q]}function fe(U,V,Q){for(var te=U.heap[Q],Y=Q<<1;Y<=U.heap_len&&(Y<U.heap_len&&me(V,U.heap[Y+1],U.heap[Y],U.depth)&&Y++,!me(V,te,U.heap[Y],U.depth));)U.heap[Q]=U.heap[Y],Q=Y,Y<<=1;U.heap[Q]=te}function De(U,V,Q){var te,Y,ie,he,le=0;if(U.last_lit!==0)for(;te=U.pending_buf[U.d_buf+2*le]<<8|U.pending_buf[U.d_buf+2*le+1],Y=U.pending_buf[U.l_buf+le],le++,te===0?H(U,Y,V):(H(U,(ie=j[Y])+f+1,V),(he=E[ie])!==0&&K(U,Y-=I[ie],he),H(U,ie=z(--te),Q),(he=O[ie])!==0&&K(U,te-=F[ie],he)),le<U.last_lit;);H(U,x,V)}function ve(U,V){var Q,te,Y,ie=V.dyn_tree,he=V.stat_desc.static_tree,le=V.stat_desc.has_stree,xe=V.stat_desc.elems,Ae=-1;for(U.heap_len=0,U.heap_max=v,Q=0;Q<xe;Q++)ie[2*Q]!==0?(U.heap[++U.heap_len]=Ae=Q,U.depth[Q]=0):ie[2*Q+1]=0;for(;U.heap_len<2;)ie[2*(Y=U.heap[++U.heap_len]=Ae<2?++Ae:0)]=1,U.depth[Y]=0,U.opt_len--,le&&(U.static_len-=he[2*Y+1]);for(V.max_code=Ae,Q=U.heap_len>>1;1<=Q;Q--)fe(U,ie,Q);for(Y=xe;Q=U.heap[1],U.heap[1]=U.heap[U.heap_len--],fe(U,ie,1),te=U.heap[1],U.heap[--U.heap_max]=Q,U.heap[--U.heap_max]=te,ie[2*Y]=ie[2*Q]+ie[2*te],U.depth[Y]=(U.depth[Q]>=U.depth[te]?U.depth[Q]:U.depth[te])+1,ie[2*Q+1]=ie[2*te+1]=Y,U.heap[1]=Y++,fe(U,ie,1),2<=U.heap_len;);U.heap[--U.heap_max]=U.heap[1],function(Ee,Ct){var Zr,br,en,Ue,Kt,at,wr=Ct.dyn_tree,Xa=Ct.max_code,Ka=Ct.stat_desc.static_tree,ti=Ct.stat_desc.has_stree,Ja=Ct.stat_desc.extra_bits,ba=Ct.stat_desc.extra_base,tn=Ct.stat_desc.max_length,qn=0;for(Ue=0;Ue<=b;Ue++)Ee.bl_count[Ue]=0;for(wr[2*Ee.heap[Ee.heap_max]+1]=0,Zr=Ee.heap_max+1;Zr<v;Zr++)tn<(Ue=wr[2*wr[2*(br=Ee.heap[Zr])+1]+1]+1)&&(Ue=tn,qn++),wr[2*br+1]=Ue,Xa<br||(Ee.bl_count[Ue]++,Kt=0,ba<=br&&(Kt=Ja[br-ba]),at=wr[2*br],Ee.opt_len+=at*(Ue+Kt),ti&&(Ee.static_len+=at*(Ka[2*br+1]+Kt)));if(qn!==0){do{for(Ue=tn-1;Ee.bl_count[Ue]===0;)Ue--;Ee.bl_count[Ue]--,Ee.bl_count[Ue+1]+=2,Ee.bl_count[tn]--,qn-=2}while(0<qn);for(Ue=tn;Ue!==0;Ue--)for(br=Ee.bl_count[Ue];br!==0;)Xa<(en=Ee.heap[--Zr])||(wr[2*en+1]!==Ue&&(Ee.opt_len+=(Ue-wr[2*en+1])*wr[2*en],wr[2*en+1]=Ue),br--)}}(U,V),ne(ie,Ae,U.bl_count)}function M(U,V,Q){var te,Y,ie=-1,he=V[1],le=0,xe=7,Ae=4;for(he===0&&(xe=138,Ae=3),V[2*(Q+1)+1]=65535,te=0;te<=Q;te++)Y=he,he=V[2*(te+1)+1],++le<xe&&Y===he||(le<Ae?U.bl_tree[2*Y]+=le:Y!==0?(Y!==ie&&U.bl_tree[2*Y]++,U.bl_tree[2*w]++):le<=10?U.bl_tree[2*_]++:U.bl_tree[2*S]++,ie=Y,Ae=(le=0)===he?(xe=138,3):Y===he?(xe=6,3):(xe=7,4))}function J(U,V,Q){var te,Y,ie=-1,he=V[1],le=0,xe=7,Ae=4;for(he===0&&(xe=138,Ae=3),te=0;te<=Q;te++)if(Y=he,he=V[2*(te+1)+1],!(++le<xe&&Y===he)){if(le<Ae)for(;H(U,Y,U.bl_tree),--le!=0;);else Y!==0?(Y!==ie&&(H(U,Y,U.bl_tree),le--),H(U,w,U.bl_tree),K(U,le-3,2)):le<=10?(H(U,_,U.bl_tree),K(U,le-3,3)):(H(U,S,U.bl_tree),K(U,le-11,7));ie=Y,Ae=(le=0)===he?(xe=138,3):Y===he?(xe=6,3):(xe=7,4)}}c(F);var G=!1;function W(U,V,Q,te){K(U,(d<<1)+(te?1:0),3),function(Y,ie,he,le){ae(Y),q(Y,he),q(Y,~he),s.arraySet(Y.pending_buf,Y.window,ie,he,Y.pending),Y.pending+=he}(U,V,Q)}a._tr_init=function(U){G||(function(){var V,Q,te,Y,ie,he=new Array(b+1);for(Y=te=0;Y<u-1;Y++)for(I[Y]=te,V=0;V<1<<E[Y];V++)j[te++]=Y;for(j[te-1]=Y,Y=ie=0;Y<16;Y++)for(F[Y]=ie,V=0;V<1<<O[Y];V++)C[ie++]=Y;for(ie>>=7;Y<m;Y++)for(F[Y]=ie<<7,V=0;V<1<<O[Y]-7;V++)C[256+ie++]=Y;for(Q=0;Q<=b;Q++)he[Q]=0;for(V=0;V<=143;)R[2*V+1]=8,V++,he[8]++;for(;V<=255;)R[2*V+1]=9,V++,he[9]++;for(;V<=279;)R[2*V+1]=7,V++,he[7]++;for(;V<=287;)R[2*V+1]=8,V++,he[8]++;for(ne(R,h+1,he),V=0;V<m;V++)N[2*V+1]=5,N[2*V]=ee(V,5);B=new L(R,E,f+1,h,b),P=new L(N,O,0,m,b),A=new L(new Array(0),T,0,y,p)}(),G=!0),U.l_desc=new $(U.dyn_ltree,B),U.d_desc=new $(U.dyn_dtree,P),U.bl_desc=new $(U.bl_tree,A),U.bi_buf=0,U.bi_valid=0,re(U)},a._tr_stored_block=W,a._tr_flush_block=function(U,V,Q,te){var Y,ie,he=0;0<U.level?(U.strm.data_type===2&&(U.strm.data_type=function(le){var xe,Ae=4093624447;for(xe=0;xe<=31;xe++,Ae>>>=1)if(1&Ae&&le.dyn_ltree[2*xe]!==0)return o;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return l;for(xe=32;xe<f;xe++)if(le.dyn_ltree[2*xe]!==0)return l;return o}(U)),ve(U,U.l_desc),ve(U,U.d_desc),he=function(le){var xe;for(M(le,le.dyn_ltree,le.l_desc.max_code),M(le,le.dyn_dtree,le.d_desc.max_code),ve(le,le.bl_desc),xe=y-1;3<=xe&&le.bl_tree[2*D[xe]+1]===0;xe--);return le.opt_len+=3*(xe+1)+5+5+4,xe}(U),Y=U.opt_len+3+7>>>3,(ie=U.static_len+3+7>>>3)<=Y&&(Y=ie)):Y=ie=Q+5,Q+4<=Y&&V!==-1?W(U,V,Q,te):U.strategy===4||ie===Y?(K(U,2+(te?1:0),3),De(U,R,N)):(K(U,4+(te?1:0),3),function(le,xe,Ae,Ee){var Ct;for(K(le,xe-257,5),K(le,Ae-1,5),K(le,Ee-4,4),Ct=0;Ct<Ee;Ct++)K(le,le.bl_tree[2*D[Ct]+1],3);J(le,le.dyn_ltree,xe-1),J(le,le.dyn_dtree,Ae-1)}(U,U.l_desc.max_code+1,U.d_desc.max_code+1,he+1),De(U,U.dyn_ltree,U.dyn_dtree)),re(U),te&&ae(U)},a._tr_tally=function(U,V,Q){return U.pending_buf[U.d_buf+2*U.last_lit]=V>>>8&255,U.pending_buf[U.d_buf+2*U.last_lit+1]=255&V,U.pending_buf[U.l_buf+U.last_lit]=255&Q,U.last_lit++,V===0?U.dyn_ltree[2*Q]++:(U.matches++,V--,U.dyn_ltree[2*(j[Q]+f+1)]++,U.dyn_dtree[2*z(V)]++),U.last_lit===U.lit_bufsize-1},a._tr_align=function(U){K(U,2,3),H(U,x,R),function(V){V.bi_valid===16?(q(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):8<=V.bi_valid&&(V.pending_buf[V.pending++]=255&V.bi_buf,V.bi_buf>>=8,V.bi_valid-=8)}(U)}},{"../utils/common":41}],53:[function(r,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,a){(function(s){(function(o,l){if(!o.setImmediate){var c,d,u,f,h=1,m={},y=!1,v=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,c={}.toString.call(o.process)==="[object process]"?function(w){process.nextTick(function(){p(w)})}:function(){if(o.postMessage&&!o.importScripts){var w=!0,_=o.onmessage;return o.onmessage=function(){w=!1},o.postMessage("","*"),o.onmessage=_,w}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(w){o.postMessage(f+w,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(w){p(w.data)},function(w){u.port2.postMessage(w)}):v&&"onreadystatechange"in v.createElement("script")?(d=v.documentElement,function(w){var _=v.createElement("script");_.onreadystatechange=function(){p(w),_.onreadystatechange=null,d.removeChild(_),_=null},d.appendChild(_)}):function(w){setTimeout(p,0,w)},b.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var _=new Array(arguments.length-1),S=0;S<_.length;S++)_[S]=arguments[S+1];var E={callback:w,args:_};return m[h]=E,c(h),h++},b.clearImmediate=g}function g(w){delete m[w]}function p(w){if(y)setTimeout(p,0,w);else{var _=m[w];if(_){y=!0;try{(function(S){var E=S.callback,O=S.args;switch(O.length){case 0:E();break;case 1:E(O[0]);break;case 2:E(O[0],O[1]);break;case 3:E(O[0],O[1],O[2]);break;default:E.apply(l,O)}})(_)}finally{g(w),y=!1}}}}function x(w){w.source===o&&typeof w.data=="string"&&w.data.indexOf(f)===0&&p(+w.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof rt<"u"?rt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(q5);var OQ=q5.exports;const IQ=pa(OQ);var G5={exports:{}};(function(e,t){(function(r,n){n()})(rt,function(){function r(d,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function n(d,u,f){var h=new XMLHttpRequest;h.open("GET",d),h.responseType="blob",h.onload=function(){c(h.response,u,f)},h.onerror=function(){console.error("could not download file")},h.send()}function a(d){var u=new XMLHttpRequest;u.open("HEAD",d,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(u)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof rt=="object"&&rt.global===rt?rt:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,u,f){var h=o.URL||o.webkitURL,m=document.createElement("a");u=u||d.name||"download",m.download=u,m.rel="noopener",typeof d=="string"?(m.href=d,m.origin===location.origin?s(m):a(m.href)?n(d,u,f):s(m,m.target="_blank")):(m.href=h.createObjectURL(d),setTimeout(function(){h.revokeObjectURL(m.href)},4e4),setTimeout(function(){s(m)},0))}:"msSaveOrOpenBlob"in navigator?function(d,u,f){if(u=u||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(r(d,f),u);else if(a(d))n(d,u,f);else{var h=document.createElement("a");h.href=d,h.target="_blank",setTimeout(function(){s(h)})}}:function(d,u,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof d=="string")return n(d,u,f);var m=d.type==="application/octet-stream",y=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||m&&y||l)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var x=b.result;x=v?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=x:location=x,h=null},b.readAsDataURL(d)}else{var g=o.URL||o.webkitURL,p=g.createObjectURL(d);h?h.location=p:location.href=p,h=null,setTimeout(function(){g.revokeObjectURL(p)},4e4)}});o.saveAs=c.saveAs=c,e.exports=c})})(G5);var MQ=G5.exports;const HN=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),RQ=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(!1),[o,l]=k.useState(!1),[c,d]=k.useState(0),[u,f]=k.useState(0),[h,m]=k.useState(0),[y,v]=k.useState(""),[b,g]=k.useState({delimiter:",",encoding:"utf-8",dateFormat:"DD.MM.YYYY",includeHeaders:!0}),p=[{name:"profiles",displayName:"Профили",description:"Пользователи и роли",icon:St,category:"users",color:"blue"},{name:"events",displayName:"Мероприятия",description:"События и расписание",icon:_e,category:"content",color:"green"},{name:"speakers",displayName:"Спикеры",description:"Докладчики",icon:St,category:"content",color:"purple"},{name:"user_attendance",displayName:"Посещения",description:"QR-сканирования",icon:md,category:"users",color:"orange"},{name:"user_favorite_events",displayName:"Избранное",description:"Любимые события",icon:xn,category:"users",color:"red"},{name:"user_favorite_speakers",displayName:"Избранные спикеры",description:"Любимые докладчики",icon:xn,category:"users",color:"pink"},{name:"user_event_registrations",displayName:"Регистрации",description:"Записи на события",icon:qM,category:"users",color:"indigo"},{name:"site_settings",displayName:"Настройки",description:"Конфигурация сайта",icon:Ic,category:"system",color:"gray"},{name:"coworking_info_table",displayName:"Коворкинг",description:"Услуги коворкинга",icon:h1,category:"content",color:"teal"},{name:"rent_info",displayName:"Аренда",description:"Данные об аренде",icon:h1,category:"content",color:"cyan"}];k.useEffect(()=>{x()},[]);const x=async()=>{try{n(!0);const j=p.map(async P=>{try{const{count:A,error:F}=await HN.from(P.name).select("*",{count:"exact",head:!0});return F?(console.warn(`Table ${P.name} not accessible:`,F),null):{...P,count:A||0,selected:!1}}catch(A){return console.warn(`Error accessing table ${P.name}:`,A),null}}),B=(await Promise.all(j)).filter(Boolean);t(B)}catch(j){console.error("Error fetching tables:",j),X.error("Ошибка загрузки данных")}finally{n(!1)}},w=j=>{t(I=>I.map(B=>B.name===j?{...B,selected:!B.selected}:B))},_=j=>{t(I=>I.map(B=>B.category===j?{...B,selected:!0}:B))},S=()=>{t(j=>j.map(I=>({...I,selected:!0})))},E=()=>{t(j=>j.map(I=>({...I,selected:!1})))},O=async()=>{const j=e.filter(I=>I.selected);if(j.length===0){X.error("Выберите хотя бы одну таблицу для экспорта");return}try{s(!0),d(0),m(j.length),f(0);const I=new IQ;for(let F=0;F<j.length;F++){const L=j[F];v(L.displayName),d(F/j.length*100);try{const{data:$,error:z}=await HN.from(L.name).select("*");if(z){console.error(`Error exporting ${L.name}:`,z);continue}if($&&$.length>0){const q=T($,L.name);I.file(`${L.name}.csv`,q)}f(F+1)}catch($){console.error(`Error processing table ${L.name}:`,$)}}d(100),v("Создание архива...");const B=D(j);I.file("README.txt",B);const P=await I.generateAsync({type:"blob"}),A=`science-hub-export-${new Date().toISOString().split("T")[0]}.zip`;MQ.saveAs(P,A),X.success(`Экспорт завершен! Экспортировано ${j.length} таблиц`)}catch(I){console.error("Export error:",I),X.error("Ошибка при экспорте данных")}finally{s(!1),d(0),f(0),v(""),l(!1)}},T=(j,I)=>{if(!j||j.length===0)return"";const B=b.delimiter,P=Object.keys(j[0]),A=[];return b.includeHeaders&&A.push(P.join(B)),A.push(...j.map(F=>P.map(L=>{let $=F[L];if($&&typeof $=="string"&&$.match(/^\d{4}-\d{2}-\d{2}T/)){const z=new Date($);switch(b.dateFormat){case"DD.MM.YYYY":$=z.toLocaleDateString("ru-RU");break;case"MM/DD/YYYY":$=z.toLocaleDateString("en-US");break;default:$=z.toISOString()}}return $&&typeof $=="string"&&($.includes(B)||$.includes('"')||$.includes(`
`))&&($=`"${$.replace(/"/g,'""')}"`),$??""}).join(B))),A.join(`
`)},D=j=>`
SCIENCE HUB - ЭКСПОРТ ДАННЫХ
===========================

Дата экспорта: ${new Date().toLocaleString("ru-RU")}
Всего таблиц: ${j.length}

ЭКСПОРТИРОВАННЫЕ ТАБЛИЦЫ:
${j.map(I=>`
- ${I.name}.csv
  Название: ${I.displayName}
  Описание: ${I.description}
  Записей: ${I.count}
`).join("")}

НАСТРОЙКИ ЭКСПОРТА:
- Разделитель: ${b.delimiter===","?"Запятая":b.delimiter===";"?"Точка с запятой":"Табуляция"}
- Формат даты: ${b.dateFormat}
- Заголовки: ${b.includeHeaders?"Включены":"Не включены"}
- Кодировка: ${b.encoding}

Создано системой Science Hub
    `.trim(),R=j=>{const I={blue:"text-blue-600",green:"text-green-600",purple:"text-purple-600",orange:"text-orange-600",red:"text-red-600",pink:"text-pink-600",indigo:"text-indigo-600",gray:"text-gray-600",teal:"text-teal-600",cyan:"text-cyan-600"};return I[j]||I.gray},N={users:e.filter(j=>j.category==="users"),content:e.filter(j=>j.category==="content"),system:e.filter(j=>j.category==="system")},C=e.filter(j=>j.selected).length;return r?i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-3",children:[i.jsx(Nt,{className:"h-8 w-8 animate-spin text-primary-600"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Загрузка таблиц..."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-2",children:"Экспорт данных"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Экспорт данных из базы в CSV формате"})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[i.jsxs("button",{onClick:S,className:"px-3 py-1.5 text-xs font-medium border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:["Все (",e.length,")"]}),i.jsx("button",{onClick:E,className:"px-3 py-1.5 text-xs font-medium border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Очистить"}),i.jsxs("button",{onClick:()=>_("users"),className:"px-3 py-1.5 text-xs font-medium border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:["Пользователи (",N.users.length,")"]}),i.jsxs("button",{onClick:()=>_("content"),className:"px-3 py-1.5 text-xs font-medium border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:["Контент (",N.content.length,")"]})]}),Object.entries(N).map(([j,I])=>{if(I.length===0)return null;const B={users:"👥 Пользователи",content:"📝 Контент",system:"⚙️ Система"};return i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:B[j]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:I.map(P=>{const A=P.icon;return i.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-200 hover:shadow-sm ${P.selected?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-dark-600 hover:border-gray-300 dark:hover:border-dark-500"}`,onClick:()=>w(P.name),children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(A,{className:`h-4 w-4 ${R(P.color)}`}),i.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${P.selected?"border-primary-500 bg-primary-500":"border-gray-300 dark:border-gray-600"}`,children:P.selected&&i.jsx(ll,{className:"h-3 w-3 text-white"})})]}),i.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-white mb-1",children:P.displayName}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:P.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[P.count," записей"]}),i.jsx(UM,{className:"h-3 w-3 text-gray-400"})]})]},P.name)})})]},j)}),i.jsxs("div",{className:"flex flex-col items-center space-y-3 pt-4 border-t border-gray-200 dark:border-dark-600",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Выбрано: ",i.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:C})," из ",e.length]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Записей: ",e.filter(j=>j.selected).reduce((j,I)=>j+I.count,0)]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>l(!0),disabled:C===0||a,className:"flex items-center gap-2 px-4 py-2 text-sm border border-gray-300 dark:border-dark-600 rounded-md hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors disabled:opacity-50",children:[i.jsx(Ic,{className:"h-4 w-4"}),"Настройки"]}),i.jsxs("button",{onClick:O,disabled:C===0||a,className:"flex items-center gap-2 px-4 py-2 text-sm bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors disabled:opacity-50",children:[a?i.jsx(Nt,{className:"h-4 w-4 animate-spin"}):i.jsx(Fd,{className:"h-4 w-4"}),a?"Экспорт...":"Экспортировать"]})]})]}),a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl p-6 max-w-sm w-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(MM,{className:"h-12 w-12 text-primary-500 mx-auto mb-3"}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Экспорт данных"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:y}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"w-full bg-gray-200 dark:bg-dark-600 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-2 rounded-full transition-all duration-500",style:{width:`${c}%`}})}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400",children:[i.jsxs("span",{children:[Math.round(c),"%"]}),i.jsxs("span",{children:[u," / ",h]})]})]})]})})}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl max-w-md w-full",children:[i.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-dark-600",children:i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(Ic,{className:"h-4 w-4"}),"Настройки экспорта"]})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Разделитель CSV"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:",",label:"Запятая"},{value:";",label:"Точка с запятой"},{value:"	",label:"Табуляция"}].map(j=>i.jsx("button",{onClick:()=>g(I=>({...I,delimiter:j.value})),className:`p-2 text-xs rounded border transition-colors ${b.delimiter===j.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-dark-600 hover:border-gray-400"}`,children:j.label},j.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Формат даты"}),i.jsx("div",{className:"space-y-1",children:[{value:"DD.MM.YYYY",label:"ДД.ММ.ГГГГ"},{value:"MM/DD/YYYY",label:"ММ/ДД/ГГГГ"},{value:"ISO",label:"ISO формат"}].map(j=>i.jsx("button",{onClick:()=>g(I=>({...I,dateFormat:j.value})),className:`w-full p-2 text-xs text-left rounded border transition-colors ${b.dateFormat===j.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-300 dark:border-dark-600 hover:border-gray-400"}`,children:j.label},j.value))})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:b.includeHeaders,onChange:j=>g(I=>({...I,includeHeaders:j.target.checked})),className:"w-4 h-4 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),i.jsx("span",{className:"text-sm",children:"Включить заголовки"})]})})]}),i.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-dark-600 flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>l(!1),className:"px-3 py-1.5 text-sm border border-gray-300 dark:border-dark-600 rounded hover:bg-gray-50 dark:hover:bg-dark-700",children:"Отмена"}),i.jsx("button",{onClick:O,className:"px-3 py-1.5 text-sm bg-primary-600 hover:bg-primary-700 text-white rounded",children:"Экспорт"})]})]})})]})};var AQ=Object.defineProperty,LQ=(e,t,r)=>t in e?AQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,n0=(e,t,r)=>(LQ(e,typeof t!="symbol"?t+"":t,r),r);let $Q=class{constructor(){n0(this,"current",this.detect()),n0(this,"handoffState","pending"),n0(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Mi=new $Q;function dp(e){var t,r;return Mi.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function up(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Ya(){let e=[],t={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),t.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return up(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Ya();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function Dw(){let[e]=k.useState(Ya);return k.useEffect(()=>()=>e.dispose(),[e]),e}let rr=(e,t)=>{Mi.isServer?k.useEffect(e,t):k.useLayoutEffect(e,t)};function ao(e){let t=k.useRef(e);return rr(()=>{t.current=e},[e]),t}let Ke=function(e){let t=ao(e);return Z.useCallback((...r)=>t.current(...r),[t])},zQ=k.createContext(void 0);function FQ(){return k.useContext(zQ)}function ey(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Va(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Va),n}var Vh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Vh||{}),ks=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ks||{});function _n(){let e=UQ();return k.useCallback(t=>BQ({mergeRefs:e,...t}),[e])}function BQ({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:s=!0,name:o,mergeRefs:l}){l=l??WQ;let c=Y5(t,e);if(s)return nf(c,r,n,o,l);let d=a??0;if(d&2){let{static:u=!1,...f}=c;if(u)return nf(f,r,n,o,l)}if(d&1){let{unmount:u=!0,...f}=c;return Va(u?0:1,{0(){return null},1(){return nf({...f,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return nf(c,r,n,o,l)}function nf(e,t={},r,n,a){let{as:s=r,children:o,refName:l="ref",...c}=a0(e,["unmount","static"]),d=e.ref!==void 0?{[l]:e.ref}:{},u=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(t){let h=!1,m=[];for(let[y,v]of Object.entries(t))typeof v=="boolean"&&(h=!0),v===!0&&m.push(y.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(h){f["data-headlessui-state"]=m.join(" ");for(let y of m)f[`data-${y}`]=""}}if(s===k.Fragment&&(Object.keys(vi(c)).length>0||Object.keys(vi(f)).length>0))if(!k.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(vi(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(vi(c)).concat(Object.keys(vi(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=u.props,m=h==null?void 0:h.className,y=typeof m=="function"?(...g)=>ey(m(...g),c.className):ey(m,c.className),v=y?{className:y}:{},b=Y5(u.props,vi(a0(c,["ref"])));for(let g in f)g in b&&delete f[g];return k.cloneElement(u,Object.assign({},b,f,d,{ref:a(HQ(u),d.ref)},v))}return k.createElement(s,Object.assign({},a0(c,["ref"]),s!==k.Fragment&&d,s!==k.Fragment&&f),u)}function UQ(){let e=k.useRef([]),t=k.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function WQ(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function Y5(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var s;return(s=a==null?void 0:a.preventDefault)==null?void 0:s.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...s){let o=r[n];for(let l of o){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return t}function Rr(e){var t;return Object.assign(k.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function vi(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function a0(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function HQ(e){return Z.version.split(".")[0]>="19"?e.props.ref:e.ref}let VQ="span";var qh=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(qh||{});function qQ(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return _n()({ourProps:s,theirProps:a,slot:{},defaultTag:VQ,name:"Hidden"})}let ty=Rr(qQ);function X5(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function zs(e){return X5(e)&&"tagName"in e}function qi(e){return zs(e)&&"accessKey"in e}function js(e){return zs(e)&&"tabIndex"in e}function GQ(e){return zs(e)&&"style"in e}function YQ(e){return qi(e)&&e.nodeName==="IFRAME"}function XQ(e){return qi(e)&&e.nodeName==="INPUT"}let K5=Symbol();function KQ(e,t=!0){return Object.assign(e,{[K5]:t})}function xa(...e){let t=k.useRef(e);k.useEffect(()=>{t.current=e},[e]);let r=Ke(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||(n==null?void 0:n[K5]))?void 0:r}let Pw=k.createContext(null);Pw.displayName="DescriptionContext";function J5(){let e=k.useContext(Pw);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,J5),t}return e}function JQ(){let[e,t]=k.useState([]);return[e.length>0?e.join(" "):void 0,k.useMemo(()=>function(r){let n=Ke(s=>(t(o=>[...o,s]),()=>t(o=>{let l=o.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=k.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Z.createElement(Pw.Provider,{value:a},r.children)},[t])]}let QQ="p";function ZQ(e,t){let r=k.useId(),n=FQ(),{id:a=`headlessui-description-${r}`,...s}=e,o=J5(),l=xa(t);rr(()=>o.register(a),[a,o.register]);let c=n||!1,d=k.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),u={ref:l,...o.props,id:a};return _n()({ourProps:u,theirProps:s,slot:d,defaultTag:QQ,name:o.name||"Description"})}let eZ=Rr(ZQ),tZ=Object.assign(eZ,{});var Q5=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Q5||{});let rZ=k.createContext(()=>{});function nZ({value:e,children:t}){return Z.createElement(rZ.Provider,{value:e},t)}let Z5=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var aZ=Object.defineProperty,sZ=(e,t,r)=>t in e?aZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iZ=(e,t,r)=>(sZ(e,t+"",r),r),eD=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},on=(e,t,r)=>(eD(e,t,"read from private field"),r?r.call(e):t.get(e)),s0=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},VN=(e,t,r,n)=>(eD(e,t,"write to private field"),t.set(e,r),r),Kn,yc,bc;let oZ=class{constructor(t){s0(this,Kn,{}),s0(this,yc,new Z5(()=>new Set)),s0(this,bc,new Set),iZ(this,"disposables",Ya()),VN(this,Kn,t)}dispose(){this.disposables.dispose()}get state(){return on(this,Kn)}subscribe(t,r){let n={selector:t,callback:r,current:t(on(this,Kn))};return on(this,bc).add(n),this.disposables.add(()=>{on(this,bc).delete(n)})}on(t,r){return on(this,yc).get(t).add(r),this.disposables.add(()=>{on(this,yc).get(t).delete(r)})}send(t){let r=this.reduce(on(this,Kn),t);if(r!==on(this,Kn)){VN(this,Kn,r);for(let n of on(this,bc)){let a=n.selector(on(this,Kn));tD(n.current,a)||(n.current=a,n.callback(a))}for(let n of on(this,yc).get(t.type))n(on(this,Kn),t)}}};Kn=new WeakMap,yc=new WeakMap,bc=new WeakMap;function tD(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:i0(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:i0(e.entries(),t.entries()):qN(e)&&qN(t)?i0(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function i0(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function qN(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var lZ=Object.defineProperty,cZ=(e,t,r)=>t in e?lZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,GN=(e,t,r)=>(cZ(e,typeof t!="symbol"?t+"":t,r),r),dZ=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(dZ||{});let uZ={0(e,t){let r=t.id,n=e.stack,a=e.stack.indexOf(r);if(a!==-1){let s=e.stack.slice();return s.splice(a,1),s.push(r),n=s,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let a=e.stack.slice();return a.splice(n,1),{...e,stack:a}}},fZ=class rD extends oZ{constructor(){super(...arguments),GN(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),GN(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new rD({stack:[]})}reduce(t,r){return Va(r.type,uZ,t,r)}};const nD=new Z5(()=>fZ.new());var aD={exports:{}},sD={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=k;function hZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mZ=typeof Object.is=="function"?Object.is:hZ,pZ=uu.useSyncExternalStore,gZ=uu.useRef,vZ=uu.useEffect,xZ=uu.useMemo,yZ=uu.useDebugValue;sD.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=gZ(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=xZ(function(){function c(m){if(!d){if(d=!0,u=m,m=n(m),a!==void 0&&o.hasValue){var y=o.value;if(a(y,m))return f=y}return f=m}if(y=f,mZ(u,m))return y;var v=n(m);return a!==void 0&&a(y,v)?(u=m,y):(u=m,f=v)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=pZ(e,s[0],s[1]);return vZ(function(){o.hasValue=!0,o.value=l},[l]),yZ(l),l};aD.exports=sD;var bZ=aD.exports;function iD(e,t,r=tD){return bZ.useSyncExternalStoreWithSelector(Ke(n=>e.subscribe(wZ,n)),Ke(()=>e.state),Ke(()=>e.state),Ke(t),r)}function wZ(e){return e}function fu(e,t){let r=k.useId(),n=nD.get(t),[a,s]=iD(n,k.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return rr(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?s?a:!0:!1}let ry=new Map,qc=new Map;function YN(e){var t;let r=(t=qc.get(e))!=null?t:0;return qc.set(e,r+1),r!==0?()=>XN(e):(ry.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>XN(e))}function XN(e){var t;let r=(t=qc.get(e))!=null?t:1;if(r===1?qc.delete(e):qc.set(e,r-1),r!==1)return;let n=ry.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,ry.delete(e))}function kZ(e,{allowed:t,disallowed:r}={}){let n=fu(e,"inert-others");rr(()=>{var a,s;if(!n)return;let o=Ya();for(let c of(a=r==null?void 0:r())!=null?a:[])c&&o.add(YN(c));let l=(s=t==null?void 0:t())!=null?s:[];for(let c of l){if(!c)continue;let d=dp(c);if(!d)continue;let u=c.parentElement;for(;u&&u!==d.body;){for(let f of u.children)l.some(h=>f.contains(h))||o.add(YN(f));u=u.parentElement}}return o.dispose},[n,t,r])}function jZ(e,t,r){let n=ao(a=>{let s=a.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});k.useEffect(()=>{if(!e)return;let a=t===null?null:qi(t)?t:t.current;if(!a)return;let s=Ya();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(a));o.observe(a),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(a));o.observe(a),s.add(()=>o.disconnect())}return()=>s.dispose()},[t,n,e])}let Gh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),NZ=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ea=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ea||{}),ny=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ny||{}),_Z=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(_Z||{});function SZ(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Gh)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function CZ(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(NZ)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var oD=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(oD||{});function EZ(e,t=0){var r;return e===((r=dp(e))==null?void 0:r.body)?!1:Va(t,{0(){return e.matches(Gh)},1(){let n=e;for(;n!==null;){if(n.matches(Gh))return!0;n=n.parentElement}return!1}})}var TZ=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(TZ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function La(e){e==null||e.focus({preventScroll:!0})}let DZ=["textarea","input"].join(",");function PZ(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,DZ))!=null?r:!1}function OZ(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),s=t(n);if(a===null||s===null)return 0;let o=a.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Gc(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?OZ(e):e:t&64?CZ(e):SZ(e);a.length>0&&o.length>1&&(o=o.filter(m=>!a.some(y=>y!=null&&"current"in y?(y==null?void 0:y.current)===m:y===m))),n=n??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},u=0,f=o.length,h;do{if(u>=f||u+f<=0)return 0;let m=c+u;if(t&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}h=o[m],h==null||h.focus(d),u+=l}while(h!==s.activeElement);return t&6&&PZ(h)&&h.select(),2}function lD(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function IZ(){return/Android/gi.test(window.navigator.userAgent)}function KN(){return lD()||IZ()}function af(e,t,r,n){let a=ao(r);k.useEffect(()=>{if(!e)return;function s(o){a.current(o)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[e,t,n])}function cD(e,t,r,n){let a=ao(r);k.useEffect(()=>{if(!e)return;function s(o){a.current(o)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[e,t,n])}const JN=30;function MZ(e,t,r){let n=ao(r),a=k.useCallback(function(l,c){if(l.defaultPrevented)return;let d=c(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let u=function f(h){return typeof h=="function"?f(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let f of u)if(f!==null&&(f.contains(d)||l.composed&&l.composedPath().includes(f)))return;return!EZ(d,oD.Loose)&&d.tabIndex!==-1&&l.preventDefault(),n.current(l,d)},[n,t]),s=k.useRef(null);af(e,"pointerdown",l=>{var c,d;KN()||(s.current=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target)},!0),af(e,"pointerup",l=>{if(KN()||!s.current)return;let c=s.current;return s.current=null,a(l,()=>c)},!0);let o=k.useRef({x:0,y:0});af(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),af(e,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=JN||Math.abs(c.y-o.current.y)>=JN))return a(l,()=>js(l.target)?l.target:null)},!0),cD(e,"blur",l=>a(l,()=>YQ(window.document.activeElement)?window.document.activeElement:null),!0)}function fp(...e){return k.useMemo(()=>dp(...e),[...e])}function dD(e,t,r,n){let a=ao(r);k.useEffect(()=>{e=e??window;function s(o){a.current(o)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function RZ(e){return k.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function AZ(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let o=t[a].call(r,...s);o&&(r=o,n.forEach(l=>l()))}}}function LZ(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=(r=t.defaultView)!=null?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-a);r.style(n,"paddingRight",`${s}px`)}}}function $Z(){return lD()?{before({doc:e,d:t,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Ya();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(js(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),u=e.querySelector(d);js(u)&&!n(u)&&(o=u)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(js(l.target)&&GQ(l.target))if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(js(l.target)){if(XQ(l.target))return;if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function zZ(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function FZ(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Ti=AZ(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Ya(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:FZ(r)},a=[$Z(),LZ(),zZ()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ti.subscribe(()=>{let e=Ti.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Ti.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ti.dispatch("TEARDOWN",r)}});function BZ(e,t,r=()=>({containers:[]})){let n=RZ(Ti),a=t?n.get(t):void 0,s=a?a.count>0:!1;return rr(()=>{if(!(!t||!e))return Ti.dispatch("PUSH",t,r),()=>Ti.dispatch("POP",t,r)},[e,t]),s}function UZ(e,t,r=()=>[document.body]){let n=fu(e,"scroll-lock");BZ(n,t,a=>{var s;return{containers:[...(s=a.containers)!=null?s:[],r]}})}function WZ(e=0){let[t,r]=k.useState(e),n=k.useCallback(c=>r(c),[t]),a=k.useCallback(c=>r(d=>d|c),[t]),s=k.useCallback(c=>(t&c)===c,[t]),o=k.useCallback(c=>r(d=>d&~c),[r]),l=k.useCallback(c=>r(d=>d^c),[r]);return{flags:t,setFlag:n,addFlag:a,hasFlag:s,removeFlag:o,toggleFlag:l}}var HZ={},QN,ZN;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((QN=process==null?void 0:HZ)==null?void 0:QN.NODE_ENV)==="test"&&typeof((ZN=Element==null?void 0:Element.prototype)==null?void 0:ZN.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var VZ=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(VZ||{});function qZ(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function GZ(e,t,r,n){let[a,s]=k.useState(r),{hasFlag:o,addFlag:l,removeFlag:c}=WZ(e&&a?3:0),d=k.useRef(!1),u=k.useRef(!1),f=Dw();return rr(()=>{var h;if(e){if(r&&s(!0),!t){r&&l(3);return}return(h=n==null?void 0:n.start)==null||h.call(n,r),YZ(t,{inFlight:d,prepare(){u.current?u.current=!1:u.current=d.current,d.current=!0,!u.current&&(r?(l(3),c(4)):(l(4),c(2)))},run(){u.current?r?(c(3),l(4)):(c(4),l(3)):r?c(1):l(1)},done(){var m;u.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(d.current=!1,c(7),r||s(!1),(m=n==null?void 0:n.end)==null||m.call(n,r))}})}},[e,r,t,f]),e?[a,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function YZ(e,{prepare:t,run:r,done:n,inFlight:a}){let s=Ya();return KZ(e,{prepare:t,inFlight:a}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(XZ(e,n))})}),s.dispose}function XZ(e,t){var r,n;let a=Ya();if(!e)return a.dispose;let s=!1;a.add(()=>{s=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(l=>l instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),a.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{s||t()}),a.dispose)}function KZ(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function Ow(e,t){let r=k.useRef([]),n=Ke(e);k.useEffect(()=>{let a=[...r.current];for(let[s,o]of t.entries())if(r.current[s]!==o){let l=n(t,a);return r.current=t,l}},[n,...t])}function hp(){return typeof window<"u"}function $l(e){return uD(e)?(e.nodeName||"").toLowerCase():"#document"}function qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ya(e){var t;return(t=(uD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uD(e){return hp()?e instanceof Node||e instanceof qr(e).Node:!1}function Un(e){return hp()?e instanceof Element||e instanceof qr(e).Element:!1}function ma(e){return hp()?e instanceof HTMLElement||e instanceof qr(e).HTMLElement:!1}function e_(e){return!hp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qr(e).ShadowRoot}function hu(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Wn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function JZ(e){return["table","td","th"].includes($l(e))}function mp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Iw(e){const t=Mw(),r=Un(e)?Wn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function QZ(e){let t=Vs(e);for(;ma(t)&&!kl(t);){if(Iw(t))return t;if(mp(t))return null;t=Vs(t)}return null}function Mw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kl(e){return["html","body","#document"].includes($l(e))}function Wn(e){return qr(e).getComputedStyle(e)}function pp(e){return Un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vs(e){if($l(e)==="html")return e;const t=e.assignedSlot||e.parentNode||e_(e)&&e.host||ya(e);return e_(t)?t.host:t}function fD(e){const t=Vs(e);return kl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ma(t)&&hu(t)?t:fD(t)}function Dd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=fD(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=qr(a);if(s){const l=ay(o);return t.concat(o,o.visualViewport||[],hu(a)?a:[],l&&r?Dd(l):[])}return t.concat(a,Dd(a,[],r))}function ay(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const jl=Math.min,Ri=Math.max,Yh=Math.round,sf=Math.floor,da=e=>({x:e,y:e}),ZZ={left:"right",right:"left",bottom:"top",top:"bottom"},eee={start:"end",end:"start"};function sy(e,t,r){return Ri(e,jl(t,r))}function mu(e,t){return typeof e=="function"?e(t):e}function Gi(e){return e.split("-")[0]}function pu(e){return e.split("-")[1]}function hD(e){return e==="x"?"y":"x"}function Rw(e){return e==="y"?"height":"width"}function Ns(e){return["top","bottom"].includes(Gi(e))?"y":"x"}function Aw(e){return hD(Ns(e))}function tee(e,t,r){r===void 0&&(r=!1);const n=pu(e),a=Aw(e),s=Rw(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Xh(o)),[o,Xh(o)]}function ree(e){const t=Xh(e);return[iy(e),t,iy(t)]}function iy(e){return e.replace(/start|end/g,t=>eee[t])}function nee(e,t,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?s:o;default:return[]}}function aee(e,t,r,n){const a=pu(e);let s=nee(Gi(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(iy)))),s}function Xh(e){return e.replace(/left|right|bottom|top/g,t=>ZZ[t])}function see(e){return{top:0,right:0,bottom:0,left:0,...e}}function mD(e){return typeof e!="number"?see(e):{top:e,right:e,bottom:e,left:e}}function Kh(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function t_(e,t,r){let{reference:n,floating:a}=e;const s=Ns(t),o=Aw(t),l=Rw(o),c=Gi(t),d=s==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-a.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(pu(t)){case"start":m[o]-=h*(r&&d?-1:1);break;case"end":m[o]+=h*(r&&d?-1:1);break}return m}const iee=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=t_(d,n,c),h=n,m={},y=0;for(let v=0;v<l.length;v++){const{name:b,fn:g}=l[v],{x:p,y:x,data:w,reset:_}=await g({x:u,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});u=p??u,f=x??f,m={...m,[b]:{...m[b],...w}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:u,y:f}=t_(d,h,c)),v=-1)}return{x:u,y:f,placement:h,strategy:a,middlewareData:m}};async function pD(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=mu(t,e),y=mD(m),b=l[h?f==="floating"?"reference":"floating":f],g=Kh(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),p=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),w=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},_=Kh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:x,strategy:c}):p);return{top:(g.top-_.top+y.top)/w.y,bottom:(_.bottom-g.bottom+y.bottom)/w.y,left:(g.left-_.left+y.left)/w.x,right:(_.right-g.right+y.right)/w.x}}const oee=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=mu(e,t)||{};if(d==null)return{};const f=mD(u),h={x:r,y:n},m=Aw(a),y=Rw(m),v=await o.getDimensions(d),b=m==="y",g=b?"top":"left",p=b?"bottom":"right",x=b?"clientHeight":"clientWidth",w=s.reference[y]+s.reference[m]-h[m]-s.floating[y],_=h[m]-s.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=S?S[x]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=l.floating[x]||s.floating[y]);const O=w/2-_/2,T=E/2-v[y]/2-1,D=jl(f[g],T),R=jl(f[p],T),N=D,C=E-v[y]-R,j=E/2-v[y]/2+O,I=sy(N,j,C),B=!c.arrow&&pu(a)!=null&&j!==I&&s.reference[y]/2-(j<N?D:R)-v[y]/2<0,P=B?j<N?j-N:j-C:0;return{[m]:h[m]+P,data:{[m]:I,centerOffset:j-I-P,...B&&{alignmentOffset:P}},reset:B}}}),lee=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...b}=mu(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const g=Gi(a),p=Ns(l),x=Gi(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=h||(x||!v?[Xh(l)]:ree(l)),S=y!=="none";!h&&S&&_.push(...aee(l,v,y,w));const E=[l,..._],O=await pD(t,b),T=[];let D=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&T.push(O[g]),f){const j=tee(a,o,w);T.push(O[j[0]],O[j[1]])}if(D=[...D,{placement:a,overflows:T}],!T.every(j=>j<=0)){var R,N;const j=(((R=s.flip)==null?void 0:R.index)||0)+1,I=E[j];if(I&&(!(f==="alignment"?p!==Ns(I):!1)||D.every(A=>A.overflows[0]>0&&Ns(A.placement)===p)))return{data:{index:j,overflows:D},reset:{placement:I}};let B=(N=D.filter(P=>P.overflows[0]<=0).sort((P,A)=>P.overflows[1]-A.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(m){case"bestFit":{var C;const P=(C=D.filter(A=>{if(S){const F=Ns(A.placement);return F===p||F==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(F=>F>0).reduce((F,L)=>F+L,0)]).sort((A,F)=>A[1]-F[1])[0])==null?void 0:C[0];P&&(B=P);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};async function cee(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Gi(r),l=pu(r),c=Ns(r)==="y",d=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,f=mu(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*u,y:h*d}:{x:h*d,y:m*u}}const dee=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await cee(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},uee=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:g,y:p}=b;return{x:g,y:p}}},...c}=mu(e,t),d={x:r,y:n},u=await pD(t,c),f=Ns(Gi(a)),h=hD(f);let m=d[h],y=d[f];if(s){const b=h==="y"?"top":"left",g=h==="y"?"bottom":"right",p=m+u[b],x=m-u[g];m=sy(p,m,x)}if(o){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",p=y+u[b],x=y-u[g];y=sy(p,y,x)}const v=l.fn({...t,[h]:m,[f]:y});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:s,[f]:o}}}}}};function gD(e){const t=Wn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ma(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Yh(r)!==s||Yh(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function Lw(e){return Un(e)?e:e.contextElement}function Qo(e){const t=Lw(e);if(!ma(t))return da(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=gD(t);let o=(s?Yh(r.width):r.width)/n,l=(s?Yh(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fee=da(0);function vD(e){const t=qr(e);return!Mw()||!t.visualViewport?fee:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hee(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==qr(e)?!1:t}function Yi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=Lw(e);let o=da(1);t&&(n?Un(n)&&(o=Qo(n)):o=Qo(e));const l=hee(s,r,n)?vD(s):da(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(s){const h=qr(s),m=n&&Un(n)?qr(n):n;let y=h,v=ay(y);for(;v&&n&&m!==y;){const b=Qo(v),g=v.getBoundingClientRect(),p=Wn(v),x=g.left+(v.clientLeft+parseFloat(p.paddingLeft))*b.x,w=g.top+(v.clientTop+parseFloat(p.paddingTop))*b.y;c*=b.x,d*=b.y,u*=b.x,f*=b.y,c+=x,d+=w,y=qr(v),v=ay(y)}}return Kh({width:u,height:f,x:c,y:d})}function $w(e,t){const r=pp(e).scrollLeft;return t?t.left+r:Yi(ya(e)).left+r}function xD(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:$w(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function mee(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=ya(n),l=t?mp(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},d=da(1);const u=da(0),f=ma(n);if((f||!f&&!s)&&(($l(n)!=="body"||hu(o))&&(c=pp(n)),ma(n))){const m=Yi(n);d=Qo(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const h=o&&!f&&!s?xD(o,c,!0):da(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:r.y*d.y-c.scrollTop*d.y+u.y+h.y}}function pee(e){return Array.from(e.getClientRects())}function gee(e){const t=ya(e),r=pp(e),n=e.ownerDocument.body,a=Ri(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ri(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+$w(e);const l=-r.scrollTop;return Wn(n).direction==="rtl"&&(o+=Ri(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function vee(e,t){const r=qr(e),n=ya(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const d=Mw();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}function xee(e,t){const r=Yi(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=ma(e)?Qo(e):da(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,d=n*s.y;return{width:o,height:l,x:c,y:d}}function r_(e,t,r){let n;if(t==="viewport")n=vee(e,r);else if(t==="document")n=gee(ya(e));else if(Un(t))n=xee(t,r);else{const a=vD(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Kh(n)}function yD(e,t){const r=Vs(e);return r===t||!Un(r)||kl(r)?!1:Wn(r).position==="fixed"||yD(r,t)}function yee(e,t){const r=t.get(e);if(r)return r;let n=Dd(e,[],!1).filter(l=>Un(l)&&$l(l)!=="body"),a=null;const s=Wn(e).position==="fixed";let o=s?Vs(e):e;for(;Un(o)&&!kl(o);){const l=Wn(o),c=Iw(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||hu(o)&&!c&&yD(e,o))?n=n.filter(u=>u!==o):a=l,o=Vs(o)}return t.set(e,n),n}function bee(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?mp(t)?[]:yee(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=r_(t,u,a);return d.top=Ri(f.top,d.top),d.right=jl(f.right,d.right),d.bottom=jl(f.bottom,d.bottom),d.left=Ri(f.left,d.left),d},r_(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wee(e){const{width:t,height:r}=gD(e);return{width:t,height:r}}function kee(e,t,r){const n=ma(t),a=ya(t),s=r==="fixed",o=Yi(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=da(0);function d(){c.x=$w(a)}if(n||!n&&!s)if(($l(t)!=="body"||hu(a))&&(l=pp(t)),n){const m=Yi(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&d();s&&!n&&a&&d();const u=a&&!n&&!s?xD(a,l):da(0),f=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function o0(e){return Wn(e).position==="static"}function n_(e,t){if(!ma(e)||Wn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ya(e)===r&&(r=r.ownerDocument.body),r}function bD(e,t){const r=qr(e);if(mp(e))return r;if(!ma(e)){let a=Vs(e);for(;a&&!kl(a);){if(Un(a)&&!o0(a))return a;a=Vs(a)}return r}let n=n_(e,t);for(;n&&JZ(n)&&o0(n);)n=n_(n,t);return n&&kl(n)&&o0(n)&&!Iw(n)?r:n||QZ(e)||r}const jee=async function(e){const t=this.getOffsetParent||bD,r=this.getDimensions,n=await r(e.floating);return{reference:kee(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Nee(e){return Wn(e).direction==="rtl"}const _ee={convertOffsetParentRelativeRectToViewportRelativeRect:mee,getDocumentElement:ya,getClippingRect:bee,getOffsetParent:bD,getElementRects:jee,getClientRects:pee,getDimensions:wee,getScale:Qo,isElement:Un,isRTL:Nee};function wD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function See(e,t){let r=null,n;const a=ya(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=e.getBoundingClientRect(),{left:u,top:f,width:h,height:m}=d;if(l||t(),!h||!m)return;const y=sf(f),v=sf(a.clientWidth-(u+h)),b=sf(a.clientHeight-(f+m)),g=sf(u),x={rootMargin:-y+"px "+-v+"px "+-b+"px "+-g+"px",threshold:Ri(0,jl(1,c))||1};let w=!0;function _(S){const E=S[0].intersectionRatio;if(E!==c){if(!w)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!wD(d,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(_,{...x,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(e)}return o(!0),s}function Cee(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Lw(e),u=a||s?[...d?Dd(d):[],...Dd(t)]:[];u.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),s&&g.addEventListener("resize",r)});const f=d&&l?See(d,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(g=>{let[p]=g;p&&p.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let y,v=c?Yi(e):null;c&&b();function b(){const g=Yi(e);v&&!wD(v,g)&&r(),v=g,y=requestAnimationFrame(b)}return r(),()=>{var g;u.forEach(p=>{a&&p.removeEventListener("scroll",r),s&&p.removeEventListener("resize",r)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const Eee=dee,Tee=uee,Dee=lee,Pee=oee,a_=(e,t,r)=>{const n=new Map,a={platform:_ee,...r},s={...a.platform,_c:n};return iee(e,t,{...a,platform:s})};let gp=k.createContext(null);gp.displayName="OpenClosedContext";var Ln=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ln||{});function vp(){return k.useContext(gp)}function Oee({value:e,children:t}){return Z.createElement(gp.Provider,{value:e},t)}function Iee({children:e}){return Z.createElement(gp.Provider,{value:null},e)}function Mee(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let gs=[];Mee(()=>{function e(t){if(!js(t.target)||t.target===document.body||gs[0]===t.target)return;let r=t.target;r=r.closest(Gh),gs.unshift(r??t.target),gs=gs.filter(n=>n!=null&&n.isConnected),gs.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function kD(e){let t=Ke(e),r=k.useRef(!1);k.useEffect(()=>(r.current=!1,()=>{r.current=!0,up(()=>{r.current&&t()})}),[t])}function Ree(){let e=typeof document>"u";return"useSyncExternalStore"in m0?(t=>t.useSyncExternalStore)(m0)(()=>()=>{},()=>!1,()=>!e):!1}function gu(){let e=Ree(),[t,r]=k.useState(Mi.isHandoffComplete);return t&&Mi.isHandoffComplete===!1&&r(!1),k.useEffect(()=>{t!==!0&&r(!0)},[t]),k.useEffect(()=>Mi.handoff(),[]),e?!1:t}let jD=k.createContext(!1);function Aee(){return k.useContext(jD)}function s_(e){return Z.createElement(jD.Provider,{value:e.force},e.children)}function Lee(e){let t=Aee(),r=k.useContext(_D),[n,a]=k.useState(()=>{var s;if(!t&&r!==null)return(s=r.current)!=null?s:null;if(Mi.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return k.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),k.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),n}let ND=k.Fragment,$ee=Rr(function(e,t){let{ownerDocument:r=null,...n}=e,a=k.useRef(null),s=xa(KQ(m=>{a.current=m}),t),o=fp(a),l=r??o,c=Lee(l),[d]=k.useState(()=>{var m;return Mi.isServer?null:(m=l==null?void 0:l.createElement("div"))!=null?m:null}),u=k.useContext(oy),f=gu();rr(()=>{!c||!d||c.contains(d)||(d.setAttribute("data-headlessui-portal",""),c.appendChild(d))},[c,d]),rr(()=>{if(d&&u)return u.register(d)},[u,d]),kD(()=>{var m;!c||!d||(X5(d)&&c.contains(d)&&c.removeChild(d),c.childNodes.length<=0&&((m=c.parentElement)==null||m.removeChild(c)))});let h=_n();return f?!c||!d?null:hm.createPortal(h({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:ND,name:"Portal"}),d):null});function zee(e,t){let r=xa(t),{enabled:n=!0,ownerDocument:a,...s}=e,o=_n();return n?Z.createElement($ee,{...s,ownerDocument:a,ref:r}):o({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:ND,name:"Portal"})}let Fee=k.Fragment,_D=k.createContext(null);function Bee(e,t){let{target:r,...n}=e,a={ref:xa(t)},s=_n();return Z.createElement(_D.Provider,{value:r},s({ourProps:a,theirProps:n,defaultTag:Fee,name:"Popover.Group"}))}let oy=k.createContext(null);function Uee(){let e=k.useContext(oy),t=k.useRef([]),r=Ke(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=Ke(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),a=k.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,k.useMemo(()=>function({children:s}){return Z.createElement(oy.Provider,{value:a},s)},[a])]}let Wee=Rr(zee),SD=Rr(Bee),Hee=Object.assign(Wee,{Group:SD});function Vee(e,t=typeof document<"u"?document.defaultView:null,r){let n=fu(e,"escape");dD(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===Q5.Escape&&r(a))})}function qee(){var e;let[t]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=k.useState((e=t==null?void 0:t.matches)!=null?e:!1);return rr(()=>{if(!t)return;function a(s){n(s.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),r}function Gee({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=fp(r),a=Ke(()=>{var s,o;let l=[];for(let c of e)c!==null&&(zs(c)?l.push(c):"current"in c&&zs(c.current)&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(s=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&zs(c)&&c.id!=="headlessui-portal-root"&&(r&&(c.contains(r)||c.contains((o=r==null?void 0:r.getRootNode())==null?void 0:o.host))||l.some(d=>c.contains(d))||l.push(c));return l});return{resolveContainers:a,contains:Ke(s=>a().some(o=>o.contains(s)))}}let CD=k.createContext(null);function i_({children:e,node:t}){let[r,n]=k.useState(null),a=ED(t??r);return Z.createElement(CD.Provider,{value:a},e,a===null&&Z.createElement(ty,{features:qh.Hidden,ref:s=>{var o,l;if(s){for(let c of(l=(o=dp(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&zs(c)&&c!=null&&c.contains(s)){n(c);break}}}}))}function ED(e=null){var t;return(t=k.useContext(CD))!=null?t:e}function zw(){let e=k.useRef(!1);return rr(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var wc=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(wc||{});function Yee(){let e=k.useRef(0);return cD(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function TD(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)zs(r.current)&&t.add(r.current);return t}let Xee="div";var bi=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(bi||{});function Kee(e,t){let r=k.useRef(null),n=xa(r,t),{initialFocus:a,initialFocusFallback:s,containers:o,features:l=15,...c}=e;gu()||(l=0);let d=fp(r);ete(l,{ownerDocument:d});let u=tte(l,{ownerDocument:d,container:r,initialFocus:a,initialFocusFallback:s});rte(l,{ownerDocument:d,container:r,containers:o,previousActiveElement:u});let f=Yee(),h=Ke(p=>{if(!qi(r.current))return;let x=r.current;(w=>w())(()=>{Va(f.current,{[wc.Forwards]:()=>{Gc(x,Ea.First,{skipElements:[p.relatedTarget,s]})},[wc.Backwards]:()=>{Gc(x,Ea.Last,{skipElements:[p.relatedTarget,s]})}})})}),m=fu(!!(l&2),"focus-trap#tab-lock"),y=Dw(),v=k.useRef(!1),b={ref:n,onKeyDown(p){p.key=="Tab"&&(v.current=!0,y.requestAnimationFrame(()=>{v.current=!1}))},onBlur(p){if(!(l&4))return;let x=TD(o);qi(r.current)&&x.add(r.current);let w=p.relatedTarget;js(w)&&w.dataset.headlessuiFocusGuard!=="true"&&(DD(x,w)||(v.current?Gc(r.current,Va(f.current,{[wc.Forwards]:()=>Ea.Next,[wc.Backwards]:()=>Ea.Previous})|Ea.WrapAround,{relativeTo:p.target}):js(p.target)&&La(p.target)))}},g=_n();return Z.createElement(Z.Fragment,null,m&&Z.createElement(ty,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:qh.Focusable}),g({ourProps:b,theirProps:c,defaultTag:Xee,name:"FocusTrap"}),m&&Z.createElement(ty,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:qh.Focusable}))}let Jee=Rr(Kee),Qee=Object.assign(Jee,{features:bi});function Zee(e=!0){let t=k.useRef(gs.slice());return Ow(([r],[n])=>{n===!0&&r===!1&&up(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=gs.slice())},[e,gs,t]),Ke(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function ete(e,{ownerDocument:t}){let r=!!(e&8),n=Zee(r);Ow(()=>{r||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&La(n())},[r]),kD(()=>{r&&La(n())})}function tte(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:a}){let s=k.useRef(null),o=fu(!!(e&1),"focus-trap#initial-focus"),l=zw();return Ow(()=>{if(e===0)return;if(!o){a!=null&&a.current&&La(a.current);return}let c=r.current;c&&up(()=>{if(!l.current)return;let d=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===d){s.current=d;return}}else if(c.contains(d)){s.current=d;return}if(n!=null&&n.current)La(n.current);else{if(e&16){if(Gc(c,Ea.First|Ea.AutoFocus)!==ny.Error)return}else if(Gc(c,Ea.First)!==ny.Error)return;if(a!=null&&a.current&&(La(a.current),(t==null?void 0:t.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t==null?void 0:t.activeElement})},[a,o,e]),s}function rte(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:a}){let s=zw(),o=!!(e&4);dD(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!s.current)return;let c=TD(n);qi(r.current)&&c.add(r.current);let d=a.current;if(!d)return;let u=l.target;qi(u)?DD(c,u)?(a.current=u,La(u)):(l.preventDefault(),l.stopPropagation(),La(d)):La(a.current)},!0)}function DD(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function PD(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:ID)!==k.Fragment||Z.Children.count(e.children)===1}let xp=k.createContext(null);xp.displayName="TransitionContext";var nte=(e=>(e.Visible="visible",e.Hidden="hidden",e))(nte||{});function ate(){let e=k.useContext(xp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function ste(){let e=k.useContext(yp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let yp=k.createContext(null);yp.displayName="NestingContext";function bp(e){return"children"in e?bp(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function OD(e,t){let r=ao(e),n=k.useRef([]),a=zw(),s=Dw(),o=Ke((m,y=ks.Hidden)=>{let v=n.current.findIndex(({el:b})=>b===m);v!==-1&&(Va(y,{[ks.Unmount](){n.current.splice(v,1)},[ks.Hidden](){n.current[v].state="hidden"}}),s.microTask(()=>{var b;!bp(n)&&a.current&&((b=r.current)==null||b.call(r))}))}),l=Ke(m=>{let y=n.current.find(({el:v})=>v===m);return y?y.state!=="visible"&&(y.state="visible"):n.current.push({el:m,state:"visible"}),()=>o(m,ks.Unmount)}),c=k.useRef([]),d=k.useRef(Promise.resolve()),u=k.useRef({enter:[],leave:[]}),f=Ke((m,y,v)=>{c.current.splice(0),t&&(t.chains.current[y]=t.chains.current[y].filter(([b])=>b!==m)),t==null||t.chains.current[y].push([m,new Promise(b=>{c.current.push(b)})]),t==null||t.chains.current[y].push([m,new Promise(b=>{Promise.all(u.current[y].map(([g,p])=>p)).then(()=>b())})]),y==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>v(y)):v(y)}),h=Ke((m,y,v)=>{Promise.all(u.current[y].splice(0).map(([b,g])=>g)).then(()=>{var b;(b=c.current.shift())==null||b()}).then(()=>v(y))});return k.useMemo(()=>({children:n,register:l,unregister:o,onStart:f,onStop:h,wait:d,chains:u}),[l,o,n,f,h,u,d])}let ID=k.Fragment,MD=Vh.RenderStrategy;function ite(e,t){var r,n;let{transition:a=!0,beforeEnter:s,afterEnter:o,beforeLeave:l,afterLeave:c,enter:d,enterFrom:u,enterTo:f,entered:h,leave:m,leaveFrom:y,leaveTo:v,...b}=e,[g,p]=k.useState(null),x=k.useRef(null),w=PD(e),_=xa(...w?[x,t,p]:t===null?[]:[t]),S=(r=b.unmount)==null||r?ks.Unmount:ks.Hidden,{show:E,appear:O,initial:T}=ate(),[D,R]=k.useState(E?"visible":"hidden"),N=ste(),{register:C,unregister:j}=N;rr(()=>C(x),[C,x]),rr(()=>{if(S===ks.Hidden&&x.current){if(E&&D!=="visible"){R("visible");return}return Va(D,{hidden:()=>j(x),visible:()=>C(x)})}},[D,x,C,j,E,S]);let I=gu();rr(()=>{if(w&&I&&D==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,D,I,w]);let B=T&&!O,P=O&&E&&T,A=k.useRef(!1),F=OD(()=>{A.current||(R("hidden"),j(x))},N),L=Ke(ne=>{A.current=!0;let re=ne?"enter":"leave";F.onStart(x,re,ae=>{ae==="enter"?s==null||s():ae==="leave"&&(l==null||l())})}),$=Ke(ne=>{let re=ne?"enter":"leave";A.current=!1,F.onStop(x,re,ae=>{ae==="enter"?o==null||o():ae==="leave"&&(c==null||c())}),re==="leave"&&!bp(F)&&(R("hidden"),j(x))});k.useEffect(()=>{w&&a||(L(E),$(E))},[E,w,a]);let z=!(!a||!w||!I||B),[,q]=GZ(z,g,E,{start:L,end:$}),K=vi({ref:_,className:((n=ey(b.className,P&&d,P&&u,q.enter&&d,q.enter&&q.closed&&u,q.enter&&!q.closed&&f,q.leave&&m,q.leave&&!q.closed&&y,q.leave&&q.closed&&v,!q.transition&&E&&h))==null?void 0:n.trim())||void 0,...qZ(q)}),H=0;D==="visible"&&(H|=Ln.Open),D==="hidden"&&(H|=Ln.Closed),E&&D==="hidden"&&(H|=Ln.Opening),!E&&D==="visible"&&(H|=Ln.Closing);let ee=_n();return Z.createElement(yp.Provider,{value:F},Z.createElement(Oee,{value:H},ee({ourProps:K,theirProps:b,defaultTag:ID,features:MD,visible:D==="visible",name:"Transition.Child"})))}function ote(e,t){let{show:r,appear:n=!1,unmount:a=!0,...s}=e,o=k.useRef(null),l=PD(e),c=xa(...l?[o,t]:t===null?[]:[t]);gu();let d=vp();if(r===void 0&&d!==null&&(r=(d&Ln.Open)===Ln.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,f]=k.useState(r?"visible":"hidden"),h=OD(()=>{r||f("hidden")}),[m,y]=k.useState(!0),v=k.useRef([r]);rr(()=>{m!==!1&&v.current[v.current.length-1]!==r&&(v.current.push(r),y(!1))},[v,r]);let b=k.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);rr(()=>{r?f("visible"):!bp(h)&&o.current!==null&&f("hidden")},[r,h]);let g={unmount:a},p=Ke(()=>{var _;m&&y(!1),(_=e.beforeEnter)==null||_.call(e)}),x=Ke(()=>{var _;m&&y(!1),(_=e.beforeLeave)==null||_.call(e)}),w=_n();return Z.createElement(yp.Provider,{value:h},Z.createElement(xp.Provider,{value:b},w({ourProps:{...g,as:k.Fragment,children:Z.createElement(RD,{ref:c,...g,...s,beforeEnter:p,beforeLeave:x})},theirProps:{},defaultTag:k.Fragment,features:MD,visible:u==="visible",name:"Transition"})))}function lte(e,t){let r=k.useContext(xp)!==null,n=vp()!==null;return Z.createElement(Z.Fragment,null,!r&&n?Z.createElement(ly,{ref:t,...e}):Z.createElement(RD,{ref:t,...e}))}let ly=Rr(ote),RD=Rr(ite),Fw=Rr(lte),cte=Object.assign(ly,{Child:Fw,Root:ly});var dte=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(dte||{}),ute=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(ute||{});let fte={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Bw=k.createContext(null);Bw.displayName="DialogContext";function wp(e){let t=k.useContext(Bw);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,wp),r}return t}function hte(e,t){return Va(t.type,fte,e,t)}let o_=Rr(function(e,t){let r=k.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:o,role:l="dialog",autoFocus:c=!0,__demoMode:d=!1,unmount:u=!1,...f}=e,h=k.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(h.current||(h.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=vp();a===void 0&&m!==null&&(a=(m&Ln.Open)===Ln.Open);let y=k.useRef(null),v=xa(y,t),b=fp(y),g=a?0:1,[p,x]=k.useReducer(hte,{titleId:null,descriptionId:null,panelRef:k.createRef()}),w=Ke(()=>s(!1)),_=Ke(q=>x({type:0,id:q})),S=gu()?g===0:!1,[E,O]=Uee(),T={get current(){var q;return(q=p.panelRef.current)!=null?q:y.current}},D=ED(),{resolveContainers:R}=Gee({mainTreeNode:D,portals:E,defaultContainers:[T]}),N=m!==null?(m&Ln.Closing)===Ln.Closing:!1;kZ(d||N?!1:S,{allowed:Ke(()=>{var q,K;return[(K=(q=y.current)==null?void 0:q.closest("[data-headlessui-portal]"))!=null?K:null]}),disallowed:Ke(()=>{var q;return[(q=D==null?void 0:D.closest("body > *:not(#headlessui-portal-root)"))!=null?q:null]})});let C=nD.get(null);rr(()=>{if(S)return C.actions.push(n),()=>C.actions.pop(n)},[C,n,S]);let j=iD(C,k.useCallback(q=>C.selectors.isTop(q,n),[C,n]));MZ(j,R,q=>{q.preventDefault(),w()}),Vee(j,b==null?void 0:b.defaultView,q=>{q.preventDefault(),q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),w()}),UZ(d||N?!1:S,b,R),jZ(S,y,w);let[I,B]=JQ(),P=k.useMemo(()=>[{dialogState:g,close:w,setTitleId:_,unmount:u},p],[g,p,w,_,u]),A=k.useMemo(()=>({open:g===0}),[g]),F={ref:v,id:n,role:l,tabIndex:-1,"aria-modal":d?void 0:g===0?!0:void 0,"aria-labelledby":p.titleId,"aria-describedby":I,unmount:u},L=!qee(),$=bi.None;S&&!d&&($|=bi.RestoreFocus,$|=bi.TabLock,c&&($|=bi.AutoFocus),L&&($|=bi.InitialFocus));let z=_n();return Z.createElement(Iee,null,Z.createElement(s_,{force:!0},Z.createElement(Hee,null,Z.createElement(Bw.Provider,{value:P},Z.createElement(SD,{target:y},Z.createElement(s_,{force:!1},Z.createElement(B,{slot:A},Z.createElement(O,null,Z.createElement(Qee,{initialFocus:o,initialFocusFallback:y,containers:R,features:$},Z.createElement(nZ,{value:w},z({ourProps:F,theirProps:f,slot:A,defaultTag:mte,features:pte,visible:g===0,name:"Dialog"})))))))))))}),mte="div",pte=Vh.RenderStrategy|Vh.Static;function gte(e,t){let{transition:r=!1,open:n,...a}=e,s=vp(),o=e.hasOwnProperty("open")||s!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!a.static?Z.createElement(i_,null,Z.createElement(cte,{show:n,transition:r,unmount:a.unmount},Z.createElement(o_,{ref:t,...a}))):Z.createElement(i_,null,Z.createElement(o_,{ref:t,open:n,...a}))}let vte="div";function xte(e,t){let r=k.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...s}=e,[{dialogState:o,unmount:l},c]=wp("Dialog.Panel"),d=xa(t,c.panelRef),u=k.useMemo(()=>({open:o===0}),[o]),f=Ke(b=>{b.stopPropagation()}),h={ref:d,id:n,onClick:f},m=a?Fw:k.Fragment,y=a?{unmount:l}:{},v=_n();return Z.createElement(m,{...y},v({ourProps:h,theirProps:s,slot:u,defaultTag:vte,name:"Dialog.Panel"}))}let yte="div";function bte(e,t){let{transition:r=!1,...n}=e,[{dialogState:a,unmount:s}]=wp("Dialog.Backdrop"),o=k.useMemo(()=>({open:a===0}),[a]),l={ref:t,"aria-hidden":!0},c=r?Fw:k.Fragment,d=r?{unmount:s}:{},u=_n();return Z.createElement(c,{...d},u({ourProps:l,theirProps:n,slot:o,defaultTag:yte,name:"Dialog.Backdrop"}))}let wte="h2";function kte(e,t){let r=k.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:s,setTitleId:o}]=wp("Dialog.Title"),l=xa(t);k.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=k.useMemo(()=>({open:s===0}),[s]),d={ref:l,id:n};return _n()({ourProps:d,theirProps:a,slot:c,defaultTag:wte,name:"Dialog.Title"})}let jte=Rr(gte),Nte=Rr(xte);Rr(bte);let _te=Rr(kte),l0=Object.assign(jte,{Panel:Nte,Title:_te,Description:tZ});const AD=e=>{if(!e)return"Дата не указана";try{return new Date(e).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}catch{return"Некорректная дата"}},cy=e=>{if(!e)return"--:--";try{return new Date(e).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}catch{return"--:--"}},Ste=e=>{if(!e)return"Дата не указана";try{return new Date(e).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"})}catch{return"Некорректная дата"}},LD=e=>({conference:"Конференция",workshop:"Мастер-класс",meetup:"Встреча",seminar:"Семинар",webinar:"Вебинар",training:"Тренинг"})[e]||e,$D=e=>{switch(e){case"conference":return i.jsx(AM,{className:"w-3 h-3"});case"workshop":return i.jsx(eE,{className:"w-3 h-3"});case"meetup":return i.jsx(St,{className:"w-3 h-3"});default:return i.jsx(_e,{className:"w-3 h-3"})}},of=({event:e,isPast:t=!1,isCompact:r=!1})=>{const[n,a]=k.useState([]);k.useEffect(()=>{(async()=>{if(!(!e.speakers||!Array.isArray(e.speakers)))try{const h=e.speakers.filter(v=>typeof v=="string"&&v.length>0);if(h.length===0)return;const{data:m,error:y}=await de.from("speakers").select("id, name, photos").in("id",h).eq("active",!0);if(y)throw y;a(m||[])}catch(h){console.error("Error loading speakers:",h)}})()},[e.speakers]);const s=e.registrations||{},o=parseInt(s.current||"0")||0,l=parseInt(s.max_registrations||s.max_regs||"0")||0,c=l>0?o/l*100:0,d=()=>c>=90?"text-error-500":c>=70?"text-warning-500":"text-primary-500",u=f=>{if(!f.photos||!Array.isArray(f.photos))return null;const h=f.photos.find(m=>m.isMain)||f.photos[0];return h!=null&&h.url?bt(h.url):null};return i.jsxs("div",{className:`group relative bg-white dark:bg-dark-800 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700 hover:border-primary-200 dark:hover:border-primary-600 ${r?"p-4":"p-6"}`,children:[i.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-400 via-primary-500 to-primary-600"}),i.jsxs("div",{className:r?"mt-2":"mt-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsxs("span",{className:"inline-flex items-center gap-1 bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 px-2 py-1 rounded-md text-xs font-medium",children:[$D(e.event_type),i.jsx("span",{className:"ml-1",children:LD(e.event_type)})]})}),i.jsx("h3",{className:`font-bold text-gray-900 dark:text-white mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors ${r?"text-lg":"text-xl"}`,children:e.title||"Без названия"})]}),i.jsx("div",{className:"text-right ml-4",children:e.price>0?i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(zd,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),i.jsx("span",{className:`font-bold text-primary-600 dark:text-primary-400 ${r?"text-lg":"text-xl"}`,children:e.price.toLocaleString()}),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.currency||"RUB"})]})}):i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(XC,{className:`text-success-600 dark:text-success-400 ${r?"w-5 h-5":"w-6 h-6"}`}),i.jsx("span",{className:`font-bold text-success-600 dark:text-success-400 ${r?"text-sm":"text-base"}`,children:"Бесплатно"})]})})]}),i.jsxs("div",{className:`space-y-${r?"2":"4"}`,children:[i.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300",children:[i.jsx("div",{className:`flex items-center justify-center bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3 ${r?"w-6 h-6":"w-8 h-8"}`,children:i.jsx(_e,{className:`text-primary-600 dark:text-primary-400 ${r?"w-3 h-3":"w-4 h-4"}`})}),i.jsx("span",{className:`font-medium ${r?"text-sm":""}`,children:AD(e.start_at)})]}),i.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300",children:[i.jsx("div",{className:`flex items-center justify-center bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3 ${r?"w-6 h-6":"w-8 h-8"}`,children:i.jsx(gr,{className:`text-primary-600 dark:text-primary-400 ${r?"w-3 h-3":"w-4 h-4"}`})}),i.jsxs("span",{className:`font-medium ${r?"text-sm":""}`,children:[cy(e.start_at)," - ",cy(e.end_at)]})]}),i.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300",children:[i.jsx("div",{className:`flex items-center justify-center bg-primary-100 dark:bg-primary-900/30 rounded-lg mr-3 ${r?"w-6 h-6":"w-8 h-8"}`,children:i.jsx(St,{className:`text-primary-600 dark:text-primary-400 ${r?"w-3 h-3":"w-4 h-4"}`})}),i.jsxs("span",{className:`font-medium ${r?"text-sm":""}`,children:[i.jsx("span",{className:d(),children:o})," из ",l," участников"]})]})]}),n.length>0&&!r&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Спикеры:"}),i.jsx("div",{className:"flex flex-wrap gap-3",children:n.map(f=>{const h=u(f);return i.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 text-primary-700 dark:text-primary-300 px-3 py-2 rounded-full text-sm font-medium",children:[h?i.jsx("img",{src:h,alt:f.name,className:"w-6 h-6 rounded-full object-cover border-2 border-primary-200 dark:border-primary-600"}):i.jsx("div",{className:"w-6 h-6 bg-primary-200 dark:bg-primary-600 rounded-full flex items-center justify-center",children:i.jsx(St,{className:"w-3 h-3 text-primary-600 dark:text-primary-300"})}),i.jsx("span",{children:f.name||"Без имени"})]},f.id)})})]}),t&&i.jsx("div",{className:"mt-4",children:i.jsxs("span",{className:"inline-flex items-center bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-3 py-1 rounded-full text-sm font-medium",children:[i.jsx(Ci,{className:"w-3 h-3 mr-1"}),"Завершено"]})})]})]})},c0=({event:e,isPast:t=!1})=>{const r=e.registrations||{},n=parseInt(r.current||"0")||0,a=parseInt(r.max_registrations||r.max_regs||"0")||0;return i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:border-primary-200 dark:hover:border-primary-600 transition-all duration-200 hover:shadow-md relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-400 via-primary-500 to-primary-600"}),i.jsx("div",{className:"flex items-start justify-between mt-2",children:i.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center",children:$D(e.event_type)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate mb-1",children:e.title&&e.title.length>50?`${e.title.substring(0,50)}...`:e.title||"Без названия"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-500 dark:text-gray-400",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(_e,{className:"w-3 h-3 mr-1"}),Ste(e.start_at)]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(gr,{className:"w-3 h-3 mr-1"}),cy(e.start_at)]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(St,{className:"w-3 h-3 mr-1"}),n,"/",a]}),i.jsx("span",{className:"inline-flex items-center bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 px-2 py-0.5 rounded text-xs font-medium",children:LD(e.event_type)}),i.jsx("div",{className:"flex items-center gap-1",children:e.price>0?i.jsxs(i.Fragment,{children:[i.jsx(zd,{className:"w-3 h-3"}),i.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.price.toLocaleString()," ",e.currency||"RUB"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(XC,{className:"w-3 h-3 text-success-600"}),i.jsx("span",{className:"font-medium text-success-600",children:"Бесплатно"})]})}),t&&n>0&&i.jsx("button",{className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium text-xs underline",children:"Подробнее"})]})]})]})})]})},lf=({title:e,value:t,subtitle:r,icon:n,color:a="primary"})=>i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all duration-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("div",{className:`w-6 h-6 bg-${a}-100 dark:bg-${a}-900/30 rounded-md flex items-center justify-center`,children:i.jsx(n,{className:`w-3 h-3 text-${a}-600 dark:text-${a}-400`})})}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e}),r&&i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:r})]})]}),cf=()=>i.jsxs("div",{className:"flex justify-center items-center py-12",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Nt,{className:"w-8 h-8 animate-spin text-primary-500"}),i.jsx("div",{className:"absolute inset-0 w-8 h-8 border-2 border-primary-200 dark:border-primary-800 rounded-full"})]}),i.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300 font-medium",children:"Загрузка данных..."})]}),d0=({isListView:e,onToggle:t})=>i.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[i.jsx("button",{onClick:()=>t(!1),className:`p-2 rounded-md transition-all duration-200 ${e?"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300":"bg-white dark:bg-dark-700 text-primary-600 dark:text-primary-400 shadow-sm"}`,children:i.jsx(KC,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>t(!0),className:`p-2 rounded-md transition-all duration-200 ${e?"bg-white dark:bg-dark-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:i.jsx(db,{className:"w-4 h-4"})})]}),df=async(e,t=0,r=10)=>{try{const n=new Date().toISOString();let a=de.from("events").select("*");if(e==="nearest"){const l=new Date(Date.now()+6048e5).toISOString();a=a.gte("start_at",n).lte("start_at",l).eq("status","active").order("start_at",{ascending:!0}).limit(1)}else e==="upcoming"?a=a.gte("start_at",n).eq("status","active").order("start_at",{ascending:!0}).range(t,t+r-1):e==="past"&&(a=a.or(`start_at.lt.${n},status.eq.past`).order("start_at",{ascending:!1}).range(t,t+r-1));const{data:s,error:o}=await a;if(o)throw console.error("Database error:",o),o;return{data:(s||[]).filter(l=>l&&l.id),hasMore:(s||[]).length===r}}catch(n){return console.error("Error loading events:",n),{data:[],hasMore:!1}}},Cte=()=>{const[e,t]=k.useState("dashboard"),[r,n]=k.useState(!1),[a,s]=k.useState("all"),[o,l]=k.useState({start:"",end:""}),[c,d]=k.useState({nearest:[],upcoming:[],past:[]}),[u,f]=k.useState({nearest:!1,upcoming:!1,past:!1}),[h,m]=k.useState({upcoming:!1,past:!1}),[y,v]=k.useState({upcoming:{offset:0,hasMore:!0},past:{offset:0,hasMore:!0}}),[b,g]=k.useState({totalEvents:0,totalParticipants:0,totalRevenue:0,avgParticipants:0,completionRate:0}),[p,x]=k.useState(!1),[w,_]=k.useState("visitors"),S=async()=>{try{const I=new Map,B=["nearest","upcoming","past"];for(const L of B)for(const $ of c[L]){const z=$.registrations||{};z.reg_list&&Array.isArray(z.reg_list)&&z.reg_list.forEach(q=>{if(q.email&&q.full_name){const K=q.email.toLowerCase().trim(),H=I.get(K);H?I.set(K,{full_name:H.full_name,count:H.count+1}):I.set(K,{full_name:q.full_name.trim(),count:1})}})}const P=Array.from(I.entries()).map(([L,$])=>({email:L,full_name:$.full_name,count:$.count})).sort((L,$)=>$.count-L.count);let F="\uFEFF"+`Имя,Email,Число посещений
`;P.forEach(L=>{F+=`"${L.full_name.replace(/"/g,'""')}","${L.email}",${L.count}
`}),O(F,"visitors_export"),alert(`Экспортировано ${P.length} уникальных посетителей`)}catch(I){console.error("Ошибка экспорта посетителей:",I),alert("Ошибка при экспорте данных посетителей")}},E=async()=>{try{const I=[],B=["nearest","upcoming","past"];for(const F of B)for(const L of c[F]){const z=(L.registrations||{}).reg_list||[],q=z.length,K=z.reduce((H,ee)=>H+(ee.total_amount||0),0);I.push({title:L.title||"Без названия",date:AD(L.start_at),participants:q,revenue:K})}let A="\uFEFF"+`Мероприятие,Дата,Участников,Выручка
`;I.forEach(F=>{A+=`"${F.title.replace(/"/g,'""')}","${F.date}",${F.participants},${F.revenue}
`}),O(A,"full_stats_export"),alert(`Экспортирована статистика по ${I.length} мероприятиям`)}catch(I){console.error("Ошибка экспорта статистики:",I),alert("Ошибка при экспорте полной статистики")}},O=(I,B)=>{const P=new Blob([I],{type:"text/csv;charset=utf-8;"}),A=URL.createObjectURL(P),F=document.createElement("a");F.setAttribute("href",A),F.setAttribute("download",`${B}_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(F),F.click(),document.body.removeChild(F)},T=()=>{x(!0)},D=()=>{x(!1),w==="visitors"?S():E()},R=async()=>{try{let I=de.from("events").select("*");const B=new Date;let P,A;switch(a){case"today":P=new Date(B.setHours(0,0,0,0)).toISOString(),A=new Date(B.setHours(23,59,59,999)).toISOString();break;case"week":const H=new Date(B.setDate(B.getDate()-B.getDay()));P=new Date(H.setHours(0,0,0,0)).toISOString(),A=new Date().toISOString();break;case"month":P=new Date(B.getFullYear(),B.getMonth(),1).toISOString(),A=new Date().toISOString();break;case"custom":o.start&&o.end?(P=new Date(o.start).toISOString(),A=new Date(o.end).toISOString()):(P=null,A=new Date().toISOString());break;default:A=new Date().toISOString()}a!=="all"?(P&&(I=I.gte("start_at",P)),I=I.lte("start_at",A)):I=I.or(`start_at.lt.${new Date().toISOString()},status.eq.past`);const{data:F,error:L}=await I;if(L)throw L;const $=(F==null?void 0:F.length)||0;let z=0,q=0,K=0;F==null||F.forEach(H=>{const ee=H.registrations||{},ne=parseInt(ee.current||"0")||0;z+=ne,H.price&&ne>0&&(q+=H.price*ne),(H.status==="completed"||ne>0)&&K++}),g({totalEvents:$,totalParticipants:z,totalRevenue:q,avgParticipants:$>0?Math.round(z/$):0,completionRate:$>0?Math.round(K/$*100):0})}catch(I){console.error("Error calculating stats:",I)}};k.useEffect(()=>{(async()=>{f({nearest:!0,upcoming:!0,past:!0});try{console.log("Loading initial data...");const[B,P,A]=await Promise.all([df("nearest",0,1),df("upcoming",0,6),df("past",0,10)]);console.log("Loaded data:",{nearestResult:B,upcomingResult:P,pastResult:A}),d({nearest:B.data,upcoming:P.data,past:A.data}),v({upcoming:{offset:6,hasMore:P.hasMore},past:{offset:10,hasMore:A.hasMore}}),await R()}catch(B){console.error("Error loading initial data:",B)}finally{f({nearest:!1,upcoming:!1,past:!1})}})()},[]),k.useEffect(()=>{R()},[a,o]);const N=async I=>{if(y[I].hasMore){m(B=>({...B,[I]:!0}));try{const B=await df(I,y[I].offset,10);d(P=>({...P,[I]:[...P[I],...B.data]})),v(P=>({...P,[I]:{offset:P[I].offset+10,hasMore:B.hasMore}}))}catch(B){console.error(`Error loading more ${I} events:`,B)}finally{m(B=>({...B,[I]:!1}))}}},C=[{id:"all",label:"Все время",icon:m1},{id:"today",label:"Сегодня",icon:_e},{id:"week",label:"Неделя",icon:_e},{id:"month",label:"Месяц",icon:_e},{id:"custom",label:"Период",icon:m1}],j=[{id:"dashboard",label:"Дашборд",icon:md},{id:"upcoming",label:"Предстоящие",count:c.upcoming.length,icon:_e},{id:"past",label:"Прошедшие",count:c.past.length,icon:Ci}];return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-900 dark:to-dark-800 py-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-12 text-center",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-4",children:"Управление мероприятиями"}),i.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Полная аналитика и контроль ваших событий"})]}),i.jsx("div",{className:"mb-10",children:i.jsx("div",{className:"flex flex-wrap justify-center gap-2 bg-white dark:bg-dark-800 p-2 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700",children:j.map(I=>{const B=I.icon;return i.jsxs("button",{onClick:()=>t(I.id),className:`flex items-center justify-center px-6 py-3 rounded-xl font-semibold transition-all duration-300 ${e===I.id?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg transform scale-105":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-dark-700"}`,children:[i.jsx(B,{className:"w-5 h-5 mr-2"}),I.label,I.count&&I.count>0&&i.jsx("span",{className:`ml-3 px-2 py-1 text-sm rounded-full font-bold ${e===I.id?"bg-white/20 text-white":"bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400"}`,children:I.count})]},I.id)})})}),i.jsxs("div",{className:"space-y-8",children:[e==="dashboard"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx(md,{className:"w-5 h-5 mr-2 text-primary-500"}),"Статистика"]}),i.jsxs("button",{onClick:T,className:"flex items-center gap-2 bg-primary-500 hover:bg-primary-600 text-white px-3 py-1.5 rounded-lg transition-colors duration-200 shadow-sm text-sm",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Экспорт"]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Период:"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:C.map(I=>{const B=I.icon;return i.jsxs("button",{onClick:()=>s(I.id),className:`flex items-center px-2 py-1 rounded-md font-medium transition-all duration-200 text-xs ${a===I.id?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[i.jsx(B,{className:"w-3 h-3 mr-1"}),I.label]},I.id)})}),a==="custom"&&i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"От"}),i.jsx("input",{type:"date",value:o.start,onChange:I=>l(B=>({...B,start:I.target.value})),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs bg-white dark:bg-dark-700 text-gray-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"До"}),i.jsx("input",{type:"date",value:o.end,onChange:I=>l(B=>({...B,end:I.target.value})),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-xs bg-white dark:bg-dark-700 text-gray-900 dark:text-white"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(lf,{title:"Мероприятий",value:b.totalEvents,icon:_e,color:"primary"}),i.jsx(lf,{title:"Участников",value:b.totalParticipants.toLocaleString(),icon:St,color:"success"}),i.jsx(lf,{title:"Выручка",value:`${Math.round(b.totalRevenue/1e3)}K ₽`,icon:Ms,color:"warning"}),i.jsx(lf,{title:"Ср. посещ.",value:b.avgParticipants,subtitle:`${b.completionRate}% успех`,icon:Ci,color:"error"})]})]})}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(gr,{className:"w-5 h-5 mr-2 text-primary-500"}),"Ближайшее мероприятие"]}),u.nearest?i.jsx(cf,{}):c.nearest.length>0?i.jsx("div",{children:c.nearest.map(I=>i.jsx(of,{event:I},I.id))}):i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-dark-800 rounded-2xl border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(_e,{className:"w-8 h-8 text-primary-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Нет ближайших мероприятий"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Запланируйте новое мероприятие"})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx(_e,{className:"w-6 h-6 mr-3 text-primary-500"}),"Предстоящие мероприятия"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(d0,{isListView:r,onToggle:n}),i.jsxs("button",{onClick:()=>t("upcoming"),className:"flex items-center text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium",children:[i.jsx(Bd,{className:"w-4 h-4 mr-1"}),"Смотреть все"]})]})]}),u.upcoming?i.jsx(cf,{}):c.upcoming.length>0?i.jsx("div",{children:r?i.jsx("div",{className:"space-y-3",children:c.upcoming.slice(0,6).map(I=>i.jsx(c0,{event:I},I.id))}):i.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.upcoming.slice(0,6).map(I=>i.jsx(of,{event:I,isCompact:!0},I.id))})}):i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-dark-800 rounded-2xl border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(_e,{className:"w-8 h-8 text-primary-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Нет предстоящих мероприятий"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Создайте новое мероприятие"})]})]})]}),e==="upcoming"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx(_e,{className:"w-6 h-6 mr-3 text-primary-500"}),"Предстоящие мероприятия"]}),i.jsx(d0,{isListView:r,onToggle:n})]}),u.upcoming?i.jsx(cf,{}):c.upcoming.length>0?i.jsxs("div",{className:"space-y-8",children:[r?i.jsx("div",{className:"space-y-3",children:c.upcoming.map(I=>i.jsx(c0,{event:I},I.id))}):i.jsx("div",{className:"grid gap-8 md:grid-cols-2 xl:grid-cols-3",children:c.upcoming.map(I=>i.jsx(of,{event:I},I.id))}),y.upcoming.hasMore&&i.jsx("div",{className:"text-center pt-4",children:i.jsx("button",{onClick:()=>N("upcoming"),disabled:h.upcoming,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg",children:h.upcoming?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-5 h-5 mr-2 animate-spin"}),"Загрузка..."]}):i.jsxs(i.Fragment,{children:[i.jsx(pd,{className:"w-5 h-5 mr-2"}),"Показать еще 10 мероприятий"]})})})]}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(_e,{className:"w-12 h-12 text-primary-500"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Нет предстоящих мероприятий"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Создайте новое мероприятие, чтобы начать привлекать участников"})]})]}),e==="past"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx(Ci,{className:"w-6 h-6 mr-3 text-primary-500"}),"Прошедшие мероприятия"]}),i.jsx(d0,{isListView:r,onToggle:n})]}),u.past?i.jsx(cf,{}):c.past.length>0?i.jsxs("div",{className:"space-y-8",children:[r?i.jsx("div",{className:"space-y-3",children:c.past.map(I=>i.jsx(c0,{event:I,isPast:!0},I.id))}):i.jsx("div",{className:"grid gap-8 md:grid-cols-2 xl:grid-cols-3",children:c.past.map(I=>i.jsx(of,{event:I,isPast:!0},I.id))}),y.past.hasMore&&i.jsx("div",{className:"text-center pt-4",children:i.jsx("button",{onClick:()=>N("past"),disabled:h.past,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg",children:h.past?i.jsxs(i.Fragment,{children:[i.jsx(Nt,{className:"w-5 h-5 mr-2 animate-spin"}),"Загрузка..."]}):i.jsxs(i.Fragment,{children:[i.jsx(pd,{className:"w-5 h-5 mr-2"}),"Показать еще 10 мероприятий"]})})})]}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900/20 dark:to-primary-800/20 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Ci,{className:"w-12 h-12 text-primary-500"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Нет прошедших мероприятий"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Здесь появится история ваших завершенных мероприятий"})]})]})]}),i.jsx(l0,{open:p,onClose:()=>x(!1),className:"fixed z-50 inset-0 overflow-y-auto",children:i.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[i.jsx(l0.Overlay,{className:"fixed inset-0 bg-black bg-opacity-30 transition-opacity"}),i.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),i.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-dark-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[i.jsxs("div",{className:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[i.jsx(l0.Title,{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Выберите тип экспорта"}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("input",{id:"visitors-export",type:"radio",checked:w==="visitors",onChange:()=>_("visitors"),className:"h-4 w-4 mt-1 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600"}),i.jsxs("label",{htmlFor:"visitors-export",className:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-semibold",children:"Только посетители"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Содержит: Имя, Email, Число посещений"})]})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("input",{id:"fullstats-export",type:"radio",checked:w==="full_stats",onChange:()=>_("full_stats"),className:"h-4 w-4 mt-1 text-primary-600 focus:ring-primary-500 border-gray-300 dark:border-gray-600"}),i.jsxs("label",{htmlFor:"fullstats-export",className:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-300",children:[i.jsx("span",{className:"font-semibold",children:"Полная статистика"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Содержит: Мероприятие, Дата, Участников, Выручка"})]})]})]})]}),i.jsxs("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[i.jsx("button",{type:"button",onClick:D,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm",children:"Экспортировать"}),i.jsx("button",{type:"button",onClick:()=>x(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-dark-700 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-dark-600 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Отмена"})]})]})]})})]})})},Ete=()=>{const[e,t]=k.useState([]),[r,n]=k.useState({totalToday:0,totalThisWeek:0,totalThisMonth:0,uniqueUsersToday:0,uniqueUsersThisMonth:0,eventAttendance:0,generalAttendance:0}),[a,s]=k.useState(!0),[o,l]=k.useState(!1),[c,d]=k.useState(""),[u,f]=k.useState("all"),[h,m]=k.useState("week"),[y,v]=k.useState(1),[b,g]=k.useState(!0),p=20;k.useEffect(()=>{x()},[u,h,c]);const x=async()=>{try{s(!0),await Promise.all([w(),_(1)])}catch(D){console.error("Error fetching data:",D),X.error("Ошибка загрузки данных")}finally{s(!1)}},w=async()=>{try{const D=new Date,R=new Date(D.getFullYear(),D.getMonth(),D.getDate()),N=z1(D,7),C=vd(D),{data:j,error:I}=await de.from("user_attendance").select(`
          id,
          scanned_at,
          attendance_type,
          user_id
        `);if(I)throw I;const B=j.filter($=>new Date($.scanned_at)>=R),P=j.filter($=>new Date($.scanned_at)>=N),A=j.filter($=>new Date($.scanned_at)>=C),F=new Set(B.map($=>$.user_id)).size,L=new Set(A.map($=>$.user_id)).size;n({totalToday:B.length,totalThisWeek:P.length,totalThisMonth:A.length,uniqueUsersToday:F,uniqueUsersThisMonth:L,eventAttendance:j.filter($=>$.attendance_type==="event").length,generalAttendance:j.filter($=>$.attendance_type==="general").length})}catch(D){console.error("Error fetching stats:",D)}},_=async D=>{try{let R=de.from("user_attendance").select(`
          *,
          user_profile:profiles!user_attendance_user_id_fkey(name),
          scanned_by_profile:profiles!user_attendance_scanned_by_fkey(name),
          event:events(title, event_type)
        `).order("scanned_at",{ascending:!1});if(u!=="all"&&(R=R.eq("attendance_type",u)),h!=="all"){const B=new Date;let P;switch(h){case"today":P=new Date(B.getFullYear(),B.getMonth(),B.getDate());break;case"week":P=z1(B,7);break;case"month":P=vd(B);break;default:P=new Date(0)}R=R.gte("scanned_at",P.toISOString())}if(c){const{data:B,error:P}=await de.from("profiles").select("id").ilike("name",`%${c}%`);if(P)throw P;if(B&&B.length>0){const A=B.map(F=>F.id);R=R.in("user_id",A)}else{t([]),g(!1);return}}const N=(D-1)*p,C=N+p-1;R=R.range(N,C);const{data:j,error:I}=await R;if(I)throw I;t(D===1?j||[]:B=>[...B,...j||[]]),g(((j==null?void 0:j.length)||0)===p),v(D)}catch(R){console.error("Error fetching attendance records:",R),X.error("Ошибка загрузки записей посещений")}},S=async()=>{try{const{data:D,error:R}=await de.from("user_attendance").select(`
          scanned_at,
          attendance_type,
          location,
          notes,
          user_profile:profiles!user_attendance_user_id_fkey(name),
          scanned_by_profile:profiles!user_attendance_scanned_by_fkey(name),
          event:events(title, event_type)
        `).order("scanned_at",{ascending:!1});if(R)throw R;const C=[["Дата и время","Пользователь","Тип посещения","Мероприятие","Местоположение","Заметки","Отметил"].join(","),...D.map(P=>[Ve(new Date(P.scanned_at),"dd.MM.yyyy HH:mm"),`"${P.user_profile.name}"`,P.attendance_type==="event"?"Мероприятие":"Общее",P.event?`"${P.event.title}"`:"",P.location?`"${P.location}"`:"",P.notes?`"${P.notes}"`:"",`"${P.scanned_by_profile.name}"`].join(","))].join(`
`),j=new Blob([C],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),B=URL.createObjectURL(j);I.setAttribute("href",B),I.setAttribute("download",`attendance_${Ve(new Date,"yyyy-MM-dd")}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I),X.success("Данные экспортированы")}catch(D){console.error("Error exporting data:",D),X.error("Ошибка экспорта данных")}},E=()=>{b&&!a&&_(y+1)},O=D=>Ve(new Date(D),"dd.MM.yyyy HH:mm"),T=D=>{switch(D){case"event":return"Мероприятие";case"coworking":return"Коворкинг";default:return"Общее"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary-600 via-primary-500 to-secondary-500 bg-clip-text text-transparent mb-2",children:"Управление посещениями"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Сканирование QR-кодов и учет посещений пользователей"})]}),i.jsxs("button",{onClick:()=>l(!0),className:"btn-primary flex items-center gap-2",children:[i.jsx(ol,{className:"h-5 w-5"}),"Сканировать QR-код"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:"Сегодня"}),i.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:r.totalToday}),i.jsxs("p",{className:"text-xs text-blue-500 dark:text-blue-400 mt-1",children:[r.uniqueUsersToday," уникальных пользователей"]})]}),i.jsx(_e,{className:"h-12 w-12 text-blue-500 opacity-80"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-6 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 mb-1",children:"За неделю"}),i.jsx("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:r.totalThisWeek}),i.jsx("p",{className:"text-xs text-green-500 dark:text-green-400 mt-1",children:"посещений"})]}),i.jsx(Ci,{className:"h-12 w-12 text-green-500 opacity-80"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 mb-1",children:"За месяц"}),i.jsx("p",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300",children:r.totalThisMonth}),i.jsxs("p",{className:"text-xs text-purple-500 dark:text-purple-400 mt-1",children:[r.uniqueUsersThisMonth," уникальных пользователей"]})]}),i.jsx(St,{className:"h-12 w-12 text-purple-500 opacity-80"})]})}),i.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 p-6 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400 mb-1",children:"Мероприятия"}),i.jsx("p",{className:"text-3xl font-bold text-orange-700 dark:text-orange-300",children:r.eventAttendance}),i.jsxs("p",{className:"text-xs text-orange-500 dark:text-orange-400 mt-1",children:["vs ",r.generalAttendance," общих"]})]}),i.jsx(md,{className:"h-12 w-12 text-orange-500 opacity-80"})]})})]}),i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Поиск по имени...",value:c,onChange:D=>d(D.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg dark:bg-dark-700 w-64"})]}),i.jsxs("select",{value:u,onChange:D=>f(D.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg dark:bg-dark-700",children:[i.jsx("option",{value:"all",children:"Все типы"}),i.jsx("option",{value:"event",children:"Мероприятия"}),i.jsx("option",{value:"general",children:"Общие посещения"})]}),i.jsxs("select",{value:h,onChange:D=>m(D.target.value),className:"px-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg dark:bg-dark-700",children:[i.jsx("option",{value:"today",children:"Сегодня"}),i.jsx("option",{value:"week",children:"Последние 7 дней"}),i.jsx("option",{value:"month",children:"Этот месяц"}),i.jsx("option",{value:"all",children:"Все время"})]})]}),i.jsxs("button",{onClick:S,className:"btn-outline flex items-center gap-2",children:[i.jsx(Fd,{className:"h-4 w-4"}),"Экспорт CSV"]})]})}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-dark-600",children:i.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[i.jsx(Bd,{className:"h-5 w-5"}),"Записи посещений"]})}),a&&e.length===0?i.jsx("div",{className:"p-8",children:i.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((D,R)=>i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-dark-600 rounded-full"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-4 bg-gray-200 dark:bg-dark-600 rounded w-1/4 mb-2"}),i.jsx("div",{className:"h-3 bg-gray-200 dark:bg-dark-600 rounded w-1/2"})]}),i.jsx("div",{className:"h-4 bg-gray-200 dark:bg-dark-600 rounded w-20"})]},R))})}):e.length>0?i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-dark-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Пользователь"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Дата и время"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Тип"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Мероприятие/Место"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Отметил"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Заметки"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-600",children:e.map(D=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-700",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:D.user_profile.name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:O(D.scanned_at)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D.attendance_type==="event"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}`,children:T(D.attendance_type)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:D.event?i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:D.event.title}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:D.event.event_type})]}):D.location||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:D.scanned_by_profile.name})}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs",children:D.notes?i.jsx("div",{className:"truncate",title:D.notes,children:D.notes}):"-"})]},D.id))})]}),b&&i.jsx("div",{className:"p-6 text-center border-t border-gray-200 dark:border-dark-600",children:i.jsx("button",{onClick:E,disabled:a,className:"btn-outline",children:a?"Загрузка...":"Показать больше"})})]}):i.jsxs("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400",children:[i.jsx(St,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Нет записей посещений"}),i.jsx("p",{className:"text-sm",children:c||u!=="all"||h!=="all"?"Попробуйте изменить фильтры поиска":"Начните сканировать QR-коды пользователей для отметки посещений"})]})]}),o&&i.jsx(sT,{isOpen:o,onClose:()=>{l(!1),x()}})]})},u0=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),Tte=({children:e})=>{const[t,r]=k.useState(null),[n,a]=k.useState(null),[s,o]=k.useState(!1),l=Hn();k.useEffect(()=>{c();const{data:{subscription:u}}=u0.auth.onAuthStateChange((f,h)=>{f==="SIGNED_IN"?(d(h==null?void 0:h.user.id),r(!0),o(!1)):f==="SIGNED_OUT"&&(r(!1),a(!1),o(!0),l("/"))});return()=>{u.unsubscribe()}},[l]);const c=async()=>{try{const{data:{session:u}}=await u0.auth.getSession(),f=!!u;r(f),f?await d(u.user.id):o(!0)}catch(u){console.error("Error checking auth status:",u),r(!1),a(!1),o(!0)}},d=async u=>{try{const{data:f,error:h}=await u0.from("profiles").select("role").eq("id",u).single();if(h)throw h;const m=(f==null?void 0:f.role)==="Admin";a(m),m||(X.error("У вас нет доступа к панели управления"),l("/"))}catch(f){console.error("Error checking user role:",f),a(!1),X.error("Ошибка при проверке прав доступа"),l("/")}};return t===null||n===null?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs(i.Fragment,{children:[!t&&i.jsx(xb,{isOpen:s,onClose:()=>{o(!1),l("/")}}),t&&n?e:null]})},Dte=({children:e})=>{const[t,r]=k.useState(null),[n,a]=k.useState(!1),s=Xs();k.useEffect(()=>{o();const{data:{subscription:l}}=de.auth.onAuthStateChange((c,d)=>{c==="SIGNED_IN"?(r(!0),a(!1)):c==="SIGNED_OUT"&&r(!1)});return()=>{l.unsubscribe()}},[]);const o=async()=>{try{const{data:{session:l}}=await de.auth.getSession(),c=!!l;r(c),c||a(!0)}catch(l){console.error("Error checking auth status:",l),r(!1),a(!0)}};return t===null?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs(i.Fragment,{children:[!t&&i.jsx(xb,{isOpen:n,onClose:()=>a(!1)}),t?e:i.jsx(wI,{to:"/",state:{from:s},replace:!0})]})};var l_={};const Pte="react-tooltip-core-styles",Ote="react-tooltip-base-styles",c_={core:!1,base:!1};function d_({css:e,id:t=Ote,type:r="base",ref:n}){var a,s;if(!e||typeof document>"u"||c_[r]||r==="core"&&typeof process<"u"&&(!((a=process==null?void 0:l_)===null||a===void 0)&&a.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((s=process==null?void 0:l_)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(t=Pte),n||(n={});const{insertAt:o}=n;if(document.getElementById(t))return;const l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=t,c.type="text/css",o==="top"&&l.firstChild?l.insertBefore(c,l.firstChild):l.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e)),c_[r]=!0}const u_=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:n="top",offset:a=10,strategy:s="absolute",middlewares:o=[Eee(Number(a)),Dee({fallbackAxisSideDirection:"start"}),Tee({padding:5})],border:l,arrowSize:c=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const d=o;return r?(d.push(Pee({element:r,padding:5})),a_(e,t,{placement:n,strategy:s,middleware:d}).then(({x:u,y:f,placement:h,middlewareData:m})=>{var y,v;const b={left:`${u}px`,top:`${f}px`,border:l},{x:g,y:p}=(y=m.arrow)!==null&&y!==void 0?y:{x:0,y:0},x=(v={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&v!==void 0?v:"bottom",w=l&&{borderBottom:l,borderRight:l};let _=0;if(l){const S=`${l}`.match(/(\d+)px/);_=S!=null&&S[1]?Number(S[1]):1}return{tooltipStyles:b,tooltipArrowStyles:{left:g!=null?`${g}px`:"",top:p!=null?`${p}px`:"",right:"",bottom:"",...w,[x]:`-${c/2+_}px`},place:h}})):a_(e,t,{placement:"bottom",strategy:s,middleware:d}).then(({x:u,y:f,placement:h})=>({tooltipStyles:{left:`${u}px`,top:`${f}px`},tooltipArrowStyles:{},place:h}))},f_=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),h_=(e,t,r)=>{let n=null;const a=function(...s){const o=()=>{n=null};!n&&(e.apply(this,s),n=setTimeout(o,t))};return a.cancel=()=>{n&&(clearTimeout(n),n=null)},a},m_=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",dy=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((a,s)=>dy(a,t[s]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!m_(e)||!m_(t))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(a=>dy(e[a],t[a]))},Ite=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(r=>{const n=t.getPropertyValue(r);return n==="auto"||n==="scroll"})},p_=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Ite(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Mte=typeof window<"u"?k.useLayoutEffect:k.useEffect,ln=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Rte="DEFAULT_TOOLTIP_ID",Ate={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Lte=k.createContext({getTooltipData:()=>Ate});function zD(e=Rte){return k.useContext(Lte).getTooltipData(e)}var vo={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},f0={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const $te=({forwardRef:e,id:t,className:r,classNameArrow:n,variant:a="dark",anchorId:s,anchorSelect:o,place:l="top",offset:c=10,events:d=["hover"],openOnClick:u=!1,positionStrategy:f="absolute",middlewares:h,wrapper:m,delayShow:y=0,delayHide:v=0,float:b=!1,hidden:g=!1,noArrow:p=!1,clickable:x=!1,closeOnEsc:w=!1,closeOnScroll:_=!1,closeOnResize:S=!1,openEvents:E,closeEvents:O,globalCloseEvents:T,imperativeModeOnly:D,style:R,position:N,afterShow:C,afterHide:j,disableTooltip:I,content:B,contentWrapperRef:P,isOpen:A,defaultIsOpen:F=!1,setIsOpen:L,activeAnchor:$,setActiveAnchor:z,border:q,opacity:K,arrowColor:H,arrowSize:ee=8,role:ne="tooltip"})=>{var re;const ae=k.useRef(null),me=k.useRef(null),fe=k.useRef(null),De=k.useRef(null),ve=k.useRef(null),[M,J]=k.useState({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[G,W]=k.useState(!1),[U,V]=k.useState(!1),[Q,te]=k.useState(null),Y=k.useRef(!1),ie=k.useRef(null),{anchorRefs:he,setActiveAnchor:le}=zD(t),xe=k.useRef(!1),[Ae,Ee]=k.useState([]),Ct=k.useRef(!1),Zr=u||d.includes("click"),br=Zr||(E==null?void 0:E.click)||(E==null?void 0:E.dblclick)||(E==null?void 0:E.mousedown),en=E?{...E}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!E&&Zr&&Object.assign(en,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Ue=O?{...O}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!O&&Zr&&Object.assign(Ue,{mouseleave:!1,blur:!1,mouseout:!1});const Kt=T?{...T}:{escape:w||!1,scroll:_||!1,resize:S||!1,clickOutsideAnchor:br||!1};D&&(Object.assign(en,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Ue,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Kt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Mte(()=>(Ct.current=!0,()=>{Ct.current=!1}),[]);const at=pe=>{Ct.current&&(pe&&V(!0),setTimeout(()=>{Ct.current&&(L==null||L(pe),A===void 0&&W(pe))},10))};k.useEffect(()=>{if(A===void 0)return()=>null;A&&V(!0);const pe=setTimeout(()=>{W(A)},10);return()=>{clearTimeout(pe)}},[A]),k.useEffect(()=>{if(G!==Y.current)if(ln(ve),Y.current=G,G)C==null||C();else{const pe=(Ne=>{const Se=Ne.match(/^([\d.]+)(ms|s)$/);if(!Se)return 0;const[,Ot,Jt]=Se;return Number(Ot)*(Jt==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));ve.current=setTimeout(()=>{V(!1),te(null),j==null||j()},pe+25)}},[G]);const wr=pe=>{J(Ne=>dy(Ne,pe)?Ne:pe)},Xa=(pe=y)=>{ln(fe),U?at(!0):fe.current=setTimeout(()=>{at(!0)},pe)},Ka=(pe=v)=>{ln(De),De.current=setTimeout(()=>{xe.current||at(!1)},pe)},ti=pe=>{var Ne;if(!pe)return;const Se=(Ne=pe.currentTarget)!==null&&Ne!==void 0?Ne:pe.target;if(!(Se!=null&&Se.isConnected))return z(null),void le({current:null});y?Xa():at(!0),z(Se),le({current:Se}),ln(De)},Ja=()=>{x?Ka(v||100):v?Ka():at(!1),ln(fe)},ba=({x:pe,y:Ne})=>{var Se;const Ot={getBoundingClientRect:()=>({x:pe,y:Ne,width:0,height:0,top:Ne,left:pe,right:pe,bottom:Ne})};u_({place:(Se=Q==null?void 0:Q.place)!==null&&Se!==void 0?Se:l,offset:c,elementReference:Ot,tooltipReference:ae.current,tooltipArrowReference:me.current,strategy:f,middlewares:h,border:q,arrowSize:ee}).then(Jt=>{wr(Jt)})},tn=pe=>{if(!pe)return;const Ne=pe,Se={x:Ne.clientX,y:Ne.clientY};ba(Se),ie.current=Se},qn=pe=>{var Ne;if(!G)return;const Se=pe.target;Se.isConnected&&(!((Ne=ae.current)===null||Ne===void 0)&&Ne.contains(Se)||[document.querySelector(`[id='${s}']`),...Ae].some(Ot=>Ot==null?void 0:Ot.contains(Se))||(at(!1),ln(fe)))},xu=h_(ti,50),Rt=h_(Ja,50),rn=pe=>{Rt.cancel(),xu(pe)},ke=()=>{xu.cancel(),Rt()},$e=k.useCallback(()=>{var pe,Ne;const Se=(pe=Q==null?void 0:Q.position)!==null&&pe!==void 0?pe:N;Se?ba(Se):b?ie.current&&ba(ie.current):$!=null&&$.isConnected&&u_({place:(Ne=Q==null?void 0:Q.place)!==null&&Ne!==void 0?Ne:l,offset:c,elementReference:$,tooltipReference:ae.current,tooltipArrowReference:me.current,strategy:f,middlewares:h,border:q,arrowSize:ee}).then(Ot=>{Ct.current&&wr(Ot)})},[G,$,B,R,l,Q==null?void 0:Q.place,c,f,N,Q==null?void 0:Q.position,b,ee]);k.useEffect(()=>{var pe,Ne;const Se=new Set(he);Ae.forEach(We=>{I!=null&&I(We)||Se.add({current:We})});const Ot=document.querySelector(`[id='${s}']`);Ot&&!(I!=null&&I(Ot))&&Se.add({current:Ot});const Jt=()=>{at(!1)},Gn=p_($),Yn=p_(ae.current);Kt.scroll&&(window.addEventListener("scroll",Jt),Gn==null||Gn.addEventListener("scroll",Jt),Yn==null||Yn.addEventListener("scroll",Jt));let sr=null;Kt.resize?window.addEventListener("resize",Jt):$&&ae.current&&(sr=Cee($,ae.current,$e,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const nn=We=>{We.key==="Escape"&&at(!1)};Kt.escape&&window.addEventListener("keydown",nn),Kt.clickOutsideAnchor&&window.addEventListener("click",qn);const st=[],so=We=>!!(We!=null&&We.target&&($!=null&&$.contains(We.target))),e6=We=>{G&&so(We)||ti(We)},t6=We=>{G&&so(We)&&Ja()},Vw=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],qw=["click","dblclick","mousedown","mouseup"];Object.entries(en).forEach(([We,wa])=>{wa&&(Vw.includes(We)?st.push({event:We,listener:rn}):qw.includes(We)&&st.push({event:We,listener:e6}))}),Object.entries(Ue).forEach(([We,wa])=>{wa&&(Vw.includes(We)?st.push({event:We,listener:ke}):qw.includes(We)&&st.push({event:We,listener:t6}))}),b&&st.push({event:"pointermove",listener:tn});const Gw=()=>{xe.current=!0},Yw=()=>{xe.current=!1,Ja()},Xw=x&&(Ue.mouseout||Ue.mouseleave);return Xw&&((pe=ae.current)===null||pe===void 0||pe.addEventListener("mouseover",Gw),(Ne=ae.current)===null||Ne===void 0||Ne.addEventListener("mouseout",Yw)),st.forEach(({event:We,listener:wa})=>{Se.forEach(Np=>{var zl;(zl=Np.current)===null||zl===void 0||zl.addEventListener(We,wa)})}),()=>{var We,wa;Kt.scroll&&(window.removeEventListener("scroll",Jt),Gn==null||Gn.removeEventListener("scroll",Jt),Yn==null||Yn.removeEventListener("scroll",Jt)),Kt.resize?window.removeEventListener("resize",Jt):sr==null||sr(),Kt.clickOutsideAnchor&&window.removeEventListener("click",qn),Kt.escape&&window.removeEventListener("keydown",nn),Xw&&((We=ae.current)===null||We===void 0||We.removeEventListener("mouseover",Gw),(wa=ae.current)===null||wa===void 0||wa.removeEventListener("mouseout",Yw)),st.forEach(({event:Np,listener:zl})=>{Se.forEach(r6=>{var _p;(_p=r6.current)===null||_p===void 0||_p.removeEventListener(Np,zl)})})}},[$,$e,U,he,Ae,E,O,T,Zr,y,v]),k.useEffect(()=>{var pe,Ne;let Se=(Ne=(pe=Q==null?void 0:Q.anchorSelect)!==null&&pe!==void 0?pe:o)!==null&&Ne!==void 0?Ne:"";!Se&&t&&(Se=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const Ot=new MutationObserver(Jt=>{const Gn=[],Yn=[];Jt.forEach(sr=>{if(sr.type==="attributes"&&sr.attributeName==="data-tooltip-id"&&(sr.target.getAttribute("data-tooltip-id")===t?Gn.push(sr.target):sr.oldValue===t&&Yn.push(sr.target)),sr.type==="childList"){if($){const nn=[...sr.removedNodes].filter(st=>st.nodeType===1);if(Se)try{Yn.push(...nn.filter(st=>st.matches(Se))),Yn.push(...nn.flatMap(st=>[...st.querySelectorAll(Se)]))}catch{}nn.some(st=>{var so;return!!(!((so=st==null?void 0:st.contains)===null||so===void 0)&&so.call(st,$))&&(V(!1),at(!1),z(null),ln(fe),ln(De),!0)})}if(Se)try{const nn=[...sr.addedNodes].filter(st=>st.nodeType===1);Gn.push(...nn.filter(st=>st.matches(Se))),Gn.push(...nn.flatMap(st=>[...st.querySelectorAll(Se)]))}catch{}}}),(Gn.length||Yn.length)&&Ee(sr=>[...sr.filter(nn=>!Yn.includes(nn)),...Gn])});return Ot.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Ot.disconnect()}},[t,o,Q==null?void 0:Q.anchorSelect,$]),k.useEffect(()=>{$e()},[$e]),k.useEffect(()=>{if(!(P!=null&&P.current))return()=>null;const pe=new ResizeObserver(()=>{setTimeout(()=>$e())});return pe.observe(P.current),()=>{pe.disconnect()}},[B,P==null?void 0:P.current]),k.useEffect(()=>{var pe;const Ne=document.querySelector(`[id='${s}']`),Se=[...Ae,Ne];$&&Se.includes($)||z((pe=Ae[0])!==null&&pe!==void 0?pe:Ne)},[s,Ae,$]),k.useEffect(()=>(F&&at(!0),()=>{ln(fe),ln(De)}),[]),k.useEffect(()=>{var pe;let Ne=(pe=Q==null?void 0:Q.anchorSelect)!==null&&pe!==void 0?pe:o;if(!Ne&&t&&(Ne=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Ne)try{const Se=Array.from(document.querySelectorAll(Ne));Ee(Se)}catch{Ee([])}},[t,o,Q==null?void 0:Q.anchorSelect]),k.useEffect(()=>{fe.current&&(ln(fe),Xa(y))},[y]);const Ar=(re=Q==null?void 0:Q.content)!==null&&re!==void 0?re:B,ri=G&&Object.keys(M.tooltipStyles).length>0;return k.useImperativeHandle(e,()=>({open:pe=>{if(pe!=null&&pe.anchorSelect)try{document.querySelector(pe.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${pe.anchorSelect}" is not a valid CSS selector`)}te(pe??null),pe!=null&&pe.delay?Xa(pe.delay):at(!0)},close:pe=>{pe!=null&&pe.delay?Ka(pe.delay):at(!1)},activeAnchor:$,place:M.place,isOpen:!!(U&&!g&&Ar&&ri)})),U&&!g&&Ar?Z.createElement(m,{id:t,role:ne,className:dx("react-tooltip",vo.tooltip,f0.tooltip,f0[a],r,`react-tooltip__place-${M.place}`,vo[ri?"show":"closing"],ri?"react-tooltip__show":"react-tooltip__closing",f==="fixed"&&vo.fixed,x&&vo.clickable),onTransitionEnd:pe=>{ln(ve),G||pe.propertyName!=="opacity"||(V(!1),te(null),j==null||j())},style:{...R,...M.tooltipStyles,opacity:K!==void 0&&ri?K:void 0},ref:ae},Ar,Z.createElement(m,{className:dx("react-tooltip-arrow",vo.arrow,f0.arrow,n,p&&vo.noArrow),style:{...M.tooltipArrowStyles,background:H?`linear-gradient(to right bottom, transparent 50%, ${H} 50%)`:void 0,"--rt-arrow-size":`${ee}px`},ref:me})):null},zte=({content:e})=>Z.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Fte=Z.forwardRef(({id:e,anchorId:t,anchorSelect:r,content:n,html:a,render:s,className:o,classNameArrow:l,variant:c="dark",place:d="top",offset:u=10,wrapper:f="div",children:h=null,events:m=["hover"],openOnClick:y=!1,positionStrategy:v="absolute",middlewares:b,delayShow:g=0,delayHide:p=0,float:x=!1,hidden:w=!1,noArrow:_=!1,clickable:S=!1,closeOnEsc:E=!1,closeOnScroll:O=!1,closeOnResize:T=!1,openEvents:D,closeEvents:R,globalCloseEvents:N,imperativeModeOnly:C=!1,style:j,position:I,isOpen:B,defaultIsOpen:P=!1,disableStyleInjection:A=!1,border:F,opacity:L,arrowColor:$,arrowSize:z,setIsOpen:q,afterShow:K,afterHide:H,disableTooltip:ee,role:ne="tooltip"},re)=>{const[ae,me]=k.useState(n),[fe,De]=k.useState(a),[ve,M]=k.useState(d),[J,G]=k.useState(c),[W,U]=k.useState(u),[V,Q]=k.useState(g),[te,Y]=k.useState(p),[ie,he]=k.useState(x),[le,xe]=k.useState(w),[Ae,Ee]=k.useState(f),[Ct,Zr]=k.useState(m),[br,en]=k.useState(v),[Ue,Kt]=k.useState(null),[at,wr]=k.useState(null),Xa=k.useRef(A),{anchorRefs:Ka,activeAnchor:ti}=zD(e),Ja=Rt=>Rt==null?void 0:Rt.getAttributeNames().reduce((rn,ke)=>{var $e;return ke.startsWith("data-tooltip-")&&(rn[ke.replace(/^data-tooltip-/,"")]=($e=Rt==null?void 0:Rt.getAttribute(ke))!==null&&$e!==void 0?$e:null),rn},{}),ba=Rt=>{const rn={place:ke=>{var $e;M(($e=ke)!==null&&$e!==void 0?$e:d)},content:ke=>{me(ke??n)},html:ke=>{De(ke??a)},variant:ke=>{var $e;G(($e=ke)!==null&&$e!==void 0?$e:c)},offset:ke=>{U(ke===null?u:Number(ke))},wrapper:ke=>{var $e;Ee(($e=ke)!==null&&$e!==void 0?$e:f)},events:ke=>{const $e=ke==null?void 0:ke.split(" ");Zr($e??m)},"position-strategy":ke=>{var $e;en(($e=ke)!==null&&$e!==void 0?$e:v)},"delay-show":ke=>{Q(ke===null?g:Number(ke))},"delay-hide":ke=>{Y(ke===null?p:Number(ke))},float:ke=>{he(ke===null?x:ke==="true")},hidden:ke=>{xe(ke===null?w:ke==="true")},"class-name":ke=>{Kt(ke)}};Object.values(rn).forEach(ke=>ke(null)),Object.entries(Rt).forEach(([ke,$e])=>{var Ar;(Ar=rn[ke])===null||Ar===void 0||Ar.call(rn,$e)})};k.useEffect(()=>{me(n)},[n]),k.useEffect(()=>{De(a)},[a]),k.useEffect(()=>{M(d)},[d]),k.useEffect(()=>{G(c)},[c]),k.useEffect(()=>{U(u)},[u]),k.useEffect(()=>{Q(g)},[g]),k.useEffect(()=>{Y(p)},[p]),k.useEffect(()=>{he(x)},[x]),k.useEffect(()=>{xe(w)},[w]),k.useEffect(()=>{en(v)},[v]),k.useEffect(()=>{Xa.current!==A&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[A]),k.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:A==="core",disableBase:A}}))},[]),k.useEffect(()=>{var Rt;const rn=new Set(Ka);let ke=r;if(!ke&&e&&(ke=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),ke)try{document.querySelectorAll(ke).forEach(Ne=>{rn.add({current:Ne})})}catch{console.warn(`[react-tooltip] "${ke}" is not a valid CSS selector`)}const $e=document.querySelector(`[id='${t}']`);if($e&&rn.add({current:$e}),!rn.size)return()=>null;const Ar=(Rt=at??$e)!==null&&Rt!==void 0?Rt:ti.current,ri=new MutationObserver(Ne=>{Ne.forEach(Se=>{var Ot;if(!Ar||Se.type!=="attributes"||!(!((Ot=Se.attributeName)===null||Ot===void 0)&&Ot.startsWith("data-tooltip-")))return;const Jt=Ja(Ar);ba(Jt)})}),pe={attributes:!0,childList:!1,subtree:!1};if(Ar){const Ne=Ja(Ar);ba(Ne),ri.observe(Ar,pe)}return()=>{ri.disconnect()}},[Ka,ti,at,t,r]),k.useEffect(()=>{j!=null&&j.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),F&&!f_("border",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`border\`.`),j!=null&&j.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),L&&!f_("opacity",`${L}`)&&console.warn(`[react-tooltip] "${L}" is not a valid \`opacity\`.`)},[]);let tn=h;const qn=k.useRef(null);if(s){const Rt=s({content:(at==null?void 0:at.getAttribute("data-tooltip-content"))||ae||null,activeAnchor:at});tn=Rt?Z.createElement("div",{ref:qn,className:"react-tooltip-content-wrapper"},Rt):null}else ae&&(tn=ae);fe&&(tn=Z.createElement(zte,{content:fe}));const xu={forwardRef:re,id:e,anchorId:t,anchorSelect:r,className:dx(o,Ue),classNameArrow:l,content:tn,contentWrapperRef:qn,place:ve,variant:J,offset:W,wrapper:Ae,events:Ct,openOnClick:y,positionStrategy:br,middlewares:b,delayShow:V,delayHide:te,float:ie,hidden:le,noArrow:_,clickable:S,closeOnEsc:E,closeOnScroll:O,closeOnResize:T,openEvents:D,closeEvents:R,globalCloseEvents:N,imperativeModeOnly:C,style:j,position:I,isOpen:B,defaultIsOpen:P,border:F,opacity:L,arrowColor:$,arrowSize:z,setIsOpen:q,afterShow:K,afterHide:H,disableTooltip:ee,activeAnchor:at,setActiveAnchor:Rt=>wr(Rt),role:ne};return Z.createElement($te,{...xu})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||d_({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||d_({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const fc=wt("https://jfvinriqydjtwsmayxix.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmdmlucmlxeWRqdHdzbWF5eGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4NTgsImV4cCI6MjA2MzU5Nzg1OH0.KNXG-gdypUXVH3zRQkZDn5Az2ct4IvIb73izuER48X8"),Ta={start:9,end:23},Bte=["day","week","month"],wi={locale:gn,weekStartsOn:1},FD=()=>{const e=k.useCallback(s=>{if(s.includes(" ")&&s.includes("+")){const[o,l]=s.split(" "),[c,d]=l.split("+");let u;d==="00"?u="+00:00":d.length===2?u=`+${d}:00`:u=`+${d}`;const f=`${o}T${c}${u}`;return new Date(f)}return Ma(s)},[]),t=k.useCallback(s=>e(s).toLocaleString("sr-RS",{timeZone:"Europe/Belgrade",hour:"2-digit",minute:"2-digit",hour12:!1}),[e]),r=k.useCallback(s=>e(s).toLocaleDateString("sr-RS",{timeZone:"Europe/Belgrade",year:"numeric",month:"2-digit",day:"2-digit"}).split(".").reverse().join("-"),[e]),n=k.useCallback(s=>{const o=e(s),l=o.getFullYear(),c=(o.getMonth()+1).toString().padStart(2,"0"),d=o.getDate().toString().padStart(2,"0"),u=o.getHours().toString().padStart(2,"0"),f=o.getMinutes().toString().padStart(2,"0");return`${l}-${c}-${d}T${u}:${f}`},[e]),a=k.useCallback(s=>H$(e(s),new Date),[e]);return{parseTimestamp:e,formatSlotTime:t,getSlotDate:r,formatForInput:n,isSlotPast:a}},Ute=e=>k.useMemo(()=>e.reduce((t,r)=>{const n=Ve(new Date(r.start_at),"yyyy-MM-dd"),a=r.slot_details.title||"Без названия",s=`${n}-${a}`;return t[s]?t[s].slots.push(r):t[s]={...r,slots:[r]},t},{}),[e]),Wte=()=>k.useCallback((e,t)=>{const r=new Date(e),n=new Date(t),a=r.getHours()*60+r.getMinutes(),s=n.getHours()*60+n.getMinutes(),o=(a-Ta.start*60)/((Ta.end-Ta.start)*60)*100,l=(s-a)/((Ta.end-Ta.start)*60)*100;return{top:Math.max(0,o),height:Math.max(1,l)}},[]),Hte=(e,t,r)=>k.useMemo(()=>{const a=(()=>{switch(r){case"day":return{start:t,end:t};case"week":return{start:Sf(t,wi),end:_v(t,wi)};case"month":return{start:vd(t),end:yb(t)}}})(),s=a.start.toISOString(),o=new Date(a.end.getTime()+24*60*60*1e3-1).toISOString();return e.filter(l=>l.start_at>=s&&l.start_at<=o)},[e,t,r]),Vte=(e,t,r=!1)=>{if(r)return"bg-gray-100 dark:bg-gray-800 border-l-4 border-gray-400 opacity-60";if(t==="draft")return"bg-gray-50 dark:bg-gray-700/50 border-l-4 border-gray-300 opacity-80";switch(e){case"event":return"bg-green-50 dark:bg-green-900/30 border-l-4 border-green-500";case"rent":return"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-500";default:return"bg-gray-50 dark:bg-gray-700 border-l-4 border-gray-300"}},Of=e=>{const t=[];for(let r=Ta.start;r<Ta.end;r++)t.push({time:d8(c8(e,r),0),label:`${r}:00`});return t},h0=({slot:e,groupedSlot:t,onEdit:r,onDelete:n,style:a,className:s=""})=>{const{formatSlotTime:o,isSlotPast:l}=FD(),c=l(e.end_at),d=(t==null?void 0:t.slots[0])||e,u=(t==null?void 0:t.slots[(t==null?void 0:t.slots.length)-1])||e,f=`
    ${e.slot_details.title||"Слот"}
    Время: ${o(d.start_at)}-${o(u.end_at)}
    ${e.slot_details.description||""}
    ${e.slot_details.user_name?`Клиент: ${e.slot_details.user_name}`:""}
    ${e.slot_details.status==="draft"?"Статус: Черновик":""}
    ${c?"Прошедшее мероприятие":""}
  `;return i.jsxs("div",{"data-tooltip-id":`tooltip-${e.id}`,"data-tooltip-content":f,className:`rounded cursor-pointer ${Vte(e.slot_details.type,e.slot_details.status,c)} ${s}`,style:a,onClick:h=>{h.stopPropagation(),e.slot_details.type==="rent"&&r(e)},children:[i.jsxs("div",{className:"font-medium truncate",children:[o(d.start_at)," ",e.slot_details.title&&`- ${e.slot_details.title}`,e.slot_details.status==="draft"&&i.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(черновик)"}),c&&i.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(прошло)"})]}),e.slot_details.description&&i.jsx("div",{className:"text-xs truncate opacity-75",children:e.slot_details.description}),e.slot_details.type!=="event"&&!c&&i.jsx("button",{onClick:h=>{h.stopPropagation(),n(e.id,e.slot_details.type)},className:"absolute bottom-1 right-1 text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Удалить"}),i.jsx(Fte,{id:`tooltip-${e.id}`,className:"z-50 whitespace-pre-line",style:{zIndex:9999}})]})},qte=({children:e})=>i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"w-16 flex-shrink-0 pr-2 text-right text-xs text-gray-500 dark:text-gray-400 pt-1",children:Of(new Date).map((t,r)=>i.jsx("div",{className:"h-12 flex items-center justify-end",children:t.label},r))}),i.jsx("div",{className:"flex-1 relative",children:e})]}),Gte=()=>{var T,D,R,N;const[e,t]=k.useState(new Date),[r,n]=k.useState("week"),[a,s]=k.useState([]),[o,l]=k.useState(!0),[c,d]=k.useState({isOpen:!1,mode:"create",data:null}),{parseTimestamp:u,formatSlotTime:f,formatForInput:h}=FD(),m=Hte(a,e,r),y=Ute(m),v=Wte(),b=k.useCallback(async()=>{try{l(!0);const{data:C,error:j}=await fc.from("time_slots_table").select("*").order("start_at",{ascending:!0});if(j)throw j;s(C||[])}catch(C){console.error("Error fetching time slots:",C),X.error("Ошибка загрузки слотов")}finally{l(!1)}},[]);k.useEffect(()=>{b()},[b]);const g=k.useCallback(C=>{t({day:Lc,week:FL,month:Nv}[r](e,C==="prev"?-1:1))},[e,r]),p=k.useCallback((C,j)=>{const I=new Date(C);I.setHours(j,0,0,0);const B=new Date(I);B.setHours(j+1,0,0,0),d({isOpen:!0,mode:"create",data:{id:"",start_at:I.toISOString(),end_at:B.toISOString(),slot_details:{type:"rent",title:"",booked:!1}}})},[]),x=k.useCallback(C=>{d({isOpen:!0,mode:"edit",data:C})},[]),w=k.useCallback(async()=>{if(c.data)try{const{start_at:C,end_at:j,slot_details:I}=c.data;if(!C||!j){X.error("Заполните все обязательные поля");return}if(new Date(j)<=new Date(C)){X.error("Время окончания должно быть позже времени начала");return}const{data:B,error:P}=await fc.from("time_slots_table").select("*").or(`and(start_at.lte.${j},end_at.gte.${C})`).neq("id",c.mode==="edit"?c.data.id:"");if(P)throw P;if(B&&B.length>0){const A=B.map(F=>{var q,K;const L=((q=F.slot_details)==null?void 0:q.type)==="event"?"Мероприятие":"Аренда",$=((K=F.slot_details)==null?void 0:K.title)||"Без названия",z=`${f(F.start_at)}-${f(F.end_at)}`;return`• ${L}: ${$} (${z})`}).join(`
`);X.error(`Время пересекается с:
${A}`,{duration:8e3});return}if(c.mode==="edit"){const{error:A}=await fc.from("time_slots_table").update({start_at:C,end_at:j,slot_details:I}).eq("id",c.data.id);if(A)throw A;X.success("Слот обновлен")}else{const{error:A}=await fc.from("time_slots_table").insert([{start_at:C,end_at:j,slot_details:{...I,type:"rent"}}]);if(A)throw A;X.success("Слот создан")}d({isOpen:!1,mode:"create",data:null}),b()}catch(C){console.error("Error saving time slot:",C),X.error("Ошибка сохранения слота")}},[c,f,b]),_=k.useCallback(async(C,j)=>{if(j==="event"){X.error("Мероприятия удаляются через страницу управления мероприятиями");return}if(window.confirm("Удалить слот?"))try{const{error:I}=await fc.from("time_slots_table").delete().eq("id",C);if(I)throw I;X.success("Слот удален"),b()}catch(I){console.error("Error deleting time slot:",I),X.error("Ошибка удаления слота")}},[b]),S=()=>{const C=vd(e),j=yb(e),I=Sf(C,wi),B=_v(j,wi),P=Cf({start:I,end:B});return i.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Cf({start:I,end:Lc(I,6)}).map(A=>i.jsx("div",{className:"text-center py-2 text-sm font-medium text-gray-500 dark:text-gray-400",children:Ve(A,"EEEEEE",{locale:gn})},A.toString())),P.map(A=>{const F=m.filter(z=>$c(u(z.start_at),A)),L=ME(A,e),$=Jl(A);return i.jsxs("div",{onClick:()=>{t(A),n("day")},className:`min-h-24 p-1.5 border rounded-md flex flex-col cursor-pointer ${L?$?"bg-primary/5 border-primary":"bg-white dark:bg-dark-800 border-gray-200 dark:border-dark-600":"bg-gray-50 dark:bg-dark-700 opacity-50"}`,children:[i.jsx("div",{className:`text-sm font-medium mb-1 self-end px-1 rounded-full ${$?"bg-primary text-white px-2":""}`,children:Ve(A,"d")}),i.jsx("div",{className:"flex-1 overflow-y-auto space-y-1",children:F.map(z=>i.jsx(h0,{slot:z,onEdit:x,onDelete:_,className:"text-xs p-1"},z.id))})]},A.toString())})]})},E=()=>{const C=Sf(e,wi),j=Cf({start:C,end:Lc(C,6)});return i.jsxs("div",{className:"grid grid-cols-8 gap-1",children:[i.jsx("div",{className:"row-span-25 pt-8 pr-2 text-right text-xs text-gray-500 dark:text-gray-400",children:Of(e).map((I,B)=>i.jsx("div",{className:"h-12 flex items-center justify-end",children:I.label},B))}),j.map(I=>{const B=Ve(I,"yyyy-MM-dd"),P=Object.values(y).filter(A=>Ve(u(A.start_at),"yyyy-MM-dd")===B);return i.jsxs("div",{className:`col-span-1 ${Jl(I)?"bg-primary/5":"bg-white dark:bg-dark-800"}`,children:[i.jsxs("div",{className:`text-center py-2 border-b ${Jl(I)?"border-primary":"border-gray-200 dark:border-dark-600"}`,children:[i.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:Ve(I,"EEEEEE",{locale:gn})}),i.jsx("div",{className:`text-lg font-semibold ${Jl(I)?"text-primary":""}`,children:Ve(I,"d")})]}),i.jsxs("div",{className:"relative",children:[Of(I).map((A,F)=>i.jsx("div",{className:"h-12 border-b border-gray-100 dark:border-dark-700 relative hover:bg-gray-50 dark:hover:bg-dark-700 cursor-pointer",onClick:()=>p(I,Ta.start+F)},F)),P.map((A,F)=>{const L=A.slots[0],$=A.slots[A.slots.length-1],{top:z,height:q}=v(L.start_at,$.end_at);return i.jsx(h0,{slot:A,groupedSlot:A,onEdit:x,onDelete:_,className:"absolute left-0 right-0 mx-1 p-1 text-xs overflow-hidden",style:{top:`${z}%`,height:`${q}%`,zIndex:10+F}},F)})]})]},I.toString())})]})},O=()=>{const C=Ve(e,"yyyy-MM-dd"),j=Object.values(y).filter(I=>Ve(u(I.start_at),"yyyy-MM-dd")===C);return i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 overflow-hidden",children:[i.jsx("h2",{className:"text-xl font-semibold p-6 pb-4",children:Ve(e,"EEEE, d MMMM yyyy",{locale:gn})}),i.jsxs(qte,{children:[Of(e).map((I,B)=>i.jsx("div",{className:"h-12 border-b border-gray-100 dark:border-dark-700 relative hover:bg-gray-50 dark:hover:bg-dark-700 cursor-pointer",onClick:()=>p(e,Ta.start+B),children:Jl(e)&&new Date().getHours()===I.time.getHours()&&i.jsx("div",{className:"absolute left-0 right-0 h-0.5 bg-red-500 z-20",style:{top:`${new Date().getMinutes()/60*100}%`},children:i.jsx("div",{className:"absolute -top-1.5 -left-1 w-3 h-3 rounded-full bg-red-500"})})},B)),j.map((I,B)=>{const P=I.slots[0],A=I.slots[I.slots.length-1],{top:F,height:L}=v(P.start_at,A.end_at);return i.jsx(h0,{slot:I,groupedSlot:I,onEdit:x,onDelete:_,className:"absolute left-2 right-2 p-2 text-sm shadow-sm",style:{top:`${F}%`,height:`${L}%`,zIndex:10+B}},B)})]})]})};return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900",children:[i.jsxs("div",{className:"container py-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Календарь слотов"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>g("prev"),className:"p-2 rounded-md bg-white dark:bg-dark-700 border border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-600",children:i.jsx(Ld,{className:"w-5 h-5"})}),i.jsxs("div",{className:"text-lg font-medium min-w-[200px] text-center text-gray-800 dark:text-gray-200",children:[r==="month"&&Ve(e,"MMMM yyyy",{locale:gn}),r==="week"&&`${Ve(Sf(e,wi),"d MMM")} - ${Ve(_v(e,wi),"d MMM yyyy")}`,r==="day"&&Ve(e,"d MMMM yyyy",{locale:gn})]}),i.jsx("button",{onClick:()=>g("next"),className:"p-2 rounded-md bg-white dark:bg-dark-700 border border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-600",children:i.jsx($d,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"flex rounded-md shadow-sm border border-gray-200 dark:border-dark-600 overflow-hidden bg-white dark:bg-dark-700",children:Bte.map(C=>i.jsxs("button",{onClick:()=>n(C),className:`px-3 py-2 text-sm flex items-center gap-1 transition-colors ${r===C?"bg-primary text-white":"hover:bg-gray-50 dark:hover:bg-dark-600"}`,children:[C==="day"&&i.jsx(_e,{className:"w-4 h-4"}),C==="week"&&i.jsx(db,{className:"w-4 h-4"}),C==="month"&&i.jsx(KC,{className:"w-4 h-4"}),C==="day"&&"День",C==="week"&&"Неделя",C==="month"&&"Месяц"]},C))}),i.jsxs("button",{onClick:()=>p(e,10),className:"p-2 rounded-md bg-green-600 text-white hover:bg-green-700 transition-colors flex items-center gap-1",children:[i.jsx(Nn,{className:"w-5 h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Создать"})]})]})]}),i.jsx("div",{className:"flex items-center gap-4 mb-2 text-sm text-gray-600 dark:text-gray-400",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"🕐"}),i.jsx("span",{children:"Время отображается по Белграду (Europe/Belgrade)"})]})}),i.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-green-200 border-l-4 border-green-500 rounded-sm"}),i.jsx("span",{children:"Мероприятия"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-200 border-l-4 border-blue-500 rounded-sm"}),i.jsx("span",{children:"Аренда"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-gray-100 border-l-4 border-gray-300 rounded-sm"}),i.jsx("span",{children:"Черновики"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-gray-200 border-l-4 border-gray-400 rounded-sm opacity-60"}),i.jsx("span",{children:"Прошедшие"})]})]}),o?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-sm border border-gray-200 dark:border-dark-600 overflow-hidden",children:[r==="month"&&S(),r==="week"&&E(),r==="day"&&O()]})]}),c.isOpen&&c.data&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-white",children:c.mode==="edit"?"Редактировать слот":"Создать новый слот"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Дата и время начала"}),i.jsx("input",{type:"datetime-local",value:c.data.start_at?h(c.data.start_at):"",onChange:C=>{if(C.target.value){const j=new Date(C.target.value).toISOString();d(I=>({...I,data:I.data?{...I.data,start_at:j,end_at:!I.data.end_at||new Date(I.data.end_at)<=new Date(j)?new Date(new Date(j).getTime()+60*60*1e3).toISOString():I.data.end_at}:null}))}},className:"w-full p-2 border rounded-md dark:bg-dark-700 border-gray-300 dark:border-dark-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Дата и время окончания"}),i.jsx("input",{type:"datetime-local",value:c.data.end_at?h(c.data.end_at):"",onChange:C=>{C.target.value&&d(j=>({...j,data:j.data?{...j.data,end_at:new Date(C.target.value).toISOString()}:null}))},className:"w-full p-2 border rounded-md dark:bg-dark-700 border-gray-300 dark:border-dark-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Название"}),i.jsx("input",{type:"text",value:((T=c.data.slot_details)==null?void 0:T.title)||"",onChange:C=>d(j=>({...j,data:j.data?{...j.data,slot_details:{...j.data.slot_details,title:C.target.value}}:null})),className:"w-full p-2 border rounded-md dark:bg-dark-700 border-gray-300 dark:border-dark-600",placeholder:"Название аренды"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Описание"}),i.jsx("textarea",{value:((D=c.data.slot_details)==null?void 0:D.description)||"",onChange:C=>d(j=>({...j,data:j.data?{...j.data,slot_details:{...j.data.slot_details,description:C.target.value}}:null})),className:"w-full p-2 border rounded-md dark:bg-dark-700 border-gray-300 dark:border-dark-600",rows:3,placeholder:"Дополнительная информация"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Статус"}),i.jsxs("select",{value:((R=c.data.slot_details)==null?void 0:R.status)||"published",onChange:C=>d(j=>({...j,data:j.data?{...j.data,slot_details:{...j.data.slot_details,status:C.target.value}}:null})),className:"w-full p-2 border rounded-md dark:bg-dark-700 border-gray-300 dark:border-dark-600",children:[i.jsx("option",{value:"published",children:"Опубликован"}),i.jsx("option",{value:"draft",children:"Черновик"}),i.jsx("option",{value:"cancelled",children:"Отменен"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"booked",checked:((N=c.data.slot_details)==null?void 0:N.booked)||!1,onChange:C=>d(j=>({...j,data:j.data?{...j.data,slot_details:{...j.data.slot_details,booked:C.target.checked}}:null})),className:"mr-2"}),i.jsx("label",{htmlFor:"booked",className:"text-sm text-gray-700 dark:text-gray-300",children:"Забронировано"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx("button",{onClick:()=>d({isOpen:!1,mode:"create",data:null}),className:"px-4 py-2 border rounded-md border-gray-300 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:"Отмена"}),i.jsx("button",{onClick:w,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors",children:c.mode==="edit"?"Сохранить":"Создать"})]})]})})]})};var kp={},BD={L:1,M:0,Q:3,H:2},UD={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Yte=UD;function WD(e){this.mode=Yte.MODE_8BIT_BYTE,this.data=e}WD.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var Xte=WD,uf=BD;function ra(e,t){this.totalCount=e,this.dataCount=t}ra.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ra.getRSBlocks=function(e,t){var r=ra.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,a=new Array,s=0;s<n;s++)for(var o=r[s*3+0],l=r[s*3+1],c=r[s*3+2],d=0;d<o;d++)a.push(new ra(l,c));return a};ra.getRsBlockTable=function(e,t){switch(t){case uf.L:return ra.RS_BLOCK_TABLE[(e-1)*4+0];case uf.M:return ra.RS_BLOCK_TABLE[(e-1)*4+1];case uf.Q:return ra.RS_BLOCK_TABLE[(e-1)*4+2];case uf.H:return ra.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var Kte=ra;function HD(){this.buffer=new Array,this.length=0}HD.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Jte=HD,Rn={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Rn.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Rn.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var qt=0;qt<8;qt++)Rn.EXP_TABLE[qt]=1<<qt;for(var qt=8;qt<256;qt++)Rn.EXP_TABLE[qt]=Rn.EXP_TABLE[qt-4]^Rn.EXP_TABLE[qt-5]^Rn.EXP_TABLE[qt-6]^Rn.EXP_TABLE[qt-8];for(var qt=0;qt<255;qt++)Rn.LOG_TABLE[Rn.EXP_TABLE[qt]]=qt;var VD=Rn,li=VD;function If(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}If.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=li.gexp(li.glog(this.get(r))+li.glog(e.get(n)));return new If(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=li.glog(this.get(0))-li.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=li.gexp(li.glog(e.get(n))+t);return new If(r,0).mod(e)}};var qD=If,cn=UD,g_=qD,Qte=VD,ts={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ht={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ht.getBCHDigit(t)-Ht.getBCHDigit(Ht.G15)>=0;)t^=Ht.G15<<Ht.getBCHDigit(t)-Ht.getBCHDigit(Ht.G15);return(e<<10|t)^Ht.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ht.getBCHDigit(t)-Ht.getBCHDigit(Ht.G18)>=0;)t^=Ht.G18<<Ht.getBCHDigit(t)-Ht.getBCHDigit(Ht.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ht.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case ts.PATTERN000:return(t+r)%2==0;case ts.PATTERN001:return t%2==0;case ts.PATTERN010:return r%3==0;case ts.PATTERN011:return(t+r)%3==0;case ts.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case ts.PATTERN101:return t*r%2+t*r%3==0;case ts.PATTERN110:return(t*r%2+t*r%3)%2==0;case ts.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new g_([1],0),r=0;r<e;r++)t=t.multiply(new g_([1,Qte.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case cn.MODE_NUMBER:return 10;case cn.MODE_ALPHA_NUM:return 9;case cn.MODE_8BIT_BYTE:return 8;case cn.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case cn.MODE_NUMBER:return 12;case cn.MODE_ALPHA_NUM:return 11;case cn.MODE_8BIT_BYTE:return 16;case cn.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case cn.MODE_NUMBER:return 14;case cn.MODE_ALPHA_NUM:return 13;case cn.MODE_8BIT_BYTE:return 16;case cn.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var a=0;a<t;a++){for(var s=0,o=e.isDark(n,a),l=-1;l<=1;l++)if(!(n+l<0||t<=n+l))for(var c=-1;c<=1;c++)a+c<0||t<=a+c||l==0&&c==0||o==e.isDark(n+l,a+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<t-1;n++)for(var a=0;a<t-1;a++){var d=0;e.isDark(n,a)&&d++,e.isDark(n+1,a)&&d++,e.isDark(n,a+1)&&d++,e.isDark(n+1,a+1)&&d++,(d==0||d==4)&&(r+=3)}for(var n=0;n<t;n++)for(var a=0;a<t-6;a++)e.isDark(n,a)&&!e.isDark(n,a+1)&&e.isDark(n,a+2)&&e.isDark(n,a+3)&&e.isDark(n,a+4)&&!e.isDark(n,a+5)&&e.isDark(n,a+6)&&(r+=40);for(var a=0;a<t;a++)for(var n=0;n<t-6;n++)e.isDark(n,a)&&!e.isDark(n+1,a)&&e.isDark(n+2,a)&&e.isDark(n+3,a)&&e.isDark(n+4,a)&&!e.isDark(n+5,a)&&e.isDark(n+6,a)&&(r+=40);for(var u=0,a=0;a<t;a++)for(var n=0;n<t;n++)e.isDark(n,a)&&u++;var f=Math.abs(100*u/t/t-50)/5;return r+=f*10,r}},Zte=Ht,ere=Xte,GD=Kte,YD=Jte,ei=Zte,tre=qD;function na(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Qr=na.prototype;Qr.addData=function(e){var t=new ere(e);this.dataList.push(t),this.dataCache=null};Qr.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Qr.getModuleCount=function(){return this.moduleCount};Qr.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=GD.getRSBlocks(e,this.errorCorrectLevel),r=new YD,n=0,a=0;a<t.length;a++)n+=t[a].dataCount;for(var a=0;a<this.dataList.length;a++){var s=this.dataList[a];r.put(s.mode,4),r.put(s.getLength(),ei.getLengthInBits(s.mode,e)),s.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Qr.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=na.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Qr.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)};Qr.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ei.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t};Qr.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r),a=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*a,l=0;l<this.modules[s].length;l++){var c=l*a,d=this.modules[s][l];d&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+a,o),n.lineTo(c+a,o+a),n.lineTo(c,o+a),n.endFill())}return n};Qr.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Qr.setupPositionAdjustPattern=function(){for(var e=ei.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],a=e[r];if(this.modules[n][a]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][a+o]=!0:this.modules[n+s][a+o]=!1}};Qr.setupTypeNumber=function(e){for(var t=ei.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};Qr.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=ei.getBCHTypeInfo(r),a=0;a<15;a++){var s=!e&&(n>>a&1)==1;a<6?this.modules[a][8]=s:a<8?this.modules[a+1][8]=s:this.modules[this.moduleCount-15+a][8]=s}for(var a=0;a<15;a++){var s=!e&&(n>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=s:a<9?this.modules[8][15-a-1+1]=s:this.modules[8][15-a-1]=s}this.modules[this.moduleCount-8][8]=!e};Qr.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,a=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var l=0;l<2;l++)if(this.modules[n][o-l]==null){var c=!1;s<e.length&&(c=(e[s]>>>a&1)==1);var d=ei.getMask(t,n,o-l);d&&(c=!c),this.modules[n][o-l]=c,a--,a==-1&&(s++,a=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};na.PAD0=236;na.PAD1=17;na.createData=function(e,t,r){for(var n=GD.getRSBlocks(e,t),a=new YD,s=0;s<r.length;s++){var o=r[s];a.put(o.mode,4),a.put(o.getLength(),ei.getLengthInBits(o.mode,e)),o.write(a)}for(var l=0,s=0;s<n.length;s++)l+=n[s].dataCount;if(a.getLengthInBits()>l*8)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+l*8+")");for(a.getLengthInBits()+4<=l*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=l*8||(a.put(na.PAD0,8),a.getLengthInBits()>=l*8));)a.put(na.PAD1,8);return na.createBytes(a,n)};na.createBytes=function(e,t){for(var r=0,n=0,a=0,s=new Array(t.length),o=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,d=t[l].totalCount-c;n=Math.max(n,c),a=Math.max(a,d),s[l]=new Array(c);for(var u=0;u<s[l].length;u++)s[l][u]=255&e.buffer[u+r];r+=c;var f=ei.getErrorCorrectPolynomial(d),h=new tre(s[l],f.getLength()-1),m=h.mod(f);o[l]=new Array(f.getLength()-1);for(var u=0;u<o[l].length;u++){var y=u+m.getLength()-o[l].length;o[l][u]=y>=0?m.get(y):0}}for(var v=0,u=0;u<t.length;u++)v+=t[u].totalCount;for(var b=new Array(v),g=0,u=0;u<n;u++)for(var l=0;l<t.length;l++)u<s[l].length&&(b[g++]=s[l][u]);for(var u=0;u<a;u++)for(var l=0;l<t.length;l++)u<o[l].length&&(b[g++]=o[l][u]);return b};var rre=na,Uw={};Object.defineProperty(Uw,"__esModule",{value:!0});var nre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},are=DT,dn=KD(are),XD=k,ff=KD(XD);function KD(e){return e&&e.__esModule?e:{default:e}}function sre(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var ire={bgColor:dn.default.oneOfType([dn.default.object,dn.default.string]).isRequired,bgD:dn.default.string.isRequired,fgColor:dn.default.oneOfType([dn.default.object,dn.default.string]).isRequired,fgD:dn.default.string.isRequired,size:dn.default.number.isRequired,title:dn.default.string,viewBoxSize:dn.default.number.isRequired,xmlns:dn.default.string},Ww=(0,XD.forwardRef)(function(e,t){var r=e.bgColor,n=e.bgD,a=e.fgD,s=e.fgColor,o=e.size,l=e.title,c=e.viewBoxSize,d=e.xmlns,u=d===void 0?"http://www.w3.org/2000/svg":d,f=sre(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return ff.default.createElement("svg",nre({},f,{height:o,ref:t,viewBox:"0 0 "+c+" "+c,width:o,xmlns:u}),l?ff.default.createElement("title",null,l):null,ff.default.createElement("path",{d:n,fill:r}),ff.default.createElement("path",{d:a,fill:s}))});Ww.displayName="QRCodeSvg";Ww.propTypes=ire;Uw.default=Ww;Object.defineProperty(kp,"__esModule",{value:!0});kp.QRCode=void 0;var ore=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lre=DT,ja=vu(lre),cre=BD,dre=vu(cre),ure=rre,fre=vu(ure),JD=k,hre=vu(JD),mre=Uw,pre=vu(mre);function vu(e){return e&&e.__esModule?e:{default:e}}function gre(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var vre={bgColor:ja.default.oneOfType([ja.default.object,ja.default.string]),fgColor:ja.default.oneOfType([ja.default.object,ja.default.string]),level:ja.default.string,size:ja.default.number,value:ja.default.string.isRequired},jp=(0,JD.forwardRef)(function(e,t){var r=e.bgColor,n=r===void 0?"#FFFFFF":r,a=e.fgColor,s=a===void 0?"#000000":a,o=e.level,l=o===void 0?"L":o,c=e.size,d=c===void 0?256:c,u=e.value,f=gre(e,["bgColor","fgColor","level","size","value"]),h=new fre.default(-1,dre.default[l]);h.addData(u),h.make();var m=h.modules;return hre.default.createElement(pre.default,ore({},f,{bgColor:n,bgD:m.map(function(y,v){return y.map(function(b,g){return b?"":"M "+g+" "+v+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:s,fgD:m.map(function(y,v){return y.map(function(b,g){return b?"M "+g+" "+v+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:d,viewBoxSize:m.length}))});kp.QRCode=jp;jp.displayName="QRCode";jp.propTypes=vre;var Hw=kp.default=jp;const xre=()=>{var u,f,h;const[e,t]=k.useState([]),[r,n]=k.useState(0),[a,s]=k.useState(!0);k.useEffect(()=>{const m=async()=>{s(!0),new Date().toISOString();try{const{data:b,error:g}=await de.from("events").select("*").eq("status","active");if(g)throw g;const p=await Promise.all(b.map(async x=>{if(x.speakers&&x.speakers.length>0){const{data:w,error:_}=await de.from("speakers").select("*").in("id",x.speakers);if(!_)return{...x,speakerDetails:w}}return x}));t(p),s(!1)}catch(b){console.error("Error fetching events:",b),s(!1)}};m();const y=setInterval(m,60*60*1e3),v=setInterval(()=>{n(b=>(b+1)%Math.max(1,e.length))},1e4);return()=>{clearInterval(y),clearInterval(v)}},[e.length]);const o=m=>{n(m)};if(a)return i.jsx("div",{className:"loading",children:"Loading events..."});if(e.length===0)return i.jsx("div",{className:"no-events",children:"No active events at this time."});const l=e[r],c=`${window.location.origin}/event/${l.id}`,d=(u=l.speakerDetails)==null?void 0:u[0];return i.jsxs("div",{className:"posters-container",children:[i.jsxs("div",{className:"poster-slide",children:[i.jsx("div",{className:"poster-bg-image",style:{backgroundImage:`url(${bt(l.bg_image)})`,height:"50vh"},children:i.jsx("h1",{className:"poster-title",children:l.title})}),i.jsx("p",{className:"poster-description",children:l.short_description}),d&&i.jsxs("div",{className:"speaker-block",children:[i.jsx("div",{className:"speaker-photo-container",children:i.jsx("div",{className:"hexagon",children:i.jsx("div",{className:"hexagon-inner",style:{backgroundImage:`url(${bt(((h=(f=d.photos)==null?void 0:f[0])==null?void 0:h.url)||"")})`}})})}),i.jsx("div",{className:"speaker-info",children:i.jsx("h3",{className:"speaker-name",children:d.name})})]}),i.jsxs("div",{className:"qr-container",children:[i.jsx(Hw,{value:c,size:128,bgColor:"#ffffff",fgColor:"#000000"}),i.jsx("p",{className:"qr-text",children:"Scan to learn more"})]}),i.jsxs("div",{className:"event-time",children:[i.jsx("p",{className:"event-date",children:l.date}),i.jsxs("p",{className:"event-hours",children:[new Date(l.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," -",new Date(l.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),i.jsx("div",{className:"slide-indicators",children:e.map((m,y)=>i.jsx("button",{className:`indicator ${y===r?"active":""}`,onClick:()=>o(y),"aria-label":`Go to slide ${y+1}`},y))})]})},yre=()=>{const[e,t]=k.useState("loading"),[r,n]=k.useState("Проверка аутентификации..."),a=Hn();return k.useEffect(()=>{(async()=>{try{const{error:o}=await de.auth.getSession();if(o)throw o;t("success"),n("Аутентификация успешна! Перенаправление..."),setTimeout(()=>{a("/")},2e3)}catch(o){console.error("Error during auth callback:",o),t("error"),n("Произошла ошибка при аутентификации. Пожалуйста, попробуйте снова.")}})()},[a]),i.jsx(ut,{children:i.jsx("div",{className:"min-h-[70vh] flex items-center justify-center",children:i.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-dark-800 rounded-lg shadow-lg text-center",children:[e==="loading"&&i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e==="success"&&i.jsx(ll,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e==="error"&&i.jsx(cR,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold mb-4",children:e==="loading"?"Подождите...":e==="success"?"Успешно!":"Ошибка"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:r}),e==="error"&&i.jsx("button",{onClick:()=>a("/"),className:"btn-primary",children:"Вернуться на главную"})]})})})},bre=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),[a,s]=k.useState(!1),[o,l]=k.useState(null),[c,d]=k.useState(!1),u=Hn();k.useEffect(()=>{const h=window.location.hash;(!h||!h.includes("type=recovery"))&&l("Недействительная или истекшая ссылка для сброса пароля")},[]);const f=async h=>{if(h.preventDefault(),e!==r){l("Пароли не совпадают");return}if(e.length<6){l("Пароль должен содержать не менее 6 символов");return}s(!0),l(null);try{const{error:m}=await de.auth.updateUser({password:e});if(m)throw m;d(!0),setTimeout(()=>{u("/")},3e3)}catch(m){console.error("Error resetting password:",m),l(m.message||"Ошибка при сбросе пароля")}finally{s(!1)}};return i.jsx(ut,{children:i.jsx("div",{className:"min-h-[70vh] flex items-center justify-center",children:i.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-dark-800 rounded-lg shadow-lg",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Сброс пароля"}),o&&i.jsxs("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg text-sm flex items-start",children:[i.jsx(hd,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsx("span",{children:o})]}),c?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ll,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Пароль успешно изменен!"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Вы будете перенаправлены на главную страницу через несколько секунд."}),i.jsx("button",{onClick:()=>u("/"),className:"btn-primary",children:"Вернуться на главную"})]}):i.jsxs("form",{onSubmit:f,className:"space-y-6",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"password",className:"block font-medium mb-2",children:"Новый пароль"}),i.jsxs("div",{className:"relative",children:[i.jsx(hv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"password",id:"password",value:e,onChange:h=>t(h.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 dark:bg-dark-800",required:!0,minLength:6})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block font-medium mb-2",children:"Подтвердите пароль"}),i.jsxs("div",{className:"relative",children:[i.jsx(hv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"password",id:"confirmPassword",value:r,onChange:h=>n(h.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 dark:border-dark-600 dark:bg-dark-800",required:!0,minLength:6})]})]}),i.jsx("button",{type:"submit",disabled:a,className:"w-full btn-primary py-2",children:a?"Сохранение...":"Сохранить новый пароль"})]})]})})})},uy="https://jfvinriqydjtwsmayxix.supabase.co/storage/v1/object/public/images/avatars/",QD=async()=>{try{const{data:e,error:t}=await de.storage.from("images").list("avatars",{limit:1e3,sortBy:{column:"name",order:"asc"}});if(t)throw console.error("Error fetching avatars:",t),t;return e?e.filter(n=>{const a=/\.(png|jpg|jpeg|gif|webp)$/i.test(n.name);return n.name&&a}).map(n=>({name:n.name,url:uy+n.name,id:n.id})):[]}catch(e){return console.error("Failed to fetch avatars:",e),[]}},wre=async()=>{try{const e=await QD();if(e.length===0)return uy+"ava_00001.png";const t=Math.floor(Math.random()*e.length);return e[t].url}catch(e){return console.error("Failed to get random avatar:",e),uy+"ava_00001.png"}},ki=class ki{constructor(){Fl(this,"cache",null);Fl(this,"cacheTimestamp",0);Fl(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return ki.instance||(ki.instance=new ki),ki.instance}async getAvatars(){const t=Date.now();if(this.cache&&t-this.cacheTimestamp<this.CACHE_DURATION)return this.cache;try{return this.cache=await QD(),this.cacheTimestamp=t,this.cache}catch(r){return console.error("Failed to update avatar cache:",r),this.cache||[]}}invalidateCache(){this.cache=null,this.cacheTimestamp=0}};Fl(ki,"instance");let fy=ki;const ZD=fy.getInstance(),kre=async()=>ZD.getAvatars(),jre=()=>{ZD.invalidateCache()},Nre=({currentAvatar:e,onAvatarSelect:t,onClose:r})=>{const[n,a]=k.useState(e||""),[s,o]=k.useState(!1),[l,c]=k.useState(1),[d,u]=k.useState([]),[f,h]=k.useState(!0),[m,y]=k.useState(null),v=24;k.useEffect(()=>{b()},[]);const b=async()=>{try{h(!0),y(null);const T=await kre();u(T),T.length===0&&y("Аватары не найдены")}catch(T){console.error("Failed to load avatars:",T),y("Ошибка загрузки аватаров")}finally{h(!1)}},g=async()=>{jre(),await b(),X.success("Список аватаров обновлен")},p=Math.ceil(d.length/v),x=(l-1)*v,w=x+v,_=d.slice(x,w),S=()=>{if(d.length===0){X.error("Аватары не загружены");return}const T=Math.floor(Math.random()*d.length),D=d[T].url;a(D)},E=async()=>{if(!n){X.error("Выберите аватар");return}o(!0);try{await t(n),r()}catch(T){console.error("Error saving avatar:",T)}finally{o(!1)}},O=({avatar:T})=>{const D=n===T.url;return i.jsx("div",{className:"relative",children:i.jsxs("div",{className:`
            relative cursor-pointer rounded-xl overflow-hidden transition-all duration-300 aspect-square
            ${D?"ring-4 ring-primary-500 ring-offset-2 ring-offset-white dark:ring-offset-dark-800 scale-105":"hover:scale-105 hover:shadow-lg"}
          `,onClick:()=>a(T.url),children:[i.jsx("img",{src:T.url,alt:"Аватар",className:"w-full h-full object-cover",loading:"lazy",onError:R=>{const N=R.target;N.style.opacity="0.5"}}),D&&i.jsx("div",{className:"absolute inset-0 bg-primary-500/20 flex items-center justify-center",children:i.jsx("div",{className:"bg-primary-500 text-white rounded-full p-2",children:i.jsx(xm,{className:"h-5 w-5"})})})]})})};return f?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-xl p-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Загрузка аватаров..."})]})}):i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Выбор аватара"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:m?i.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[i.jsx(hd,{className:"h-4 w-4"}),m]}):`${d.length} аватаров`})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",title:"Обновить список аватаров",children:i.jsx(ZC,{className:"h-5 w-5 text-gray-500"})}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:i.jsx(_t,{className:"h-5 w-5 text-gray-500"})})]})]})}),i.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700",children:[n&&i.jsx("div",{className:"text-center mb-6",children:i.jsxs("div",{className:"inline-block relative",children:[i.jsx("div",{className:"w-50 h-50 rounded-xl overflow-hidden border-4 border-primary-500 shadow-lg mb-3",style:{width:"200px",height:"200px"},children:i.jsx("img",{src:n,alt:"Выбранный аватар",className:"w-full h-full object-cover"})}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Выбранный аватар"})]})}),i.jsx("div",{className:"flex justify-center",children:i.jsxs("button",{onClick:S,disabled:d.length===0,className:"px-6 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-dark-700 dark:hover:bg-dark-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(aR,{className:"h-4 w-4"}),"Случайный аватар"]})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"p-6",children:_.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-3 mb-6",children:_.map(T=>i.jsx(O,{avatar:T},T.url))}),p>1&&i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:()=>c(T=>Math.max(1,T-1)),disabled:l===1,className:"p-2 rounded-lg border border-gray-300 dark:border-dark-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-dark-700",children:i.jsx(Ld,{className:"h-4 w-4"})}),i.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400",children:[l," из ",p]}),i.jsx("button",{onClick:()=>c(T=>Math.min(p,T+1)),disabled:l===p,className:"p-2 rounded-lg border border-gray-300 dark:border-dark-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-dark-700",children:i.jsx($d,{className:"h-4 w-4"})})]})]}):i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[i.jsx(hd,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Аватары не найдены"}),i.jsx("p",{className:"text-sm",children:"Аватары не загружены или произошла ошибка"}),m&&i.jsx("button",{onClick:g,className:"mt-4 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Попробовать снова"})]})})}),i.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-dark-700 flex justify-end gap-3",children:[i.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Отмена"}),i.jsxs("button",{onClick:E,disabled:s||!n,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s&&i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s?"Сохранение...":"Сохранить"]})]})]})})},_re=({registration:e,isOpen:t,onClose:r})=>{var h,m,y;const[n,a]=k.useState(256);if(!t)return null;const s=()=>JSON.stringify({type:"event_registration",registrationId:e.registration_id,eventId:e.event_id,userId:e.id,fullName:e.full_name,email:e.email,adultTickets:e.adult_tickets,childTickets:e.child_tickets,totalAmount:e.total_amount,paymentStatus:e.payment_status,timestamp:Date.now()}),o=()=>{const v=document.getElementById("registration-qr-code");if(!v)return;const b=new XMLSerializer().serializeToString(v),g=document.createElement("canvas"),p=g.getContext("2d"),x=new Image;g.width=512,g.height=512,x.onload=()=>{p&&(p.fillStyle="white",p.fillRect(0,0,512,512),p.drawImage(x,0,0,512,512));const w=document.createElement("a");w.download=`registration-qr-${e.registration_id}.png`,w.href=g.toDataURL(),w.click()},x.src="data:image/svg+xml;base64,"+btoa(b)},l=async()=>{const v=s();try{await navigator.clipboard.writeText(v),X.success("Данные регистрации скопированы")}catch(b){console.error("Error copying QR data:",b),X.error("Ошибка копирования")}},c=async()=>{var b;const v=s();if(navigator.share)try{await navigator.share({title:`Регистрация на ${(b=e.event)==null?void 0:b.title}`,text:"QR-код регистрации на мероприятие",url:v})}catch(g){console.error("Error sharing:",g)}else l()},d=v=>{switch(v){case"paid":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"free":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},u=v=>{switch(v){case"paid":return"Оплачено";case"pending":return"Ожидает оплаты";case"free":return"Бесплатно";default:return"Неизвестно"}},f=s();return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ho,{className:"h-5 w-5"}),i.jsx("h2",{className:"text-lg font-semibold",children:"QR-код регистрации"})]}),i.jsx("button",{onClick:r,className:"text-white hover:text-gray-200 transition-colors",children:i.jsx(_t,{className:"h-6 w-6"})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:((h=e.event)==null?void 0:h.title)||"Мероприятие"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[((m=e.event)==null?void 0:m.start_at)&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_e,{className:"h-4 w-4"}),i.jsxs("span",{children:[pr(e.event.start_at),e.event.start_at&&i.jsxs(i.Fragment,{children:[" в ",fa(e.event.start_at)]})]})]}),((y=e.event)==null?void 0:y.location)&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pt,{className:"h-4 w-4"}),i.jsx("span",{children:e.event.location})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(St,{className:"h-4 w-4"}),i.jsxs("span",{children:[e.adult_tickets," взрослых",e.child_tickets>0&&`, ${e.child_tickets} детей`]})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${d(e.payment_status)}`,children:u(e.payment_status)}),e.total_amount>0&&i.jsxs("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:[e.total_amount," ₽"]})]})]}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm inline-block mb-4",children:i.jsx(Hw,{id:"registration-qr-code",value:f,size:n,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 256 256"})}),i.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>a(200),className:`px-3 py-1 text-xs rounded ${n===200?"bg-primary-500 text-white":"bg-gray-200 dark:bg-dark-700"}`,children:"Маленький"}),i.jsx("button",{onClick:()=>a(256),className:`px-3 py-1 text-xs rounded ${n===256?"bg-primary-500 text-white":"bg-gray-200 dark:bg-dark-700"}`,children:"Средний"}),i.jsx("button",{onClick:()=>a(300),className:`px-3 py-1 text-xs rounded ${n===300?"bg-primary-500 text-white":"bg-gray-200 dark:bg-dark-700"}`,children:"Большой"})]}),i.jsxs("div",{className:"text-left bg-gray-50 dark:bg-dark-700 rounded-lg p-3 mb-4",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:"Детали регистрации:"}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[i.jsx("strong",{children:"ID:"})," ",e.registration_id]}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[i.jsx("strong",{children:"Имя:"})," ",e.full_name]}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[i.jsx("strong",{children:"Email:"})," ",e.email]}),i.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[i.jsx("strong",{children:"Дата регистрации:"})," ",new Date(e.registration_date).toLocaleDateString("ru-RU")]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[i.jsxs("button",{onClick:o,className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:[i.jsx(Fd,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Скачать"})]}),i.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:[i.jsx(FM,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Копировать"})]}),i.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:[i.jsx(ub,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Поделиться"})]})]}),e.event&&i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-dark-600",children:i.jsxs("a",{href:`/events/${e.event_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:[i.jsx(Oc,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Перейти к мероприятию"})]})}),i.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:i.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"💡 Покажите этот QR-код администратору на входе в мероприятие для подтверждения регистрации"})})]})]})})},Sre=({userId:e})=>{const[t,r]=k.useState([]),[n,a]=k.useState(!0),[s,o]=k.useState(""),[l,c]=k.useState("all"),[d,u]=k.useState("all"),[f,h]=k.useState(null),[m,y]=k.useState(!1);k.useEffect(()=>{v()},[e]);const v=async()=>{try{a(!0);const{data:T,error:D}=await de.from("user_event_registrations").select(`
          *,
          event:events(
            id,
            title,
            start_at,
            end_at,
            location,
            event_type,
            bg_image,
            status
          )
        `).eq("user_id",e).order("registration_date",{ascending:!1});if(D)throw D;r(T||[])}catch(T){console.error("Error fetching registrations:",T)}finally{a(!1)}},b=T=>{var N;return T.status==="cancelled"?"cancelled":(N=T.event)!=null&&N.start_at&&new Date(T.event.start_at)<new Date?"past":"active"},g=T=>{switch(T){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"past":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}},p=T=>{switch(T){case"active":return"Активная";case"past":return"Прошедшее";case"cancelled":return"Отменена";default:return"Неизвестно"}},x=T=>{switch(T){case"paid":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"free":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},w=T=>{switch(T){case"paid":return"Оплачено";case"pending":return"Ожидает оплаты";case"free":return"Бесплатно";default:return"Неизвестно"}},_=t.filter(T=>{var j,I,B,P;const D=((I=(j=T.event)==null?void 0:j.title)==null?void 0:I.toLowerCase().includes(s.toLowerCase()))||((P=(B=T.event)==null?void 0:B.location)==null?void 0:P.toLowerCase().includes(s.toLowerCase())),R=b(T),N=l==="all"||R===l,C=d==="all"||T.payment_status===d;return D&&N&&C}),S=T=>{h(T),y(!0)},E=()=>{h(null),y(!1)},O={total:t.length,active:t.filter(T=>b(T)==="active").length,past:t.filter(T=>b(T)==="past").length,cancelled:t.filter(T=>b(T)==="cancelled").length,paid:t.filter(T=>T.payment_status==="paid").length,pending:t.filter(T=>T.payment_status==="pending").length,free:t.filter(T=>T.payment_status==="free").length};return n?i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg p-6",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 dark:bg-dark-700 rounded w-1/4"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-3 bg-gray-200 dark:bg-dark-700 rounded"}),i.jsx("div",{className:"h-3 bg-gray-200 dark:bg-dark-700 rounded w-5/6"})]})]})}):i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(_e,{className:"h-5 w-5"}),"Мои регистрации"]}),i.jsx("p",{className:"text-primary-100 text-sm mt-1",children:"История регистраций на мероприятия"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold",children:O.total}),i.jsx("div",{className:"text-primary-100 text-xs",children:"всего регистраций"})]})]})}),i.jsx("div",{className:"p-4 bg-gray-50 dark:bg-dark-700 border-b border-gray-200 dark:border-dark-600",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:O.active}),i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Активные"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400",children:O.past}),i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Прошедшие"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:O.paid}),i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Оплачено"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-semibold text-yellow-600 dark:text-yellow-400",children:O.pending}),i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"К оплате"})]})]})}),i.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-dark-600",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Поиск по названию мероприятия...",value:s,onChange:T=>o(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-600 rounded-lg text-sm dark:bg-dark-800"})]}),i.jsxs("select",{value:l,onChange:T=>c(T.target.value),className:"px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg text-sm dark:bg-dark-800",children:[i.jsxs("option",{value:"all",children:["Все статусы (",O.total,")"]}),i.jsxs("option",{value:"active",children:["Активные (",O.active,")"]}),i.jsxs("option",{value:"past",children:["Прошедшие (",O.past,")"]}),i.jsxs("option",{value:"cancelled",children:["Отмененные (",O.cancelled,")"]})]}),i.jsxs("select",{value:d,onChange:T=>u(T.target.value),className:"px-3 py-2 border border-gray-300 dark:border-dark-600 rounded-lg text-sm dark:bg-dark-800",children:[i.jsx("option",{value:"all",children:"Все оплаты"}),i.jsxs("option",{value:"paid",children:["Оплачено (",O.paid,")"]}),i.jsxs("option",{value:"pending",children:["К оплате (",O.pending,")"]}),i.jsxs("option",{value:"free",children:["Бесплатно (",O.free,")"]})]})]})}),i.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-600",children:_.length>0?_.map(T=>{var R,N,C,j;const D=b(T);return i.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-dark-700 transition-colors",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[((R=T.event)==null?void 0:R.bg_image)&&i.jsx("div",{className:"md:w-20 h-20 bg-gray-200 dark:bg-dark-700 rounded-lg overflow-hidden flex-shrink-0",children:i.jsx("img",{src:bt(T.event.bg_image),alt:T.event.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:i.jsxs(Te,{to:`/events/${T.event_id}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[((N=T.event)==null?void 0:N.title)||"Мероприятие",i.jsx(Oc,{className:"h-4 w-4 inline ml-1"})]})}),i.jsxs("div",{className:"flex gap-2 ml-4",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g(D)}`,children:p(D)}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x(T.payment_status)}`,children:w(T.payment_status)})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[((C=T.event)==null?void 0:C.start_at)&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(_e,{className:"h-4 w-4"}),new Date(T.event.start_at).toLocaleDateString("ru-RU")]}),((j=T.event)==null?void 0:j.location)&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Pt,{className:"h-4 w-4"}),T.event.location]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(St,{className:"h-4 w-4"}),T.adult_tickets," взрослых",T.child_tickets>0&&`, ${T.child_tickets} детей`]}),T.total_amount>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(zd,{className:"h-4 w-4"}),T.total_amount," ₽"]})]}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:[i.jsxs("span",{children:["ID регистрации: ",T.registration_id]}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsxs("span",{children:["Зарегистрирован: ",new Date(T.registration_date).toLocaleDateString("ru-RU")]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[T.full_name," • ",T.email]}),i.jsxs("button",{onClick:()=>S(T),className:"flex items-center gap-2 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors text-sm font-medium",children:[i.jsx(Ho,{className:"h-4 w-4"}),"Показать QR-код"]})]})]})]})},T.id)}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(_e,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Нет регистраций"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s||l!=="all"||d!=="all"?"Попробуйте изменить фильтры поиска":"Вы еще не зарегистрировались ни на одно мероприятие"})]})}),f&&i.jsx(_re,{registration:f,isOpen:m,onClose:E})]})},Cre=({userId:e,userName:t,userEmail:r})=>{const[n,a]=k.useState(""),[s,o]=k.useState(!0),[l,c]=k.useState(!1);k.useEffect(()=>{d()},[e]);const d=async()=>{try{o(!0);const{data:b,error:g}=await de.from("profiles").select("qr_token").eq("id",e).single();if(g)throw g;b!=null&&b.qr_token?a(b.qr_token):await u()}catch(b){console.error("Error fetching QR token:",b),X.error("Ошибка загрузки QR-кода")}finally{o(!1)}},u=async()=>{try{c(!0);const{data:b,error:g}=await de.rpc("regenerate_qr_token",{profile_id:e});if(g)throw g;a(b),X.success("QR-код обновлен")}catch(b){console.error("Error regenerating QR token:",b),X.error("Ошибка обновления QR-кода")}finally{c(!1)}},f=()=>{const b=document.getElementById("user-qr-code");if(!b)return;const g=new XMLSerializer().serializeToString(b),p=document.createElement("canvas"),x=p.getContext("2d"),w=new Image;p.width=512,p.height=512,w.onload=()=>{x==null||x.drawImage(w,0,0,512,512);const _=document.createElement("a");_.download=`qr-code-${t.replace(/\s+/g,"-").toLowerCase()}.png`,_.href=p.toDataURL(),_.click()},w.src="data:image/svg+xml;base64,"+btoa(g)},h=async()=>{const b=y();try{await navigator.clipboard.writeText(b),X.success("Данные QR-кода скопированы")}catch(g){console.error("Error copying QR data:",g),X.error("Ошибка копирования")}},m=async()=>{const b=y();if(navigator.share)try{await navigator.share({title:`QR-код ${t}`,text:"QR-код для отметки посещений",url:b})}catch(g){console.error("Error sharing:",g)}else h()},y=()=>JSON.stringify({type:"user_attendance",userId:e,qrToken:n,userName:t,userEmail:r,timestamp:Date.now()});if(s)return i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg p-6 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Загрузка QR-кода..."})]});const v=y();return i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4 text-white",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ho,{className:"h-5 w-5"}),i.jsx("h3",{className:"text-lg font-semibold",children:"Мой QR-код"})]}),i.jsx("p",{className:"text-primary-100 text-sm mt-1",children:"Покажите этот код админу для отметки посещения"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm inline-block mb-4",children:i.jsx(Hw,{id:"user-qr-code",value:v,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 256 256"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r}),i.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:["ID: ",n.slice(0,8),"..."]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{onClick:f,className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:[i.jsx(Fd,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Скачать"})]}),i.jsxs("button",{onClick:m,className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 dark:bg-dark-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors",children:[i.jsx(ub,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Поделиться"})]})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-dark-600",children:[i.jsxs("button",{onClick:u,disabled:l,className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors disabled:opacity-50",children:[i.jsx(ZC,{className:`h-4 w-4 ${l?"animate-spin":""}`}),l?"Обновление...":"Обновить QR-код"]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Обновите код, если считаете, что он скомпрометирован"})]})]})]})},Ere=()=>{var N;const e=Hn(),{user:t,loading:r}=to(),[n,a]=k.useState(null),[s,o]=k.useState(!0),[l,c]=k.useState(!1),[d,u]=k.useState(!1),[f,h]=k.useState({name:""}),[m,y]=k.useState(!1);Nb(t==null?void 0:t.id),_b(t==null?void 0:t.id);const[v,b]=k.useState([]),[g,p]=k.useState([]),[x,w]=k.useState(!1);k.useEffect(()=>{!r&&!t&&e("/")},[t,r,e]),k.useEffect(()=>{const C=async()=>{var I,B,P;if(!t){o(!1);return}try{const{data:A,error:F}=await de.from("profiles").select("*").eq("id",t.id).maybeSingle();if(F&&F.code!=="PGRST116")throw console.error("Profile fetch error:",F),F;if(A)a(A);else try{const L=await wre(),$={id:t.id,name:t.name||((I=t.email)==null?void 0:I.split("@")[0])||"Пользователь",role:"Guest",email:t.email,avatar:L},{data:z,error:q}=await de.from("profiles").insert($).select().single();if(q)throw q;a(z)}catch(L){console.error("Error creating profile:",L);const $={id:t.id,name:t.name||((B=t.email)==null?void 0:B.split("@")[0])||"Пользователь",role:"Guest",email:t.email,avatar:null},{data:z}=await de.from("profiles").insert($).select().single();a(z)}h({name:(A==null?void 0:A.name)||t.name||((P=t.email)==null?void 0:P.split("@")[0])||"Пользователь"})}catch(A){console.error("Profile fetch error:",A),X.error("Ошибка загрузки профиля")}finally{o(!1)}},j=async()=>{t&&(w(!0),await Promise.all([_(),S()]),w(!1))};C(),j()},[t]);const _=async()=>{if(t)try{const{data:C,error:j}=await de.from("user_favorite_speakers").select(`
          speakers (
            id,
            name,
            description,
            field_of_expertise,
            photos
          )
        `).eq("user_id",t.id);if(j)throw j;const I=(C==null?void 0:C.map(B=>B.speakers).filter(Boolean))||[];b(I)}catch(C){console.error("Error fetching favorite speakers:",C)}},S=async()=>{if(t)try{const{data:C,error:j}=await de.from("user_favorite_events").select(`
          events (
            id,
            title,
            description,
            start_at,
            location,
            bg_image,
            event_type
          )
        `).eq("user_id",t.id);if(j)throw j;const I=(C==null?void 0:C.map(B=>B.events).filter(Boolean))||[];p(I)}catch(C){console.error("Error fetching favorite events:",C)}},E=async()=>{if(!(!n||!t))try{y(!0);const{error:C}=await de.from("profiles").update({name:f.name}).eq("id",t.id);if(C)throw C;a(j=>j&&{...j,name:f.name}),c(!1),X.success("Профиль обновлен")}catch(C){console.error("Error updating profile:",C),X.error("Ошибка при обновлении профиля")}finally{y(!1)}},O=()=>{var C;h({name:(n==null?void 0:n.name)||(t==null?void 0:t.name)||((C=t==null?void 0:t.email)==null?void 0:C.split("@")[0])||"Пользователь"}),c(!1)},T=async C=>{if(t)try{const{error:j}=await de.from("profiles").update({avatar:C}).eq("id",t.id);if(j)throw j;a(I=>I&&{...I,avatar:C}),u(!1),X.success("Аватар обновлен"),setTimeout(()=>{window.location.reload()},1e3)}catch(j){throw console.error("Error updating avatar:",j),X.error("Ошибка при обновлении аватара"),j}},D=async C=>{if(t)try{const{error:j}=await de.from("user_favorite_speakers").delete().eq("user_id",t.id).eq("speaker_id",C);if(j)throw j;b(I=>I.filter(B=>B.id!==C)),X.success("Спикер удален из избранного")}catch(j){console.error("Error removing favorite speaker:",j),X.error("Ошибка при удалении спикера")}},R=async C=>{if(t)try{const{error:j}=await de.from("user_favorite_events").delete().eq("user_id",t.id).eq("event_id",C);if(j)throw j;p(I=>I.filter(B=>B.id!==C)),X.success("Мероприятие удалено из избранного")}catch(j){console.error("Error removing favorite event:",j),X.error("Ошибка при удалении мероприятия")}};return r||s?i.jsx(ut,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):t?i.jsxs(ut,{children:[i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-6 text-white",children:i.jsx("h1",{className:"text-2xl font-bold",children:"Мой профиль"})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:n!=null&&n.avatar?i.jsx("img",{src:bt(n.avatar),alt:"Аватар пользователя",className:"w-full h-full object-cover"}):i.jsx(Fr,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"})}),i.jsx("button",{onClick:()=>u(!0),className:"absolute -bottom-1 -right-1 w-6 h-6 bg-primary-500 hover:bg-primary-600 text-white rounded-full flex items-center justify-center transition-colors",title:"Изменить аватар",children:i.jsx(ol,{className:"h-3 w-3"})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:(n==null?void 0:n.name)||"Пользователь"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t.email})]})]}),i.jsxs("button",{onClick:()=>c(!l),className:"btn-outline",children:[i.jsx(pn,{className:"h-4 w-4 mr-2"}),"Редактировать"]})]}),l?i.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-dark-700 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Имя"}),i.jsx("input",{type:"text",value:f.name,onChange:C=>h({...f,name:C.target.value}),className:"w-full p-3 border border-gray-300 dark:border-dark-600 rounded-lg dark:bg-dark-800",placeholder:"Введите ваше имя"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:E,disabled:m,className:"btn-primary flex-1",children:m?i.jsx(i.Fragment,{children:"Сохраняется..."}):i.jsxs(i.Fragment,{children:[i.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Сохранить"]})}),i.jsxs("button",{onClick:O,className:"btn-outline flex-1",children:[i.jsx(_t,{className:"h-4 w-4 mr-2"}),"Отмена"]})]})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Tl,{className:"h-5 w-5 text-gray-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),i.jsx("p",{className:"font-medium",children:t.email})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(nR,{className:"h-5 w-5 text-gray-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Роль"}),i.jsx("p",{className:"font-medium",children:(n==null?void 0:n.role)||"Гость"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(_e,{className:"h-5 w-5 text-gray-400 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Дата регистрации"}),i.jsx("p",{className:"font-medium",children:n!=null&&n.created_at?new Date(n.created_at).toLocaleDateString("ru-RU"):"Не указано"})]})]})]})]})]}),n&&i.jsx(Cre,{userId:n.id,userName:n.name||((N=n.email)==null?void 0:N.split("@")[0])||"Пользователь",userEmail:n.email||t.email}),n&&i.jsx(Sre,{userId:n.id}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),i.jsx("h3",{className:"text-lg font-medium",children:"Избранные спикеры"}),i.jsx("span",{className:"bg-gray-100 dark:bg-dark-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-full text-xs",children:v.length})]}),i.jsxs(Te,{to:"/speakers",className:"text-primary-600 hover:text-primary-700 text-sm flex items-center gap-1",children:["Все спикеры",i.jsx(Oc,{className:"h-4 w-4"})]})]})}),i.jsx("div",{className:"p-6",children:x?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((C,j)=>i.jsx("div",{className:"animate-pulse",children:i.jsx("div",{className:"bg-gray-200 dark:bg-dark-700 h-20 rounded-lg"})},j))}):v.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(C=>{var j;return i.jsxs("div",{className:"group bg-gray-50 dark:bg-dark-700 rounded-lg p-4 hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-dark-600",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-primary-100 dark:bg-primary-900/30 flex-shrink-0",children:C.photos&&C.photos.length>0?i.jsx("img",{src:bt(((j=C.photos.find(I=>I.isMain))==null?void 0:j.url)||C.photos[0].url),alt:C.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Fr,{className:"h-6 w-6 text-primary-600 dark:text-primary-400"})})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white line-clamp-2 group-hover:text-primary-700 dark:group-hover:text-primary-300 transition-colors",children:C.name}),C.field_of_expertise&&i.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mt-1 line-clamp-2 font-medium",children:C.field_of_expertise})]})]}),i.jsx("button",{onClick:()=>D(C.id),className:"text-gray-400 hover:text-red-500 p-1.5 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 opacity-0 group-hover:opacity-100",title:"Удалить из избранного",children:i.jsx(_t,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 dark:border-gray-700",children:i.jsxs(Te,{to:`/speakers/${C.id}`,className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 text-sm flex items-center gap-1 transition-colors font-medium",children:["Посмотреть профиль",i.jsx(Oc,{className:"h-3 w-3"})]})})]},C.id)})}):i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx(xn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"У вас пока нет любимых спикеров"}),i.jsx("p",{className:"text-sm mt-1",children:"Добавьте спикеров в избранное на странице спикеров"})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-dark-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(St,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"}),i.jsx("h3",{className:"text-lg font-medium",children:"Избранные мероприятия"}),i.jsx("span",{className:"bg-gray-100 dark:bg-dark-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-full text-xs",children:g.length})]}),i.jsxs(Te,{to:"/events",className:"text-primary-600 hover:text-primary-700 text-sm flex items-center gap-1",children:["Все мероприятия",i.jsx(Oc,{className:"h-4 w-4"})]})]})}),i.jsx("div",{className:"p-6",children:g.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(C=>i.jsxs("div",{className:"group bg-gray-50 dark:bg-dark-700 rounded-lg overflow-hidden hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-dark-600",children:[C.bg_image&&i.jsx("div",{className:"h-32 bg-gray-200 dark:bg-dark-600",children:i.jsx("img",{src:bt(C.bg_image),alt:C.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white line-clamp-2 group-hover:text-primary-700 dark:group-hover:text-primary-300 transition-colors",children:i.jsx(Te,{to:`/events/${C.id}`,children:C.title})}),i.jsx("button",{onClick:()=>R(C.id),className:"text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200 opacity-0 group-hover:opacity-100 ml-2",title:"Удалить из избранного",children:i.jsx(_t,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[C.start_at&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(_e,{className:"h-4 w-4"}),i.jsx("span",{children:new Date(C.start_at).toLocaleDateString("ru-RU")})]}),C.location&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Pt,{className:"h-4 w-4"}),i.jsx("span",{className:"line-clamp-1",children:C.location})]}),C.event_type&&i.jsx("span",{className:"inline-block bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-300 px-2 py-1 rounded text-xs",children:C.event_type})]}),C.description&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2 mt-2",children:C.description})]})]},C.id))}):i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx(_e,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"У вас пока нет любимых мероприятий"}),i.jsx("p",{className:"text-sm mt-1",children:"Добавьте мероприятия в избранное на странице событий"})]})})]}),i.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-lg shadow-md overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Дополнительные функции"}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["🚧 ",i.jsx("strong",{children:"В разработке:"})," Статистика активности и настройки уведомлений будут добавлены в следующих обновлениях."]})})]})})]})}),d&&i.jsx(Nre,{currentAvatar:n==null?void 0:n.avatar,onAvatarSelect:T,onClose:()=>u(!1)})]}):null};function Tre(){return i.jsxs("div",{className:"app",children:[i.jsx(EM,{position:"top-center"}),i.jsxs(NI,{children:[i.jsx(Ye,{path:"/",element:i.jsx(tz,{})}),i.jsx(Ye,{path:"/events",element:i.jsx(nB,{})}),i.jsx(Ye,{path:"/events/:id",element:i.jsx(cB,{})}),i.jsx(Ye,{path:"/speakers",element:i.jsx(hB,{})}),i.jsx(Ye,{path:"/speakers/:id",element:i.jsx(DH,{})}),i.jsx(Ye,{path:"/rent",element:i.jsx(yV,{})}),i.jsx(Ye,{path:"/coworking",element:i.jsx(kV,{})}),i.jsx(Ye,{path:"/about",element:i.jsx(_V,{})}),i.jsx(Ye,{path:"/posters",element:i.jsx(xre,{})}),i.jsx(Ye,{path:"/auth/callback",element:i.jsx(yre,{})}),i.jsx(Ye,{path:"/reset-password",element:i.jsx(bre,{})}),i.jsx(Ye,{path:"/profile",element:i.jsx(Dte,{children:i.jsx(Ere,{})})}),i.jsxs(Ye,{path:"/admin",element:i.jsx(Tte,{children:i.jsx(EV,{})}),children:[i.jsx(Ye,{index:!0,element:i.jsx(TV,{})}),i.jsx(Ye,{path:"events",element:i.jsx(OV,{})}),i.jsx(Ye,{path:"events/new",element:i.jsx(R2,{})}),i.jsx(Ye,{path:"events/:id/edit",element:i.jsx(R2,{})}),i.jsx(Ye,{path:"speakers",element:i.jsx(Rq,{})}),i.jsx(Ye,{path:"rent",element:i.jsx(Lq,{})}),i.jsx(Ye,{path:"coworking",element:i.jsx(Yq,{})}),i.jsx(Ye,{path:"about",element:i.jsx(Kq,{})}),i.jsx(Ye,{path:"navigation",element:i.jsx(PQ,{})}),i.jsx(Ye,{path:"export",element:i.jsx(RQ,{})}),i.jsx(Ye,{path:"calendar",element:i.jsx(Gte,{})}),i.jsx(Ye,{path:"event-statistics",element:i.jsx(Cte,{})}),i.jsx(Ye,{path:"attendance",element:i.jsx(Ete,{})})]}),i.jsx(Ye,{path:"*",element:i.jsx(SV,{})})]})]})}DC(document.getElementById("root")).render(i.jsx(k.StrictMode,{children:i.jsx(OI,{children:i.jsx(SL,{children:i.jsx(rz,{children:i.jsx(Tre,{})})})})}));
